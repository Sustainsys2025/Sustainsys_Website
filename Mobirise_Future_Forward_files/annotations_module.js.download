(function(g){var window=this;'use strict';var RN=function(S){S.publish("cardstatechange",S.C1()&&S.ai()?1:0)},e1=function(S,W){var m=g.Mx(W),a=m?W:arguments;
for(m=m?0:1;m<a.length;m++){if(S==null)return;S=S[a[m]]}return S},gkv=function(S){var W=g.Kh(S);
S=g.ph(S);return new g.wY(W.x,W.y,S.width,S.height)},Oan=function(S,W,m){var a=a===void 0?{}:a;
var J;return J=g.vX(S,W,function(){g.HX(J);m.apply(S,arguments)},a)},d9=function(S){S=g.xp(S);
delete xw[S];g.UC(xw)&&iE&&iE.stop()},QhQ=function(){iE||(iE=new g.rj(function(){jhv()},20));
var S=iE;S.isActive()||S.start()},jhv=function(){var S=g.P9();
g.ic(xw,function(W){X$p(W,S)});
g.UC(xw)||QhQ()},IN=function(S,W,m,a){g.KE.call(this);
if(!Array.isArray(S)||!Array.isArray(W))throw Error("Start and end parameters must be arrays");if(S.length!=W.length)throw Error("Start and end points must be the same length");this.N=S;this.Z=W;this.duration=m;this.X=a;this.coords=[];this.progress=this.V=0;this.j=null},X$p=function(S,W){W<S.startTime&&(S.endTime=W+S.endTime-S.startTime,S.startTime=W);
S.progress=(W-S.startTime)/(S.endTime-S.startTime);S.progress>1&&(S.progress=1);S.V=1E3/(W-S.j);S.j=W;vkQ(S,S.progress);S.progress==1?(S.C=0,d9(S),S.onFinish(),S.SJ()):S.isPlaying()&&S.Wa()},vkQ=function(S,W){typeof S.X==="function"&&(W=S.X(W));
S.coords=Array(S.N.length);for(var m=0;m<S.N.length;m++)S.coords[m]=(S.Z[m]-S.N[m])*W+S.N[m]},Haw=function(S,W){g.mA.call(this,S);
this.coords=W.coords;this.x=W.coords[0];this.y=W.coords[1];this.z=W.coords[2];this.duration=W.duration;this.progress=W.progress;this.fps=W.V;this.state=W.C},P0=function(S,W,m,a,J){IN.call(this,W,m,a,J);
this.element=S},lNw=function(S,W,m,a,J){if(W.length!=2||m.length!=2)throw Error("Start and end points must be 2D");
P0.call(this,S,W,m,a,J)},MAv=function(S){return Math.pow(S,3)},Ua9=function(S){return 3*S*S-2*S*S*S},LWp=function(S){g.A.call(this);
this.N=S||window;this.C=[]},fQ=function(S){return S.baseUrl||null},kw=function(S,W){return g.fL(g.MU(S,W),function(m){return!!m})},RNg=function(S,W,m){function a(aK){var EP=aK.hovercardButton;
if(!EP)return null;EP=EP.subscribeButtonRenderer;if(!EP)return null;var qP=B(EP.unsubscribedButtonText),JG=B(EP.subscribedButtonText);if(EP.subscribed){var jO=B(EP.subscriberCountWithUnsubscribeText);var D6=B(EP.subscriberCountText)}else jO=B(EP.subscriberCountText),D6=B(EP.subscriberCountWithSubscribeText);var zg=null;if(aK.signinEndpoint){zg=e1(aK,"signinEndpoint","webNavigationEndpointData","url");if(!zg){var kX,C6;zg=(C6=g.n((kX=EP.signInEndpoint)==null?void 0:kX.commandMetadata,g.jt))==null?
void 0:C6.url}if(!zg)return null}return qP&&(JG||zg)?{subscribed:EP.subscribed,subscribeText:qP,subscribeCount:jO,unsubscribeText:JG,unsubscribeCount:D6,enabled:EP.enabled,signinUrl:zg,classic:aK.useClassicSubscribeButton}:null}
function J(aK){if(aK){var EP=[],qP=aK.videoId;qP&&EP.push("v="+qP);(qP=aK.playlistId)&&EP.push("list="+qP);(aK=aK.startTimeSeconds)&&EP.push("t="+aK);return"/watch?"+EP.join("&")}}
function B(aK){if(!aK)return null;var EP=aK.simpleText;return EP?EP:aK.runs?g.MU(aK.runs,function(qP){return qP.text}).join(""):null}
W=W.endscreenElementRenderer;if(!W)return null;var E=W.style,y=W.endpoint||{},Y=null,G=null,K=!1,T=null,p=null,q=null,F=null,O=!1,X=null,l=null,M=null,e=null,d=null,t=null;if(E==="VIDEO")g.n(y,g.Pm)?Y=g.n(y,g.Pm).url:(t=g.n(y,g.GR),Y=J(t)),G=!1,T=S,W.thumbnailOverlays?(K=W.thumbnailOverlays[0].thumbnailOverlayTimeStatusRenderer,p=B(K.text),K=K.style==="LIVE"):p=B(W.videoDuration);else if(E==="PLAYLIST")g.n(y,g.Pm)?Y=g.n(y,g.Pm).url:(t=g.n(y,g.GR),Y=J(t)),G=!1,T=S,q=B(W.playlistLength);else if(E===
"CHANNEL"){if(O=e1(y,"browseEndpoint","browseId"))F=O,Y="/channel/"+F;G=!1;T="new";(O=!!W.isSubscribe)?X=a(W):l=B(W.subscribersText)}else E==="WEBSITE"?((M=e1(y,"urlEndpoint","url"))&&(Y=M),G=!0,T="new",M=W.icon.thumbnails[0].url):E==="CREATOR_MERCHANDISE"&&(W.productPrice&&(e=B(W.productPrice)),W.additionalFeesText&&(d=B(W.additionalFeesText)),(G=e1(y,"urlEndpoint","url"))&&(Y=G),G=!0,T="new");S=e1(W,"title","accessibility","accessibilityData","label");var h=W.endpoint?W.endpoint.clickTrackingParams:
null,mD="";if(W.metadata){var SO=B(W.metadata);SO&&(mD=SO)}return{id:"element-"+m,type:E,title:B(W.title),metadata:mD,callToAction:B(W.callToAction),Kb:W.image,iconUrl:M,left:Number(W.left),width:Number(W.width),top:Number(W.top),aspectRatio:Number(W.aspectRatio),startMs:Math.floor(Number(W.startMs)),endMs:Math.floor(Number(W.endMs)),videoDuration:p,B9:K,playlistLength:q,channelId:F,subscribeButton:X,subscribersText:l,isSubscribe:O,targetUrl:Y||null,cvn:G,sessionData:h?{itct:h}:null,TE6:T,MH:S?S:
null,isPlaceholder:W.isPlaceholder,impressionUrls:kw(W.impressionUrls||[],fQ),o69:kw(W.hovercardShowUrls||[],fQ),clickUrls:kw(y.loggingUrls||[],fQ),visualElement:g.Fg(W.trackingParams),productPrice:e,additionalFeesText:d,watchEndpoint:t||null}},eNn=function(S,W){var m={startMs:Math.floor(Number(S.startMs)),
impressionUrls:kw(S.impressionUrls||[],fQ),elements:kw(S.elements||[],function(a,J){return RNg(W,a,J)})};
S.trackingParams&&(m.visualElement=g.Fg(S.trackingParams));return m},xaN=function(S){g.VT.call(this,S);
this.j=this.endscreen=null;this.N={};this.V={};this.X=this.B=null;this.S=[];this.C=null;this.N2=!0;this.Z=0;S=S.J();this.bY=g.ZI(S)||g.bI(S);this.events=new g.Tx(this);g.Z(this,this.events);this.events.K(this.player,g.AD("creatorendscreen"),this.onCueRangeEnter);this.events.K(this.player,g.Z5("creatorendscreen"),this.onCueRangeExit);this.events.K(this.player,"resize",this.Qc);this.events.K(window,"focus",this.OCq);this.load();var W=g.HI("STYLE");(g.VK("HEAD")[0]||document.body).appendChild(W);this.addOnDisposeCallback(function(){g.eu(W)});
W.sheet&&(W.sheet.insertRule(".ytp-ce-playlist-icon {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASBAMAAACk4JNkAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAIVBMVEVMaXGzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7P///91E4wTAAAACXRSTlMArBbpVOtYrReN+x2FAAAAAWJLR0QKaND0VgAAACFJREFUCNdjYCAWzIQAFBaZ6hgVYLKcJnBWGEyWvYGASwCXtBf7m4i3CQAAAABJRU5ErkJggg==) no-repeat center;background-size:18px;width:18px;height:18px}",0),W.sheet.insertRule(".ytp-ce-size-853 .ytp-ce-playlist-icon, .ytp-ce-size-1280 .ytp-ce-playlist-icon, .ytp-ce-size-1920 .ytp-ce-playlist-icon {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYBAMAAAASWSDLAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAJ1BMVEVMaXGzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7P///9RfzIKAAAAC3RSTlMAvDeyLvxYtDK9Ogx4T1QAAAABYktHRAyBs1FjAAAAK0lEQVQY02NgoBjshgO8HJoYwKiAMGAD92YHJM7uMCTO9gaEHs4FlPuZAQC8Fj8x/xHjxwAAAABJRU5ErkJggg==) no-repeat center;background-size:24px;width:24px;height:24px}",
0))},iaN=function(S){return S.player.getVideoData().uP?"current":S.bY?"new":"current"},$w=function(S){return S.player.J().playerStyle==="creator-endscreen-editor"},dan=function(S){var W=S.player.getVideoData(),m=W.videoId;
S.j&&S.j.abort();m={method:"POST",onFinish:function(J){var B=S.j=null;J.status===200&&(J=J.responseText,J.substring(0,3)===")]}"&&(J=J.substring(3),B=JSON.parse(J),B=eNn(B,iaN(S))));hH(S,B)},
urlParams:{v:m},withCredentials:!0};S.bY&&(m.urlParams.ptype="embedded");var a=W.yW;a&&(m.postParams={ad_tracking:a});if(W=g.UC6(W))if(W=g.QW(W),W=g.gb(W))S.j=g.Mi(W,m)},hH=function(S,W,m){m=m===void 0?!0:m;
S.player.Tk("creatorendscreen");S.B&&(S.B.dispose(),S.B=null,S.X.dispose(),S.X=null);for(var a=g.R(Object.values(S.N)),J=a.next();!J.done;J=a.next())J.value.dispose();S.N={};S.V={};S.S.length>0&&(S.S.forEach(function(y){y.dispose()}),S.S.length=0);
S.C&&(g.zD(S.C,"ytp-ce-element-show"),S.C.setAttribute("aria-hidden","true"));S.Z=0;if((S.endscreen=W)&&W.elements){m&&IN8(S);m=[];a=new g.hD(W.startMs,0x7ffffffffffff,{id:"ytp-ce-in-endscreen",namespace:"creatorendscreen"});m.push(a);S.player.J().N||(S.B=new g.b({G:"div",L:"ytp-ce-shadow"}),g.tc(S.player,S.B.element,4),S.X=new g.mo(S.B,200));for(a=0;a<W.elements.length;++a){J=W.elements[a];var B=Pz8(S,J);if(B){S.N[J.id]=B;S.V[J.id]=J;g.tc(S.player,B.element,4);var E=new g.hD(J.startMs,J.endMs,{id:"ytp-ce-element-"+
J.id,namespace:"creatorendscreen"});m.push(E);fNp(S,B,J)}else g.Ue(new g.uc("buildEndscreenElement null",J))}S.player.oY(m);S.Qc()}},IN8=function(S){var W=g.se(),m=g.uR();
m&&W&&S.endscreen.visualElement&&g.my(g.hy)(void 0,m,W,S.endscreen.visualElement)},Pz8=function(S,W){var m=null;
switch(W.type){case "VIDEO":S={G:"div",Wn:["ytp-ce-element","ytp-ce-video"],D:{tabindex:"0","aria-label":W.MH||"","aria-hidden":"true"},U:[{G:"div",L:"ytp-ce-element-shadow"},{G:"div",L:"ytp-ce-covering-image",D:tH(W)},{G:"div",L:"ytp-ce-covering-shadow-top"},{G:"a",L:"ytp-ce-covering-overlay",D:{href:AH(S,W.targetUrl),tabindex:"-1"},U:[{G:"div",Wn:["ytp-ce-video-title","ytp-webkit-ellipsis"],D:{dir:g.Vt(W.title||"")},Bn:W.title},{G:"div",L:W.B9?"ytp-ce-live-video-duration":"ytp-ce-video-duration",
Bn:W.videoDuration||void 0}]}]};m=new g.b(S);break;case "PLAYLIST":S={G:"div",Wn:["ytp-ce-element","ytp-ce-playlist"],D:{tabindex:"0","aria-label":W.MH||"","aria-hidden":"true"},U:[{G:"div",L:"ytp-ce-element-shadow"},{G:"div",L:"ytp-ce-covering-image",D:tH(W)},{G:"div",L:"ytp-ce-covering-shadow-top"},{G:"a",L:"ytp-ce-covering-overlay",D:{href:AH(S,W.targetUrl),tabindex:"-1"},U:[{G:"div",Wn:["ytp-ce-playlist-title","ytp-webkit-ellipsis"],D:{dir:g.Vt(W.title||"")},Bn:W.title},{G:"div",L:"ytp-ce-playlist-count",
U:[{G:"div",L:"ytp-ce-playlist-icon"},{G:"div",L:"ytp-ce-playlist-count-text",Bn:W.playlistLength||void 0}]}]}]};m=new g.b(S);break;case "CHANNEL":m={G:"div",Wn:["ytp-ce-element","ytp-ce-channel",W.isSubscribe?"ytp-ce-channel-this":"ytp-ce-channel-that"],D:{tabindex:"0","aria-label":W.MH||"","aria-hidden":"true"},U:[{G:"div",L:"ytp-ce-element-shadow"},{G:"div",L:"ytp-ce-expanding-overlay",U:[{G:"div",L:"ytp-ce-expanding-overlay-hider"},{G:"div",L:"ytp-ce-expanding-overlay-background"},{G:"div",L:"ytp-ce-expanding-overlay-content",
U:[{G:"div",L:"ytp-ce-expanding-overlay-body",U:[{G:"div",L:"ytp-ce-expanding-overlay-body-padding",U:[{G:"a",Wn:["ytp-ce-channel-title","ytp-ce-link"],D:{href:AH(S,W.targetUrl),target:"_blank",tabindex:"-1",dir:g.Vt(W.title||"")},Bn:W.title},W.subscribeButton?{G:"div",L:"ytp-ce-subscribe-container",U:[{G:"div",L:"ytp-ce-channel-subscribe"}]}:"",W.subscribersText?{G:"div",L:"ytp-ce-channel-subscribers-text",Bn:W.subscribersText}:"",W.metadata?{G:"div",Wn:["ytp-ce-channel-metadata","yt-ui-ellipsis",
"yt-ui-ellipsis-3"],Bn:W.metadata}:""]}]}]}]},{G:"div",L:"ytp-ce-expanding-image",D:tH(W)}]};m=new g.b(m);var a=g.sN(document,"div","ytp-ce-channel-subscribe",m.element)[0];if(W.subscribeButton&&W.channelId){g.Bn(a,"ytp-ce-subscribe-button");if(S.player.J().N){var J=null;var B=W.sessionData.itct}else J="endscreen",B=null;J=new g.cZ(W.subscribeButton.subscribeText,W.subscribeButton.subscribeCount,W.subscribeButton.unsubscribeText,W.subscribeButton.unsubscribeCount,!!W.subscribeButton.enabled,!!W.subscribeButton.classic,
W.channelId,!!W.subscribeButton.subscribed,J,B,S.player,!1);a.appendChild(J.element);S.S.push(J)}break;case "WEBSITE":S={G:"div",Wn:["ytp-ce-element","ytp-ce-website"],D:{tabindex:"0","aria-label":W.MH||"","aria-hidden":"true"},U:[{G:"div",L:"ytp-ce-element-shadow"},{G:"div",L:"ytp-ce-expanding-overlay",U:[{G:"div",L:"ytp-ce-expanding-overlay-hider"},{G:"div",L:"ytp-ce-expanding-overlay-background"},{G:"div",L:"ytp-ce-expanding-overlay-content",U:[{G:"div",L:"ytp-ce-expanding-overlay-body",U:[{G:"div",
L:"ytp-ce-expanding-overlay-body-padding",U:[{G:"div",L:"ytp-ce-website-title",D:{dir:g.Vt(W.title||"")},Bn:W.title},{G:"div",L:"ytp-ce-website-metadata",Bn:W.metadata},{G:"a",Wn:["ytp-ce-website-goto","ytp-ce-link"],D:{href:AH(S,W.targetUrl),target:"_blank",tabindex:"-1"},Bn:W.callToAction}]}]}]}]},{G:"div",L:"ytp-ce-expanding-image",D:tH(W)},{G:"div",L:"ytp-ce-expanding-icon",D:kCw(W.iconUrl)}]};m=new g.b(S);break;case "CREATOR_MERCHANDISE":m="",W.productPrice&&(m={G:"div",L:"ytp-ce-merchandise-price-container",
U:[{G:"div",L:"ytp-ce-merchandise-price",Bn:W.productPrice}]},W.additionalFeesText&&m.U.push({G:"div",L:"ytp-ce-merchandise-additional-fees",Bn:W.additionalFeesText})),S={G:"div",Wn:["ytp-ce-element","ytp-ce-merchandise"],D:{tabindex:"0","aria-label":W.MH||"","aria-hidden":"true"},U:[{G:"div",L:"ytp-ce-element-shadow"},{G:"div",L:"ytp-ce-expanding-overlay",U:[{G:"div",L:"ytp-ce-expanding-overlay-hider"},{G:"div",L:"ytp-ce-expanding-overlay-background"},{G:"div",L:"ytp-ce-expanding-overlay-content",
U:[{G:"div",L:"ytp-ce-expanding-overlay-body",U:[{G:"div",L:"ytp-ce-expanding-overlay-body-padding",U:[{G:"div",L:"ytp-ce-merchandise-title",D:{dir:g.Vt(W.title||"")},Bn:W.title},m,{G:"div",L:"ytp-ce-merchandise-metadata",Bn:W.metadata},{G:"a",Wn:["ytp-ce-merchandise-goto","ytp-ce-link"],D:{href:AH(S,W.targetUrl),target:"_blank",tabindex:"-1"},Bn:W.callToAction}]}]}]}]},{G:"div",L:"ytp-ce-expanding-image",D:tH(W)},{G:"div",L:"ytp-ce-merchandise-invideo-cta-container",U:[{G:"div",L:"ytp-ce-merchandise-invideo-cta",
Bn:W.callToAction||void 0}]}]},m=new g.b(S)}W.isPlaceholder&&g.Bn(m.element,"ytp-ce-placeholder");return m},tH=function(S){if(S.Kb)var W=S.Kb.thumbnails;
return kCw(W?W[W.length-1].url:null)},kCw=function(S){return S?{style:"background-image: url("+S+")"}:{}},fNp=function(S,W,m){function a(Y){Y&&(W.listen("blur",function(){Y.style.display!="none"&&S.N2&&Y.focus()}),W.K(Y,"focus",B),W.K(Y,"blur",E))}
function J(Y){S.Z+=Y;S.Z>0?(g.Bn(W.element,"ytp-ce-force-expand"),Ze(S,m.id,!0)):(g.zD(W.element,"ytp-ce-force-expand"),g.zD(W.element,"ytp-ce-element-hover"),Ze(S,m.id,!1))}
function B(){J(1)}
function E(){J(-1)}
W.listen("mouseenter",function(){$aN(S,W,m)});
W.listen("mouseleave",function(){hNn(S,W,m)});
S.player.J().N||W.listen("click",function(){g.Bn(W.element,"ytp-ce-element-hover")});
W.listen("click",function(Y){tAZ(S,m,Y)});
W.listen("keypress",function(Y){tAZ(S,m,Y)});
W.listen("focus",function(){$aN(S,W,m)});
W.listen("blur",function(){hNn(S,W,m)});
W.listen("touchstart",function(){$aN(S,W,m)});
var y=g.gY("ytp-ce-expanding-overlay-hider",W.element);y&&W.K(y,"touchstart",function(Y){Y.stopPropagation();g.zD(W.element,"ytp-ce-element-hover");g.zD(W.element,"ytp-ce-force-expand")});
W.listen("keydown",function(Y){S.N2=Y.keyCode===9&&!Y.shiftKey});
a(g.gY("ytp-sb-subscribe",W.element));a(g.gY("ytp-sb-unsubscribe",W.element));W.listen("focus",B);W.listen("blur",E)},tAZ=function(S,W,m){if(W.targetUrl&&(!m||m.type!=="keypress"||m.keyCode===13)){for(var a=m.target;a&&!g.JU(a,"ytp-ce-element");){g.JU(a,"subscribe-label")&&Ax$(S,W);
if(g.JU(a,"ytp-ce-channel-subscribe"))return;a=a.parentElement||null}if(!a||g.JU(a,"ytp-ce-element-hover")){m.preventDefault();m.stopPropagation();if(a=S.N[W.id])hNn(S,a,W),a.element.blur();if(m.ctrlKey||m.metaKey||W.TE6==="new")Ax$(S,W),S.player.sendVideoStatsEngageEvent(17,void 0),S.player.pauseVideo(),m=g.QW(AH(S,W.targetUrl)),m=g.gb(m),g.ZQ(m,void 0,W.sessionData);else{var J=g.EV(S.player.J())||S.player.getVideoData().uP,B=function(){var E=AH(S,W.targetUrl),y=W.sessionData,Y=W.watchEndpoint,G=
g.zc(E);J&&G&&(G.v||G.list)?S.player.n6(G.v,y,G.list,!1,void 0,Y||void 0):g.Aj(E,y)};
Ax$(S,W,function(){S.player.sendVideoStatsEngageEvent(17,B)})}}}},AH=function(S,W){S=S.player.J();
if(W){if(W.startsWith("//"))return S.protocol+":"+W;if(W.startsWith("/"))return g.p1(S)+W}else return"";return W},$aN=function(S,W,m){g.JU(W.element,"ytp-ce-element-hover")||(m.type==="VIDEO"||m.type==="PLAYLIST"?g.Bn(W.element,"ytp-ce-element-hover"):S.player.J().N?(new g.rj(function(){g.Bn(W.element,"ytp-ce-element-hover")},200)).start():g.Bn(W.element,"ytp-ce-element-hover"),Ne(S,m.o69),Ze(S,m.id,!0))},hNn=function(S,W,m){g.zD(W.element,"ytp-ce-element-hover");
g.zD(W.element,"ytp-ce-force-expand");Ze(S,m.id,!1)},Ze=function(S,W,m){S.B&&(m?S.X.show():S.X.hide());
for(var a=g.R(Object.keys(S.N)),J=a.next();!J.done;J=a.next())J=J.value,J!==W&&g.GD(S.N[J].element,"ytp-ce-element-shadow-show",m)},Ne=function(S,W,m){function a(){B||(J++,J===W.length&&(E.stop(),m&&m()))}
if(!W||W.length===0||$w(S))m&&m();else{W=ZaN(S,W);var J=0,B=!1,E=new g.rj(function(){B=!0;m&&m()},1E3,S);
E.start();for(S=0;S<W.length;S++)g.Ir(W[S],a)}},Ax$=function(S,W,m){Ne(S,W.clickUrls,m);
(S=g.uR())&&W.cvn&&g.wT(S,W.visualElement)},ZaN=function(S,W){var m=S.player.getVideoData().clientPlaybackNonce;
S=S.player.getCurrentTime().toFixed(2);m={CPN:m,AD_CPN:m,MT:S};S=[];for(var a=0;a<W.length;a++)S.push(Nbg(W[a],m));return S},Nbg=function(S,W){return S.replace(/%5B[a-zA-Z_:]+%5D|\[[a-zA-Z_:]+\]/g,function(m){var a=unescape(m);
a=a.substring(1,a.length-1);return W[a]?escape(W[a]):m})},ba8=function(S){return typeof S==="string"?S:""},bE=function(S,W,m){for(var a in W)if(W[a]===S)return S;
return m},okp=function(S,W,m,a){this.value=S;
this.target=W;this.showLinkIcon=m;this.C=a},oN=function(S){return S.value?S.value:null},r9=function(S){if(!S)return null;
var W=g.QW(ba8(S.value));W=g.gb(W);if(!W)return null;var m=bE(S.target,rxp,"current");if(m==null)S=null;else{var a=S.show_link_icon;S=new okp(W,m,a==="true"||a==="false"?a==="true":!0,S.pause_on_navigation!=null?S.pause_on_navigation:!0)}return S},Cz9=function(S,W,m){this.type=S;
this.trigger=W;this.url=m},w$g=function(S){if(!S)return null;
var W=bE(S.type,cxv),m=bE(S.trigger,DaN);S=S.url;S=Array.isArray(S)&&S.length?S[0]:S;S=r9(S?S:null);return W?new Cz9(W,m,S):null},SNw=function(S,W,m,a,J){this.id=S;
this.type=W;this.style=m;this.data=J;this.action=a||[]},WGN=function(S,W){return g.Nx(S.action,W)},m1$=function(S,W){this.context=S;
this.C=W},atn=function(S){return S.customMessage?CQ("div","iv-card-message",S.customMessage):""},c0=function(S,W){S="background-image: url("+S+");";
var m=[];W&&m.push(W);return{G:"div",L:"iv-card-image",D:{style:S},U:m}},J8H=function(S){if(!S.metaInfo||S.metaInfo.length===0)return"";
var W=[];S=g.R(S.metaInfo);for(var m=S.next();!m.done;m=S.next())W.push(CQ("li","",m.value));return{G:"ul",L:"iv-card-meta-info",U:W}},CQ=function(S,W,m){W?typeof W==="string"?W={"class":W}:Array.isArray(W)&&(W={"class":W.join(" ")}):W={};
W.dir=g.Vt(m);return{G:S,D:W,Bn:m}},BYx=function(S){if(!S.customMessage)return"";
var W=["iv-card-action","iv-card-primary-link"],m={};S.cR&&(W.push("iv-card-action-icon"),m.style="background-image: url("+S.cR+");");m.dir=g.Vt(S.customMessage);var a=[{G:"span",Bn:S.customMessage}];S.showLinkIcon&&(a.push("\u00a0"),a.push({G:"span",L:"iv-card-link-icon"}));return{G:"div",Wn:W,D:m,U:a}},De=function(S,W,m,a){if(a){W=g.R(W);
for(var J=W.next();!J.done;J=W.next())S.C(J.value,a,m.id,m.sessionData,m.wi.click,5)}},Egg=function(S,W){this.merchant=S;
this.price=W},z2v=function(S){var W;
(W=S)&&!(W=S.length>1?S.charAt(0)==="/"&&S.charAt(1)!=="/":S==="/")&&(W=S.replace(/^(https?:)?\/\//,"").split("/",1),W=!W||W.length<1||!W[0]?[]:W[0].toLowerCase().split(".").reverse(),W=W[0]==="com"&&W[1]==="youtube"||W[0]==="be"&&W[1]==="youtu");return W?S.indexOf("/redirect?")===-1:!1},y8Q=function(S,W){return W?W:z2v(S)?"current":"new"},w9=function(S,W){g.A.call(this);
var m=this;this.element=S;this.context=W;this.uY=!1;this.zN=new Map;this.hX=new Map;this.context.W.addEventListener(g.AD("annotations_module"),function(a){(a=m.zN.get(a))&&a.apply(m)});
this.context.W.addEventListener(g.Z5("annotations_module"),function(a){(a=m.hX.get(a))&&a.apply(m)})},S5=function(S,W,m,a,J,B,E){S.context.C.listen(W,"click",function(y){S.Ha(m,a,J,B||[],E||0,y)});
S.context.C.listen(W,"touchstart",function(){S.uY=!1});
S.context.C.listen(W,"touchmove",function(){S.uY=!0})},YN9=function(S){var W;
return((W=g.n(S,g.Pm))==null?0:W.url)?g.n(S,g.Pm).url:(S=g.n(S,g.GR))&&S.videoId?(W="/watch?v="+S.videoId,S.playlistId&&(W+="&list="+S.playlistId),S.index&&(W+="&index="+S.index),S.startTimeSeconds&&(W+="&t="+S.startTimeSeconds),W):null},WK=function(S,W,m){return{n7:(S.impressionLoggingUrlsV2s||[]).map(function(a){return a.baseUrl||""}),
click:(m.loggingUrls||[]).map(function(a){return a.baseUrl||""}),
close:(W.dismissLoggingUrlsV2s||[]).map(function(a){return a.baseUrl||""}),
ST:(W.impressionLoggingUrlsV2s||[]).map(function(a){return a.baseUrl||""}),
V1:(W.clickLoggingUrlsV2s||[]).map(function(a){return a.baseUrl||""})}},TYN=function(S,W,m){w9.call(this,W,m);
var a=this;this.W=S;this.eventId=null;this.IL=this.Hn=this.Wv=this.B=this.isInitialized=!1;this.cards=[];this.M2=this.X=this.s9=this.V=this.g2=this.C=null;this.N2=[];this.vn=this.S=this.Rv=this.Pn=null;this.Z=0;this.Xn=new g.rj(function(){},m.Y.ZN?4E3:3E3);
g.Z(this,this.Xn);this.d2=new g.rj(function(){});
g.Z(this,this.d2);this.q2=new m1$(m,function(J,B,E,y,Y,G){S5(a,J,B,E,y,Y,G)});
this.bY=new g.b({G:"div",L:"iv-drawer",D:{id:"iv-drawer"},U:[{G:"div",L:"iv-drawer-header",D:{"aria-role":"heading"},U:[{G:"span",L:"iv-drawer-header-text"},{G:"button",Wn:["iv-drawer-close-button","ytp-button"],D:{"aria-label":"Hide cards",tabindex:"0"}}]},{G:"div",L:"iv-drawer-content"}]});g.Z(this,this.bY);this.j=this.bY.element;this.Y6=new g.mo(this.bY,330);g.Z(this,this.Y6);this.vv=g.gY("iv-drawer-header-text",this.j);this.N=g.gY("iv-drawer-content",this.j);this.addCueRange(0,m.videoData.lengthSeconds*
1E3,"",function(){a.Wv&&m3(a,"YOUTUBE_DRAWER_AUTO_OPEN")},function(){(a.Wv=a.B)&&ad(a)});
this.O9=new g.Tx(this);g.Z(this,this.O9);this.W.addEventListener("videodatachange",this.uZ.bind(this))},qN9=function(S,W){W=W.data;
W.autoOpenMs&&S.addCueRange(W.autoOpenMs,0x8000000000000,"",function(){m3(S,"YOUTUBE_DRAWER_AUTO_OPEN")});
W.autoCloseMs&&S.addCueRange(W.autoCloseMs,0x8000000000000,"",function(){ad(S)});
var m=W.headerText;g.iD(S.vv,m);S.X&&(S.W.T("player_tooltip_data_title_killswitch")?S.X.setAttribute("title",m):S.X.setAttribute("data-tooltip-title",m));W.eventId&&(S.eventId=W.eventId);S.Pn=g.Fg(W.trackingParams);S.S=g.Fg(W.closeTrackingParams);S.Rv=g.Fg(W.iconTrackingParams)},pIp=function(S,W){var m=W.cardId?W.cardId:"cr:"+S.Z,a=S.W.J().experiments.mU("enable_error_corrections_infocard_web_client");
if(!W.content&&W.teaser.simpleCardTeaserRenderer&&a){var J=W.teaser.simpleCardTeaserRenderer,B=W.icon?W.icon.infoCardIconRenderer:null;if(J.channelAvatar&&J.channelAvatar.thumbnails&&J.channelAvatar.thumbnails.length>0)var E=JR(J.channelAvatar.thumbnails,22,22).url;W={id:m,timestamp:S.Z,type:"simple",teaserText:g.K8(J.message),teaserDurationMs:Number(W.cueRanges[0].teaserDurationMs),startMs:Number(W.cueRanges[0].startCardActiveMs),autoOpen:!!W.autoOpen,sessionData:{},sponsored:!1,wi:{},wq:null,Rh:J.trackingParams?
g.Fg(J.trackingParams):null,Rv:B&&B.trackingParams?g.Fg(B.trackingParams):null,imageUrl:"",displayDomain:null,showLinkIcon:!1,cR:null,title:"",customMessage:"",url:null,onClickCommand:J.onTapCommand||null,Yc:E};BK(S,W)}else{var y;if((y=W.content)==null?0:y.simpleCardContentRenderer){if(!W.cueRanges.length)return;E=(J=W.content)==null?void 0:J.simpleCardContentRenderer;J=W.teaser.simpleCardTeaserRenderer;B=W.icon?W.icon.infoCardIconRenderer:null;W={id:m,timestamp:S.Z,type:"simple",teaserText:g.K8(J.message),
teaserDurationMs:Number(W.cueRanges[0].teaserDurationMs),startMs:Number(W.cueRanges[0].startCardActiveMs),autoOpen:!!W.autoOpen,sessionData:E5(S,m,W,E),sponsored:!1,wi:WK(E,J,E.command),wq:E.trackingParams?g.Fg(E.trackingParams):null,Rh:J.trackingParams?g.Fg(J.trackingParams):null,Rv:B&&B.trackingParams?g.Fg(B.trackingParams):null,imageUrl:JR(E.image.thumbnails,290,290).url,displayDomain:E.displayDomain?g.K8(E.displayDomain):null,showLinkIcon:!!E.showLinkIcon,cR:null,title:E.title?g.K8(E.title):"",
customMessage:E.callToAction?g.K8(E.callToAction):"",url:g.n(E.command,g.Pm).url?r9({pause_on_navigation:!S.context.videoData.isLivePlayback,target:"new",value:g.n(E.command,g.Pm).url}):null,onClickCommand:null};BK(S,W)}else{var Y;if((Y=W.content)==null?0:Y.collaboratorInfoCardContentRenderer){if(!W.cueRanges.length)return;E=(B=W.content)==null?void 0:B.collaboratorInfoCardContentRenderer;J=W.teaser.simpleCardTeaserRenderer;B=W.icon?W.icon.infoCardIconRenderer:null;W={id:m,timestamp:S.Z,type:"collaborator",
teaserText:g.K8(J.message),teaserDurationMs:Number(W.cueRanges[0].teaserDurationMs),startMs:Number(W.cueRanges[0].startCardActiveMs),autoOpen:!!W.autoOpen,sessionData:E5(S,m,W,E),sponsored:!1,wi:WK(E,J,E.endpoint),wq:E.trackingParams?g.Fg(E.trackingParams):null,Rh:J.trackingParams?g.Fg(J.trackingParams):null,Rv:B&&B.trackingParams?g.Fg(B.trackingParams):null,channelId:g.n(E.endpoint,g.I1).browseId,customMessage:E.customText?g.K8(E.customText):null,profileImageUrl:JR(E.channelAvatar.thumbnails,290,
290).url,title:E.channelName?g.K8(E.channelName):"",metaInfo:[E.subscriberCountText?g.K8(E.subscriberCountText):""],url:r9({pause_on_navigation:!S.context.videoData.isLivePlayback,target:"new",value:g.n(E.endpoint,g.I1).canonicalBaseUrl?g.n(E.endpoint,g.I1).canonicalBaseUrl:"/channel/"+g.n(E.endpoint,g.I1).browseId}),onClickCommand:null};BK(S,W)}else{var G;if((G=W.content)==null?0:G.playlistInfoCardContentRenderer){if(!W.cueRanges.length)return;var K;E=(K=W.content)==null?void 0:K.playlistInfoCardContentRenderer;
J=W.teaser.simpleCardTeaserRenderer;B=W.icon?W.icon.infoCardIconRenderer:null;W={id:m,timestamp:S.Z,type:"playlist",teaserText:g.K8(J.message),teaserDurationMs:Number(W.cueRanges[0].teaserDurationMs),startMs:Number(W.cueRanges[0].startCardActiveMs),autoOpen:!!W.autoOpen,sessionData:E5(S,m,W,E),sponsored:!1,wi:WK(E,J,E.action),wq:E.trackingParams?g.Fg(E.trackingParams):null,Rh:J.trackingParams?g.Fg(J.trackingParams):null,Rv:B&&B.trackingParams?g.Fg(B.trackingParams):null,kc:JR(E.playlistThumbnail.thumbnails,
258,290).url,customMessage:E.customMessage?g.K8(E.customMessage):null,playlistVideoCount:g.K8(E.playlistVideoCount),title:E.playlistTitle?g.K8(E.playlistTitle):"",metaInfo:[E.channelName?g.K8(E.channelName):"",E.videoCountText?g.K8(E.videoCountText):""],url:r9({pause_on_navigation:!S.context.videoData.isLivePlayback,target:"new",value:YN9(E.action)}),onClickCommand:null};BK(S,W)}else{var T;if((T=W.content)==null?0:T.videoInfoCardContentRenderer){if(!W.cueRanges.length)return;var p;E=(p=W.content)==
null?void 0:p.videoInfoCardContentRenderer;J=W.teaser.simpleCardTeaserRenderer;B=W.icon?W.icon.infoCardIconRenderer:null;W={id:m,timestamp:S.Z,type:"video",teaserText:g.K8(J.message),teaserDurationMs:Number(W.cueRanges[0].teaserDurationMs),startMs:Number(W.cueRanges[0].startCardActiveMs),autoOpen:!!W.autoOpen,sessionData:E5(S,m,W,E),sponsored:!1,wi:WK(E,J,E.action),wq:E.trackingParams?g.Fg(E.trackingParams):null,Rh:J.trackingParams?g.Fg(J.trackingParams):null,Rv:B&&B.trackingParams?g.Fg(B.trackingParams):
null,kc:JR(E.videoThumbnail.thumbnails,258,290).url,videoDuration:E.lengthString?g.K8(E.lengthString):null,customMessage:E.customMessage?g.K8(E.customMessage):null,title:E.videoTitle?g.K8(E.videoTitle):"",metaInfo:[E.channelName?g.K8(E.channelName):"",E.viewCountText?g.K8(E.viewCountText):""],isLiveNow:!!E.badge,url:r9({pause_on_navigation:!S.context.videoData.isLivePlayback,target:"new",value:YN9(E.action)}),onClickCommand:null};BK(S,W)}}}}}S.Z++},JR=function(S,W,m){for(var a=-1,J=-1,B=0;B<S.length;B++){if(S[B].height===
W||S[B].width===m)return S[B];
((S[B].height||0)<W||(S[B].width||0)<m)&&(a<0||(S[a].height||0)<(S[B].height||0)||(S[a].width||0)<(S[B].width||0))?a=B:((S[B].height||0)>=W||(S[B].width||0)>=m)&&(J<0||(S[J].height||0)>(S[B].height||0)||(S[J].width||0)>(S[B].width||0))&&(J=B)}return S[J>=0?J:a]},E5=function(S,W,m,a){return{feature:m.feature?m.feature:"cards",
src_vid:S.context.videoData.videoId,annotation_id:W,ei:S.context.videoData.eventId||"",itct:a.trackingParams||""}},Vug=function(S,W){if(W=FGw(S,W))W===S.C&&(S.C=null),S.W.removeCueRange(W.Ey.id),g.eu(W.hT),g.Sm(S.cards,W),S.KG(),zi(S)},m3=function(S,W,m){if(!S.B){S.Y6.show();
S.g2=new g.rj(function(){g.Bn(S.context.W.getRootNode(),g.Lw.IV_DRAWER_OPEN)},0);
S.g2.start();S.O9.K(S.N,"mousewheel",function(E){S.Xn.start();E.preventDefault();E=E||window.event;var y=0;E.type=="MozMousePixelScroll"?y=0==(E.axis==E.HORIZONTAL_AXIS)?E.detail:0:window.opera?y=E.detail:y=E.wheelDelta%120==0?"WebkitTransform"in document.documentElement.style?window.chrome&&navigator.platform.indexOf("Mac")==0?E.wheelDeltaY/-30:E.wheelDeltaY/-1.2:E.wheelDelta/-1.6:E.wheelDeltaY/-3;if(E=y)S.N.scrollTop+=E});
S.B=!0;var a=g.uR();a&&S.Pn&&S.S&&g.cl(a,[S.Pn,S.S]);W={TRIGGER_TYPE:W};for(var J=g.R(S.cards),B=J.next();!B.done;B=J.next())B=B.value,B.VN||(B.VN=!0,ng9(S.context.logger,B.Ey.wi.n7,W)),a&&g.cl(a,[B.Ey.wq]);RN(S.W);m&&(S.V=new g.rj(function(){S.s9=S.X;S.M2.focus()},330),S.V.start())}},ad=function(S){S.B&&(S.Y6.hide(),g.eY(S.O9),g.zD(S.context.W.getRootNode(),g.Lw.IV_DRAWER_OPEN),S.B=!1,RN(S.W),S.V&&S.V.stop(),S.V=new g.rj(function(){S.s9&&(S.s9.focus(),S.s9=null)},330),S.V.start())},snZ=function(S){g.Eo(S.yc(),
[g.Lw.STOP_EVENT_PROPAGATION,
"iv-drawer-manager"]);g.tc(S.W,S.j,5);S.IM();S.X=g.gY("ytp-cards-button",S.W.getRootNode());S.M2=g.gY("iv-drawer-close-button",S.j);S.isInitialized=!0},uOp=function(S){S.N2.push(g.S0("iv-teaser-shown",S.Bw,S));
S.N2.push(g.S0("iv-teaser-hidden",S.lHn,S));S.N2.push(g.S0("iv-teaser-clicked",S.NB,S));S.IL=!0},ggZ=function(S,W){var m;
return W.onClickCommand&&((m=g.n(W.onClickCommand,g.SQv))==null?void 0:m.targetId)==="engagement-panel-error-corrections"?(S.vn=W,!0):!1},OXp=function(S,W){S.vn=W;
var m=S.W.getVideoData();if(!m)return!1;m=g.k5(m);if(m==null?0:m.markersMap)for(var a,J=0;((a=m)==null?void 0:a.markersMap.length)>J;J++){var B=void 0,E=(B=m)==null?void 0:B.markersMap[J];if(E.key==="ERROR_CORRECTION_MARKERS"&&(B=void 0,(E=(B=E.value)==null?void 0:B.markers)&&E.length>0))return a=void 0,W.startMs=((a=g.n(E[0],g.Mj_))==null?void 0:a.timeRangeStartMillis)||0,S.vn=null,!0}return!1},BK=function(S,W){if(!ggZ(S,W)||OXp(S,W)){var m=jnN(S,W);
if(m){var a={Ey:W,hT:m.element,VN:!1};if(W.onClickCommand)S.W.T("web_infocards_teaser_show_logging_fix")&&(S.IL||uOp(S),Vug(S,W.id),m=S.findLastIndex(a),g.zt(S.cards,m,0,a));else{S.isInitialized||snZ(S);Vug(S,W.id);var J=S.findLastIndex(a);g.zt(S.cards,J,0,a);m.GN(S.N,J);S.KG()}W.autoOpen?S.addCueRange(W.startMs,0x8000000000000,W.id,function(){S.B||(S.C=a,zi(S),Qn9(S,a),m3(S,"YOUTUBE_DRAWER_AUTO_OPEN",!1))}):(m=S.context.W.getCurrentTime()*1E3,m<5E3&&m>W.startMs&&XI9(S,a),S.addCueRange(W.startMs,
W.startMs+1,W.id,function(){XI9(S,a)}),zi(S))}}},jnN=function(S,W){switch(W.type){case "simple":S=S.q2;
var m=W.displayDomain?{G:"div",L:"iv-card-image-text",Bn:W.displayDomain}:void 0;var a=BYx(W);m={G:"div",Wn:["iv-card"],U:[{G:"a",L:"iv-click-target",D:{href:W.url?oN(W.url)||"":""},U:[c0(W.imageUrl,m),{G:"div",L:"iv-card-content",U:[CQ("h2",void 0,W.title),a]}]}]};m=new g.b(m);De(S,g.nX("iv-click-target",m.element),W,W.url);W=m;break;case "collaborator":S=S.q2;m={G:"div",Wn:["iv-card","iv-card-channel"],U:[{G:"a",Wn:["iv-click-target"],D:{href:oN(W.url)||"","data-ytid":W.channelId},U:[c0(W.profileImageUrl),
{G:"div",L:"iv-card-content",U:[atn(W),{G:"h2",L:"iv-card-primary-link",Bn:W.title},J8H(W)]}]}]};m=new g.b(m);De(S,g.nX("iv-click-target",m.element),W,W.url);W=m;break;case "playlist":S=S.q2;m={G:"div",Wn:["iv-card","iv-card-playlist"],U:[{G:"a",L:"iv-click-target",D:{href:oN(W.url)||""},U:[c0(W.kc,{G:"div",L:"iv-card-image-overlay",U:[{G:"span",L:"iv-card-playlist-video-count",Bn:W.playlistVideoCount}]}),{G:"div",L:"iv-card-content",U:[atn(W),CQ("h2","iv-card-primary-link",W.title),J8H(W)]}]}]};
m=new g.b(m);De(S,g.nX("iv-click-target",m.element),W,W.url);W=m;break;case "productListing":S=S.q2;var J=W.offers.length!=0;m=["iv-card"];a="";var B=BYx(W);J&&(m.push("iv-card-product-listing"),a="iv-card-primary-link",B=W.offers[0],J=[],B.price&&J.push({G:"div",L:"iv-card-offer-price",Bn:B.price}),B.merchant&&J.push({G:"div",L:"iv-card-offer-merchant",Bn:B.merchant}),B={G:"div",U:J});J=W.url?oN(W.url)||"":"";m={G:"div",Wn:m,D:{tabindex:"0"},U:[{G:"a",Wn:["iv-card-image","iv-click-target"],D:{style:"background-image: url("+
W.imageUrl+");",href:J,"aria-hidden":"true",tabindex:"-1"}},{G:"div",L:"iv-card-content",U:[W.sponsored?{G:"div",L:"iv-card-sponsored",U:["Sponsored",{G:"div",L:"iv-ad-info-container",U:[{G:"div",L:"iv-ad-info",Bn:"{{adInfo}}"},{G:"div",L:"iv-ad-info-icon-container",U:[{G:"div",L:"iv-ad-info-icon"},{G:"div",L:"iv-ad-info-callout"}]}]}]}:"",{G:"a",L:"iv-click-target",D:{href:J},U:[CQ("h2",a,W.title),B]}]}]};m=new g.b(m);a=g.HI("span");g.iD(a,"You are seeing this product because we think it is relevant to the video. Google may be compensated by the merchant.");
m.setContent(a,"adInfo");De(S,g.nX("iv-click-target",m.element),W,W.url);W=m;break;case "video":S=S.q2;a=W.videoDuration?{G:"span",L:"iv-card-video-duration",Bn:W.videoDuration}:void 0;B=W.isLiveNow?{G:"span",Wn:["yt-badge","yt-badge-live"],Bn:"LIVE NOW"}:null;J={G:"div",Wn:["iv-card","iv-card-video"],U:[{G:"a",L:"iv-click-target",D:{href:((m=W.url)==null?void 0:oN(m))||""},U:[c0(W.kc,a),{G:"div",L:"iv-card-content",U:[atn(W),CQ("h2","iv-card-primary-link",W.title),J8H(W),B]}]}]};m=new g.b(J);De(S,
g.nX("iv-click-target",m.element),W,W.url);W=m;break;default:return null}return W},vgQ=function(S){if(S.C)return S.C.Ey.type==="productListing";
if(S.W.T("enable_wn_infocards")){var W;return!((W=S.cards)==null||!W.length)&&g.UM(S.cards,function(m){return m.Ey.type==="productListing"})}return g.UM(S.cards,function(m){return m.Ey.type==="productListing"})},zi=function(S){g.GD(S.W.getRootNode(),"ytp-cards-shopping-active",vgQ(S))},XI9=function(S,W){if(!g.JU(S.W.getRootNode(),"ytp-cards-teaser-shown")){if(S.C!==W){var m=g.uR(),a=S.C?S.C.Ey.Rv:S.Rv;
m&&a&&g.D8(m,[a]);S.C=W;zi(S)}(m=S.isInitialized&&S.yc().style.display=="none")||(m=S.context.W.getPlayerState(),a=m===0&&S.context.W.getCurrentTime()===0,m=!(m===1||m===3||a));if(!m&&W.Ey.teaserDurationMs){var J;m={teaserText:W.Ey.teaserText,durationMs:W.Ey.teaserDurationMs,onClickCommand:W.Ey.onClickCommand,Yc:(J=W.Ey.Yc)!=null?J:null};S.W.Xw(!0,m)}S.d2.isActive()||((!S.B||!S.Xn.isActive()&&S.Hn)&&Qn9(S,W),S.d2.start(910+W.Ey.teaserDurationMs))}},Qn9=function(S,W){S.bY.jg?(W=new IN([0,
S.N.scrollTop],[0,W.hT.offsetTop],600,Ua9),S.context.B.listen(W,"animate",function(m){S.N.scrollTop=m.y}),S.context.B.listen(W,"finish",function(m){S.N.scrollTop=m.y}),W.play()):(S.bY.Fz(!0),S.N.scrollTop=W.hT.offsetTop,S.bY.Fz(!1))},yr=function(S){return S.C&&S.C.Ey?S.C.Ey:S.cards[0]&&S.cards[0].Ey?S.cards[0].Ey:null},FGw=function(S,W){return g.Nx(S.cards,function(m){return m.Ey.id===W})},YU=function(S,W,m){w9.call(this,S,W);
this.annotation=m;this.isActive=!1},HXp=function(S){var W=S.annotation.data;
"start_ms"in W&&"end_ms"in W&&S.addCueRange(Number(W.start_ms),Number(W.end_ms),S.annotation.id,function(){S.show()},function(){S.hide()})},Gi=function(S,W,m){YU.call(this,S,W,m);
this.C=null;this.B=!1;this.N=null},ltg=function(S,W){var m=m===void 0?0:m;
var a=gkv(W).width;g.Yr(W,a);m=new lNw(W,[a,W.offsetTop],[a-a-m,W.offsetTop],200,MAv);g.Z(S,m);S.context.B.listen(m,"begin",function(){g.F$(W,!0)});
m.play()},MuZ=function(S,W,m,a,J,B,E){this.C=S;
this.B=W;this.Y=m;this.videoData=a;this.logger=J;this.W=B;this.N=E},U1x=function(S,W,m){YU.call(this,S,W,m);
var a=this;this.S=this.isCollapsed=this.bY=!1;this.V=5E3;this.N=this.B=this.C=this.j=null;this.Z=this.createElement({G:"div",Wn:["iv-promo-contents"]});this.X=new g.rj(function(){a.C.setAttribute("aria-hidden","true");g.F$(a.B,!1);g.F$(a.N,!0)},700,this);
g.Z(this,this.X)},R2Q=function(S){var W=S.annotation.data;
if(S.annotation.style==="cta")var m=6;else if(S.annotation.style==="video"||S.annotation.style==="playlist")m=7;S.V=W.collapsedelay_ms||S.V;var a=["iv-promo","iv-promo-inactive"];S.yc().setAttribute("aria-hidden","true");S.yc().setAttribute("aria-label","Promotion");S.yc().tabIndex=0;var J=S.annotation.XD(),B=W.image_url;if(B){var E=S.createElement({G:"div",Wn:["iv-promo-img","iv-click-target"]});B=S.createElement({G:"img",D:{src:B,"aria-hidden":"true"}});E.appendChild(B);W.video_duration&&!W.is_live?
(B=S.createElement({G:"span",L:"iv-promo-video-duration",Bn:W.video_duration}),E.appendChild(B)):W.playlist_length&&(B=S.createElement({G:"span",L:"iv-promo-playlist-length",Bn:W.playlist_length.toString()}),E.appendChild(B));J&&S5(S,E,J,S.annotation.id,W.session_data,void 0,m)}J?(B=S.createElement({G:"a",L:"iv-promo-txt"}),g.v$(B,oN(J)),S.C=B):S.C=S.createElement({G:"div",L:"iv-promo-txt"});switch(S.annotation.style){case "cta":case "website":var y=S.createElement({G:"p",U:[{G:"strong",Bn:W.text_line_1}]});
var Y=S.createElement({G:"p",U:[{G:"span",L:"iv-promo-link",Bn:W.text_line_2}]});if(B=W.text_line_3){a.push("iv-promo-website-card-cta-redesign");var G=S.createElement({G:"button",Wn:["iv-promo-round-expand-icon","ytp-button"]});B=S.createElement({G:"button",Wn:["iv-button","iv-promo-button"],U:[{G:"span",L:"iv-button-content",Bn:B}]});var K=S.createElement({G:"div",L:"iv-promo-button-container"});K.appendChild(B);J&&S5(S,S.yc(),J,S.annotation.id,W.session_data,void 0,m)}g.Bn(S.C,"iv-click-target");
J&&S5(S,S.C,J,S.annotation.id,W.session_data,void 0,m);break;case "playlist":case "video":y=S.createElement({G:"p",U:[{G:"span",Bn:W.text_line_1}]}),Y=S.createElement({G:"p",U:[{G:"strong",Bn:W.text_line_2}]}),W.is_live&&(y=Y,Y=S.createElement({G:"span",Wn:["yt-badge","iv-promo-badge-live"],Bn:"LIVE NOW"})),g.Bn(S.C,"iv-click-target"),J&&S5(S,S.C,J,S.annotation.id,W.session_data,void 0,m),a.push("iv-promo-video")}y&&S.C.appendChild(y);Y&&S.C.appendChild(Y);S.Z.appendChild(S.C);K&&S.Z.appendChild(K);
m=S.createElement({G:"div",L:"iv-promo-actions"});S.N=S.createElement({G:"button",Wn:["iv-promo-expand","ytp-button"]});S.N.title="Expand";S.context.C.listen(S.N,"click",function(T){LGZ(S,5E3,T)});
m.appendChild(S.N);g.F$(S.N,!1);S.context.C.listen(S.yc(),"mouseover",S.KU2,S);S.context.C.listen(S.yc(),"mouseout",S.LU2,S);S.context.C.listen(S.yc(),"touchend",function(T){LGZ(S,5E3,T)});
S.B=S.createElement({G:"button",Wn:["iv-promo-close","ytp-button"]});S.B.title="Close";S.context.C.listen(S.B,"click",S.annotation.style==="cta"&&W.text_line_3?S.V9X:S.n6n,S);m.appendChild(S.B);g.Eo(S.yc(),a);E&&(g.M1(S.yc(),E),G&&E.appendChild(G));g.M1(S.yc(),S.Z);g.M1(S.yc(),m)},LGZ=function(S,W,m){m.stopPropagation();
e2w(S);x1$(S,W);S.C.focus()},iX8=function(S){S.isCollapsed||S.S||S.j||(g.Bn(S.yc(),"iv-promo-collapsed"),S.isCollapsed=!0,S.X.start())},e2w=function(S){S.X.stop();
S.isCollapsed&&(g.YC(S.yc(),["iv-promo-collapsed","iv-promo-collapsed-no-delay"]),S.isCollapsed=!1,S.C&&S.C.removeAttribute("aria-hidden"),g.F$(S.N,!1),g.F$(S.B,!0))},x1$=function(S,W){S.j||(S.j=g.PQ(function(){d1p(this);
iX8(this)},W,S))},d1p=function(S){S.j&&(g.OQ.clearTimeout(S.j),S.j=null)},Itx=function(S){this.W=S},ng9=function(S,W,m){W&&(m?KS(S,W.map(function(a){return g.Lu(a,m)})):KS(S,W))},KS=function(S,W,m,a){var J=1,B=void 0,E=-1;
if(m){var y=!1;B=function(){J--;J||y||(clearTimeout(E),y=!0,m())};
E=setTimeout(function(){y=!0;m()},1E3)}W=g.R(W||[]);
for(var Y=W.next();!Y.done;Y=W.next())Y=Y.value,J++,g.Ir(Y,B);a&&(J++,a!==0&&S.W.sendVideoStatsEngageEvent(a,B))},$1Z=function(S){g.VT.call(this,S);
var W=this;this.N2=this.S=!1;this.loadNumber=0;this.Z={};this.logger=new Itx(this.player);this.X=new g.Tx(this);this.V=this.j=null;this.events=new g.Tx(this);this.FM=this.bY=this.C=null;this.vn=[];g.Z(this,this.X);this.X.K(this.player,"onVideoAreaChange",function(){W.publish("onVideoAreaChange")});
this.X.K(this.player,"onHideControls",function(){W.publish("onHideControls")});
this.X.K(this.player,"onShowControls",function(){W.publish("onShowControls")});
this.X.K(this.player,"resize",function(B){W.publish("resize",B)});
this.X.K(this.player,"presentingplayerstatechange",function(B){W.publish("presentingplayerstatechange",B)});
this.subscribe("presentingplayerstatechange",this.jj,this);this.subscribe("resize",this.UO,this);this.player.J().Hn.subscribe("vast_info_card_add",this.fS,this);g.Z(this,this.events);this.q2=this.createElement({G:"div",L:"video-custom-annotations"});this.N=new g.b({G:"div",Wn:["ytp-player-content","ytp-iv-player-content"]});g.Z(this,this.N);g.tc(this.player,this.N.element,4);this.N.hide();this.B=new g.b({G:"div",Wn:["ytp-iv-video-content"]});g.Z(this,this.B);S=this.createElement({G:"div",L:"video-annotations"});
S.appendChild(this.q2);this.B.element.appendChild(S);this.Wk()?this.load():this.player.T("web_fix_annotations")&&(this.j=function(){W.loaded||W.TN()||!W.Wk()||(PDx(W),W.load())},this.player.addEventListener("videodatachange",this.j));
var m=this.createElement({G:"style"});(g.VK("HEAD")[0]||document.body).appendChild(m);this.addOnDisposeCallback(function(){g.eu(m)});
if(S=m.sheet){for(var a=g.R(ft9),J=a.next();!J.done;J=a.next())S.insertRule(J.value,0);a=g.R(kd$);for(J=a.next();!J.done;J=a.next())S.insertRule(J.value,0)}},h28=function(S){S=S.createElement({G:"div",
Wn:["annotation","annotation-type-custom"]});g.F$(S,!1);return S},tuZ=function(S){var W=S.player.J();
S=S.player.getVideoData();return(W.annotationsLoadPolicy||S.annotationsLoadPolicy)===1&&!S.CG||W.Hn.get(S.videoId)||g.Z9(S)||g.NW(S)?!0:!1},r8n=function(S,W){function m(y){var Y=S.loadNumber;
S.V=null;S.loaded&&S.loadNumber===Y&&S.player.getVideoData().videoId===a&&(y=g.n0(y)&&y.responseXML?y.responseXML:null)&&(A8$(S,y),g.Bn(S.player.getRootNode(),"iv-module-loaded"))}
var a=W.videoId;g.SF()&&(m=ZX9(S,m));var J={format:"XML",onFinish:m,onError:function(){S.V=null},
urlParams:{}};W.isPharma&&(J.urlParams.pharma="1");J.method="POST";J.withCredentials=!0;var B=S.player.J().Hn.get(a);B&&NYp(J,B);var E=B&&(B.UY||B.Ss);(B==null?0:B.UY)&&Math.random()<g.Db(S.player.J().experiments,"annotation_module_vast_cards_load_logging_fraction")&&g.Ue(new g.uc("Unexpected call to loadVastInfoCards; Attempting to load annotations via cardsXml."));if(!W.XN||E)W.hm?bXn(S,W.hm,J):(S.j=function(){if(!S.S)S.onVideoDataChange(J);var y=S.player.getVideoData();(y==null?0:g.Ap(y))&&!S.N2&&
ogp(S,y)},S.player.addEventListener("videodatachange",S.j))},CDN=function(S,W){W=!W.isCued()&&!g.C(W,1024);
S.N.Fz(W);S.B.Fz(W)},bXn=function(S,W,m){Math.random()<g.Db(S.player.J().experiments,"annotation_module_vast_cards_load_logging_fraction")&&g.Ue(new g.uc("Unexpected call to loadInvideoUrl; Attempting to load annotations via invideo URL."));
S.S=!0;S.V=g.Mi(W,m)},PDx=function(S){S.j&&(S.player.removeEventListener("videodatachange",S.j),S.j=null)},c88=function(S,W){for(var m={},a=g.R(W.attributes),J=a.next();!J.done;J=a.next())J=J.value,m[J.name]=J.nodeValue;
for(a=0;a<W.childNodes.length;a++)if(J=W.childNodes[a],g.Ln(J)&&J.nodeType==1){if(m[J.tagName])var B=m[J.tagName];else if(J.tagName==="data"){J.childNodes.length>0&&(B=J.childNodes[0].nodeValue,m[J.tagName]=typeof B==="string"?B.trim():B);continue}else B=[],m[J.tagName]=B;J&&J.tagName==="TEXT"?J.childNodes.length===1&&J.childNodes[0].nodeType===3?B.push(J.childNodes[0].nodeValue):B.push(""):J&&B.push(c88(S,J))}return m},D1n=function(S){var W=S.player.getVideoData();
if(W.hm){var m=S.player.J().Hn.get(W.videoId);if(m){var a={format:"XML",urlParams:{},method:"POST",withCredentials:!0,onFinish:function(J,B,E){J=S.loadNumber;B=W.videoId;S.loaded&&S.loadNumber===J&&S.player.getVideoData().videoId===B&&(E=g.n0(E)&&E.responseXML?E.responseXML:null)&&A8$(S,E)}};
g.SF()&&(a.onFinish=ZX9(S,a.onFinish));a.postParams={ic_only:"1"};NYp(a,m);S.S=!0;g.Mi(W.hm,a)}}},NYp=function(S,W){S.method="POST";
S.postParams=S.postParams||{};W.Ss&&(S.postParams.ic_coll=W.Ss);W.UY&&(S.postParams.ic_xml=W.UY);W.Cs&&(S.postParams.ic_track=W.Cs)},wIZ=function(S){var W=new g.b({G:"div"});
g.F$(W.element,!1);var m=new TYN(S.player,W.element,Ti(S));g.Z(m,W);W.GN(S.N.element);m.VJ();return m},ogp=function(S,W){var m,a;
if(W=(m=W.getWatchNextResponse())==null?void 0:(a=m.cards)==null?void 0:a.cardCollectionRenderer)S.N2=!0,SM8(S,W),W.headerText&&S.FM&&(m=g.K8(W.headerText),S.player.T("player_tooltip_data_title_killswitch")?S.FM.setAttribute("title",m):S.FM.setAttribute("data-tooltip-title",m))},Ti=function(S){if(!S.bY){var W=new LWp(S);
g.Z(S,W);var m=new g.V1(S);g.Z(S,m);S.bY=new MuZ(W,m,S.player.J(),S.player.getVideoData(),S.logger,S.player,S.aY)}return S.bY},A8$=function(S,W){var m=!1,a=W.getElementsByTagName("annotations");
if(a&&!(a.length<1)&&(a=a[0].getAttribute("itct"))){var J=g.uR();if(J){var B=g.se();B&&g.my(g.$z)(void 0,J,B,[g.Fg(a)])}}W=W.getElementsByTagName("annotation");for(a=0;a<W.length;a++){B=c88(S,W[a]);J=null;try{if(B){var E=B.id,y=/.+/;var Y=typeof E==="string"&&y!=null&&E!=null&&E.match(y)?E:"";var G=bE(B.type,Wgp),K=bE(B.style,mUQ),T=ba8(B.data),p=T.length!==0?JSON.parse(T):{};var q=B.action;B=w$g;if(q==null)var F=null;else if(g.Mx(q)){y=[];for(var O=g.R(q),X=O.next();!X.done;X=O.next()){var l=B(X.value);
l&&y.push(l)}F=y}else{var M=B(q);F=M?[M]:[]}J=Y&&G?new SNw(Y,G,K,F,p):null}else J=null}catch(SO){}if(J)if(J.type==="branding"||J.type==="promotion"){B=S;y=J;var e=h28(B),d=null;switch(y.type){case "branding":if(B.player.J().VT)break;B.player.T("web_player_overlay_positioned_layout")?(e.setAttribute("data-overlay-order","11"),B.player.nW(e,4,!0)):B.N.element.appendChild(e);d=new Gi(e,Ti(B),y);break;case "promotion":g.tc(B.player,e,4),d=new U1x(e,Ti(B),y)}d&&d.VJ();if(B=d)g.Z(S,B),S.Z[J.id]=B}else if(J.type===
"card"||J.type==="drawer"){S.C||(S.C=wIZ(S),g.Z(S,S.C));if(J.type==="card"){e=S.C;var t=(m=J)&&m.data&&m.data.card_type;J=m.data;if(t)switch(B=J.tracking||{},B={n7:B.impression,click:B.click,close:B.close,ST:B.teaser_impression,V1:B.teaser_click},y=J.tracking_params||{},d=null,t){case "collaborator":m={id:m.id,timestamp:J.timestamp||0,type:J.card_type,teaserText:J.teaser_text,teaserDurationMs:J.teaser_duration_ms,startMs:J.start_ms,autoOpen:J.auto_open||!1,sessionData:J.session_data||{},sponsored:J.sponsored||
!1,wi:B,wq:y.card?g.Fg(y.card):null,Rh:y.teaser?g.Fg(y.teaser):null,Rv:y.icon?g.Fg(y.icon):null,channelId:J.channel_id,customMessage:J.custom_message?J.custom_message:null,profileImageUrl:J.image_url,title:J.title,metaInfo:J.meta_info,url:r9({pause_on_navigation:J.pause_on_navigation,target:J.target||"new",value:J.url}),onClickCommand:null};BK(e,m);break;case "playlist":m={id:m.id,timestamp:J.timestamp||0,type:J.card_type,teaserText:J.teaser_text,teaserDurationMs:J.teaser_duration_ms,startMs:J.start_ms,
autoOpen:J.auto_open||!1,sessionData:J.session_data||{},sponsored:J.sponsored||!1,wi:B,wq:y.card?g.Fg(y.card):null,Rh:y.teaser?g.Fg(y.teaser):null,Rv:y.icon?g.Fg(y.icon):null,kc:J.image_url,playlistVideoCount:J.playlist_video_count,customMessage:J.custom_message?J.custom_message:null,title:J.title,metaInfo:J.meta_info,url:r9({pause_on_navigation:J.pause_on_navigation,target:J.target||"new",value:J.url}),onClickCommand:null};BK(e,m);break;case "productListing":J.signin_url&&(d=r9({target:"current",
value:J.signin_url}));t=[];for(var h=J.offers||[],mD=0;mD<h.length;mD++)t.push(new Egg(g.ZN(h[mD].merchant),g.ZN(h[mD].price)));m={id:m.id,timestamp:J.timestamp||0,type:J.card_type,teaserText:J.teaser_text,teaserDurationMs:J.teaser_duration_ms,startMs:J.start_ms,autoOpen:J.auto_open||!1,sessionData:J.session_data||{},sponsored:J.sponsored||!1,wi:B,wq:y.card?g.Fg(y.card):null,Rh:y.teaser?g.Fg(y.teaser):null,Rv:y.icon?g.Fg(y.icon):null,imageUrl:J.image_url,displayDomain:J.display_domain?J.display_domain:
null,showLinkIcon:!!J.show_link_icon,cR:J.button_icon_url?J.button_icon_url:null,title:J.title,customMessage:J.custom_message?J.custom_message:null,url:r9({pause_on_navigation:J.pause_on_navigation,target:J.target||"new",value:J.url}),Q42:d,RoU:J.signin_title?J.signin_title:void 0,kJ2:J.signin_message?J.signin_message:void 0,offers:t,onClickCommand:null};BK(e,m);break;case "simple":m={id:m.id,timestamp:J.timestamp||0,type:J.card_type,teaserText:J.teaser_text,teaserDurationMs:J.teaser_duration_ms,
startMs:J.start_ms,autoOpen:J.auto_open||!1,sessionData:J.session_data||{},sponsored:J.sponsored||!1,wi:B,wq:y.card?g.Fg(y.card):null,Rh:y.teaser?g.Fg(y.teaser):null,Rv:y.icon?g.Fg(y.icon):null,imageUrl:J.image_url,displayDomain:J.display_domain?J.display_domain:null,showLinkIcon:!!J.show_link_icon,cR:J.button_icon_url?J.button_icon_url:null,title:J.title,customMessage:J.custom_message?J.custom_message:null,url:r9({pause_on_navigation:J.pause_on_navigation,target:J.target||"new",value:J.url}),onClickCommand:null};
BK(e,m);break;case "video":m={id:m.id,timestamp:J.timestamp||0,type:J.card_type,teaserText:J.teaser_text,teaserDurationMs:J.teaser_duration_ms,startMs:J.start_ms,autoOpen:J.auto_open||!1,sessionData:J.session_data||{},sponsored:J.sponsored||!1,wi:B,wq:y.card?g.Fg(y.card):null,Rh:y.teaser?g.Fg(y.teaser):null,Rv:y.icon?g.Fg(y.icon):null,kc:J.image_url,videoDuration:J.video_duration||null,customMessage:J.custom_message?J.custom_message:null,title:J.title,metaInfo:J.meta_info,isLiveNow:!!J.is_live_now,
url:r9({pause_on_navigation:J.pause_on_navigation,target:J.target||"new",value:J.url}),onClickCommand:null},BK(e,m)}}else qN9(S.C,J);m=!0}}m&&(RN(S.player),S.UO())},SM8=function(S,W){var m=!1;
S.C||(S.C=wIZ(S),g.Z(S,S.C));for(var a=g.R(W.cards||[]),J=a.next();!J.done;J=a.next())J=J.value,J.cardRenderer&&(pIp(S.C,J.cardRenderer),m=!0);if(m){var B;(B=S.player.getVideoData())!=null&&g.Ap(B)||(m=S.C,a=W.headerText?g.K8(W.headerText):"",g.iD(m.vv,a),m.X&&(m.W.T("player_tooltip_data_title_killswitch")?m.X.setAttribute("title",a):m.X.setAttribute("data-tooltip-title",a)),m.context.videoData.eventId&&(m.eventId=m.context.videoData.eventId),m.Pn=W.trackingParams?g.Fg(W.trackingParams):null,m.S=
W.closeButton.infoCardIconRenderer.trackingParams?g.Fg(W.closeButton.infoCardIconRenderer.trackingParams):null,m.Rv=W.icon.infoCardIconRenderer.trackingParams?g.Fg(W.icon.infoCardIconRenderer.trackingParams):null,S.UO());RN(S.player)}},acZ=function(S,W,m,a,J){if(!S.player.J().VT){var B=[];
W.navigationEndpoint&&g.n(W.navigationEndpoint,g.I1)&&g.n(W.navigationEndpoint,g.I1).browseId&&B.push(new Cz9("openUrl","click",new okp("/channel/"+g.n(W.navigationEndpoint,g.I1).browseId,"new",!0,!0)));var E=W.watermark.thumbnails[0];a={channel_name:W.channelName,end_ms:W.endTimeMs,image_height:E.height,image_type:1,image_url:E.url,image_width:E.width,is_mobile:!1,session_data:{annotation_id:m,ei:J,feature:"iv",itct:W.trackingParams,src_vid:a},start_ms:W.startTimeMs};if(W.subscribeButton&&g.n(W.subscribeButton,
g.PB)){a.channel_id=g.n(W.subscribeButton,g.PB).channelId;var y;W=g.n(W.subscribeButton,g.PB);E=J=null;W.subscribed?(W.subscriberCountWithUnsubscribeText&&(J=g.K8(W.subscriberCountWithUnsubscribeText)),W.subscriberCountText&&(E=g.K8(W.subscriberCountText))):(W.subscriberCountText&&(J=g.K8(W.subscriberCountText)),W.subscriberCountWithSubscribeText&&(E=g.K8(W.subscriberCountWithSubscribeText)));var Y,G=((Y=g.n((y=W.signInEndpoint)==null?void 0:y.commandMetadata,g.jt))==null?void 0:Y.url)||"";y={subscribeText:g.K8(W.unsubscribedButtonText),
subscribeCount:J||"",unsubscribeText:g.K8(W.subscribedButtonText),unsubscribeCount:E||"",enabled:W.enabled||!1,classic:!1,subscribed:W.subscribed||!1,feature:"iv",signInUrl:G};a.standalone_subscribe_button_data=y}B=new SNw(m,"branding","branding",B,a);y=h28(S);S.player.T("web_player_overlay_positioned_layout")?(y.setAttribute("data-overlay-order","11"),S.player.nW(y,4,!0)):S.N.element.appendChild(y);B=new Gi(y,Ti(S),B);B.VJ();g.Z(B,B);S.Z[m]=B}},ZX9=function(S,W){return function(){var m=g.VH.apply(0,
arguments);
S.TN()||S.vn.push(g.h6.U$(function(){W.apply(null,g.x(m))}))}},Jbw=function(S){return S==="annotation-editor"||S==="live-dashboard"};
g.x8.prototype.Xw=g.f6(35,function(S,W){var m=g.L7(this.GV());m&&m.Xw(S,W)});
var xw={},iE=null;g.$p(IN,g.KE);g.V=IN.prototype;g.V.getDuration=function(){return this.duration};
g.V.play=function(S){if(S||this.C==0)this.progress=0,this.coords=this.N;else if(this.isPlaying())return!1;d9(this);this.startTime=S=g.P9();this.isPaused()&&(this.startTime-=this.duration*this.progress);this.endTime=this.startTime+this.duration;this.j=this.startTime;this.progress||this.Zh();this.Q4("play");this.isPaused()&&this.Q4("resume");this.C=1;var W=g.xp(this);W in xw||(xw[W]=this);QhQ();X$p(this,S);return!0};
g.V.stop=function(S){d9(this);this.C=0;S&&(this.progress=1);vkQ(this,this.progress);this.onStop();this.SJ()};
g.V.pause=function(){this.isPlaying()&&(d9(this),this.C=-1,this.Q4("pause"))};
g.V.j9=function(){this.C==0||this.stop(!1);this.Q4("destroy");IN.uQ.j9.call(this)};
g.V.destroy=function(){this.dispose()};
g.V.Wa=function(){this.Q4("animate")};
g.V.Q4=function(S){this.dispatchEvent(new Haw(S,this))};
g.$p(Haw,g.mA);g.$p(P0,IN);P0.prototype.B=function(){};
P0.prototype.Wa=function(){this.B();P0.uQ.Wa.call(this)};
P0.prototype.SJ=function(){this.B();P0.uQ.SJ.call(this)};
P0.prototype.Zh=function(){this.B();P0.uQ.Zh.call(this)};
g.$p(lNw,P0);lNw.prototype.B=function(){this.element.style.left=Math.round(this.coords[0])+"px";this.element.style.top=Math.round(this.coords[1])+"px"};g.u(LWp,g.A);g.V=LWp.prototype;g.V.listen=function(S,W,m,a){m=(0,g.dN)(m,a||this.N);S=g.vX(S,W,m);this.C.push(S);return S};
g.V.Vt=function(S,W,m,a){m=(0,g.dN)(m,a||this.N);S=Oan(S,W,m);this.C.push(S);return S};
g.V.TC=function(S){g.HX(S);g.Sm(this.C,S)};
g.V.removeAll=function(){g.HX(this.C);this.C.length=0};
g.V.j9=function(){this.removeAll();g.A.prototype.j9.call(this)};g.u(xaN,g.VT);g.V=xaN.prototype;g.V.load=function(){g.VT.prototype.load.call(this);if(!$w(this)){var S=g.LNK(this.player.getVideoData());S?(S=eNn(S,iaN(this)),hH(this,S,!1)):dan(this)}};
g.V.unload=function(){hH(this,null);this.j&&(this.j.abort(),this.j=null);g.VT.prototype.unload.call(this)};
g.V.uK=function(S,W){return $w(this)?S==="loadCustomEndscreenRenderer"?(S=eNn(W,"new"),hH(this,S),!0):null:null};
g.V.getOptions=function(){return $w(this)?["loadCustomEndscreenRenderer"]:[]};
g.V.Qc=function(){if(this.endscreen&&this.endscreen.elements){var S=this.player.getVideoContentRect();if(S&&S.width!==0&&S.height!==0){var W=this.player.getPlayerSize();if(W&&W.width!==0&&W.height!==0){var m=S.width/S.height;var a=0;for(var J=-1,B=0;B<Bpn.length;B++){var E=Math.abs(W.width-Bpn[B]);if(J===-1||a>=E)J=B,a=E}a=ErN[J];this.B&&g.mg(this.B.element,"outline-width",Math.max(W.width,W.height)+"px");for(W=0;W<this.endscreen.elements.length;++W)if(B=this.endscreen.elements[W].id,J=this.N[B],
E=this.V[B],J&&E){var y=E.width*m/E.aspectRatio,Y=Math.round(E.width*S.width);B=Math.round(y*S.height);var G=S.left+Math.round(E.left*S.width),K=S.top+Math.round(E.top*S.height);g.qU(J.element,Y,B);g.Yr(J.element,G,K);g.YC(J.element,z4Q);Y>256||B>256?g.Bn(J.element,"ytp-ce-large-round"):Y>96||B>96?g.Bn(J.element,"ytp-ce-medium-round"):g.Bn(J.element,"ytp-ce-small-round");g.YC(J.element,ybQ);Y=E.left+E.width/2;E=E.top+y/2;g.Bn(J.element,Y<=.5&&E<=.5?"ytp-ce-top-left-quad":Y>.5&&E<=.5?"ytp-ce-top-right-quad":
Y<=.5&&E>.5?"ytp-ce-bottom-left-quad":"ytp-ce-bottom-right-quad");g.YC(J.element,ErN);g.Bn(J.element,a);(J=g.sN(document,"div","ytp-ce-expanding-overlay-body",J.element)[0])&&g.mg(J,"height",B+"px")}}}}};
g.V.onCueRangeEnter=function(S){if(this.endscreen)if(S.getId()==="ytp-ce-in-endscreen")Ne(this,this.endscreen.impressionUrls),(S=g.uR())&&this.endscreen.visualElement&&g.CU(S,this.endscreen.visualElement),this.C&&(g.Bn(this.C,"ytp-ce-element-show"),this.C.removeAttribute("aria-hidden"),this.player.C1()?g.Bn(this.C,"ytp-ce-hide-button-lower"):g.zD(this.C,"ytp-ce-hide-button-lower"));else{S=S.getId().substring(15);var W=this.N[S],m=this.V[S];g.Bn(W.element,"ytp-ce-element-show");W.element.removeAttribute("aria-hidden");
W=this.player.getRootNode();g.Bn(W,"ytp-ce-shown");Ne(this,m.impressionUrls);(W=g.uR())&&g.CU(W,m.visualElement);this.player.J().S&&this.player.f_("endscreenelementshown",S)}};
g.V.onCueRangeExit=function(S){if(S.getId()==="ytp-ce-in-endscreen")this.C&&(g.zD(this.C,"ytp-ce-element-show"),this.C.setAttribute("aria-hidden","true"));else{S=S.getId().substring(15);var W=this.N[S];g.zD(W.element,"ytp-ce-element-show");W.element.setAttribute("aria-hidden","true");W=this.player.getRootNode();g.zD(W,"ytp-ce-shown");this.player.J().S&&this.player.f_("endscreenelementhidden",S)}};
g.V.OCq=function(S){var W=this;S.target===window&&(new g.rj(function(){for(var m=g.R(Object.values(W.N)),a=m.next();!a.done;a=m.next())g.YC(a.value.element,["ytp-ce-force-expand","ytp-ce-element-hover","ytp-ce-element-shadow-show"])},0)).start()};
g.V.Fz=function(S){for(var W=g.R(Object.values(this.N)),m=W.next();!m.done;m=W.next())m=m.value,S?m.element.setAttribute("hidden",""):m.element.removeAttribute("hidden")};
g.V.pr9=function(S){this.C&&this.player.getRootNode().removeChild(this.C);S&&(g.Bn(S,"ytp-ce-hide-button-container"),this.C=S,g.tc(this.player,this.C,4))};
var Bpn=[346,426,470,506,570,640,853,1280,1920],ErN="ytp-ce-size-346 ytp-ce-size-426 ytp-ce-size-470 ytp-ce-size-506 ytp-ce-size-570 ytp-ce-size-640 ytp-ce-size-853 ytp-ce-size-1280 ytp-ce-size-1920".split(" "),ybQ=["ytp-ce-top-left-quad","ytp-ce-top-right-quad","ytp-ce-bottom-left-quad","ytp-ce-bottom-right-quad"],z4Q=["ytp-ce-small-round","ytp-ce-medium-round","ytp-ce-large-round"];var rxp={jyN:"current",dzX:"new"};var cxv={CLOSE:"close",uQn:"openUrl",SUBSCRIBE:"subscribe"},DaN={lJ6:"click",CLOSE:"close",yb9:"hidden",bU9:"rollOut",iU_:"rollOver",PRN:"shown"};SNw.prototype.XD=function(){var S=WGN(this,function(W){return W.type==="openUrl"&&W.url!=null});
return S?S.url:null};
var mUQ={kBn:"anchored",qX:"branding",CHANNEL:"channel",BZn:"cta",cbn:"highlightText",bR9:"label",PLAYLIST:"playlist",POPUP:"popup",n29:"speech",SUBSCRIBE:"subscribe",h_Y:"title",VIDEO:"video",Whn:"website"},Wgp={qX:"branding",gG2:"card",WpY:"drawer",AbU:"highlight",HR2:"marker",t4q:"promotion",TEXT:"text",ua9:"widget"};var ft9=[".iv-promo .iv-promo-contents .iv-promo-txt .iv-promo-link:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUBAMAAAB/pwA+AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAHlBMVEVMaXH////////////////////////////////////Z6AnKAAAACXRSTlMA+/A2IuI1mJIldm0CAAAAAWJLR0QB/wIt3gAAAEVJREFUCNdjYGCYCQUMBJlACOIzIDElIcyZkwxgojOVWWDMSQauMKYySySUOSnBdSaUOZ0lEsac2YqwYiZ+JhwgM7E5HACgzVCI/YJ59AAAAABJRU5ErkJggg==) no-repeat center;background-size:10px;width:10px;height:10px}",
".iv-promo .iv-promo-actions .iv-promo-close:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJBAMAAAASvxsjAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAJFBMVEVMaXH///////////////////////////////////////////9tKdXLAAAAC3RSTlMAVaQDpaimqQbl5rjXUFUAAAABYktHRAH/Ai3eAAAAPUlEQVQI12MQMmAwEmDwDmaOTmAw39663YCBuXp2MQMDQ+fOBgYG5ujVwQwMptvbgeLaxczVCQwiBgxmAgBkXg1FN5iwiAAAAABJRU5ErkJggg==) no-repeat center;background-size:9px;width:9px;height:9px}",
".iv-promo .iv-promo-actions .iv-promo-expand:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAJBAMAAADnQZCTAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAJFBMVEVMaXHMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMz////eMKB4AAAAC3RSTlMAOpE7k5Uvj5kpfRaQSaQAAAABYktHRAsf18TAAAAAHklEQVQI12MQYGBQZmBwTWCo0GSo6AKRQDZQRIABADXXA/UkIpvtAAAAAElFTkSuQmCC) no-repeat center;background-size:4px 9px;width:4px;height:9px}",".iv-promo-website-card-cta-redesign .iv-promo-round-expand-icon:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAQAAAD9CzEMAAAAAmJLR0QA/4ePzL8AAAAJcEhZcwAACxMAAAsTAQCanBgAAAAHdElNRQfgCgUUEztsNfqrAAAAXklEQVRYw+3Uuw2AQAwEUUNXfBpDIvBRMhQwJJAScNrA0r4CdiQHjjAzK4NGKucPAFmCnZcmwcTphBNO9CTGH4VB+/Zm6YlYis9fhedXz38FNvFriCCl808iw8ysrBu65gCeuV/CfgAAAABJRU5ErkJggg==) no-repeat center;background-size:18px 18px;width:18px;height:18px}",
".iv-card-link-icon {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASBAMAAACk4JNkAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAGFBMVEVMaXG7u7u7u7u7u7u7u7u7u7u7u7v///+WKTAlAAAABnRSTlMAFdQWbGj9GiOuAAAAAWJLR0QHFmGI6wAAAEhJREFUCNdjYACBNCBgQGMxMKrBWEJJaRAJRjVlKEsoSQDIAqtSZICwgEIQFkgIZBRECMxiBqsCsVjAqsCygQwwFgMeFgQgswBg2xjLrfC4mgAAAABJRU5ErkJggg==) no-repeat center;background-size:9px;width:9px;height:9px}",".iv-card-playlist-video-count:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYBAMAAAASWSDLAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAJFBMVEVMaXH///////////////////////////////////////////9tKdXLAAAAC3RSTlMAvDeyLvxYtDK9Ogx4T1QAAAABYktHRAH/Ai3eAAAAK0lEQVQY02NgoBjshgO8HJoYwKiAMGAD92YHJM7uMCTO9gaEHs4FlPuZAQC8Fj8x/xHjxwAAAABJRU5ErkJggg==) no-repeat center;background-size:24px;width:24px;height:24px}"],
kd$=[".iv-drawer-close-button:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMAgMAAAArG7R0AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAACVBMVEVMaXH////////OZTV/AAAAAnRSTlMAoKBFbtAAAAABYktHRAH/Ai3eAAAAKUlEQVQI12MIYGBlSGGQBMIUBjbHCQyM0xwYGDIZwBjEBomB5EBqgGoBolQGzYuy51cAAAAASUVORK5CYII=) no-repeat center;background-size:12px;width:12px;height:12px}",".iv-ad-info-icon {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAMAAACecocUAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAVFBMVEVMaXGUlJSYmJiZmZmYmJiXl5eZmZmZmZmWlpaVlZWOjo6ZmZmSkpKXl5eYmJiYmJiZmZmZmZmZmZmZmZmYmJiJiYmXl5eZmZmYmJiWlpaZmZn///+81lbeAAAAGnRSTlMAE5DM80DliTMMEjccWIM5p1UjaTQNgB5cLlr5mgUAAAABYktHRBsCYNSkAAAAVElEQVQI102NRw7AIBADhw7ppIf/PzQLJ/ZgWSNrFlDaWKMVcs6HmGLwTqjEME6CFDrAXBYIGhNh3TJEg02wHydctvFc7sbrvnXZV8/zfs3T+7u/P7CrAso35YfPAAAAAElFTkSuQmCC) no-repeat center;background-size:11px;width:11px;height:11px}",
".annotation-close-button {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAALVBMVEVMaXEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/Pz9aWloBAQGZmZlbW1v///+X9wUzAAAACHRSTlMANprf+g6lyRmB9hUAAAABYktHRA5vvTBPAAAAWUlEQVQI12NgYBAycVZkAIKwDiBIZWBgrQAx2gMY2DrAIIFBomPWju6VHY0MGh1rbu891dHEYNGx9+yd2x3NDB4d3XfO7uhoQTDgUnDFcO1wA+FWwC2FOQMAdKg6tUSAFEAAAAAASUVORK5CYII=) no-repeat center}",".annotation-link-icon {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAiCAMAAAANmfvwAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAUVBMVEVMaXH////////////////////////////////////////////////////////////////////////////////////////////////////////JzkR1AAAAGnRSTlMAfXf+c3xsdGdv/GJoXPtXXflSVk5L7DBH9VeFfsQAAAABYktHRAH/Ai3eAAAAgElEQVQ4y93SSQ6AIAwFULSOOOJs739Qf9SF0VA2uNCu+psHaQJK7cVCqY+Rg92PXA++Q84KnCR03UIRJrFEKMEgZYFQhpyzQHSBWJJAdIVUENtJ3SC0mu3EdOh7zXZiBrRdzQLJ0Y1GfOlpVstD3HaZktX9X/gvRCxvxL6FR7IBS1RTM5xIpLoAAAAASUVORK5CYII=) no-repeat center}"];g.u(w9,g.A);g.V=w9.prototype;g.V.addCueRange=function(S,W,m,a,J){S=new g.hD(S,W,{id:m,namespace:"annotations_module"});a&&this.zN.set(S,a);J&&this.hX.set(S,J);this.context.W.oY([S],1)};
g.V.VJ=function(){this.context.N.subscribe("resize",this.KG,this)};
g.V.yc=function(){return this.element};
g.V.Ha=function(S,W,m,a,J,B){if(this.uY)return!1;B&&(B.stopPropagation(),B.preventDefault());this.navigate(S,m,a,J);return!1};
g.V.show=function(){};
g.V.hide=function(){};
g.V.destroy=function(){g.eu(this.yc())};
g.V.KG=function(){};
g.V.navigate=function(S,W,m,a){var J=this,B=oN(S);if(B){var E=y8Q(B,S.target),y=function(){S.C&&J.context.W.pauseVideo();var Y=J.context.videoData.uP||!1,G=g.zc(B||"");Y&&G&&(G.v||G.list)?J.context.W.n6(G.v,W,G.list,!1):g.ZQ(B||"",E==="current"?"_top":void 0,W)};
E==="new"&&(y(),y=null);KS(this.context.logger,m,y,a);z2v(B)||(m=g.uR(),a=W.itct,m&&a&&g.wT(m,g.Fg(a)))}};
g.V.j9=function(){this.zN.clear();this.hX.clear();g.A.prototype.j9.call(this)};
g.V.createElement=function(S){S=new g.b(S);g.Z(this,S);return S.element};g.u(TYN,w9);g.V=TYN.prototype;g.V.uZ=function(){this.vn&&BK(this,this.vn)};
g.V.isAvailable=function(){var S;if(S=!!this.cards.length)(S=this.W.getRootNode())?(S=g.ph(S),S=173<S.width&&173<S.height):S=!1;return S};
g.V.KG=function(){var S=this.isAvailable();g.F$(this.yc(),S);g.GD(this.context.W.getRootNode(),g.Lw.IV_DRAWER_ENABLED,S);RN(this.W)};
g.V.destroy=function(){this.W.Xw(!1);try{this.W.getRootNode().removeChild(this.j)}catch(S){}g.Wp(this.N2);g.eY(this.O9);this.g2&&this.g2.dispose();this.V&&this.V.dispose();w9.prototype.destroy.call(this)};
g.V.IM=function(){var S=this;this.context.C.listen(g.gY("iv-drawer-close-button",this.j),"click",this.XX,this);this.context.C.listen(this.N,"touchend",function(){S.Xn.start()});
this.context.C.listen(this.N,"scroll",this.kY,this);this.context.N.subscribe("onHideControls",function(){S.Hn=!0});
this.context.N.subscribe("onShowControls",function(){S.Hn=!1});
this.context.N.subscribe("onVideoAreaChange",function(){S.Hn=g.JU(S.W.getRootNode(),"ytp-autohide")});
this.N2.push(g.S0("iv-button-shown",this.UwN,this));this.N2.push(g.S0("iv-button-hidden",this.SVQ,this));uOp(this)};
g.V.findLastIndex=function(S){if(this.cards.length===0)return 0;var W=g.bw(this.cards,function(m){return S.Ey.startMs>m.Ey.startMs||S.Ey.startMs===m.Ey.startMs&&S.Ey.timestamp>=m.Ey.timestamp?!0:!1});
return W===-1?0:W+1};
g.V.XX=function(){if(this.B){KS(this.context.logger,yr(this).wi.close);var S=g.uR();S&&this.S&&g.wT(S,this.S);ad(this)}};
g.V.kY=function(){g.GD(this.j,"iv-drawer-scrolled",this.N.scrollTop>0)};
g.V.UwN=function(){var S=g.uR(),W=yr(this);W=W?W.Rv:this.Rv;S&&W&&g.cl(S,[W])};
g.V.SVQ=function(){var S=g.uR(),W=yr(this);W=W?W.Rv:this.Rv;S&&W&&g.D8(S,[W])};
g.V.Bw=function(){var S=yr(this);KS(this.context.logger,S.wi.ST);var W=g.uR();if(W&&S)if(this.W.T("web_infocards_teaser_show_logging_fix")){var m=[];S.Rh&&m.push(S.Rh);S.Rv&&m.push(S.Rv);m.length>0&&g.cl(W,m)}else g.cl(W,[S.Rh,S.Rv])};
g.V.lHn=function(){var S=g.uR(),W=yr(this);S&&W&&g.D8(S,[W.Rh])};
g.V.NB=function(S){var W=yr(this),m=g.uR();this.C?S?(S=this.context.logger,KS(S,W.wi.V1),S.W.sendVideoStatsEngageEvent(4,void 0),m&&W.Rh&&g.wT(m,W.Rh)):(S=this.context.logger,KS(S,W.wi.V1),S.W.sendVideoStatsEngageEvent(4,void 0),m&&W.Rv&&g.wT(m,W.Rv)):(S=this.context.logger,KS(S,W.wi.V1),S.W.sendVideoStatsEngageEvent(4,void 0),m&&this.Rv&&g.wT(m,this.Rv))};g.u(YU,w9);YU.prototype.VJ=function(){w9.prototype.VJ.call(this);HXp(this)};
YU.prototype.show=function(){w9.prototype.show.call(this);var S=g.uR(),W=this.annotation.data;S&&W&&(W=W.session_data)&&g.cl(S,[g.Fg(W.itct)])};
YU.prototype.hide=function(){w9.prototype.hide.call(this);var S=g.uR(),W=this.annotation.data;S&&W&&(W=W.session_data)&&g.D8(S,[g.Fg(W.itct)])};g.u(Gi,YU);
Gi.prototype.show=function(){if(!this.isActive){YU.prototype.show.call(this);if(!this.B){g.Bn(this.yc(),"iv-branding");var S=this.annotation.data;this.C=this.createElement({G:"img",Wn:["branding-img","iv-click-target"],D:{"aria-label":"Channel watermark",src:S.image_url,width:S.image_width,height:S.image_height}});g.F$(this.C,!1);var W=this.createElement({G:"button",Wn:["branding-img-container","ytp-button"]});W.appendChild(this.C);this.yc().appendChild(W);var m=this.annotation.XD();m&&S5(this,W,
m,this.annotation.id,S.session_data);this.B=!0}g.F$(this.yc(),!0);this.isActive=!0;if(this.C){try{ltg(this,this.C)}catch(a){}g.Bn(this.context.W.getRootNode(),"ytp-branding-shown");this.context.W.getRootNode().style.setProperty("--branding-image-width",this.C.getAttribute("width")+"px")}}};
Gi.prototype.hide=function(){this.isActive&&(YU.prototype.hide.call(this),g.F$(this.yc(),!1),this.isActive=!1,g.zD(this.context.W.getRootNode(),"ytp-branding-shown"))};
Gi.prototype.destroy=function(){this.N&&(this.N.dispose(),this.N=null);g.zD(this.context.W.getRootNode(),"ytp-branding-shown");YU.prototype.destroy.call(this)};g.u(U1x,YU);g.V=U1x.prototype;g.V.show=function(){this.isActive||(YU.prototype.show.call(this),this.bY||(R2Q(this),this.bY=!0),g.F$(this.yc(),!0),g.PQ(function(){g.zD(this.yc(),"iv-promo-inactive")},100,this),this.yc().removeAttribute("aria-hidden"),this.isActive=!0,d1p(this),e2w(this),x1$(this,this.V))};
g.V.hide=function(){this.isActive&&(g.Bn(this.yc(),"iv-promo-inactive"),this.isActive=!1,this.yc().setAttribute("aria-hidden","true"))};
g.V.Ha=function(S,W,m,a,J,B){return this.isCollapsed?!1:YU.prototype.Ha.call(this,S,W,m,a,J,B)};
g.V.KU2=function(S){this.S=!0;LGZ(this,500,S)};
g.V.LU2=function(){this.S=!1;iX8(this)};
g.V.n6n=function(S){S.stopPropagation();this.hide()};
g.V.V9X=function(S){S.stopPropagation();d1p(this);this.isCollapsed=!0;g.Bn(this.yc(),"iv-promo-collapsed-no-delay");this.X.start()};
g.V.destroy=function(){this.X.dispose();YU.prototype.destroy.call(this)};g.u($1Z,g.VT);g.V=$1Z.prototype;g.V.uK=function(S,W){if(!Jbw(this.player.J().playerStyle))return null;switch(S){case "loadCustomAnnotationsXml":return(S=g.CF(W))&&A8$(this,S),!0;case "removeCustomAnnotationById":return W&&this.C&&(Vug(this.C,W),RN(this.player)),!0}return null};
g.V.getOptions=function(){return Jbw(this.player.J().playerStyle)?["loadCustomAnnotationsXml","removeCustomAnnotationById"]:[]};
g.V.Wk=function(){var S=this.player.getVideoData(),W,m,a=(W=S.getWatchNextResponse())==null?void 0:(m=W.playerOverlays)==null?void 0:m.playerOverlayRenderer;if(S.uP||this.player.isMutedByEmbedsMutedAutoplay())return!1;if(!this.player.T("web_fix_annotations"))return tuZ(this);if(tuZ(this)){if((a==null?void 0:a.isWatermarkEnforced)===!0)return!0;var J;return(J=a==null?void 0:a.isAnnotationsEnabled)!=null?J:!1}return!1};
g.V.UO=function(){if(this.B){var S=this.player.k6().getVideoContentRect(!0);g.qU(this.B.element,S.width,S.height);g.Yr(this.B.element,S.left,S.top)}if(this.C){var W=this.player.eU();S=this.C;W=W.width;g.GD(S.j,"iv-drawer-small",W<=426);g.GD(S.j,"iv-drawer-big",W>=1280)}};
g.V.jj=function(S){CDN(this,S.state);g.C(S.state,2)&&(this.C1()&&this.ai()&&this.player.getPresentingPlayerType()!==2&&this.Wx(!1),this.Xw(!1))};
g.V.load=function(){g.VT.prototype.load.call(this);CDN(this,this.player.getPlayerStateObject());this.loadNumber++;var S=this.player.getVideoData();r8n(this,S);g.tc(this.player,this.B.element,4);this.UO();var W=g.NW(S),m=g.Z9(S);if(this.player.T("web_fix_annotations")){if(W){W.featuredChannel&&acZ(this,W.featuredChannel,W.annotationId||"branding",S.videoId||null,S.eventId||null);var a,J;W=(a=this.player.getVideoData().getWatchNextResponse())==null?void 0:(J=a.playerOverlays)==null?void 0:J.playerOverlayRenderer;
if(W!=null&&W.isWatermarkEnforced&&(W==null||!W.isAnnotationsEnabled))return}m&&SM8(this,m)}else m&&SM8(this,m),W&&W.featuredChannel&&acZ(this,W.featuredChannel,W.annotationId||"branding",S.videoId||null,S.eventId||null);this.FM=g.gY("ytp-cards-button",this.player.getRootNode());g.Ap(S)&&ogp(this,S)};
g.V.onVideoDataChange=function(S){var W=this.player.getVideoData();W.hm&&bXn(this,W.hm,S)};
g.V.unload=function(){this.player.Tk("annotations_module");for(var S=g.R(Object.keys(this.Z)),W=S.next();!W.done;W=S.next())this.Z[W.value].destroy();this.bY=null;this.C&&(this.C.destroy(),this.C=null,RN(this.player));this.S=!1;this.V&&(this.V.abort(),this.V=null);this.N2=!1;this.Z={};this.N.hide();g.VT.prototype.unload.call(this);this.B.detach();PDx(this)};
g.V.fS=function(S){S===this.player.getVideoData().videoId&&(this.loaded?D1n(this):this.load())};
g.V.C1=function(){var S;return((S=this.C)==null?void 0:S.isAvailable())||this.N2};
g.V.ai=function(){return!!this.C&&this.C.B};
g.V.Wx=function(S,W,m){W=W===void 0?!1:W;this.C1();this.C&&(S?m?m3(this.C,m,W):m3(this.C,"YOUTUBE_DRAWER_AUTO_OPEN",W):ad(this.C))};
g.V.Xw=function(S,W){this.player.publish(S?"cardsteasershow":"cardsteaserhide",W)};
g.V.j9=function(){this.player.J().Hn.unsubscribe("vast_info_card_add",this.fS,this);g.zD(this.player.getRootNode(),g.Lw.IV_DRAWER_OPEN);for(var S=this.vn,W=g.h6,m=0,a=S.length;m<a;m++)W.bZ(S[m]);this.vn.length=0;g.VT.prototype.j9.call(this)};
g.V.createElement=function(S){S=new g.b(S);g.Z(this,S);return S.element};g.Fi("annotations_module",$1Z);g.Fi("creatorendscreen",xaN);})(_yt_player);
