!function(s){function t(t){for(var e,n,i=t[0],r=t[1],o=0,a=[];o<i.length;o++)n=i[o],Object.prototype.hasOwnProperty.call(l,n)&&l[n]&&a.push(l[n][0]),l[n]=0;for(e in r)Object.prototype.hasOwnProperty.call(r,e)&&(s[e]=r[e]);for(u&&u(t);a.length;)a.shift()()}var n={},l={0:0,3:0};function c(t){var e;return(n[t]||(e=n[t]={i:t,l:!1,exports:{}},s[t].call(e.exports,e,e.exports,c),e.l=!0,e)).exports}c.e=function(i){var r,o,t,a,e,n=[],s=l[i];return 0!==s&&(s?n.push(s[2]):(e=new Promise(function(t,e){s=l[i]=[t,e]}),n.push(s[2]=e),(r=document.createElement("script")).charset="utf-8",r.timeout=120,c.nc&&r.setAttribute("nonce",c.nc),r.src=c.p+""+({}[e=i]||e)+"-"+{6:"03a74a062ad2e34b12ea"}[e]+".js",o=new Error,t=function(t){r.onerror=r.onload=null,clearTimeout(a);var e,n=l[i];0!==n&&(n&&(e=t&&("load"===t.type?"missing":t.type),t=t&&t.target&&t.target.src,o.message="Loading chunk "+i+" failed.\n("+e+": "+t+")",o.name="ChunkLoadError",o.type=e,o.request=t,n[1](o)),l[i]=void 0)},a=setTimeout(function(){t({type:"timeout",target:r})},12e4),r.onerror=r.onload=t,document.head.appendChild(r))),Promise.all(n)},c.m=s,c.c=n,c.d=function(t,e,n){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},c.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)c.d(n,i,function(t){return e[t]}.bind(null,i));return n},c.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="/js/",c.oe=function(t){throw console.error(t),t};var e=(i=window.webpackJsonp=window.webpackJsonp||[]).push.bind(i);i.push=t;for(var i=i.slice(),r=0;r<i.length;r++)t(i[r]);var u=e;c(c.s=706)}([function(t,e,n){function f(t,e,n){var i,r,o,a=t&f.F,s=t&f.G,l=t&f.P,c=t&f.B,u=s?p:t&f.S?p[e]||(p[e]={}):(p[e]||{})[y],h=s?m:m[e]||(m[e]={}),d=h[y]||(h[y]={});for(i in n=s?e:n)r=((o=!a&&u&&void 0!==u[i])?u:n)[i],o=c&&o?v(r,p):l&&"function"==typeof r?v(Function.call,r):r,u&&b(u,i,r,t&f.U),h[i]!=r&&g(h,i,o),l&&d[i]!=r&&(d[i]=r)}var p=n(2),m=n(20),g=n(12),b=n(13),v=n(21),y="prototype";p.core=m,f.F=1,f.G=2,f.S=4,f.P=8,f.B=16,f.W=32,f.U=64,f.R=128,t.exports=f},function(t,e,n){var i=n(4);t.exports=function(t){if(i(t))return t;throw TypeError(t+" is not an object!")}},function(t,e){t=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=t)},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){var i=n(53)("wks"),r=n(38),o=n(2).Symbol,a="function"==typeof o;(t.exports=function(t){return i[t]||(i[t]=a&&o[t]||(a?o:r)("Symbol."+t))}).store=i},function(t,e,n){var i=n(23),r=Math.min;t.exports=function(t){return 0<t?r(i(t),9007199254740991):0}},function(t,e,n){t.exports=!n(3)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e,n){var i=n(1),r=n(110),o=n(27),a=Object.defineProperty;e.f=n(7)?Object.defineProperty:function(t,e,n){if(i(t),e=o(e,!0),i(n),r)try{return a(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){var i=n(28);t.exports=function(t){return Object(i(t))}},function(t,e){"function"==typeof Object.create?t.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(t,e){var n;e&&(t.super_=e,(n=function(){}).prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t)}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){var i=n(8),r=n(37);t.exports=n(7)?function(t,e,n){return i.f(t,e,r(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var o=n(2),a=n(12),s=n(16),l=n(38)("src"),i=n(173),r="toString",c=(""+i).split(r);n(20).inspectSource=function(t){return i.call(t)},(t.exports=function(t,e,n,i){var r="function"==typeof n;r&&!s(n,"name")&&a(n,"name",e),t[e]!==n&&(r&&!s(n,l)&&a(n,l,t[e]?""+t[e]:c.join(String(e))),t===o?t[e]=n:i?t[e]?t[e]=n:a(t,e,n):(delete t[e],a(t,e,n)))})(Function.prototype,r,function(){return"function"==typeof this&&this[l]||i.call(this)})},function(t,e,n){function i(t,e,n,i){var t=String(a(t)),r="<"+e;return""!==n&&(r+=" "+n+'="'+String(i).replace(s,"&quot;")+'"'),r+">"+t+"</"+e+">"}var r=n(0),o=n(3),a=n(28),s=/"/g;t.exports=function(e,t){var n={};n[e]=t(i),r(r.P+r.F*o(function(){var t=""[e]('"');return t!==t.toLowerCase()||3<t.split('"').length}),"String",n)}},function(t,e,n){var i=n(48),r=i.Buffer;function o(t,e){for(var n in t)e[n]=t[n]}function a(t,e,n){return r(t,e,n)}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?t.exports=i:(o(i,e),e.Buffer=a),o(r,a),a.from=function(t,e,n){if("number"==typeof t)throw new TypeError("Argument must not be a number");return r(t,e,n)},a.alloc=function(t,e,n){if("number"!=typeof t)throw new TypeError("Argument must be a number");t=r(t);return void 0!==e?"string"==typeof n?t.fill(e,n):t.fill(e):t.fill(0),t},a.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return r(t)},a.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return i.SlowBuffer(t)}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){var i=n(54),r=n(28);t.exports=function(t){return i(r(t))}},function(t,e,n){var i=n(55),r=n(37),o=n(17),a=n(27),s=n(16),l=n(110),c=Object.getOwnPropertyDescriptor;e.f=n(7)?c:function(t,e){if(t=o(t),e=a(e,!0),l)try{return c(t,e)}catch(t){}if(s(t,e))return r(!i.f.call(t,e),t[e])}},function(t,e,n){var i=n(16),r=n(9),o=n(80)("IE_PROTO"),a=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=r(t),i(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?a:null}},function(t,e){t=t.exports={version:"2.6.12"};"number"==typeof __e&&(__e=t)},function(t,e,n){var o=n(11);t.exports=function(i,r,t){if(o(i),void 0===r)return i;switch(t){case 1:return function(t){return i.call(r,t)};case 2:return function(t,e){return i.call(r,t,e)};case 3:return function(t,e,n){return i.call(r,t,e,n)}}return function(){return i.apply(r,arguments)}}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e){var n=Math.ceil,i=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(0<t?i:n)(t)}},function(t,e,n){"use strict";var i=n(3);t.exports=function(t,e){return!!t&&i(function(){e?t.call(null,function(){},1):t.call(null)})}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});f={appName:"Mobirise",version:"5.9.13",dataLocation:"",projectDataLocation:"@DATA_LOCATION@/projectData",tempLocation:"",publicTempLocation:"@TEMP_LOCATION@",docLocation:"",imgLocation:"@DOC_LOCATION@",projectsLocation:"@DATA_LOCATION@/projects",isPro:!0,isDev:!1,debug:0,getArgs:(r=window.location.href,function(t){return t?t(r.split(/\&|\?/)):(i||((i=r.replace(/^.*?(\?|$)/,"").split("&").reduce(function(t,e){return(e=e.split("="))[0]&&(t[e[0]]=decodeURIComponent(e.slice(1).join("="))),t},{})).embedded=function(){try{return window.self!==window.top}catch(t){return!0}}(),i.external="true"===i.external),i)}),templating:function(t){return t},openUrl:function(t){window.open(t,"_blank")},runFileDialog:function(t,e,n,i,r){u()||h(),i&&i("")},runFileDialog2:function(t,e){var n=[];t&&(n.push(e&&e.caption||""),n.push(e&&e.path||""),n.push(e&&e.filter||""),n.push(t),n.push(e&&e.multi),f.runFileDialog.apply(f,n))},initProject:function(t,e){t&&t("",{path:f.dataLocation+"/projects/project-"+f.dateFormat(new Date,"yyyy-MM-dd_hhmmss"),name:e})},saveLocalFile:function(t,e,n){console.warn('call Bridge.saveLocalFile("'+t+'", String['+e.length+"])"),u()||!/^\/projects\/.+project\.mobirise$/.test(t)&&!/^\/recents.list$/.test(t)?n&&n(!1):(f.FILES=f.FILES||{},f.FILES[t]=e,n&&n(!0))},loadLocalFile:function(t,e){e=e||function(){},!u()&&(/^\/projects\/.+project\.mobirise$/.test(t)||0<=t.indexOf(f._recentsFile))?e(f.FILES&&f.FILES[t]||""):f.http(f.path2app(t),{success:function(){e()},error:function(){e("")}})},registerPreviewPath:function(){return f.publicTempLocation+"/"+f.dateFormat(new Date,"yyyyMMdd_hhmmss")},copyLocal:function(t,e,n){n&&n("")},removeLocal:function(t,e){e&&e(!1)},isExistsLocal:function(t,e){f.loadLocalFile(t,function(t){e&&e(!!t)})},dirList:function(t,e,n){e&&e([])},getInfoLocal:function(t,e){e&&e()},moveLocal:function(t,e,n){n&&n(!1)},loadLocalBase64:function(t,e){f.loadLocalFile(t,function(t){e(btoa(t))})},loadLocalBlob:function(t,e){f.loadLocalFile(t,function(t){callback(new Blob([t],{type:"text/plain"}))})},saveLocalBase64:function(t,e,n){n&&n(!1)},md5_base64:function(t,e){console.warn("call md5_base64"),e&&e("")},uploadBuildIn:function(n,i,r){if(!n||!i)return"file";r=p(r,{onStart:function(t){},onFile:function(t){},onUploaded:function(t){},onError:function(t){},onClose:function(t){},onData:function(t,e){return""}});var o=1,a=-1;function s(t){switch(o){case 4:return;case 1:if(t)return void(o=t);break;case 2:if(!t||3==t)return;o=t,t=0;break;case 3:return t?void(o=t):void(o=2);case 5:if(t)return;n=""}var e;a<0?f._uploadBuildIn_init(n,function(t){t?(o=2,r.onError(t)):(r.onStart(i.length),a=0,s())}):a>=i.length||5==o?(o=4,f._uploadBuildIn_done(n,function(t){t&&r.onError(t),r.onClose(n)})):(e=i[a++],r.onFile(e.dest),f._uploadBuildIn_file(e,r.onData,n,function(t){t?(o=2,r.onError(t)):(r.onUploaded(e.dest),s())}))}return setTimeout(s,1),{resume:function(){s(1)},pause:function(){s(3)},exit:function(){s(5)}}},_uploadBuildIn_init:function(t,e){console.log("Emulate Bridge.uploadBuilding()..."),console.log("Upload to url =",t),setTimeout(function(){e&&e("")},1)},_uploadBuildIn_done:function(t,e){console.log("Upload is done! url =",t),setTimeout(function(){e&&e("")},1)},_uploadBuildIn_file:function(t,e,n,i){console.log("Uploading file "+t.dest);for(var r=0;r<t.srcList.length;r++){var o,a=t.srcList[r];a.filter?(o=e(a.src,a.filter),console.log("<<< "+a.src+" <<< data.length="+o.length)):console.log("<<< "+a.src)}setTimeout(function(){i&&i("")},100)},supportedImgExts:["jpg","jpeg","png","gif","bmp","svg","ico"],getScreen:function(t,e,n,i){console.warn("call Bridge.getScreen()"),t&&t()},zip:function(){return new JSZip},saveAs:function(t,e,n){window.saveAs(t,e,n)},setSettings:function(t,e,n){console.warn("call Bridge.setSettings("+t+","+e+")"),n&&n(!1)},getSettings:function(t,e){e&&e("account"==t?'{"email":"8b@gmail.com","token":"1234"}':"")},setSettingsArray:function(i,t){for(var e=0;e<t.length;e++)f.setSettings(i+"/"+e,t[e]);!function e(n){f.getSettings(i+"/"+n,function(t){t&&(f.setSettings(i+"/"+n,""),e(n+1))})}(t.length)},getSettingsArray:function(t,r){!function e(n,i){f.getSettings(t+"/"+n,function(t){t?(i.push(t),e(n+1,i)):r(i)})}(0,[])},encode:function(t,e){e&&e(t)},decode:function(t,e){e&&e(t)},download:function(t,e){e&&e(t)},download2:function(t,e,n){e&&e(t)},osLocale:function(t){t(window.navigator.language.replace("-","_"))},args:{},isValid:function(){return!1},versionCmp:function(t,e){t=(t||"").split("."),e=(e||"").split(".");for(var n=0;n<t.length||n<e.length;n++)if(t[n]=parseInt(t[n])||0,e[n]=parseInt(e[n])||0,t[n]!=e[n])return t[n]-e[n];return 0},base:(s=location.origin+location.pathname).substr(0,s.lastIndexOf("/")+1),path2app:function(t){return/^(\w*\:)?\/\//.test(t)?t:t&&t.startsWith("web/")?t.replace("web/",f.base):"../"+t},url2sys:function(t){return t=decodeURI(t),t=/^file:\/\/\/\w+\:/.test(t)?t.replace(/^file:\/\/\/(\w+\:)/,"$1").replace(/\//g,"\\"):t.replace(/^file:\/\//,"")},sys2url:function(t,e){return t?("/"!=(e=e||f.base)[e.length-1]&&(e+="/"),t=encodeURI(t.replace(/\\/g,"/")),/^(\w*\:)?\//.test(t)?"file://"+t.replace(/^\w+\:\//,"/$&"):e+t):e||""},substUrl:function(t){return t.replace("%name%",f.appName).replace("%ver%",f.version).replace("%os%",f.getPlatform()).replace("%reg%",f.isPro?"pro":"free")},FileManager:function(n,i,e,r){if(!n||!i)return f.uploadBuildIn("");var o=!1,a=f._fmQueue,t=(e=p({start:function(t){},file:function(t){},uploaded:function(t){},error:function(t){console.log("FileManager error:"+t),s()},close:function(t){}},e,!0),this._run=function(){var t={onStart:l,onFile:c,onUploaded:u,onError:h,onClose:d,onData:f.templating.bind(r||{})};if(!(o=f.uploadBuildIn(i,n,t)))for(var e=0;e<f._fileManagerUploaders.length&&!(o=f._fileManagerUploaders[e](i,n,t));e++);});this.pause=function(){o&&o.pause()};var s=this.resume=function(){o&&o.resume()},l=(this.exit=function(){o&&o.exit()},function(t){1&f.debug&&console.log("FileManager:emitStart",t),setTimeout(function(){e.start(t)},1)}),c=function(t){1&f.debug&&console.log("FileManager:emitFile",t),setTimeout(function(){e.file(t)},1)},u=function(t){1&f.debug&&console.log("FileManager:emitUploaded",t),setTimeout(function(){e.uploaded(t)},1)},h=function(t){1&f.debug&&console.log("FileManager:emitError",t),setTimeout(function(){e.error(t)},1)},d=function(t){1&f.debug&&console.log("FileManager:emitClose",t),o=!1,setTimeout(function(){e.close(t)},1),setTimeout(function(){a.shift(),a.length&&a[0]._run()},1)};a.push(this),1==a.length&&t()},_fmQueue:[],fileManagerAddUploader:function(t){f._fileManagerUploaders.push(t)},_fileManagerUploaders:[],parseUrl:function(t){return{url:(t=/^([^:]*)\:(?:\/\/(?:(?:([^\/:]*)(?:\:([^\/]*))?@)?([^\/@:]+)(?:\:(\d+))?))?(\/[^?]*)?(?:\?([^?]*))?$/.exec(t)||[])[0],scheme:t[1],user:t[2],password:t[3],domain:t[4],port:parseInt(t[5]),path:t[6],query:t[7]}},joinUrl:function(t){return((t=t||{}).scheme||"")+":"+(t.domain?"//"+(t.user?t.user+("password"in t?":"+t.password:"")+"@":"")+t.domain+(t.port?":"+t.port:""):"")+(t.path?("/"!=t.path[0]?"/":"")+t.path:"")+(t.query?"?"+t.query:"")},bind:function(t,e){this[t="on"+t.toLowerCase()]||(this[t]=[]),this[t].push(e)},unbind:function(t,e){return t="on"+t.toLowerCase(),e?-1<(e=this[t].indexOf(e))?this[t].splice(e,1):void 0:this[t]=[]},emit:function(t,e){if(this[t="on"+t.toLowerCase()])for(var n=0;n<this[t].length;n++)try{this[t][n](e)}catch(t){}},initPath:"",OnReady:[],setOnReady:function(t){f.OnReady?f.OnReady.push(t):t()},emitOnReady:function(){for(;f.OnReady&&f.OnReady.length;)try{f.OnReady.shift()()}catch(t){console.error(t)}f.OnReady=0},regQuitTask:function(t){o.push(t)},getPlatform:function(){return navigator.userAgent.match(/Mobirise-webview/i)?"android":!/iphone|ipod|ipad/.test(navigator.userAgent.toLowerCase())||navigator.standalone||/safari/.test(navigator.userAgent.toLowerCase())?navigator.platform.match(/Mac/i)?"mac":navigator.platform.match(/Linux/i)?"linux":"win":"ios"},isMobile:/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini|mobirise-webview/i.test(navigator.userAgent.toLowerCase()),_recentsFile:"recents.list",getRecentsList:function(n){f.loadLocalFile(f.dataLocation+"/"+f._recentsFile,function(t){var e;try{e=JSON.parse(t)}catch(t){}n(e||[])})},addRecent:function(i,r){i&&i.path?f.getRecentsList(function(t){t=t||[];for(var e=0;e<t.length;e++)if(t[e].path==i.path){var n=t.splice(e,1)[0]||{};i.name=i.name||n.name,i.screenshot=i.screenshot||n.screenshot;break}t.unshift(i),f.saveLocalFile(f.dataLocation+"/"+f._recentsFile,JSON.stringify(t),function(t){t||console.error("Error: unable to save recent list"),r&&r(t)})}):r&&r(!1)},moveRecent:function(n,i,r){f.getRecentsList(function(t){for(var e=0;e<t.length;e++)if(t[e].path==n)return t.splice(i,0,t.splice(e,1)[0]),void f.saveLocalFile(f.dataLocation+"/"+f._recentsFile,JSON.stringify(t),r);r&&r(!1)})},rmRecent:function(i,r){i&&f.getRecentsList(function(t){for(var e=[],n=0;n<t.length;n++)t[n].path!=i&&e.push(t[n]);u()?f.saveLocalFile(f.dataLocation+"/"+f._recentsFile,JSON.stringify(e),r):(h(),r(!1))})},getRecentSettings:function(n,i){if(!i)return!1;n||i(!1),f.getRecentsList(function(t){for(var e=0;e<t.length;e++)if(t[e].path==n)return i(t[e]);i(!1)})},changeRecentSettings:function(i,r,o){i&&r&&f.getRecentsList(function(t){for(var e=0;e<t.length;e++)if(t[e].path==i)for(var n in r)t[e][n]=r[n];f.saveLocalFile(f.dataLocation+"/"+f._recentsFile,JSON.stringify(t),o)})},saveAllRecents:function(t,e){f.saveLocalFile(f.dataLocation+"/"+f._recentsFile,JSON.stringify(t),e)},http:function(t,e){var n,i,r=performance.now();e=p(e||{},{method:"GET",headers:{},data:null,success:function(t){},error:function(t){},signal:null});try{n=new XMLHttpRequest}catch(t){try{n=new ActiveXObject("Microsoft.XMLHTTP")}catch(t){console.log(t.message),e.error(t.message)}}if(n){if(e.signal){if(e.signal.aborted)return e.error("Request aborted",n),n;e.signal.addEventListener("abort",function(){n.abort(),e.error("Request aborted",n)})}n.onreadystatechange=function(){var t;4==n.readyState&&(e.timeout&&clearTimeout(i),t=performance.now()-r,200!=n.status&&n.status&&201!=n.status&&204!=n.status?e.error(n.status,n):e.success(n.responseText,n,t))};try{for(var o in n.open(e.method,t,!0),n.withCredentials=void 0===e.withCredentials||e.withCredentials,e.headers)n.setRequestHeader(o,e.headers[o]);n.send(e.data),e.timeout&&(i=setTimeout(function(){n.abort(),e.error("something went wrong",n)},e.timeout))}catch(t){console.log(t.message),e.error(t.message)}}return n},dateFormat:function(t,e){var n,i={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds(),"q+":Math.floor((t.getMonth()+3)/3),S:t.getMilliseconds()};for(n in/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length))),i)new RegExp("("+n+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?i[n]:("00"+i[n]).substr((""+i[n]).length)));return e},waitForEach:function t(n,i,r){var e;n.length?(e=n.splice(0,1)[0],i.call(this,e,function(e){t(n,i,function(t){t.splice(0,0,e),r(t)})})):r([])},splitPath:function(t){t=t.split("/");var e={},n=e.fullname=t.splice(t.length-1,1)[0];return e.noExt=n.indexOf(".")<0,e.noExt?(e.ext="",e.name=n):(e.ext=n.substr(n.lastIndexOf(".")+1),e.name=n.substr(0,n.lastIndexOf("."))),e.dir=t.join("/"),e},openImage:function(n,r,i,o,e,a){function s(t){e&&e(a?t||[]:t?t[0]:"")}var l,c;function u(t){"/"!=r.substr(-1)&&(r+="/"),f.waitForEach(t,function(n,i){!function n(i,r,o,a){f.isExistsLocal(i,function(t){var e;t?(e=(t=f.splitPath(i)).name,e=(e=a?e.substr(0,e.lastIndexOf(r+a)):e)+r+(a=(a||0)+1),n(t.dir+"/"+e+(t.noExt?"":"."+t.ext),r,o,a)):o(i)})}(r+f.cleanURI(n.split("/").pop(),"_"),"_",function(e){o?f.moveLocal(n,e,function(t){t||console.error("Error image re-save file "+n+" to "+e),i(e)}):f.copyLocal(n,e,function(t){t||console.error("Error image re-save file "+n+" to "+e),i(t||e)})})},s)}f.transformImage?(c={width:-1,height:-1,keepAspectRatio:!0,shrinkLarge:!(l="lastImageDialogDir"),stretchSmall:!1,quality:100,format:"",multi:!1},f.getSettings(l,function(t){var e="Images (*."+f.supportedImgExts.join(" *.")+")";f.runFileDialog(n,i||t||f.imgLocation,e,function(t){t&&t.length&&(1!=t.length||t[0])?(f.setSettings(l,f.splitPath((t=a?t:[t])[0]).dir),o||(/(jpeg)$/i.test(f.splitPath(t[0]).ext)?o={format:"jpg",quality:60}:/(bmp)$/i.test(f.splitPath(t[0]).ext)&&(o={format:"png"})),o?(o=p(c,o,!0),f.waitForEach(t,function(t,e){var n=p({},o,!0);n.format=n.format||(/jpg|jpeg/i.test(f.splitPath(t).ext)?"jpg":"png"),"png"==n.format&&(n.quality=1),/(tiff|tif)$/i.test(f.splitPath(t).ext)?e(t):f.transformImage(t,n,e)},r?u:s)):(r=r||f.tempLocation+"/open"+f.dateFormat(new Date,"yyyyMMdd_hhmmss"),u(t))):s()},a)})):(h(),s())},saveFileUnique:function(s,l,c){var i="hashes.json";c=c||function(){},f.getLocalJSON(l+"/"+i,function(o){function a(e,t,n){o[t]=e,f.saveLocalFile(l+"/"+i,JSON.stringify(o),function(t){t||console.error("unable to save "+l+"/"+i),n(l+"/"+e)})}o=o||{},f.md5_base64(s,function(i){var e,r,t,n;i?o[i]?(e=l+"/"+o[i],f.isExistsLocal(l+"/"+o[i],function(t){t?c(e):f.copyLocal(s,e,function(t){t||console.error("unable to save "+t),c(t)})})):(r=s.split("/").pop().toLowerCase(),0==s.indexOf(l+"/")?a(r,i,c):(n=/(?:[-_](\d+))?(?:(?:-\d+x\d+)*-(\d+x\d+))?(?:[-_](\d+))?\.([^\.]+)$/.exec(t=r),r={name:t,base:n?t.replace(n[0],""):t,index:n?parseInt(n[1]):0,size:n?n[2]:"",ext:n?n[4]:""},f.dirList(l,function(t){t=t.join("\n").toLowerCase().split("\n");for(var e,n=r.index||0;e=r.base+(n?"-"+n:"")+(r.size?"-"+r.size:"")+"."+r.ext,n++,0<=t.indexOf(e););f.copyLocal(s,l+"/"+e,function(t){t?a(t.split("/").pop(),i,c):(console.error("unable to save "+l+e),c(""))})},{names:[r.base+"*."+r.ext],filter:1,recursive:!1}))):(console.error("unable access to file "+s),c(""))})})},moveFileClean:function(t,e,n){var i=e+"/"+f.cleanURI(t.split("/").pop());f.copyLocal(t,i,function(){n(i)})},cleanURI:function(t,e){return t=decodeURI(t).replace(/\-|[^a-zA-Z0-9\/_.| -]/g,e||"").toLowerCase().replace(/[\/| -]+/g,e||"_"),encodeURI(t)},moveFile:function(t,e,n){return this.moveFileClean(t,e,n)},getLocalJSON:function(n,i,r){f.loadLocalFile(n,function(e){var t;if(e)try{t=JSON.parse(e)}catch(t){e=t.message+(t.line?" at line "+t.line:"")+" in file "+n;return console.error(new Error(e,n)),void(r&&r(null))}i?i(t):console.warn("No callback_data function passed for the getLocalJSON:",n)})}},o=[],f.bind("close",function(){function i(t){0<=t&&(o[t]=0);for(var e=0;e<o.length;e++)if(o[e])return;f.quit()}o.forEach(function(t,e){if(t){try{t(function(){n&&clearTimeout(n),i(e)})}catch(t){console.error(t),i(e)}var n=setTimeout(function(){i(e)},1e3)}}),i(-1)}),u()||(f.isDev=!0,f.isValid=function(){return!0}),a=setInterval(function(){f.isValid()&&(clearInterval(a),l(function(){f.emitOnReady()}))},100);var i,r,f,o,a,s=f;function p(t,e,n){for(var i in t=t||{},e=e||{})!n&&null!=t[i]||(t[i]=e[i]);return t}function l(t){if(f.versionName=f.versionName||f.version,f.version=function(t){t=(t||"").split(".");for(var e=0;e<t.length;e++)t[e]=parseInt(t[e])||0;return t}(f.version).join("."),f.projectDataLocation=c(f.projectDataLocation)||f.dataLocation,f.publicTempLocation=c(f.publicTempLocation)||f.tempLocation,f.imgLocation=c(f.imgLocation)||f.docLocation,f.projectsLocation=c(f.projectsLocation)||f.dataLocation,t=t||function(){},4&f.debug)for(var e in f)"function"==typeof f[e]&&!function(t){var e=f[t];f[t]=function(){return console.log("Bridge."+t,arguments),e.apply(this,arguments)}}(e);p(f.args,f.getArgs()),t()}function c(t){return t.replace("@DATA_LOCATION@",f.dataLocation).replace("@TEMP_LOCATION@",f.tempLocation).replace("@DOC_LOCATION@",f.docLocation)}function h(){(window.bootbox&&bootbox.alert||window.alert)("Unfortunately, this feature is not available in your browser.")}function u(){return"undefined"!=typeof qt||navigator.userAgent.match(/Mobirise/i)||navigator.userAgent.match(/Electron/i)||/ios/.test(f.getPlatform())}e.Bridge=s},function(t,e){var n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){var r=n(4);t.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t))||"function"==typeof(n=t.valueOf)&&!r(i=n.call(t))||!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,n){var r=n(0),o=n(20),a=n(3);t.exports=function(t,e){var n=(o.Object||{})[t]||Object[t],i={};i[t]=e(n),r(r.S+r.F*a(function(){n(1)}),"Object",i)}},function(t,e,n){var y=n(21),w=n(54),_=n(9),x=n(6),i=n(96);t.exports=function(h,t){var d=1==h,f=2==h,p=3==h,m=4==h,g=6==h,b=5==h||g,v=t||i;return function(t,e,n){for(var i,r,o=_(t),a=w(o),s=y(e,n,3),l=x(a.length),c=0,u=d?v(t,l):f?v(t,0):void 0;c<l;c++)if((b||c in a)&&(r=s(i=a[c],c,o),h))if(d)u[c]=r;else if(r)switch(h){case 3:return!0;case 5:return i;case 6:return c;case 2:u.push(i)}else if(m)return!1;return g?-1:p||m?m:u}}},function(D,B,t){"use strict";var f,p,m,g,b,N,F,$,v,e,U,y,z,H,q,i,W,w,V,K,Z,G,_,J,Y,X,n,r,Q,tt,et,nt,it,rt,x,ot,M,at,o,st,lt,ct,S,k,ut,ht,dt,ft,pt,mt,gt,bt,vt,yt,wt,_t,xt,Mt,St,kt,Ct,Et,C,a,E,P,Pt,A,s,T,At,j,Tt,jt,Lt,L,l,h,Ot,O,c,Rt,It,Dt,Bt,Nt,Ft,$t,R,Ut,u,d,I;t(7)?(f=t(33),p=t(2),m=t(3),g=t(0),b=t(68),s=t(104),N=t(21),F=t(44),$=t(37),v=t(12),e=t(46),U=t(23),y=t(6),z=t(138),H=t(40),q=t(27),i=t(16),W=t(50),w=t(4),V=t(9),K=t(93),Z=t(41),G=t(19),_=t(42).f,J=t(95),Y=t(38),X=t(5),n=t(30),c=t(58),r=t(57),u=t(98),Q=t(52),tt=t(63),et=t(43),nt=t(97),it=t(127),rt=t(8),t=t(18),x=rt.f,ot=t.f,M=p.RangeError,at=p.TypeError,o=p.Uint8Array,lt="Shared"+(st="ArrayBuffer"),ct="BYTES_PER_ELEMENT",S="prototype",d=Array[S],k=s.ArrayBuffer,ut=s.DataView,ht=n(0),dt=n(2),ft=n(3),pt=n(4),mt=n(5),gt=n(6),bt=c(!0),vt=c(!1),yt=u.values,wt=u.keys,_t=u.entries,xt=d.lastIndexOf,Mt=d.reduce,St=d.reduceRight,kt=d.join,Ct=d.sort,Et=d.slice,C=d.toString,a=d.toLocaleString,E=X("iterator"),P=X("toStringTag"),Pt=Y("typed_constructor"),A=Y("def_constructor"),s=b.CONSTR,T=b.TYPED,At=b.VIEW,j="Wrong length!",Tt=n(1,function(t,e){return h(r(t,t[A]),e)}),jt=m(function(){return 1===new o(new Uint16Array([1]).buffer)[0]}),Lt=!!o&&!!o[S].set&&m(function(){new o(1).set({})}),L=function(t,e){t=U(t);if(t<0||t%e)throw M("Wrong offset!");return t},l=function(t){if(w(t)&&T in t)return t;throw at(t+" is not a typed array!")},h=function(t,e){if(w(t)&&Pt in t)return new t(e);throw at("It is not a typed array constructor!")},Ot=function(t,e){return O(r(t,t[A]),e)},O=function(t,e){for(var n=0,i=e.length,r=h(t,i);n<i;)r[n]=e[n++];return r},c=function(t,e,n){x(t,e,{get:function(){return this._d[n]}})},Rt=function(t){var e,n,i,r,o,a,s=V(t),t=arguments.length,l=1<t?arguments[1]:void 0,c=void 0!==l,u=J(s);if(null!=u&&!K(u)){for(a=u.call(s),i=[],e=0;!(o=a.next()).done;e++)i.push(o.value);s=i}for(c&&2<t&&(l=N(l,arguments[2],2)),e=0,n=y(s.length),r=h(this,n);e<n;e++)r[e]=c?l(s[e],e):s[e];return r},It=function(){for(var t=0,e=arguments.length,n=h(this,e);t<e;)n[t]=arguments[t++];return n},Dt=!!o&&m(function(){a.call(new o(1))}),Bt=function(){return a.apply(Dt?Et.call(l(this)):l(this),arguments)},Nt={copyWithin:function(t,e){return it.call(l(this),t,e,2<arguments.length?arguments[2]:void 0)},every:function(t){return pt(l(this),t,1<arguments.length?arguments[1]:void 0)},fill:function(t){return nt.apply(l(this),arguments)},filter:function(t){return Ot(this,dt(l(this),t,1<arguments.length?arguments[1]:void 0))},find:function(t){return mt(l(this),t,1<arguments.length?arguments[1]:void 0)},findIndex:function(t){return gt(l(this),t,1<arguments.length?arguments[1]:void 0)},forEach:function(t){ht(l(this),t,1<arguments.length?arguments[1]:void 0)},indexOf:function(t){return vt(l(this),t,1<arguments.length?arguments[1]:void 0)},includes:function(t){return bt(l(this),t,1<arguments.length?arguments[1]:void 0)},join:function(t){return kt.apply(l(this),arguments)},lastIndexOf:function(t){return xt.apply(l(this),arguments)},map:function(t){return Tt(l(this),t,1<arguments.length?arguments[1]:void 0)},reduce:function(t){return Mt.apply(l(this),arguments)},reduceRight:function(t){return St.apply(l(this),arguments)},reverse:function(){for(var t,e=this,n=l(e).length,i=Math.floor(n/2),r=0;r<i;)t=e[r],e[r++]=e[--n],e[n]=t;return e},some:function(t){return ft(l(this),t,1<arguments.length?arguments[1]:void 0)},sort:function(t){return Ct.call(l(this),t)},subarray:function(t,e){var n=l(this),i=n.length,t=H(t,i);return new(r(n,n[A]))(n.buffer,n.byteOffset+t*n.BYTES_PER_ELEMENT,y((void 0===e?i:H(e,i))-t))}},Ft=function(t,e){return Ot(this,Et.call(l(this),t,e))},$t=function(t){l(this);var e=L(arguments[1],1),n=this.length,i=V(t),r=y(i.length),o=0;if(n<r+e)throw M(j);for(;o<r;)this[e+o]=i[o++]},R={entries:function(){return _t.call(l(this))},keys:function(){return wt.call(l(this))},values:function(){return yt.call(l(this))}},Ut=function(t,e){return w(t)&&t[T]&&"symbol"!=typeof e&&e in t&&String(+e)==String(e)},u=function(t,e){return Ut(t,e=q(e,!0))?$(2,t[e]):ot(t,e)},d=function(t,e,n){return!(Ut(t,e=q(e,!0))&&w(n)&&i(n,"value"))||i(n,"get")||i(n,"set")||n.configurable||i(n,"writable")&&!n.writable||i(n,"enumerable")&&!n.enumerable?x(t,e,n):(t[e]=n.value,t)},s||(t.f=u,rt.f=d),g(g.S+g.F*!s,"Object",{getOwnPropertyDescriptor:u,defineProperty:d}),m(function(){C.call({})})&&(C=a=function(){return kt.call(this)}),I=e({},Nt),e(I,R),v(I,E,R.values),e(I,{slice:Ft,set:$t,constructor:function(){},toString:C,toLocaleString:Bt}),c(I,"buffer","b"),c(I,"byteOffset","o"),c(I,"byteLength","l"),c(I,"length","e"),x(I,P,{get:function(){return this[T]}}),D.exports=function(t,c,e,r){function u(t,i){x(t,i,{get:function(){var t=this,e=i;return(t=t._d).v[n](e*c+t.o,jt)},set:function(t){var e=this,n=i;e=e._d,r&&(t=(t=Math.round(t))<0?0:255<t?255:255&t),e.v[o](n*c+e.o,t,jt)},enumerable:!0})}var h=t+((r=!!r)?"Clamped":"")+"Array",n="get"+t,o="set"+t,d=p[h],a=d||{},t=d&&G(d),i=!d||!b.ABV,s={},l=d&&d[S],i=(i?(d=e(function(t,e,n,i){F(t,d,h,"_d");var r,o,a=0,s=0;if(w(e)){if(!(e instanceof k||(l=W(e))==st||l==lt))return T in e?O(d,e):Rt.call(d,e);var l=e,s=L(n,c),n=e.byteLength;if(void 0===i){if(n%c)throw M(j);if((r=n-s)<0)throw M(j)}else if(n<(r=y(i)*c)+s)throw M(j);o=r/c}else o=z(e),l=new k(r=o*c);for(v(t,"_d",{b:l,o:s,l:r,e:o,v:new ut(l)});a<o;)u(t,a++)}),l=d[S]=Z(I),v(l,"constructor",d)):m(function(){d(1)})&&m(function(){new d(-1)})&&tt(function(t){new d,new d(null),new d(1.5),new d(t)},!0)||(d=e(function(t,e,n,i){return F(t,d,h),w(e)?e instanceof k||(t=W(e))==st||t==lt?void 0!==i?new a(e,L(n,c),i):void 0!==n?new a(e,L(n,c)):new a(e):T in e?O(d,e):Rt.call(d,e):new a(z(e))}),ht(t!==Function.prototype?_(a).concat(_(t)):_(a),function(t){t in d||v(d,t,a[t])}),d[S]=l,f)||(l.constructor=d),l[E]),e=!!i&&("values"==i.name||null==i.name),t=R.values;v(d,Pt,!0),v(l,T,h),v(l,At,!0),v(l,A,d),(r?new d(1)[P]==h:P in l)||x(l,P,{get:function(){return h}}),s[h]=d,g(g.G+g.W+g.F*(d!=a),s),g(g.S,h,{BYTES_PER_ELEMENT:c}),g(g.S+g.F*m(function(){a.of.call(d,1)}),h,{from:Rt,of:It}),ct in l||v(l,ct,c),g(g.P,h,Nt),et(h),g(g.P+g.F*Lt,h,{set:$t}),g(g.P+g.F*!e,h,R),f||l.toString==C||(l.toString=C),g(g.P+g.F*m(function(){new d(1).slice()}),h,{slice:Ft}),g(g.P+g.F*(m(function(){return[1,2].toLocaleString()!=new d([1,2]).toLocaleString()})||!m(function(){l.toLocaleString.call([1,2])})),h,{toLocaleString:Bt}),Q[h]=e?i:t,f||e||v(l,E,t)}):D.exports=function(){}},function(t,e,n){function r(t,e,n){var i=s.get(t);if(!i){if(!n)return;s.set(t,i=new o)}if(!(t=i.get(e))){if(!n)return;i.set(e,t=new o)}return t}var o=n(133),i=n(0),a=n(53)("metadata"),s=a.store||(a.store=new(n(136)));t.exports={store:s,map:r,has:function(t,e,n){e=r(e,n,!1);return void 0!==e&&e.has(t)},get:function(t,e,n){e=r(e,n,!1);return void 0===e?void 0:e.get(t)},set:function(t,e,n,i){r(n,i,!0).set(t,e)},keys:function(t,e){var t=r(t,e,!1),n=[];return t&&t.forEach(function(t,e){n.push(e)}),n},key:function(t){return void 0===t||"symbol"==typeof t?t:String(t)},exp:function(t){i(i.S,"Reflect",t)}}},function(t,e){t.exports=!1},function(t,e,n){function i(t){s(t,r,{value:{i:"O"+ ++l,w:{}}})}var r=n(38)("meta"),o=n(4),a=n(16),s=n(8).f,l=0,c=Object.isExtensible||function(){return!0},u=!n(3)(function(){return c(Object.preventExtensions({}))}),h=t.exports={KEY:r,NEED:!1,fastKey:function(t,e){if(!o(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!a(t,r)){if(!c(t))return"F";if(!e)return"E";i(t)}return t[r].i},getWeak:function(t,e){if(!a(t,r)){if(!c(t))return!0;if(!e)return!1;i(t)}return t[r].w},onFreeze:function(t){return u&&h.NEED&&c(t)&&!a(t,r)&&i(t),t}}},function(t,e,n){var i=n(5)("unscopables"),r=Array.prototype;null==r[i]&&n(12)(r,i,{}),t.exports=function(t){r[i][t]=!0}},function(t,e){var n,i,t=t.exports={};function r(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}try{n="function"==typeof setTimeout?setTimeout:r}catch(t){n=r}try{i="function"==typeof clearTimeout?clearTimeout:o}catch(t){i=o}function a(e){if(n===setTimeout)return setTimeout(e,0);if((n===r||!n)&&setTimeout)return(n=setTimeout)(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}var s,l=[],c=!1,u=-1;function h(){c&&s&&(c=!1,s.length?l=s.concat(l):u=-1,l.length)&&d()}function d(){if(!c){for(var t=a(h),e=(c=!0,l.length);e;){for(s=l,l=[];++u<e;)s&&s[u].run();u=-1,e=l.length}s=null,c=!1,!function(e){if(i===clearTimeout)return clearTimeout(e);if((i===o||!i)&&clearTimeout)return(i=clearTimeout)(e);try{i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(t)}}function f(t,e){this.fun=t,this.array=e}function p(){}t.nextTick=function(t){var e=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];l.push(new f(t,e)),1!==l.length||c||a(d)},f.prototype.run=function(){this.fun.apply(null,this.array)},t.title="browser",t.browser=!0,t.env={},t.argv=[],t.version="",t.versions={},t.on=p,t.addListener=p,t.once=p,t.off=p,t.removeListener=p,t.removeAllListeners=p,t.emit=p,t.prependListener=p,t.prependOnceListener=p,t.listeners=function(t){return[]},t.binding=function(t){throw new Error("process.binding is not supported")},t.cwd=function(){return"/"},t.chdir=function(t){throw new Error("process.chdir is not supported")},t.umask=function(){return 0}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e){var n=0,i=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+i).toString(36))}},function(t,e,n){var i=n(112),r=n(81);t.exports=Object.keys||function(t){return i(t,r)}},function(t,e,n){var i=n(23),r=Math.max,o=Math.min;t.exports=function(t,e){return(t=i(t))<0?r(t+e,0):o(t,e)}},function(t,e,n){function i(){}var r=n(1),o=n(113),a=n(81),s=n(80)("IE_PROTO"),l="prototype",c=function(){var t=n(78)("iframe"),e=a.length;for(t.style.display="none",n(82).appendChild(t),t.src="javascript:",(t=t.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),c=t.F;e--;)delete c[l][a[e]];return c()};t.exports=Object.create||function(t,e){var n;return null!==t?(i[l]=r(t),n=new i,i[l]=null,n[s]=t):n=c(),void 0===e?n:o(n,e)}},function(t,e,n){var i=n(112),r=n(81).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return i(t,r)}},function(t,e,n){"use strict";var i=n(2),r=n(8),o=n(7),a=n(5)("species");t.exports=function(t){t=i[t];o&&t&&!t[a]&&r.f(t,a,{configurable:!0,get:function(){return this}})}},function(t,e){t.exports=function(t,e,n,i){if(!(t instanceof e)||void 0!==i&&i in t)throw TypeError(n+": incorrect invocation!");return t}},function(t,e,n){var h=n(21),d=n(125),f=n(93),p=n(1),m=n(6),g=n(95),b={},v={};(e=t.exports=function(t,e,n,i,r){var o,a,s,l,r=r?function(){return t}:g(t),c=h(n,i,e?2:1),u=0;if("function"!=typeof r)throw TypeError(t+" is not iterable!");if(f(r)){for(o=m(t.length);u<o;u++)if((l=e?c(p(a=t[u])[0],a[1]):c(t[u]))===b||l===v)return l}else for(s=r.call(t);!(a=s.next()).done;)if((l=d(s,c,a.value,e))===b||l===v)return l}).BREAK=b,e.RETURN=v},function(t,e,n){var r=n(13);t.exports=function(t,e,n){for(var i in e)r(t,i,e[i],n);return t}},function(t,e,n){var i=n(4);t.exports=function(t,e){if(i(t)&&t._t===e)return t;throw TypeError("Incompatible receiver, "+e+" required!")}},function(t,L,O){"use strict";!function(t){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var S=O(484),o=O(485),s=O(421);function n(){return h.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function l(t,e){if(n()<e)throw new RangeError("Invalid typed array length");return h.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=h.prototype:(t=null===t?new h(e):t).length=e,t}function h(t,e,n){if(!(h.TYPED_ARRAY_SUPPORT||this instanceof h))return new h(t,e,n);if("number"!=typeof t)return i(this,t,e,n);if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return a(this,t)}function i(t,e,n,i){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');if("undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer){var r=t,o=e,a=n;if(o.byteLength,a<0||o.byteLength<a)throw new RangeError("'offset' is out of bounds");if(o.byteLength<a+(i||0))throw new RangeError("'length' is out of bounds");return o=void 0===a&&void 0===i?new Uint8Array(o):void 0===i?new Uint8Array(o,a):new Uint8Array(o,a,i),h.TYPED_ARRAY_SUPPORT?(r=o).__proto__=h.prototype:r=c(r,o),r}if("string"!=typeof e){a=t,i=e;if(h.isBuffer(i))return o=0|u(i.length),0!==(a=l(a,o)).length&&i.copy(a,0,0,o),a;if(i){if("undefined"!=typeof ArrayBuffer&&i.buffer instanceof ArrayBuffer||"length"in i)return"number"!=typeof i.length||function(t){return t!=t}(i.length)?l(a,0):c(a,i);if("Buffer"===i.type&&s(i.data))return c(a,i.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}r=t,i=e,t=n;if(h.isEncoding(t="string"==typeof t&&""!==t?t:"utf8"))return e=0|d(i,t),r=(i=(r=l(r,e)).write(i,t))!==e?r.slice(0,i):r;throw new TypeError('"encoding" must be a valid string encoding')}function r(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function a(t,e){if(r(e),t=l(t,e<0?0:0|u(e)),!h.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function c(t,e){var n=e.length<0?0:0|u(e.length);t=l(t,n);for(var i=0;i<n;i+=1)t[i]=255&e[i];return t}function u(t){if(t>=n())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+n().toString(16)+" bytes");return 0|t}function d(t,e){if(h.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;var n=(t="string"!=typeof t?""+t:t).length;if(0===n)return 0;for(var i=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return A(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return T(t).length;default:if(i)return A(t).length;e=(""+e).toLowerCase(),i=!0}}function e(t,e,n){var i,r=!1;if((e=void 0===e||e<0?0:e)>this.length)return"";if((n=void 0===n||n>this.length?this.length:n)<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t=t||"utf8";;)switch(t){case"hex":var o=this,a=e,s=n,l=o.length;(!s||s<0||l<s)&&(s=l);for(var c="",u=a=!a||a<0?0:a;u<s;++u)c+=function(t){return t<16?"0"+t.toString(16):t.toString(16)}(o[u]);return c;case"utf8":case"utf-8":return k(this,e,n);case"ascii":var h=this,l=e,d=n,f="";d=Math.min(h.length,d);for(var p=l;p<d;++p)f+=String.fromCharCode(127&h[p]);return f;case"latin1":case"binary":var m=this,a=e,g=n,b="";g=Math.min(m.length,g);for(var v=a;v<g;++v)b+=String.fromCharCode(m[v]);return b;case"base64":return y=this,i=n,0===(w=e)&&i===y.length?S.fromByteArray(y):S.fromByteArray(y.slice(w,i));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":for(var y=e,w=n,_=this.slice(y,w),x="",M=0;M<_.length;M+=2)x+=String.fromCharCode(_[M]+256*_[M+1]);return x;default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function f(t,e,n){var i=t[e];t[e]=t[n],t[n]=i}function p(t,e,n,i,r){if(0===t.length)return-1;if("string"==typeof n?(i=n,n=0):2147483647<n?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,(n=(n=isNaN(n)?r?0:t.length-1:n)<0?t.length+n:n)>=t.length){if(r)return-1;n=t.length-1}else if(n<0){if(!r)return-1;n=0}if("string"==typeof e&&(e=h.from(e,i)),h.isBuffer(e))return 0===e.length?-1:m(t,e,n,i,r);if("number"==typeof e)return e&=255,h.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?(r?Uint8Array.prototype.indexOf:Uint8Array.prototype.lastIndexOf).call(t,e,n):m(t,[e],n,i,r);throw new TypeError("val must be string, number or Buffer")}function m(t,e,n,i,r){var o=1,a=t.length,s=e.length;if(void 0!==i&&("ucs2"===(i=String(i).toLowerCase())||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(t.length<2||e.length<2)return-1;a/=o=2,s/=2,n/=2}function l(t,e){return 1===o?t[e]:t.readUInt16BE(e*o)}if(r)for(var c=-1,u=n;u<a;u++)if(l(t,u)===l(e,-1===c?0:u-c)){if(u-(c=-1===c?u:c)+1===s)return c*o}else-1!==c&&(u-=u-c),c=-1;else for(u=n=a<n+s?a-s:n;0<=u;u--){for(var h=!0,d=0;d<s;d++)if(l(t,u+d)!==l(e,d)){h=!1;break}if(h)return u}return-1}function g(t,e,n,i){return j(function(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,i)}function b(t,e,n,i){return j(function(t,e){for(var n,i,r=[],o=0;o<t.length&&!((e-=2)<0);++o)n=t.charCodeAt(o),i=n>>8,r.push(n%256),r.push(i);return r}(e,t.length-n),t,n,i)}function k(t,e,n){n=Math.min(t.length,n);for(var i=[],r=e;r<n;){var o,a,s,l,c=t[r],u=null,h=239<c?4:223<c?3:191<c?2:1;if(r+h<=n)switch(h){case 1:c<128&&(u=c);break;case 2:128==(192&(o=t[r+1]))&&127<(l=(31&c)<<6|63&o)&&(u=l);break;case 3:o=t[r+1],a=t[r+2],128==(192&o)&&128==(192&a)&&2047<(l=(15&c)<<12|(63&o)<<6|63&a)&&(l<55296||57343<l)&&(u=l);break;case 4:o=t[r+1],a=t[r+2],s=t[r+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&65535<(l=(15&c)<<18|(63&o)<<12|(63&a)<<6|63&s)&&l<1114112&&(u=l)}null===u?(u=65533,h=1):65535<u&&(i.push((u-=65536)>>>10&1023|55296),u=56320|1023&u),i.push(u),r+=h}var d=i,f=d.length;if(f<=v)return String.fromCharCode.apply(String,d);for(var p="",m=0;m<f;)p+=String.fromCharCode.apply(String,d.slice(m,m+=v));return p}L.Buffer=h,L.SlowBuffer=function(t){+t!=t&&(t=0);return h.alloc(+t)},L.INSPECT_MAX_BYTES=50,h.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),L.kMaxLength=n(),h.poolSize=8192,h._augment=function(t){return t.__proto__=h.prototype,t},h.from=function(t,e,n){return i(null,t,e,n)},h.TYPED_ARRAY_SUPPORT&&(h.prototype.__proto__=Uint8Array.prototype,h.__proto__=Uint8Array,"undefined"!=typeof Symbol)&&Symbol.species&&h[Symbol.species]===h&&Object.defineProperty(h,Symbol.species,{value:null,configurable:!0}),h.alloc=function(t,e,n){return i=null,e=e,n=n,r(t=t),!(t<=0)&&void 0!==e?"string"==typeof n?l(i,t).fill(e,n):l(i,t).fill(e):l(i,t);var i},h.allocUnsafe=function(t){return a(null,t)},h.allocUnsafeSlow=function(t){return a(null,t)},h.isBuffer=function(t){return!(null==t||!t._isBuffer)},h.compare=function(t,e){if(!h.isBuffer(t)||!h.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,i=e.length,r=0,o=Math.min(n,i);r<o;++r)if(t[r]!==e[r]){n=t[r],i=e[r];break}return n<i?-1:i<n?1:0},h.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},h.concat=function(t,e){if(!s(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return h.alloc(0);if(void 0===e)for(r=e=0;r<t.length;++r)e+=t[r].length;for(var n=h.allocUnsafe(e),i=0,r=0;r<t.length;++r){var o=t[r];if(!h.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(n,i),i+=o.length}return n},h.byteLength=d,h.prototype._isBuffer=!0,h.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)f(this,e,e+1);return this},h.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)f(this,e,e+3),f(this,e+1,e+2);return this},h.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)f(this,e,e+7),f(this,e+1,e+6),f(this,e+2,e+5),f(this,e+3,e+4);return this},h.prototype.toString=function(){var t=0|this.length;return 0==t?"":0===arguments.length?k(this,0,t):e.apply(this,arguments)},h.prototype.equals=function(t){if(h.isBuffer(t))return this===t||0===h.compare(this,t);throw new TypeError("Argument must be a Buffer")},h.prototype.inspect=function(){var t="",e=L.INSPECT_MAX_BYTES;return 0<this.length&&(t=this.toString("hex",0,e).match(/.{2}/g).join(" "),this.length>e)&&(t+=" ... "),"<Buffer "+t+">"},h.prototype.compare=function(t,e,n,i,r){if(!h.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===n&&(n=t?t.length:0),void 0===i&&(i=0),void 0===r&&(r=this.length),(e=void 0===e?0:e)<0||n>t.length||i<0||r>this.length)throw new RangeError("out of range index");if(r<=i&&n<=e)return 0;if(r<=i)return-1;if(n<=e)return 1;if(this===t)return 0;for(var o=(r>>>=0)-(i>>>=0),a=(n>>>=0)-(e>>>=0),s=Math.min(o,a),l=this.slice(i,r),c=t.slice(e,n),u=0;u<s;++u)if(l[u]!==c[u]){o=l[u],a=c[u];break}return o<a?-1:a<o?1:0},h.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},h.prototype.indexOf=function(t,e,n){return p(this,t,e,n,!0)},h.prototype.lastIndexOf=function(t,e,n){return p(this,t,e,n,!1)},h.prototype.write=function(t,e,n,i){if(void 0===e)i="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)i=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===i&&(i="utf8")):(i=n,n=void 0)}var r=this.length-e;if((void 0===n||r<n)&&(n=r),0<t.length&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");i=i||"utf8";for(var o,a,s,l=!1;;)switch(i){case"hex":var c=this,u=t,h=e,d=n,f=(h=Number(h)||0,c.length-h);if((!d||f<(d=Number(d)))&&(d=f),(f=u.length)%2!=0)throw new TypeError("Invalid hex string");f/2<d&&(d=f/2);for(var p=0;p<d;++p){var m=parseInt(u.substr(2*p,2),16);if(isNaN(m))return p;c[h+p]=m}return p;case"utf8":case"utf-8":return f=e,s=n,j(A(t,(a=this).length-f),a,f,s);case"ascii":return g(this,t,e,n);case"latin1":case"binary":return g(this,t,e,n);case"base64":return a=this,s=e,o=n,j(T(t),a,s,o);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return b(this,t,e,n);default:if(l)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),l=!0}},h.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var v=4096;function y(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(n<t+e)throw new RangeError("Trying to access beyond buffer length")}function w(t,e,n,i,r,o){if(!h.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(r<e||e<o)throw new RangeError('"value" argument is out of bounds');if(n+i>t.length)throw new RangeError("Index out of range")}function _(t,e,n,i){e<0&&(e=65535+e+1);for(var r=0,o=Math.min(t.length-n,2);r<o;++r)t[n+r]=(e&255<<8*(i?r:1-r))>>>8*(i?r:1-r)}function x(t,e,n,i){e<0&&(e=4294967295+e+1);for(var r=0,o=Math.min(t.length-n,4);r<o;++r)t[n+r]=e>>>8*(i?r:3-r)&255}function M(t,e,n,i){if(n+i>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function C(t,e,n,i,r){return r||M(t,0,n,4),o.write(t,e,n,i,23,4),n+4}function E(t,e,n,i,r){return r||M(t,0,n,8),o.write(t,e,n,i,52,8),n+8}h.prototype.slice=function(t,e){var n=this.length;if((t=~~t)<0?(t+=n)<0&&(t=0):n<t&&(t=n),(e=void 0===e?n:~~e)<0?(e+=n)<0&&(e=0):n<e&&(e=n),e<t&&(e=t),h.TYPED_ARRAY_SUPPORT)(r=this.subarray(t,e)).__proto__=h.prototype;else for(var i=e-t,r=new h(i,void 0),o=0;o<i;++o)r[o]=this[o+t];return r},h.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||y(t,e,this.length);for(var i=this[t],r=1,o=0;++o<e&&(r*=256);)i+=this[t+o]*r;return i},h.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||y(t,e,this.length);for(var i=this[t+--e],r=1;0<e&&(r*=256);)i+=this[t+--e]*r;return i},h.prototype.readUInt8=function(t,e){return e||y(t,1,this.length),this[t]},h.prototype.readUInt16LE=function(t,e){return e||y(t,2,this.length),this[t]|this[t+1]<<8},h.prototype.readUInt16BE=function(t,e){return e||y(t,2,this.length),this[t]<<8|this[t+1]},h.prototype.readUInt32LE=function(t,e){return e||y(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},h.prototype.readUInt32BE=function(t,e){return e||y(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},h.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||y(t,e,this.length);for(var i=this[t],r=1,o=0;++o<e&&(r*=256);)i+=this[t+o]*r;return(r*=128)<=i&&(i-=Math.pow(2,8*e)),i},h.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||y(t,e,this.length);for(var i=e,r=1,o=this[t+--i];0<i&&(r*=256);)o+=this[t+--i]*r;return(r*=128)<=o&&(o-=Math.pow(2,8*e)),o},h.prototype.readInt8=function(t,e){return e||y(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},h.prototype.readInt16LE=function(t,e){e||y(t,2,this.length);e=this[t]|this[t+1]<<8;return 32768&e?4294901760|e:e},h.prototype.readInt16BE=function(t,e){e||y(t,2,this.length);e=this[t+1]|this[t]<<8;return 32768&e?4294901760|e:e},h.prototype.readInt32LE=function(t,e){return e||y(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},h.prototype.readInt32BE=function(t,e){return e||y(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},h.prototype.readFloatLE=function(t,e){return e||y(t,4,this.length),o.read(this,t,!0,23,4)},h.prototype.readFloatBE=function(t,e){return e||y(t,4,this.length),o.read(this,t,!1,23,4)},h.prototype.readDoubleLE=function(t,e){return e||y(t,8,this.length),o.read(this,t,!0,52,8)},h.prototype.readDoubleBE=function(t,e){return e||y(t,8,this.length),o.read(this,t,!1,52,8)},h.prototype.writeUIntLE=function(t,e,n,i){t=+t,e|=0,n|=0,i||w(this,t,e,n,Math.pow(2,8*n)-1,0);var r=1,o=0;for(this[e]=255&t;++o<n&&(r*=256);)this[e+o]=t/r&255;return e+n},h.prototype.writeUIntBE=function(t,e,n,i){t=+t,e|=0,n|=0,i||w(this,t,e,n,Math.pow(2,8*n)-1,0);var r=n-1,o=1;for(this[e+r]=255&t;0<=--r&&(o*=256);)this[e+r]=t/o&255;return e+n},h.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||w(this,t,e,1,255,0),h.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},h.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||w(this,t,e,2,65535,0),h.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):_(this,t,e,!0),e+2},h.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||w(this,t,e,2,65535,0),h.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):_(this,t,e,!1),e+2},h.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||w(this,t,e,4,4294967295,0),h.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):x(this,t,e,!0),e+4},h.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||w(this,t,e,4,4294967295,0),h.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):x(this,t,e,!1),e+4},h.prototype.writeIntLE=function(t,e,n,i){t=+t,e|=0,i||w(this,t,e,n,(i=Math.pow(2,8*n-1))-1,-i);var r=0,o=1,a=0;for(this[e]=255&t;++r<n&&(o*=256);)t<0&&0===a&&0!==this[e+r-1]&&(a=1),this[e+r]=(t/o>>0)-a&255;return e+n},h.prototype.writeIntBE=function(t,e,n,i){t=+t,e|=0,i||w(this,t,e,n,(i=Math.pow(2,8*n-1))-1,-i);var r=n-1,o=1,a=0;for(this[e+r]=255&t;0<=--r&&(o*=256);)t<0&&0===a&&0!==this[e+r+1]&&(a=1),this[e+r]=(t/o>>0)-a&255;return e+n},h.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||w(this,t,e,1,127,-128),h.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&(t=t<0?255+t+1:t),e+1},h.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||w(this,t,e,2,32767,-32768),h.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):_(this,t,e,!0),e+2},h.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||w(this,t,e,2,32767,-32768),h.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):_(this,t,e,!1),e+2},h.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||w(this,t,e,4,2147483647,-2147483648),h.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):x(this,t,e,!0),e+4},h.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||w(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),h.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):x(this,t,e,!1),e+4},h.prototype.writeFloatLE=function(t,e,n){return C(this,t,e,!0,n)},h.prototype.writeFloatBE=function(t,e,n){return C(this,t,e,!1,n)},h.prototype.writeDoubleLE=function(t,e,n){return E(this,t,e,!0,n)},h.prototype.writeDoubleBE=function(t,e,n){return E(this,t,e,!1,n)},h.prototype.copy=function(t,e,n,i){if(n=n||0,i||0===i||(i=this.length),e>=t.length&&(e=t.length),(i=0<i&&i<n?n:i)===n)return 0;if(0===t.length||0===this.length)return 0;if((e=e||0)<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length);var r,o=(i=t.length-e<i-n?t.length-e+n:i)-n;if(this===t&&n<e&&e<i)for(r=o-1;0<=r;--r)t[r+e]=this[r+n];else if(o<1e3||!h.TYPED_ARRAY_SUPPORT)for(r=0;r<o;++r)t[r+e]=this[r+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+o),e);return o},h.prototype.fill=function(t,e,n,i){if("string"==typeof t){var r;if("string"==typeof e?(i=e,e=0,n=this.length):"string"==typeof n&&(i=n,n=this.length),1===t.length&&(r=t.charCodeAt(0))<256&&(t=r),void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!h.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(!(n<=e))if(e>>>=0,n=void 0===n?this.length:n>>>0,"number"==typeof(t=t||0))for(s=e;s<n;++s)this[s]=t;else for(var o=h.isBuffer(t)?t:A(new h(t,i).toString()),a=o.length,s=0;s<n-e;++s)this[s+e]=o[s%a];return this};var P=/[^+\/0-9A-Za-z-_]/g;function A(t,e){e=e||1/0;for(var n,i=t.length,r=null,o=[],a=0;a<i;++a){if(55295<(n=t.charCodeAt(a))&&n<57344){if(!r){if(56319<n){-1<(e-=3)&&o.push(239,191,189);continue}if(a+1===i){-1<(e-=3)&&o.push(239,191,189);continue}r=n;continue}if(n<56320){-1<(e-=3)&&o.push(239,191,189),r=n;continue}n=65536+(r-55296<<10|n-56320)}else r&&-1<(e-=3)&&o.push(239,191,189);if(r=null,n<128){if(--e<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function T(t){return S.toByteArray(function(t){var e;if((t=((e=t).trim?e.trim():e.replace(/^\s+|\s+$/g,"")).replace(P,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function j(t,e,n,i){for(var r=0;r<i&&!(r+n>=e.length||r>=t.length);++r)e[r+n]=t[r];return r}}.call(this,O(26))},function(t,e,n){var i=n(8).f,r=n(16),o=n(5)("toStringTag");t.exports=function(t,e,n){t&&!r(t=n?t:t.prototype,o)&&i(t,o,{configurable:!0,value:e})}},function(t,e,n){var i=n(22),r=n(5)("toStringTag"),o="Arguments"==i(function(){return arguments}());t.exports=function(t){var e;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(e=function(t,e){try{return t[e]}catch(t){}}(t=Object(t),r))?e:o?i(t):"Object"==(e=i(t))&&"function"==typeof t.callee?"Arguments":e}},function(t,e,n){function i(t,e,n){var i={},r=a(function(){return!!s[t]()||""!=""[t]()}),e=i[t]=r?e(u):s[t];n&&(i[n]=e),o(o.P+o.F*r,"String",i)}var o=n(0),r=n(28),a=n(3),s=n(84),n="["+s+"]",l=RegExp("^"+n+n+"*"),c=RegExp(n+n+"*$"),u=i.trim=function(t,e){return t=String(r(t)),1&e&&(t=t.replace(l,"")),t=2&e?t.replace(c,""):t};t.exports=i},function(t,e){t.exports={}},function(t,e,n){var i=n(20),r=n(2),o="__core-js_shared__",a=r[o]||(r[o]={});(t.exports=function(t,e){return a[t]||(a[t]=void 0!==e?e:{})})("versions",[]).push({version:i.version,mode:n(33)?"pure":"global",copyright:" 2020 Denis Pushkarev (zloirock.ru)"})},function(t,e,n){var i=n(22);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==i(t)?t.split(""):Object(t)}},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,n){"use strict";var i=n(1);t.exports=function(){var t=i(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},function(t,e,n){var i=n(1),r=n(11),o=n(5)("species");t.exports=function(t,e){var t=i(t).constructor;return void 0===t||null==(t=i(t)[o])?e:r(t)}},function(t,e,n){var l=n(17),c=n(6),u=n(40);t.exports=function(s){return function(t,e,n){var i,r=l(t),o=c(r.length),a=u(n,o);if(s&&e!=e){for(;a<o;)if((i=r[a++])!=i)return!0}else for(;a<o;a++)if((s||a in r)&&r[a]===e)return s||a||0;return!s&&-1}}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){var i=n(22);t.exports=Array.isArray||function(t){return"Array"==i(t)}},function(t,e,n){var o=n(23),a=n(28);t.exports=function(r){return function(t,e){var n,t=String(a(t)),e=o(e),i=t.length;return e<0||i<=e?r?"":void 0:(n=t.charCodeAt(e))<55296||56319<n||e+1===i||(i=t.charCodeAt(e+1))<56320||57343<i?r?t.charAt(e):n:r?t.slice(e,e+2):i-56320+(n-55296<<10)+65536}}},function(t,e,n){var i=n(4),r=n(22),o=n(5)("match");t.exports=function(t){var e;return i(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==r(t))}},function(t,e,n){var o=n(5)("iterator"),a=!1;try{var i=[7][o]();i.return=function(){a=!0},Array.from(i,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!a)return!1;var n=!1;try{var i=[7],r=i[o]();r.next=function(){return{done:n=!0}},i[o]=function(){return r},t(i)}catch(t){}return n}},function(t,e,n){"use strict";var i=n(50),r=RegExp.prototype.exec;t.exports=function(t,e){var n=t.exec;if("function"==typeof n){n=n.call(t,e);if("object"!=typeof n)throw new TypeError("RegExp exec method returned something other than an Object or null");return n}if("RegExp"!==i(t))throw new TypeError("RegExp#exec called on incompatible receiver");return r.call(t,e)}},function(t,e,n){"use strict";n(129);var i,l=n(13),c=n(12),u=n(3),h=n(28),d=n(5),f=n(99),p=d("species"),m=!u(function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}),g=(i=(n=/(?:)/).exec,n.exec=function(){return i.apply(this,arguments)},2===(n="ab".split(n)).length&&"a"===n[0]&&"b"===n[1]);t.exports=function(n,t,e){var o,i,r=d(n),a=!u(function(){var t={};return t[r]=function(){return 7},7!=""[n](t)}),s=a?!u(function(){var t=!1,e=/a/;return e.exec=function(){return t=!0,null},"split"===n&&(e.constructor={},e.constructor[p]=function(){return e}),e[r](""),!t}):void 0;a&&s&&("replace"!==n||m)&&("split"!==n||g)||(o=/./[r],e=(s=e(h,r,""[n],function(t,e,n,i,r){return e.exec===f?a&&!r?{done:!0,value:o.call(e,n,i)}:{done:!0,value:t.call(n,e,i)}:{done:!1}}))[0],i=s[1],l(String.prototype,n,e),c(RegExp.prototype,r,2==t?function(t,e){return i.call(t,this,e)}:function(t){return i.call(t,this)}))}},function(t,e,n){n=n(2).navigator;t.exports=n&&n.userAgent||""},function(t,e,n){"use strict";var b=n(2),v=n(0),y=n(13),w=n(46),_=n(34),x=n(45),M=n(44),S=n(4),k=n(3),C=n(63),E=n(49),P=n(85);t.exports=function(n,t,e,i,r,o){function a(t){var n=m[t];y(m,t,"delete"==t?function(t){return!(o&&!S(t))&&n.call(this,0===t?0:t)}:"has"==t?function(t){return!(o&&!S(t))&&n.call(this,0===t?0:t)}:"get"==t?function(t){return o&&!S(t)?void 0:n.call(this,0===t?0:t)}:"add"==t?function(t){return n.call(this,0===t?0:t),this}:function(t,e){return n.call(this,0===t?0:t,e),this})}var s,l,c,u,h,d=b[n],f=d,p=r?"set":"add",m=f&&f.prototype,g={};return"function"==typeof f&&(o||m.forEach&&!k(function(){(new f).entries().next()}))?(l=(s=new f)[p](o?{}:-0,1)!=s,c=k(function(){s.has(1)}),u=C(function(t){new f(t)}),h=!o&&k(function(){for(var t=new f,e=5;e--;)t[p](e,e);return!t.has(-0)}),u||(((f=t(function(t,e){M(t,f,n);t=P(new d,t,f);return null!=e&&x(e,r,t[p],t),t})).prototype=m).constructor=f),(c||h)&&(a("delete"),a("has"),r)&&a("get"),(h||l)&&a(p),o&&m.clear&&delete m.clear):(f=i.getConstructor(t,n,r,p),w(f.prototype,e),_.NEED=!0),E(f,n),g[n]=f,v(v.G+v.W+v.F*(f!=d),g),o||i.setStrong(f,n,r),f}},function(t,e,n){for(var i,r=n(2),o=n(12),n=n(38),a=n("typed_array"),s=n("view"),n=!(!r.ArrayBuffer||!r.DataView),l=n,c=0,u="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");c<9;)(i=r[u[c++]])?(o(i.prototype,a,!0),o(i.prototype,s,!0)):l=!1;t.exports={ABV:n,CONSTR:l,TYPED:a,VIEW:s}},function(t,e,n){"use strict";t.exports=n(33)||!n(3)(function(){var t=Math.random();__defineSetter__.call(null,t,function(){}),delete n(2)[t]})},function(t,e,n){"use strict";var i=n(0);t.exports=function(t){i(i.S,t,{of:function(){for(var t=arguments.length,e=new Array(t);t--;)e[t]=arguments[t];return new this(e)}})}},function(t,e,n){"use strict";var i=n(0),a=n(11),s=n(21),l=n(45);t.exports=function(t){i(i.S,t,{from:function(t){var e,n,i,r,o=arguments[1];return a(this),(e=void 0!==o)&&a(o),null==t?new this:(n=[],e?(i=0,r=s(o,arguments[2],2),l(t,!1,function(t){n.push(r(t,i++))})):l(t,!1,n.push,n),new this(n))}})}},,,function(t,e){function n(t,e){if(!t)throw new Error(e||"Assertion failed")}(t.exports=n).equal=function(t,e,n){if(t!=e)throw new Error(n||"Assertion failed: "+t+" != "+e)}},function(t,e,n){"use strict";var i=e,r=n(106),e=n(74),n=n(459);i.assert=e,i.toArray=n.toArray,i.zero2=n.zero2,i.toHex=n.toHex,i.encode=n.encode,i.getNAF=function(t,e,n){for(var i=new Array(Math.max(t.bitLength(),n)+1),r=(i.fill(0),1<<e+1),o=t.clone(),a=0;a<i.length;a++){var s,l=o.andln(r-1);o.isOdd()?o.isubn(s=(r>>1)-1<l?(r>>1)-l:l):s=0,i[a]=s,o.iushrn(1)}return i},i.getJSF=function(t,e){for(var n,i=[[],[]],r=(t=t.clone(),e=e.clone(),0),o=0;0<t.cmpn(-r)||0<e.cmpn(-o);){var a,s=t.andln(3)+r&3,l=e.andln(3)+o&3;3===l&&(l=-1),a=0==(1&(s=3===s?-1:s))?0:3!==(n=t.andln(7)+r&7)&&5!==n||2!==l?s:-s,i[0].push(a),s=0==(1&l)?0:3!==(n=e.andln(7)+o&7)&&5!==n||2!==s?l:-l,i[1].push(s),2*r===a+1&&(r=1-r),2*o===s+1&&(o=1-o),t.iushrn(1),e.iushrn(1)}return i},i.cachedProperty=function(t,e,n){var i="_"+e;t.prototype[e]=function(){return void 0!==this[i]?this[i]:this[i]=n.call(this)}},i.parseBytes=function(t){return"string"==typeof t?i.toArray(t,"hex"):t},i.intFromLE=function(t){return new r(t,"hex","le")}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var c=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n,i=arguments[e];for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},i=function(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t};function r(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var o=f(n(582)),a=f(n(583)),s=f(n(409)),l=f(n(585)),u=f(n(586)),h=f(n(475)),d=n(77);function f(t){return t&&t.__esModule?t:{default:t}}function p(t){return function(){var s=t.apply(this,arguments);return new Promise(function(o,a){return function e(t,n){try{var i=s[t](n),r=i.value}catch(t){return void a(t)}if(!i.done)return Promise.resolve(r).then(function(t){e("next",t)},function(t){e("throw",t)});o(r)}("next")})}}i(x,[{key:"getProjects",value:function(t){var e=t.dialogElement,n=t.callbacks,i=t.TR,t=t.checkIsCanceled;return this._getProject||(this._getProject=new l.default({dialogElement:e,callbacks:void 0===n?{}:n,TR:i,checkIsCanceled:t})),this._getProject}},{key:"fetchAccessToken",value:(_=p(regeneratorRuntime.mark(function t(){var e,n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.accessToken&&this.accessToken.expires>Date.now()){t.next=7;break}return t.next=3,d.mbrServer.ajax({url:d.mbrServer.getApiUrl()+"auth",method:"POST",data:{target:"https://ai.mobirise.com"}});case 3:n=t.sent,e=n.expires_in,n=n.access_token,this.accessToken={value:n,expires:Date.now()+1e3*(e-60)};case 7:return t.abrupt("return",this.accessToken.value);case 8:case"end":return t.stop()}},t,this)})),function(){return _.apply(this,arguments)})},{key:"request",value:(w=p(regeneratorRuntime.mark(function t(e){var n,i,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},o=r.method,a=void 0===o?"GET":o,o=r.headers,s=void 0===o?{}:o,l=r.body;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.fetchAccessToken();case 2:return i=t.sent,t.next=5,fetch((/^https?:/.test(e)?"":this.apiUrl)+e,{method:a,headers:c({Authorization:"Bearer "+i},s),body:l,mode:"cors"});case 5:if(200<=(n=t.sent).status&&n.status<300)return t.abrupt("return",n.json());t.next=8;break;case 8:return t.next=10,n.json();case 10:throw i=t.sent,c(new Error(i.message),{code:i.type});case 12:case"end":return t.stop()}},t,this)})),function(t){return w.apply(this,arguments)})},{key:"getUserGeneratedProjects",value:(y=p(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.request("/v2/me/pages?perPage=20"));case 1:case"end":return t.stop()}},t,this)})),function(){return y.apply(this,arguments)})},{key:"waitUntilPageIsReady",value:(v=p(regeneratorRuntime.mark(function t(e){var n,i,r,o=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).maxErrors,a=void 0===o?5:o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=a;case 1:return t.prev=2,t.next=5,this.request(e.urls.statusCheck);case 5:if("READY"===(i=t.sent).name)return t.abrupt("return");t.next=8;break;case 8:if("ERROR"===i.name)throw(r=new Error(i.reason)).code="PageFillError",r;t.next=12;break;case 12:return t.next=14,this.sleep(this.random(4e3,1e4));case 14:t.next=24;break;case 16:if(t.prev=16,t.t0=t.catch(2),"PageFillError"===t.t0.code)throw t.t0;t.next=20;break;case 20:if(--n<=0)throw t.t0;t.next=22;break;case 22:return t.next=24,this.sleep(this.random(4e3,1e4));case 24:t.next=1;break;case 26:case"end":return t.stop()}},t,this,[[2,16]])})),function(t){return v.apply(this,arguments)})},{key:"savePage",value:(b=p(regeneratorRuntime.mark(function t(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=e.meta,i=e.seed;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.request(API_VERSION+("/pages/"+n.id)+"/random",{method:"POST",body:JSON.stringify({seed:i})});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)})),function(){return b.apply(this,arguments)})},{key:"getPageInfo",value:(g=p(regeneratorRuntime.mark(function t(e){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.request(API_VERSION+"/pages/"+e.meta.id);case 3:return n=t.sent,t.abrupt("return",n);case 7:throw t.prev=7,t.t0=t.catch(0),console.error("Failed to get page info:",t.t0),t.t0;case 11:case"end":return t.stop()}},t,this,[[0,7]])})),function(t){return g.apply(this,arguments)})},{key:"waitUntilPageIsReady",value:(m=p(regeneratorRuntime.mark(function t(e){var n,i,r,o=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).maxErrors,a=void 0===o?5:o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=a;case 1:return t.prev=2,t.next=5,this.request(e.urls.statusCheck);case 5:if("READY"===(i=t.sent).name)return t.abrupt("return");t.next=8;break;case 8:if("ERROR"===i.name)throw(r=new Error(i.reason)).code="PageFillError",r;t.next=12;break;case 12:t.next=18;break;case 14:if(t.prev=14,t.t0=t.catch(2),"PageFillError"===t.t0.code||--n<=0)throw t.t0;t.next=18;break;case 18:return t.next=20,this.sleep(this.random(4e3,1e4));case 20:t.next=1;break;case 22:case"end":return t.stop()}},t,this,[[2,14]])})),function(t){return m.apply(this,arguments)})},{key:"generator",get:function(){return this._generator||(this._generator=new s.default)}},{key:"multipleGenerator",get:function(){return this._multipleGenerator||(this._multipleGenerator=new u.default)}},{key:"pageGenerator",get:function(){return this._pageGenerator||(this._pageGenerator=new h.default)}}]);var m,g,b,v,y,w,_,n=x;function x(t){var e=t.apiUrl,n=t.loader,t=t.storage;if(!(this instanceof x))throw new TypeError("Cannot call a class as a function");this.apiUrl=e,this.loader=n,this.storage=t}e.default=new n({apiUrl:"https://ai-builder.mobirise.com/api",loader:new o.default({node:window.document.querySelector(".ai-preloader")}),storage:new a.default({key:"mobiriseAi"})})},function(t,n,i){"use strict";!function(t){Object.defineProperty(n,"__esModule",{value:!0}),n.PREMIUM_URL=n.ONLINE_URL=n.WEB_URL=n.mbrServer=void 0;var e=i(373),e=(e=e)&&e.__esModule?e:{default:e};t=t.env.WEB_URL,e=new e.default("https://my.mobirise.com/api/");n.mbrServer=e,n.WEB_URL=t,n.ONLINE_URL="https://a.mobirise.com/",n.PREMIUM_URL="https://b.8b.com"}.call(this,i(36))},function(t,e,n){var i=n(4),r=n(2).document,o=i(r)&&i(r.createElement);t.exports=function(t){return o?r.createElement(t):{}}},function(t,e,n){var i=n(2),r=n(20),o=n(33),a=n(111),s=n(8).f;t.exports=function(t){var e=r.Symbol||(r.Symbol=!o&&i.Symbol||{});"_"==t.charAt(0)||t in e||s(e,t,{value:a.f(t)})}},function(t,e,n){var i=n(53)("keys"),r=n(38);t.exports=function(t){return i[t]||(i[t]=r(t))}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,n){n=n(2).document;t.exports=n&&n.documentElement},function(t,e,r){function o(t,e){if(i(t),!n(e)&&null!==e)throw TypeError(e+": can't set as prototype!")}var n=r(4),i=r(1);t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,n,i){try{(i=r(21)(Function.call,r(18).f(Object.prototype,"__proto__").set,2))(t,[]),n=!(t instanceof Array)}catch(t){n=!0}return function(t,e){return o(t,e),n?t.__proto__=e:i(t,e),t}}({},!1):void 0),check:o}},function(t,e){t.exports="\t\n\v\f\r \u2028\u2029\ufeff"},function(t,e,n){var i=n(4),r=n(83).set;t.exports=function(t,e,n){var e=e.constructor;return e!==n&&"function"==typeof e&&(e=e.prototype)!==n.prototype&&i(e)&&r&&r(t,e),t}},function(t,e,n){"use strict";var r=n(23),o=n(28);t.exports=function(t){var e=String(o(this)),n="",i=r(t);if(i<0||i==1/0)throw RangeError("Count can't be negative");for(;0<i;(i>>>=1)&&(e+=e))1&i&&(n+=e);return n}},function(t,e){t.exports=Math.sign||function(t){return 0==(t=+t)||t!=t?t:t<0?-1:1}},function(t,e){var n=Math.expm1;t.exports=!n||22025.465794806718<n(10)||n(10)<22025.465794806718||-2e-17!=n(-2e-17)?function(t){return 0==(t=+t)?t:-1e-6<t&&t<1e-6?t+t*t/2:Math.exp(t)-1}:n},function(t,e,n){"use strict";function b(){return this}var v=n(33),y=n(0),w=n(13),_=n(12),x=n(52),M=n(90),S=n(49),k=n(19),C=n(5)("iterator"),E=!([].keys&&"next"in[].keys()),P="values";t.exports=function(t,e,n,i,r,o,a){M(n,e,i);function s(t){if(!E&&t in d)return d[t];switch(t){case"keys":case P:return function(){return new n(this,t)}}return function(){return new n(this,t)}}var l,c,i=e+" Iterator",u=r==P,h=!1,d=t.prototype,f=d[C]||d["@@iterator"]||r&&d[r],p=f||s(r),m=r?u?s("entries"):p:void 0,g="Array"==e&&d.entries||f;if(g&&(g=k(g.call(new t)))!==Object.prototype&&g.next&&(S(g,i,!0),v||"function"==typeof g[C]||_(g,C,b)),u&&f&&f.name!==P&&(h=!0,p=function(){return f.call(this)}),v&&!a||!E&&!h&&d[C]||_(d,C,p),x[e]=p,x[i]=b,r)if(l={values:u?p:s(P),keys:o?p:s("keys"),entries:m},a)for(c in l)c in d||w(d,c,l[c]);else y(y.P+y.F*(E||h),e,l);return l}},function(t,e,n){"use strict";var i=n(41),r=n(37),o=n(49),a={};n(12)(a,n(5)("iterator"),function(){return this}),t.exports=function(t,e,n){t.prototype=i(a,{next:r(1,n)}),o(t,e+" Iterator")}},function(t,e,n){var i=n(62),r=n(28);t.exports=function(t,e,n){if(i(e))throw TypeError("String#"+n+" doesn't accept regex!");return String(r(t))}},function(t,e,n){var i=n(5)("match");t.exports=function(e){var n=/./;try{"/./"[e](n)}catch(t){try{return n[i]=!1,!"/./"[e](n)}catch(t){}}return!0}},function(t,e,n){var i=n(52),r=n(5)("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(i.Array===t||o[r]===t)}},function(t,e,n){"use strict";var i=n(8),r=n(37);t.exports=function(t,e,n){e in t?i.f(t,e,r(0,n)):t[e]=n}},function(t,e,n){var i=n(50),r=n(5)("iterator"),o=n(52);t.exports=n(20).getIteratorMethod=function(t){if(null!=t)return t[r]||t["@@iterator"]||o[i(t)]}},function(t,e,n){var i=n(262);t.exports=function(t,e){return new(i(t))(e)}},function(t,e,n){"use strict";var a=n(9),s=n(40),l=n(6);t.exports=function(t){for(var e=a(this),n=l(e.length),i=arguments.length,r=s(1<i?arguments[1]:void 0,n),i=2<i?arguments[2]:void 0,o=void 0===i?n:s(i,n);r<o;)e[r++]=t;return e}},function(t,e,n){"use strict";var i=n(35),r=n(128),o=n(52),a=n(17);t.exports=n(89)(Array,"Array",function(t,e){this._t=a(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,r(1)):r(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])},"values"),o.Arguments=o.Array,i("keys"),i("values"),i("entries")},function(t,e,n){"use strict";var i,r,a=n(56),s=RegExp.prototype.exec,l=String.prototype.replace,n=s,c="lastIndex",u=(i=/a/,r=/b*/g,s.call(i,"a"),s.call(r,"a"),0!==i[c]||0!==r[c]),h=void 0!==/()??/.exec("")[1];t.exports=n=u||h?function(t){var e,n,i,r,o=this;return h&&(n=new RegExp("^"+o.source+"$(?!\\s)",a.call(o))),u&&(e=o[c]),i=s.call(o,t),u&&i&&(o[c]=o.global?i.index+i[0].length:e),h&&i&&1<i.length&&l.call(i[0],n,function(){for(r=1;r<arguments.length-2;r++)void 0===arguments[r]&&(i[r]=void 0)}),i}:n},function(t,e,n){"use strict";var i=n(61)(!0);t.exports=function(t,e,n){return e+(n?i(t,e).length:1)}},function(t,e,n){function i(){var t,e=+this;b.hasOwnProperty(e)&&(t=b[e],delete b[e],t())}function r(t){i.call(t.data)}var o,a=n(21),s=n(118),l=n(82),c=n(78),u=n(2),h=u.process,d=u.setImmediate,f=u.clearImmediate,p=u.MessageChannel,m=u.Dispatch,g=0,b={},v="onreadystatechange";d&&f||(d=function(t){for(var e=[],n=1;n<arguments.length;)e.push(arguments[n++]);return b[++g]=function(){s("function"==typeof t?t:Function(t),e)},o(g),g},f=function(t){delete b[t]},"process"==n(22)(h)?o=function(t){h.nextTick(a(i,t,1))}:m&&m.now?o=function(t){m.now(a(i,t,1))}:p?(p=(n=new p).port2,n.port1.onmessage=r,o=a(p.postMessage,p,1)):u.addEventListener&&"function"==typeof postMessage&&!u.importScripts?(o=function(t){u.postMessage(t+"","*")},u.addEventListener("message",r,!1)):o=v in c("script")?function(t){l.appendChild(c("script"))[v]=function(){l.removeChild(this),i.call(t)}}:function(t){setTimeout(a(i,t,1),0)}),t.exports={set:d,clear:f}},function(t,e,n){var s=n(2),l=n(101).set,c=s.MutationObserver||s.WebKitMutationObserver,u=s.process,h=s.Promise,d="process"==n(22)(u);t.exports=function(){function t(){var t,e;for(d&&(t=u.domain)&&t.exit();n;){e=n.fn,n=n.next;try{e()}catch(t){throw n?r():i=void 0,t}}i=void 0,t&&t.enter()}var n,i,e,r,o,a;return r=d?function(){u.nextTick(t)}:!c||s.navigator&&s.navigator.standalone?h&&h.resolve?(e=h.resolve(void 0),function(){e.then(t)}):function(){l.call(s,t)}:(o=!0,a=document.createTextNode(""),new c(t).observe(a,{characterData:!0}),function(){a.data=o=!o}),function(t){t={fn:t,next:void 0};i&&(i.next=t),n||(n=t,r()),i=t}}},function(t,e,n){"use strict";var r=n(11);function i(t){var n,i;this.promise=new t(function(t,e){if(void 0!==n||void 0!==i)throw TypeError("Bad Promise constructor");n=t,i=e}),this.resolve=r(n),this.reject=r(i)}t.exports.f=function(t){return new i(t)}},function(D,t,e){"use strict";var n=e(2),i=e(7),B=e(33),r=e(68),o=e(12),a=e(46),s=e(3),l=e(44),N=e(23),F=e(6),u=e(138),c=e(42).f,$=e(8).f,U=e(97),e=e(49),h="ArrayBuffer",d="DataView",f="prototype",p="Wrong index!",m=n[h],g=n[d],b=n.Math,v=n.RangeError,y=n.Infinity,w=m,z=b.abs,_=b.pow,H=b.floor,q=b.log,W=b.LN2,n="byteLength",b="byteOffset",x=i?"_b":"buffer",M=i?"_l":n,S=i?"_o":b;function k(t,e,n){var i,r,o,a=new Array(n),s=8*n-e-1,n=(1<<s)-1,l=n>>1,c=23===e?_(2,-24)-_(2,-77):0,u=0,h=t<0||0===t&&1/t<0?1:0;for((t=z(t))!=t||t===y?(r=t!=t?1:0,i=n):(i=H(q(t)/W),t*(o=_(2,-i))<1&&(i--,o*=2),2<=(t+=1<=i+l?c/o:c*_(2,1-l))*o&&(i++,o/=2),n<=i+l?(r=0,i=n):1<=i+l?(r=(t*o-1)*_(2,e),i+=l):(r=t*_(2,l-1)*_(2,e),i=0));8<=e;a[u++]=255&r,r/=256,e-=8);for(i=i<<e|r,s+=e;0<s;a[u++]=255&i,i/=256,s-=8);return a[--u]|=128*h,a}function C(t,e,n){var i,r=8*n-e-1,o=(1<<r)-1,a=o>>1,s=r-7,l=n-1,r=t[l--],c=127&r;for(r>>=7;0<s;c=256*c+t[l],l--,s-=8);for(i=c&(1<<-s)-1,c>>=-s,s+=e;0<s;i=256*i+t[l],l--,s-=8);if(0===c)c=1-a;else{if(c===o)return i?NaN:r?-y:y;i+=_(2,e),c-=a}return(r?-1:1)*i*_(2,c-e)}function E(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]}function P(t){return[255&t]}function A(t){return[255&t,t>>8&255]}function T(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]}function V(t){return k(t,52,8)}function K(t){return k(t,23,4)}function j(t,e,n){$(t[f],e,{get:function(){return this[n]}})}function L(t,e,n,i){n=u(+n);if(n+e>t[M])throw v(p);var r=t[x]._b,n=n+t[S],t=r.slice(n,n+e);return i?t:t.reverse()}function O(t,e,n,i,r,o){n=u(+n);if(n+e>t[M])throw v(p);for(var a=t[x]._b,s=n+t[S],l=i(+r),c=0;c<e;c++)a[s+c]=l[o?c:e-c-1]}if(r.ABV){if(!s(function(){m(1)})||!s(function(){new m(-1)})||s(function(){return new m,new m(1.5),new m(NaN),m.name!=h})){for(var R,s=(m=function(t){return l(this,m),new w(u(t))})[f]=w[f],I=c(w),Z=0;I.length>Z;)(R=I[Z++])in m||o(m,R,w[R]);B||(s.constructor=m)}var c=new g(new m(2)),G=g[f].setInt8;c.setInt8(0,2147483648),c.setInt8(1,2147483649),!c.getInt8(0)&&c.getInt8(1)||a(g[f],{setInt8:function(t,e){G.call(this,t,e<<24>>24)},setUint8:function(t,e){G.call(this,t,e<<24>>24)}},!0)}else m=function(t){l(this,m,h);t=u(t);this._b=U.call(new Array(t),0),this[M]=t},g=function(t,e,n){l(this,g,d),l(t,m,d);var i=t[M],e=N(e);if(e<0||i<e)throw v("Wrong offset!");if(i<e+(n=void 0===n?i-e:F(n)))throw v("Wrong length!");this[x]=t,this[S]=e,this[M]=n},i&&(j(m,n,"_l"),j(g,"buffer","_b"),j(g,n,"_l"),j(g,b,"_o")),a(g[f],{getInt8:function(t){return L(this,1,t)[0]<<24>>24},getUint8:function(t){return L(this,1,t)[0]},getInt16:function(t){t=L(this,2,t,arguments[1]);return(t[1]<<8|t[0])<<16>>16},getUint16:function(t){t=L(this,2,t,arguments[1]);return t[1]<<8|t[0]},getInt32:function(t){return E(L(this,4,t,arguments[1]))},getUint32:function(t){return E(L(this,4,t,arguments[1]))>>>0},getFloat32:function(t){return C(L(this,4,t,arguments[1]),23,4)},getFloat64:function(t){return C(L(this,8,t,arguments[1]),52,8)},setInt8:function(t,e){O(this,1,t,P,e)},setUint8:function(t,e){O(this,1,t,P,e)},setInt16:function(t,e){O(this,2,t,A,e,arguments[2])},setUint16:function(t,e){O(this,2,t,A,e,arguments[2])},setInt32:function(t,e){O(this,4,t,T,e,arguments[2])},setUint32:function(t,e){O(this,4,t,T,e,arguments[2])},setFloat32:function(t,e){O(this,4,t,K,e,arguments[2])},setFloat64:function(t,e){O(this,8,t,V,e,arguments[2])}});e(m,h),e(g,d),o(g[f],r.VIEW,!0),t[h]=m,t[d]=g},function(t,e,n){"use strict";var l=n(74),n=n(10);function o(t){return(t>>>24|t>>>8&65280|t<<8&16711680|(255&t)<<24)>>>0}function i(t){return 1===t.length?"0"+t:t}function a(t){return 7===t.length?"0"+t:6===t.length?"00"+t:5===t.length?"000"+t:4===t.length?"0000"+t:3===t.length?"00000"+t:2===t.length?"000000"+t:1===t.length?"0000000"+t:t}e.inherits=n,e.toArray=function(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var n,i,r=[];if("string"==typeof t)if(e){if("hex"===e)for((t=t.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(t="0"+t),a=0;a<t.length;a+=2)r.push(parseInt(t[a]+t[a+1],16))}else for(var o=0,a=0;a<t.length;a++){var s=t.charCodeAt(a);s<128?r[o++]=s:s<2048?(r[o++]=s>>6|192,r[o++]=63&s|128):(i=a,55296!=(64512&(n=t).charCodeAt(i))||i<0||i+1>=n.length||56320!=(64512&n.charCodeAt(i+1))?r[o++]=s>>12|224:(s=65536+((1023&s)<<10)+(1023&t.charCodeAt(++a)),r[o++]=s>>18|240,r[o++]=s>>12&63|128),r[o++]=s>>6&63|128,r[o++]=63&s|128)}else for(a=0;a<t.length;a++)r[a]=0|t[a];return r},e.toHex=function(t){for(var e="",n=0;n<t.length;n++)e+=i(t[n].toString(16));return e},e.htonl=o,e.toHex32=function(t,e){for(var n="",i=0;i<t.length;i++){var r=t[i];n+=a((r="little"===e?o(r):r).toString(16))}return n},e.zero2=i,e.zero8=a,e.join32=function(t,e,n,i){l((n=n-e)%4==0);for(var r=new Array(n/4),o=0,a=e;o<r.length;o++,a+=4){var s="big"===i?t[a]<<24|t[a+1]<<16|t[a+2]<<8|t[a+3]:t[a+3]<<24|t[a+2]<<16|t[a+1]<<8|t[a];r[o]=s>>>0}return r},e.split32=function(t,e){for(var n=new Array(4*t.length),i=0,r=0;i<t.length;i++,r+=4){var o=t[i];"big"===e?(n[r]=o>>>24,n[r+1]=o>>>16&255,n[r+2]=o>>>8&255,n[r+3]=255&o):(n[r+3]=o>>>24,n[r+2]=o>>>16&255,n[r+1]=o>>>8&255,n[r]=255&o)}return n},e.rotr32=function(t,e){return t>>>e|t<<32-e},e.rotl32=function(t,e){return t<<e|t>>>32-e},e.sum32=function(t,e){return t+e>>>0},e.sum32_3=function(t,e,n){return t+e+n>>>0},e.sum32_4=function(t,e,n,i){return t+e+n+i>>>0},e.sum32_5=function(t,e,n,i,r){return t+e+n+i+r>>>0},e.sum64=function(t,e,n,i){var r=t[e],o=i+t[e+1]>>>0;t[e]=(o<i?1:0)+n+r>>>0,t[e+1]=o},e.sum64_hi=function(t,e,n,i){return(e+i>>>0<e?1:0)+t+n>>>0},e.sum64_lo=function(t,e,n,i){return e+i>>>0},e.sum64_4_hi=function(t,e,n,i,r,o,a,s){var l=0;return t+n+r+a+((l+=(t=e+i>>>0)<e?1:0)+((t=t+o>>>0)<o?1:0)+(t+s>>>0<s?1:0))>>>0},e.sum64_4_lo=function(t,e,n,i,r,o,a,s){return e+i+o+s>>>0},e.sum64_5_hi=function(t,e,n,i,r,o,a,s,l,c){var u=0;return t+n+r+a+l+(u+((t=e+i>>>0)<e?1:0)+((t=t+o>>>0)<o?1:0)+((t=t+s>>>0)<s?1:0)+(t+c>>>0<c?1:0))>>>0},e.sum64_5_lo=function(t,e,n,i,r,o,a,s,l,c){return e+i+o+s+c>>>0},e.rotr64_hi=function(t,e,n){return(e<<32-n|t>>>n)>>>0},e.rotr64_lo=function(t,e,n){return(t<<32-n|e>>>n)>>>0},e.shr64_hi=function(t,e,n){return t>>>n},e.shr64_lo=function(t,e,n){return(t<<32-n|e>>>n)>>>0}},function(t,e,S){!function(t){!function(t,e){"use strict";function m(t,e){if(!t)throw new Error(e||"Assertion failed")}function n(t,e){t.super_=e;function n(){}n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}function g(t,e,n){if(g.isBN(t))return t;this.negative=0,this.words=null,this.length=0,(this.red=null)!==t&&("le"!==e&&"be"!==e||(n=e,e=10),this._init(t||0,e||10,n||"be"))}var i;"object"==typeof t?t.exports=g:e.BN=g,(g.BN=g).wordSize=26;try{i=("undefined"!=typeof window&&void 0!==window.Buffer?window:S(545)).Buffer}catch(t){}function r(t,e){t=t.charCodeAt(e);return 65<=t&&t<=70?t-55:97<=t&&t<=102?t-87:t-48&15}function s(t,e,n){var i=r(t,n);return e<=n-1&&(i|=r(t,n-1)<<4),i}function h(t,e,n,i){for(var r=0,o=Math.min(t.length,n),a=e;a<o;a++)var s=t.charCodeAt(a)-48,r=r*i+(49<=s?s-49+10:17<=s?s-17+10:s);return r}g.isBN=function(t){return t instanceof g||null!==t&&"object"==typeof t&&t.constructor.wordSize===g.wordSize&&Array.isArray(t.words)},g.max=function(t,e){return 0<t.cmp(e)?t:e},g.min=function(t,e){return t.cmp(e)<0?t:e},g.prototype._init=function(t,e,n){if("number"==typeof t)return this._initNumber(t,e,n);if("object"==typeof t)return this._initArray(t,e,n);m((e="hex"===e?16:e)===(0|e)&&2<=e&&e<=36);var i=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<t.length&&(16===e?this._parseHex(t,i,n):(this._parseBase(t,e,i),"le"===n&&this._initArray(this.toArray(),e,n)))},g.prototype._initNumber=function(t,e,n){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(m(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),e,n)},g.prototype._initArray=function(t,e,n){if(m("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i,r,o=0;o<this.length;o++)this.words[o]=0;var a=0;if("be"===n)for(o=t.length-1,i=0;0<=o;o-=3)r=t[o]|t[o-1]<<8|t[o-2]<<16,this.words[i]|=r<<a&67108863,this.words[i+1]=r>>>26-a&67108863,26<=(a+=24)&&(a-=26,i++);else if("le"===n)for(i=o=0;o<t.length;o+=3)r=t[o]|t[o+1]<<8|t[o+2]<<16,this.words[i]|=r<<a&67108863,this.words[i+1]=r>>>26-a&67108863,26<=(a+=24)&&(a-=26,i++);return this.strip()},g.prototype._parseHex=function(t,e,n){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var r,o=0,a=0;if("be"===n)for(i=t.length-1;e<=i;i-=2)r=s(t,e,i)<<o,this.words[a]|=67108863&r,18<=o?(o-=18,this.words[a+=1]|=r>>>26):o+=8;else for(i=(t.length-e)%2==0?e+1:e;i<t.length;i+=2)r=s(t,e,i)<<o,this.words[a]|=67108863&r,18<=o?(o-=18,this.words[a+=1]|=r>>>26):o+=8;this.strip()},g.prototype._parseBase=function(t,e,n){this.words=[0];for(var i=0,r=this.length=1;r<=67108863;r*=e)i++;for(var r=r/e|0,o=t.length-n,a=o%--i,s=Math.min(o,o-a)+n,l=0,c=n;c<s;c+=i)l=h(t,c,c+i,e),this.imuln(r),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l);if(0!=a){for(var u=1,l=h(t,c,t.length,e),c=0;c<a;c++)u*=e;this.imuln(u),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l)}this.strip()},g.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},g.prototype.clone=function(){var t=new g(null);return this.copy(t),t},g.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},g.prototype.strip=function(){for(;1<this.length&&0===this.words[this.length-1];)this.length--;return this._normSign()},g.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},g.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var d=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],f=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function o(t,e,n){n.negative=e.negative^t.negative;var i=t.length+e.length|0,i=(n.length=i)-1|0,r=(a=(0|t.words[0])*(0|e.words[0]))/67108864|0;n.words[0]=67108863&a;for(var o=1;o<i;o++){for(var a,s=r>>>26,l=67108863&r,c=Math.min(o,e.length-1),u=Math.max(0,o-t.length+1);u<=c;u++)s+=(a=(0|t.words[o-u|0])*(0|e.words[u])+l)/67108864|0,l=67108863&a;n.words[o]=0|l,r=0|s}return 0!==r?n.words[o]=0|r:n.length--,n.strip()}g.prototype.toString=function(t,e){if(e=0|e||1,16===(t=t||10)||"hex"===t){s="";for(var n=0,i=0,r=0;r<this.length;r++){var o=this.words[r],a=(16777215&(o<<n|i)).toString(16),s=0!==(i=o>>>24-n&16777215)||r!==this.length-1?d[6-a.length]+a+s:a+s;26<=(n+=2)&&(n-=26,r--)}for(0!==i&&(s=i.toString(16)+s);s.length%e!=0;)s="0"+s;return s=0!==this.negative?"-"+s:s}if(t===(0|t)&&2<=t&&t<=36){var l=f[t],c=p[t];for(s="",(u=this.clone()).negative=0;!u.isZero();){var u,h=u.modn(c).toString(t);s=(u=u.idivn(c)).isZero()?h+s:d[l-h.length]+h+s}for(this.isZero()&&(s="0"+s);s.length%e!=0;)s="0"+s;return s=0!==this.negative?"-"+s:s}m(!1,"Base should be between 2 and 36")},g.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:2<this.length&&m(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},g.prototype.toJSON=function(){return this.toString(16)},g.prototype.toBuffer=function(t,e){return m(void 0!==i),this.toArrayLike(i,t,e)},g.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},g.prototype.toArrayLike=function(t,e,n){var i,r,o=this.byteLength(),a=n||Math.max(1,o),n=(m(o<=a,"byte array longer than desired length"),m(0<a,"Requested array length <= 0"),this.strip(),"le"===e),s=new t(a),l=this.clone();if(n){for(r=0;!l.isZero();r++)i=l.andln(255),l.iushrn(8),s[r]=i;for(;r<a;r++)s[r]=0}else{for(r=0;r<a-o;r++)s[r]=0;for(r=0;!l.isZero();r++)i=l.andln(255),l.iushrn(8),s[a-r-1]=i}return s},Math.clz32?g.prototype._countBits=function(t){return 32-Math.clz32(t)}:g.prototype._countBits=function(t){var e=0;return 4096<=t&&(e+=13,t>>>=13),64<=t&&(e+=7,t>>>=7),8<=t&&(e+=4,t>>>=4),2<=t&&(e+=2,t>>>=2),e+t},g.prototype._zeroBits=function(t){var e;return 0===t?26:((e=0)==(8191&(t=t))&&(e+=13,t>>>=13),0==(127&t)&&(e+=7,t>>>=7),0==(15&t)&&(e+=4,t>>>=4),0==(3&t)&&(e+=2,t>>>=2),0==(1&t)&&e++,e)},g.prototype.bitLength=function(){var t=this.words[this.length-1],t=this._countBits(t);return 26*(this.length-1)+t},g.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var n=this._zeroBits(this.words[e]);if(t+=n,26!==n)break}return t},g.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},g.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},g.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},g.prototype.isNeg=function(){return 0!==this.negative},g.prototype.neg=function(){return this.clone().ineg()},g.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},g.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this.strip()},g.prototype.ior=function(t){return m(0==(this.negative|t.negative)),this.iuor(t)},g.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},g.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},g.prototype.iuand=function(t){for(var e=this.length>t.length?t:this,n=0;n<e.length;n++)this.words[n]=this.words[n]&t.words[n];return this.length=e.length,this.strip()},g.prototype.iand=function(t){return m(0==(this.negative|t.negative)),this.iuand(t)},g.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},g.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},g.prototype.iuxor=function(t){for(var e,n=this.length>t.length?(e=this,t):(e=t,this),i=0;i<n.length;i++)this.words[i]=e.words[i]^n.words[i];if(this!==e)for(;i<e.length;i++)this.words[i]=e.words[i];return this.length=e.length,this.strip()},g.prototype.ixor=function(t){return m(0==(this.negative|t.negative)),this.iuxor(t)},g.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},g.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},g.prototype.inotn=function(t){m("number"==typeof t&&0<=t);var e=0|Math.ceil(t/26),t=t%26;this._expand(e),0<t&&e--;for(var n=0;n<e;n++)this.words[n]=67108863&~this.words[n];return 0<t&&(this.words[n]=~this.words[n]&67108863>>26-t),this.strip()},g.prototype.notn=function(t){return this.clone().inotn(t)},g.prototype.setn=function(t,e){m("number"==typeof t&&0<=t);var n=t/26|0,t=t%26;return this._expand(1+n),this.words[n]=e?this.words[n]|1<<t:this.words[n]&~(1<<t),this.strip()},g.prototype.iadd=function(t){var e,n;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();for(var i=this.length>t.length?(n=this,t):(n=t,this),r=0,o=0;o<i.length;o++)e=(0|n.words[o])+(0|i.words[o])+r,this.words[o]=67108863&e,r=e>>>26;for(;0!==r&&o<n.length;o++)e=(0|n.words[o])+r,this.words[o]=67108863&e,r=e>>>26;if(this.length=n.length,0!==r)this.words[this.length]=r,this.length++;else if(n!==this)for(;o<n.length;o++)this.words[o]=n.words[o];return this},g.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},g.prototype.isub=function(t){var e;if(0!==t.negative)return t.negative=0,e=this.iadd(t),t.negative=1,e._normSign();if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var n,i=this.cmp(t);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;for(var r=0<i?(n=this,t):(n=t,this),o=0,a=0;a<r.length;a++)o=(e=(0|n.words[a])-(0|r.words[a])+o)>>26,this.words[a]=67108863&e;for(;0!==o&&a<n.length;a++)o=(e=(0|n.words[a])+o)>>26,this.words[a]=67108863&e;if(0===o&&a<n.length&&n!==this)for(;a<n.length;a++)this.words[a]=n.words[a];return this.length=Math.max(this.length,a),n!==this&&(this.negative=1),this.strip()},g.prototype.sub=function(t){return this.clone().isub(t)};var a=function(t,D,B){var e,n=t.words,i=D.words,r=B.words,o=0|n[0],a=8191&o,o=o>>>13,s=0|n[1],l=8191&s,s=s>>>13,c=0|n[2],u=8191&c,c=c>>>13,h=0|n[3],d=8191&h,h=h>>>13,f=0|n[4],p=8191&f,f=f>>>13,m=0|n[5],g=8191&m,m=m>>>13,b=0|n[6],v=8191&b,b=b>>>13,y=0|n[7],w=8191&y,y=y>>>13,_=0|n[8],N=8191&_,_=_>>>13,n=0|n[9],F=8191&n,n=n>>>13,x=0|i[0],M=8191&x,x=x>>>13,S=0|i[1],k=8191&S,S=S>>>13,C=0|i[2],E=8191&C,C=C>>>13,P=0|i[3],$=8191&P,P=P>>>13,A=0|i[4],U=8191&A,A=A>>>13,T=0|i[5],z=8191&T,T=T>>>13,j=0|i[6],H=8191&j,j=j>>>13,L=0|i[7],q=8191&L,L=L>>>13,O=0|i[8],W=8191&O,O=O>>>13,i=0|i[9],V=8191&i,i=i>>>13,D=(B.negative=t.negative^D.negative,B.length=19,(0+Math.imul(a,M)|0)+((8191&(t=Math.imul(a,x)+Math.imul(o,M)|0))<<13)|0),R=(Math.imul(o,x)+(t>>>13)|0)+(D>>>26)|0;D&=67108863,e=Math.imul(l,M),t=Math.imul(l,x)+Math.imul(s,M)|0,I=Math.imul(s,x);var I,K=(R+(e+Math.imul(a,k)|0)|0)+((8191&(t=(t+Math.imul(a,S)|0)+Math.imul(o,k)|0))<<13)|0,Z=(R=((I+Math.imul(o,S)|0)+(t>>>13)|0)+(K>>>26)|0,K&=67108863,e=Math.imul(u,M),t=Math.imul(u,x)+Math.imul(c,M)|0,I=Math.imul(c,x),e=e+Math.imul(l,k)|0,t=(t+Math.imul(l,S)|0)+Math.imul(s,k)|0,I=I+Math.imul(s,S)|0,(R+(e+Math.imul(a,E)|0)|0)+((8191&(t=(t+Math.imul(a,C)|0)+Math.imul(o,E)|0))<<13)|0),G=(R=((I+Math.imul(o,C)|0)+(t>>>13)|0)+(Z>>>26)|0,Z&=67108863,e=Math.imul(d,M),t=Math.imul(d,x)+Math.imul(h,M)|0,I=Math.imul(h,x),e=e+Math.imul(u,k)|0,t=(t+Math.imul(u,S)|0)+Math.imul(c,k)|0,I=I+Math.imul(c,S)|0,e=e+Math.imul(l,E)|0,t=(t+Math.imul(l,C)|0)+Math.imul(s,E)|0,I=I+Math.imul(s,C)|0,(R+(e+Math.imul(a,$)|0)|0)+((8191&(t=(t+Math.imul(a,P)|0)+Math.imul(o,$)|0))<<13)|0),J=(R=((I+Math.imul(o,P)|0)+(t>>>13)|0)+(G>>>26)|0,G&=67108863,e=Math.imul(p,M),t=Math.imul(p,x)+Math.imul(f,M)|0,I=Math.imul(f,x),e=e+Math.imul(d,k)|0,t=(t+Math.imul(d,S)|0)+Math.imul(h,k)|0,I=I+Math.imul(h,S)|0,e=e+Math.imul(u,E)|0,t=(t+Math.imul(u,C)|0)+Math.imul(c,E)|0,I=I+Math.imul(c,C)|0,e=e+Math.imul(l,$)|0,t=(t+Math.imul(l,P)|0)+Math.imul(s,$)|0,I=I+Math.imul(s,P)|0,(R+(e+Math.imul(a,U)|0)|0)+((8191&(t=(t+Math.imul(a,A)|0)+Math.imul(o,U)|0))<<13)|0),Y=(R=((I+Math.imul(o,A)|0)+(t>>>13)|0)+(J>>>26)|0,J&=67108863,e=Math.imul(g,M),t=Math.imul(g,x)+Math.imul(m,M)|0,I=Math.imul(m,x),e=e+Math.imul(p,k)|0,t=(t+Math.imul(p,S)|0)+Math.imul(f,k)|0,I=I+Math.imul(f,S)|0,e=e+Math.imul(d,E)|0,t=(t+Math.imul(d,C)|0)+Math.imul(h,E)|0,I=I+Math.imul(h,C)|0,e=e+Math.imul(u,$)|0,t=(t+Math.imul(u,P)|0)+Math.imul(c,$)|0,I=I+Math.imul(c,P)|0,e=e+Math.imul(l,U)|0,t=(t+Math.imul(l,A)|0)+Math.imul(s,U)|0,I=I+Math.imul(s,A)|0,(R+(e+Math.imul(a,z)|0)|0)+((8191&(t=(t+Math.imul(a,T)|0)+Math.imul(o,z)|0))<<13)|0),X=(R=((I+Math.imul(o,T)|0)+(t>>>13)|0)+(Y>>>26)|0,Y&=67108863,e=Math.imul(v,M),t=Math.imul(v,x)+Math.imul(b,M)|0,I=Math.imul(b,x),e=e+Math.imul(g,k)|0,t=(t+Math.imul(g,S)|0)+Math.imul(m,k)|0,I=I+Math.imul(m,S)|0,e=e+Math.imul(p,E)|0,t=(t+Math.imul(p,C)|0)+Math.imul(f,E)|0,I=I+Math.imul(f,C)|0,e=e+Math.imul(d,$)|0,t=(t+Math.imul(d,P)|0)+Math.imul(h,$)|0,I=I+Math.imul(h,P)|0,e=e+Math.imul(u,U)|0,t=(t+Math.imul(u,A)|0)+Math.imul(c,U)|0,I=I+Math.imul(c,A)|0,e=e+Math.imul(l,z)|0,t=(t+Math.imul(l,T)|0)+Math.imul(s,z)|0,I=I+Math.imul(s,T)|0,(R+(e+Math.imul(a,H)|0)|0)+((8191&(t=(t+Math.imul(a,j)|0)+Math.imul(o,H)|0))<<13)|0),Q=(R=((I+Math.imul(o,j)|0)+(t>>>13)|0)+(X>>>26)|0,X&=67108863,e=Math.imul(w,M),t=Math.imul(w,x)+Math.imul(y,M)|0,I=Math.imul(y,x),e=e+Math.imul(v,k)|0,t=(t+Math.imul(v,S)|0)+Math.imul(b,k)|0,I=I+Math.imul(b,S)|0,e=e+Math.imul(g,E)|0,t=(t+Math.imul(g,C)|0)+Math.imul(m,E)|0,I=I+Math.imul(m,C)|0,e=e+Math.imul(p,$)|0,t=(t+Math.imul(p,P)|0)+Math.imul(f,$)|0,I=I+Math.imul(f,P)|0,e=e+Math.imul(d,U)|0,t=(t+Math.imul(d,A)|0)+Math.imul(h,U)|0,I=I+Math.imul(h,A)|0,e=e+Math.imul(u,z)|0,t=(t+Math.imul(u,T)|0)+Math.imul(c,z)|0,I=I+Math.imul(c,T)|0,e=e+Math.imul(l,H)|0,t=(t+Math.imul(l,j)|0)+Math.imul(s,H)|0,I=I+Math.imul(s,j)|0,(R+(e+Math.imul(a,q)|0)|0)+((8191&(t=(t+Math.imul(a,L)|0)+Math.imul(o,q)|0))<<13)|0),tt=(R=((I+Math.imul(o,L)|0)+(t>>>13)|0)+(Q>>>26)|0,Q&=67108863,e=Math.imul(N,M),t=Math.imul(N,x)+Math.imul(_,M)|0,I=Math.imul(_,x),e=e+Math.imul(w,k)|0,t=(t+Math.imul(w,S)|0)+Math.imul(y,k)|0,I=I+Math.imul(y,S)|0,e=e+Math.imul(v,E)|0,t=(t+Math.imul(v,C)|0)+Math.imul(b,E)|0,I=I+Math.imul(b,C)|0,e=e+Math.imul(g,$)|0,t=(t+Math.imul(g,P)|0)+Math.imul(m,$)|0,I=I+Math.imul(m,P)|0,e=e+Math.imul(p,U)|0,t=(t+Math.imul(p,A)|0)+Math.imul(f,U)|0,I=I+Math.imul(f,A)|0,e=e+Math.imul(d,z)|0,t=(t+Math.imul(d,T)|0)+Math.imul(h,z)|0,I=I+Math.imul(h,T)|0,e=e+Math.imul(u,H)|0,t=(t+Math.imul(u,j)|0)+Math.imul(c,H)|0,I=I+Math.imul(c,j)|0,e=e+Math.imul(l,q)|0,t=(t+Math.imul(l,L)|0)+Math.imul(s,q)|0,I=I+Math.imul(s,L)|0,(R+(e+Math.imul(a,W)|0)|0)+((8191&(t=(t+Math.imul(a,O)|0)+Math.imul(o,W)|0))<<13)|0),M=(R=((I+Math.imul(o,O)|0)+(t>>>13)|0)+(tt>>>26)|0,tt&=67108863,e=Math.imul(F,M),t=Math.imul(F,x)+Math.imul(n,M)|0,I=Math.imul(n,x),e=e+Math.imul(N,k)|0,t=(t+Math.imul(N,S)|0)+Math.imul(_,k)|0,I=I+Math.imul(_,S)|0,e=e+Math.imul(w,E)|0,t=(t+Math.imul(w,C)|0)+Math.imul(y,E)|0,I=I+Math.imul(y,C)|0,e=e+Math.imul(v,$)|0,t=(t+Math.imul(v,P)|0)+Math.imul(b,$)|0,I=I+Math.imul(b,P)|0,e=e+Math.imul(g,U)|0,t=(t+Math.imul(g,A)|0)+Math.imul(m,U)|0,I=I+Math.imul(m,A)|0,e=e+Math.imul(p,z)|0,t=(t+Math.imul(p,T)|0)+Math.imul(f,z)|0,I=I+Math.imul(f,T)|0,e=e+Math.imul(d,H)|0,t=(t+Math.imul(d,j)|0)+Math.imul(h,H)|0,I=I+Math.imul(h,j)|0,e=e+Math.imul(u,q)|0,t=(t+Math.imul(u,L)|0)+Math.imul(c,q)|0,I=I+Math.imul(c,L)|0,e=e+Math.imul(l,W)|0,t=(t+Math.imul(l,O)|0)+Math.imul(s,W)|0,I=I+Math.imul(s,O)|0,(R+(e+Math.imul(a,V)|0)|0)+((8191&(t=(t+Math.imul(a,i)|0)+Math.imul(o,V)|0))<<13)|0),x=(R=((I+Math.imul(o,i)|0)+(t>>>13)|0)+(M>>>26)|0,M&=67108863,e=Math.imul(F,k),t=Math.imul(F,S)+Math.imul(n,k)|0,I=Math.imul(n,S),e=e+Math.imul(N,E)|0,t=(t+Math.imul(N,C)|0)+Math.imul(_,E)|0,I=I+Math.imul(_,C)|0,e=e+Math.imul(w,$)|0,t=(t+Math.imul(w,P)|0)+Math.imul(y,$)|0,I=I+Math.imul(y,P)|0,e=e+Math.imul(v,U)|0,t=(t+Math.imul(v,A)|0)+Math.imul(b,U)|0,I=I+Math.imul(b,A)|0,e=e+Math.imul(g,z)|0,t=(t+Math.imul(g,T)|0)+Math.imul(m,z)|0,I=I+Math.imul(m,T)|0,e=e+Math.imul(p,H)|0,t=(t+Math.imul(p,j)|0)+Math.imul(f,H)|0,I=I+Math.imul(f,j)|0,e=e+Math.imul(d,q)|0,t=(t+Math.imul(d,L)|0)+Math.imul(h,q)|0,I=I+Math.imul(h,L)|0,e=e+Math.imul(u,W)|0,t=(t+Math.imul(u,O)|0)+Math.imul(c,W)|0,I=I+Math.imul(c,O)|0,(R+(e+Math.imul(l,V)|0)|0)+((8191&(t=(t+Math.imul(l,i)|0)+Math.imul(s,V)|0))<<13)|0),a=(R=((I+Math.imul(s,i)|0)+(t>>>13)|0)+(x>>>26)|0,x&=67108863,e=Math.imul(F,E),t=Math.imul(F,C)+Math.imul(n,E)|0,I=Math.imul(n,C),e=e+Math.imul(N,$)|0,t=(t+Math.imul(N,P)|0)+Math.imul(_,$)|0,I=I+Math.imul(_,P)|0,e=e+Math.imul(w,U)|0,t=(t+Math.imul(w,A)|0)+Math.imul(y,U)|0,I=I+Math.imul(y,A)|0,e=e+Math.imul(v,z)|0,t=(t+Math.imul(v,T)|0)+Math.imul(b,z)|0,I=I+Math.imul(b,T)|0,e=e+Math.imul(g,H)|0,t=(t+Math.imul(g,j)|0)+Math.imul(m,H)|0,I=I+Math.imul(m,j)|0,e=e+Math.imul(p,q)|0,t=(t+Math.imul(p,L)|0)+Math.imul(f,q)|0,I=I+Math.imul(f,L)|0,e=e+Math.imul(d,W)|0,t=(t+Math.imul(d,O)|0)+Math.imul(h,W)|0,I=I+Math.imul(h,O)|0,(R+(e+Math.imul(u,V)|0)|0)+((8191&(t=(t+Math.imul(u,i)|0)+Math.imul(c,V)|0))<<13)|0),o=(R=((I+Math.imul(c,i)|0)+(t>>>13)|0)+(a>>>26)|0,a&=67108863,e=Math.imul(F,$),t=Math.imul(F,P)+Math.imul(n,$)|0,I=Math.imul(n,P),e=e+Math.imul(N,U)|0,t=(t+Math.imul(N,A)|0)+Math.imul(_,U)|0,I=I+Math.imul(_,A)|0,e=e+Math.imul(w,z)|0,t=(t+Math.imul(w,T)|0)+Math.imul(y,z)|0,I=I+Math.imul(y,T)|0,e=e+Math.imul(v,H)|0,t=(t+Math.imul(v,j)|0)+Math.imul(b,H)|0,I=I+Math.imul(b,j)|0,e=e+Math.imul(g,q)|0,t=(t+Math.imul(g,L)|0)+Math.imul(m,q)|0,I=I+Math.imul(m,L)|0,e=e+Math.imul(p,W)|0,t=(t+Math.imul(p,O)|0)+Math.imul(f,W)|0,I=I+Math.imul(f,O)|0,(R+(e+Math.imul(d,V)|0)|0)+((8191&(t=(t+Math.imul(d,i)|0)+Math.imul(h,V)|0))<<13)|0),k=(R=((I+Math.imul(h,i)|0)+(t>>>13)|0)+(o>>>26)|0,o&=67108863,e=Math.imul(F,U),t=Math.imul(F,A)+Math.imul(n,U)|0,I=Math.imul(n,A),e=e+Math.imul(N,z)|0,t=(t+Math.imul(N,T)|0)+Math.imul(_,z)|0,I=I+Math.imul(_,T)|0,e=e+Math.imul(w,H)|0,t=(t+Math.imul(w,j)|0)+Math.imul(y,H)|0,I=I+Math.imul(y,j)|0,e=e+Math.imul(v,q)|0,t=(t+Math.imul(v,L)|0)+Math.imul(b,q)|0,I=I+Math.imul(b,L)|0,e=e+Math.imul(g,W)|0,t=(t+Math.imul(g,O)|0)+Math.imul(m,W)|0,I=I+Math.imul(m,O)|0,(R+(e+Math.imul(p,V)|0)|0)+((8191&(t=(t+Math.imul(p,i)|0)+Math.imul(f,V)|0))<<13)|0),S=(R=((I+Math.imul(f,i)|0)+(t>>>13)|0)+(k>>>26)|0,k&=67108863,e=Math.imul(F,z),t=Math.imul(F,T)+Math.imul(n,z)|0,I=Math.imul(n,T),e=e+Math.imul(N,H)|0,t=(t+Math.imul(N,j)|0)+Math.imul(_,H)|0,I=I+Math.imul(_,j)|0,e=e+Math.imul(w,q)|0,t=(t+Math.imul(w,L)|0)+Math.imul(y,q)|0,I=I+Math.imul(y,L)|0,e=e+Math.imul(v,W)|0,t=(t+Math.imul(v,O)|0)+Math.imul(b,W)|0,I=I+Math.imul(b,O)|0,(R+(e+Math.imul(g,V)|0)|0)+((8191&(t=(t+Math.imul(g,i)|0)+Math.imul(m,V)|0))<<13)|0),l=(R=((I+Math.imul(m,i)|0)+(t>>>13)|0)+(S>>>26)|0,S&=67108863,e=Math.imul(F,H),t=Math.imul(F,j)+Math.imul(n,H)|0,I=Math.imul(n,j),e=e+Math.imul(N,q)|0,t=(t+Math.imul(N,L)|0)+Math.imul(_,q)|0,I=I+Math.imul(_,L)|0,e=e+Math.imul(w,W)|0,t=(t+Math.imul(w,O)|0)+Math.imul(y,W)|0,I=I+Math.imul(y,O)|0,(R+(e+Math.imul(v,V)|0)|0)+((8191&(t=(t+Math.imul(v,i)|0)+Math.imul(b,V)|0))<<13)|0),s=(R=((I+Math.imul(b,i)|0)+(t>>>13)|0)+(l>>>26)|0,l&=67108863,e=Math.imul(F,q),t=Math.imul(F,L)+Math.imul(n,q)|0,I=Math.imul(n,L),e=e+Math.imul(N,W)|0,t=(t+Math.imul(N,O)|0)+Math.imul(_,W)|0,I=I+Math.imul(_,O)|0,(R+(e+Math.imul(w,V)|0)|0)+((8191&(t=(t+Math.imul(w,i)|0)+Math.imul(y,V)|0))<<13)|0),E=(R=((I+Math.imul(y,i)|0)+(t>>>13)|0)+(s>>>26)|0,s&=67108863,e=Math.imul(F,W),t=Math.imul(F,O)+Math.imul(n,W)|0,I=Math.imul(n,O),(R+(e+Math.imul(N,V)|0)|0)+((8191&(t=(t+Math.imul(N,i)|0)+Math.imul(_,V)|0))<<13)|0),C=(R=((I+Math.imul(_,i)|0)+(t>>>13)|0)+(E>>>26)|0,E&=67108863,(R+Math.imul(F,V)|0)+((8191&(t=Math.imul(F,i)+Math.imul(n,V)|0))<<13)|0);return R=(Math.imul(n,i)+(t>>>13)|0)+(C>>>26)|0,C&=67108863,r[0]=D,r[1]=K,r[2]=Z,r[3]=G,r[4]=J,r[5]=Y,r[6]=X,r[7]=Q,r[8]=tt,r[9]=M,r[10]=x,r[11]=a,r[12]=o,r[13]=k,r[14]=S,r[15]=l,r[16]=s,r[17]=E,r[18]=C,0!=R&&(r[19]=R,B.length++),B};function l(t,e,n){return(new c).mulp(t,e,n)}function c(t,e){this.x=t,this.y=e}Math.imul||(a=o),g.prototype.mulTo=function(t,e){var n=this.length+t.length,n=(10===this.length&&10===t.length?a:n<63?o:n<1024?function(t,e,n){n.negative=e.negative^t.negative,n.length=t.length+e.length;for(var i=0,r=0,o=0;o<n.length-1;o++){for(var a=r,r=0,s=67108863&i,l=Math.min(o,e.length-1),c=Math.max(0,o-t.length+1);c<=l;c++){var u,h=(0|t.words[o-c])*(0|e.words[c]),s=67108863&(u=(67108863&h)+s|0);r+=(a=(a=a+(h/67108864|0)|0)+(u>>>26)|0)>>>26,a&=67108863}n.words[o]=s,i=a,a=r}return 0!==i?n.words[o]=i:n.length--,n.strip()}:l)(this,t,e);return n},c.prototype.makeRBT=function(t){for(var e=new Array(t),n=g.prototype._countBits(t)-1,i=0;i<t;i++)e[i]=this.revBin(i,n,t);return e},c.prototype.revBin=function(t,e,n){if(0===t||t===n-1)return t;for(var i=0,r=0;r<e;r++)i|=(1&t)<<e-r-1,t>>=1;return i},c.prototype.permute=function(t,e,n,i,r,o){for(var a=0;a<o;a++)i[a]=e[t[a]],r[a]=n[t[a]]},c.prototype.transform=function(t,e,n,i,r,o){this.permute(o,t,e,n,i,r);for(var a=1;a<r;a<<=1)for(var s=a<<1,l=Math.cos(2*Math.PI/s),c=Math.sin(2*Math.PI/s),u=0;u<r;u+=s)for(var h=l,d=c,f=0;f<a;f++){var p=n[u+f],m=i[u+f],g=n[u+f+a],b=h*g-d*(v=i[u+f+a]),v=h*v+d*g;n[u+f]=p+(g=b),i[u+f]=m+v,n[u+f+a]=p-g,i[u+f+a]=m-v,f!==s&&(b=l*h-c*d,d=l*d+c*h,h=b)}},c.prototype.guessLen13b=function(t,e){for(var e=1&(i=1|Math.max(e,t)),n=0,i=i/2|0;i;i>>>=1)n++;return 1<<n+1+e},c.prototype.conjugate=function(t,e,n){if(!(n<=1))for(var i=0;i<n/2;i++){var r=t[i];t[i]=t[n-i-1],t[n-i-1]=r,r=e[i],e[i]=-e[n-i-1],e[n-i-1]=-r}},c.prototype.normalize13b=function(t,e){for(var n=0,i=0;i<e/2;i++){var r=8192*Math.round(t[2*i+1]/e)+Math.round(t[2*i]/e)+n;t[i]=67108863&r,n=r<67108864?0:r/67108864|0}return t},c.prototype.convert13b=function(t,e,n,i){for(var r=0,o=0;o<e;o++)r+=0|t[o],n[2*o]=8191&r,n[2*o+1]=8191&(r>>>=13),r>>>=13;for(o=2*e;o<i;++o)n[o]=0;m(0===r),m(0==(-8192&r))},c.prototype.stub=function(t){for(var e=new Array(t),n=0;n<t;n++)e[n]=0;return e},c.prototype.mulp=function(t,e,n){var i=2*this.guessLen13b(t.length,e.length),r=this.makeRBT(i),o=this.stub(i),a=new Array(i),s=new Array(i),l=new Array(i),c=new Array(i),u=new Array(i),h=new Array(i),d=n.words;d.length=i,this.convert13b(t.words,t.length,a,i),this.convert13b(e.words,e.length,c,i),this.transform(a,o,s,l,i,r),this.transform(c,o,u,h,i,r);for(var f=0;f<i;f++){var p=s[f]*u[f]-l[f]*h[f];l[f]=s[f]*h[f]+l[f]*u[f],s[f]=p}return this.conjugate(s,l,i),this.transform(s,l,d,o,i,r),this.conjugate(d,o,i),this.normalize13b(d,i),n.negative=t.negative^e.negative,n.length=t.length+e.length,n.strip()},g.prototype.mul=function(t){var e=new g(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},g.prototype.mulf=function(t){var e=new g(null);return e.words=new Array(this.length+t.length),l(this,t,e)},g.prototype.imul=function(t){return this.clone().mulTo(t,this)},g.prototype.imuln=function(t){m("number"==typeof t),m(t<67108864);for(var e=0,n=0;n<this.length;n++){var i=(0|this.words[n])*t,r=(67108863&i)+(67108863&e),e=(e>>=26)+(i/67108864|0)+(r>>>26);this.words[n]=67108863&r}return 0!==e&&(this.words[n]=e,this.length++),this},g.prototype.muln=function(t){return this.clone().imuln(t)},g.prototype.sqr=function(){return this.mul(this)},g.prototype.isqr=function(){return this.imul(this.clone())},g.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),n=0;n<e.length;n++){var i=n%26;e[n]=(t.words[n/26|0]&1<<i)>>>i}return e}(t);if(0===e.length)return new g(1);for(var n=this,i=0;i<e.length&&0===e[i];i++,n=n.sqr());if(++i<e.length)for(var r=n.sqr();i<e.length;i++,r=r.sqr())0!==e[i]&&(n=n.mul(r));return n},g.prototype.iushln=function(t){m("number"==typeof t&&0<=t);var e=t%26,n=(t-e)/26,i=67108863>>>26-e<<26-e;if(0!=e){for(var r=0,o=0;o<this.length;o++){var a=this.words[o]&i,s=(0|this.words[o])-a<<e;this.words[o]=s|r,r=a>>>26-e}r&&(this.words[o]=r,this.length++)}if(0!=n){for(o=this.length-1;0<=o;o--)this.words[o+n]=this.words[o];for(o=0;o<n;o++)this.words[o]=0;this.length+=n}return this.strip()},g.prototype.ishln=function(t){return m(0===this.negative),this.iushln(t)},g.prototype.iushrn=function(t,e,n){m("number"==typeof t&&0<=t),i=e?(e-e%26)/26:0;var i,r=t%26,o=Math.min((t-r)/26,this.length),a=67108863^67108863>>>r<<r,s=n;if(i-=o,i=Math.max(0,i),s){for(var l=0;l<o;l++)s.words[l]=this.words[l];s.length=o}if(0!==o)if(this.length>o)for(this.length-=o,l=0;l<this.length;l++)this.words[l]=this.words[l+o];else this.words[0]=0,this.length=1;for(var c=0,l=this.length-1;0<=l&&(0!==c||i<=l);l--){var u=0|this.words[l];this.words[l]=c<<26-r|u>>>r,c=u&a}return s&&0!==c&&(s.words[s.length++]=c),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},g.prototype.ishrn=function(t,e,n){return m(0===this.negative),this.iushrn(t,e,n)},g.prototype.shln=function(t){return this.clone().ishln(t)},g.prototype.ushln=function(t){return this.clone().iushln(t)},g.prototype.shrn=function(t){return this.clone().ishrn(t)},g.prototype.ushrn=function(t){return this.clone().iushrn(t)},g.prototype.testn=function(t){m("number"==typeof t&&0<=t);var e=t%26,t=(t-e)/26;return!(this.length<=t||!(this.words[t]&1<<e))},g.prototype.imaskn=function(t){m("number"==typeof t&&0<=t);var e=t%26,t=(t-e)/26;return m(0===this.negative,"imaskn works only with positive numbers"),this.length<=t?this:(0!=e&&t++,this.length=Math.min(t,this.length),0!=e&&(this.words[this.length-1]&=67108863^67108863>>>e<<e),this.strip())},g.prototype.maskn=function(t){return this.clone().imaskn(t)},g.prototype.iaddn=function(t){return m("number"==typeof t),m(t<67108864),t<0?this.isubn(-t):0!==this.negative?(1===this.length&&(0|this.words[0])<t?(this.words[0]=t-(0|this.words[0]),this.negative=0):(this.negative=0,this.isubn(t),this.negative=1),this):this._iaddn(t)},g.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&67108864<=this.words[e];e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},g.prototype.isubn=function(t){if(m("number"==typeof t),m(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,--this.words[e+1];return this.strip()},g.prototype.addn=function(t){return this.clone().iaddn(t)},g.prototype.subn=function(t){return this.clone().isubn(t)},g.prototype.iabs=function(){return this.negative=0,this},g.prototype.abs=function(){return this.clone().iabs()},g.prototype._ishlnsubmul=function(t,e,n){for(var i=t.length+n,r=(this._expand(i),0),o=0;o<t.length;o++){var a=(0|this.words[o+n])+r,s=(0|t.words[o])*e,r=((a-=67108863&s)>>26)-(s/67108864|0);this.words[o+n]=67108863&a}for(;o<this.length-n;o++)r=(a=(0|this.words[o+n])+r)>>26,this.words[o+n]=67108863&a;if(0!==r){for(m(-1===r),o=r=0;o<this.length;o++)r=(a=-(0|this.words[o])+r)>>26,this.words[o]=67108863&a;this.negative=1}return this.strip()},g.prototype._wordDiv=function(t,e){this.length,t.length;var n,i=this.clone(),r=t,o=0|r.words[r.length-1],a=(0!=(t=26-this._countBits(o))&&(r=r.ushln(t),i.iushln(t),o=0|r.words[r.length-1]),i.length-r.length);if("mod"!==e){(n=new g(null)).length=1+a,n.words=new Array(n.length);for(var s=0;s<n.length;s++)n.words[s]=0}var l=i.clone()._ishlnsubmul(r,1,a);0===l.negative&&(i=l,n)&&(n.words[a]=1);for(var c=a-1;0<=c;c--){var u=67108864*(0|i.words[r.length+c])+(0|i.words[r.length+c-1]),u=Math.min(u/o|0,67108863);for(i._ishlnsubmul(r,u,c);0!==i.negative;)u--,i.negative=0,i._ishlnsubmul(r,1,c),i.isZero()||(i.negative^=1);n&&(n.words[c]=u)}return n&&n.strip(),i.strip(),"div"!==e&&0!=t&&i.iushrn(t),{div:n||null,mod:i}},g.prototype.divmod=function(t,e,n){var i,r,o;return m(!t.isZero()),this.isZero()?{div:new g(0),mod:new g(0)}:0!==this.negative&&0===t.negative?(o=this.neg().divmod(t,e),"mod"!==e&&(i=o.div.neg()),"div"!==e&&(r=o.mod.neg(),n)&&0!==r.negative&&r.iadd(t),{div:i,mod:r}):0===this.negative&&0!==t.negative?(o=this.divmod(t.neg(),e),{div:i="mod"!==e?o.div.neg():i,mod:o.mod}):0!=(this.negative&t.negative)?(o=this.neg().divmod(t.neg(),e),"div"!==e&&(r=o.mod.neg(),n)&&0!==r.negative&&r.isub(t),{div:o.div,mod:r}):t.length>this.length||this.cmp(t)<0?{div:new g(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new g(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new g(this.modn(t.words[0]))}:this._wordDiv(t,e)},g.prototype.div=function(t){return this.divmod(t,"div",!1).div},g.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},g.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},g.prototype.divRound=function(t){var e,n,i=this.divmod(t);return i.mod.isZero()||(n=0!==i.div.negative?i.mod.isub(t):i.mod,e=t.ushrn(1),t=t.andln(1),(n=n.cmp(e))<0)||1===t&&0===n?i.div:0!==i.div.negative?i.div.isubn(1):i.div.iaddn(1)},g.prototype.modn=function(t){m(t<=67108863);for(var e=(1<<26)%t,n=0,i=this.length-1;0<=i;i--)n=(e*n+(0|this.words[i]))%t;return n},g.prototype.idivn=function(t){m(t<=67108863);for(var e=0,n=this.length-1;0<=n;n--){var i=(0|this.words[n])+67108864*e;this.words[n]=i/t|0,e=i%t}return this.strip()},g.prototype.divn=function(t){return this.clone().idivn(t)},g.prototype.egcd=function(t){m(0===t.negative),m(!t.isZero());for(var e=this,n=t.clone(),e=0!==e.negative?e.umod(t):e.clone(),i=new g(1),r=new g(0),o=new g(0),a=new g(1),s=0;e.isEven()&&n.isEven();)e.iushrn(1),n.iushrn(1),++s;for(var l=n.clone(),c=e.clone();!e.isZero();){for(var u=0,h=1;0==(e.words[0]&h)&&u<26;++u,h<<=1);if(0<u)for(e.iushrn(u);0<u--;)(i.isOdd()||r.isOdd())&&(i.iadd(l),r.isub(c)),i.iushrn(1),r.iushrn(1);for(var d=0,f=1;0==(n.words[0]&f)&&d<26;++d,f<<=1);if(0<d)for(n.iushrn(d);0<d--;)(o.isOdd()||a.isOdd())&&(o.iadd(l),a.isub(c)),o.iushrn(1),a.iushrn(1);0<=e.cmp(n)?(e.isub(n),i.isub(o),r.isub(a)):(n.isub(e),o.isub(i),a.isub(r))}return{a:o,b:a,gcd:n.iushln(s)}},g.prototype._invmp=function(t){m(0===t.negative),m(!t.isZero());for(var e,n=this,i=t.clone(),n=0!==n.negative?n.umod(t):n.clone(),r=new g(1),o=new g(0),a=i.clone();0<n.cmpn(1)&&0<i.cmpn(1);){for(var s=0,l=1;0==(n.words[0]&l)&&s<26;++s,l<<=1);if(0<s)for(n.iushrn(s);0<s--;)r.isOdd()&&r.iadd(a),r.iushrn(1);for(var c=0,u=1;0==(i.words[0]&u)&&c<26;++c,u<<=1);if(0<c)for(i.iushrn(c);0<c--;)o.isOdd()&&o.iadd(a),o.iushrn(1);0<=n.cmp(i)?(n.isub(i),r.isub(o)):(i.isub(n),o.isub(r))}return(e=0===n.cmpn(1)?r:o).cmpn(0)<0&&e.iadd(t),e},g.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),n=t.clone();e.negative=0;for(var i=n.negative=0;e.isEven()&&n.isEven();i++)e.iushrn(1),n.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;n.isEven();)n.iushrn(1);var r=e.cmp(n);if(r<0)var o=e,e=n,n=o;else if(0===r||0===n.cmpn(1))break;e.isub(n)}return n.iushln(i)},g.prototype.invm=function(t){return this.egcd(t).a.umod(t)},g.prototype.isEven=function(){return 0==(1&this.words[0])},g.prototype.isOdd=function(){return 1==(1&this.words[0])},g.prototype.andln=function(t){return this.words[0]&t},g.prototype.bincn=function(t){m("number"==typeof t);var e=t%26,t=(t-e)/26,e=1<<e;if(this.length<=t)this._expand(1+t),this.words[t]|=e;else{for(var n=e,i=t;0!==n&&i<this.length;i++){var r=0|this.words[i],n=(r+=n)>>>26;r&=67108863,this.words[i]=r}0!==n&&(this.words[i]=n,this.length++)}return this},g.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},g.prototype.cmpn=function(t){var e=t<0;return 0===this.negative||e?0===this.negative&&e?1:(this.strip(),e=1<this.length?1:(m((t=e?-t:t)<=67108863,"Number is too big"),(e=0|this.words[0])===t?0:e<t?-1:1),0!==this.negative?0|-e:e):-1},g.prototype.cmp=function(t){return 0!==this.negative&&0===t.negative?-1:0===this.negative&&0!==t.negative?1:(t=this.ucmp(t),0!==this.negative?0|-t:t)},g.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,n=this.length-1;0<=n;n--){var i=0|this.words[n],r=0|t.words[n];if(i!=r){i<r?e=-1:r<i&&(e=1);break}}return e},g.prototype.gtn=function(t){return 1===this.cmpn(t)},g.prototype.gt=function(t){return 1===this.cmp(t)},g.prototype.gten=function(t){return 0<=this.cmpn(t)},g.prototype.gte=function(t){return 0<=this.cmp(t)},g.prototype.ltn=function(t){return-1===this.cmpn(t)},g.prototype.lt=function(t){return-1===this.cmp(t)},g.prototype.lten=function(t){return this.cmpn(t)<=0},g.prototype.lte=function(t){return this.cmp(t)<=0},g.prototype.eqn=function(t){return 0===this.cmpn(t)},g.prototype.eq=function(t){return 0===this.cmp(t)},g.red=function(t){return new x(t)},g.prototype.toRed=function(t){return m(!this.red,"Already a number in reduction context"),m(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},g.prototype.fromRed=function(){return m(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},g.prototype._forceRed=function(t){return this.red=t,this},g.prototype.forceRed=function(t){return m(!this.red,"Already a number in reduction context"),this._forceRed(t)},g.prototype.redAdd=function(t){return m(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},g.prototype.redIAdd=function(t){return m(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},g.prototype.redSub=function(t){return m(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},g.prototype.redISub=function(t){return m(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},g.prototype.redShl=function(t){return m(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},g.prototype.redMul=function(t){return m(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},g.prototype.redIMul=function(t){return m(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},g.prototype.redSqr=function(){return m(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},g.prototype.redISqr=function(){return m(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},g.prototype.redSqrt=function(){return m(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},g.prototype.redInvm=function(){return m(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},g.prototype.redNeg=function(){return m(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},g.prototype.redPow=function(t){return m(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var u={k256:null,p224:null,p192:null,p25519:null};function b(t,e){this.name=t,this.p=new g(e,16),this.n=this.p.bitLength(),this.k=new g(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function v(){b.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function y(){b.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function w(){b.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function _(){b.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function x(t){var e;"string"==typeof t?(e=g._prime(t),this.m=e.p,this.prime=e):(m(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null)}function M(t){x.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new g(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}b.prototype._tmp=function(){var t=new g(null);return t.words=new Array(Math.ceil(this.n/13)),t},b.prototype.ireduce=function(t){for(var e,n=t;this.split(n,this.tmp),(e=(n=(n=this.imulK(n)).iadd(this.tmp)).bitLength())>this.n;);t=e<this.n?-1:n.ucmp(this.p);return 0===t?(n.words[0]=0,n.length=1):0<t?n.isub(this.p):void 0!==n.strip?n.strip():n._strip(),n},b.prototype.split=function(t,e){t.iushrn(this.n,0,e)},b.prototype.imulK=function(t){return t.imul(this.k)},n(v,b),v.prototype.split=function(t,e){for(var n=Math.min(t.length,9),i=0;i<n;i++)e.words[i]=t.words[i];if(e.length=n,t.length<=9)t.words[0]=0,t.length=1;else{var r=t.words[9];for(e.words[e.length++]=4194303&r,i=10;i<t.length;i++){var o=0|t.words[i];t.words[i-10]=(4194303&o)<<4|r>>>22,r=o}0===(t.words[i-10]=r>>>=22)&&10<t.length?t.length-=10:t.length-=9}},v.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,n=0;n<t.length;n++){var i=0|t.words[n];e+=977*i,t.words[n]=67108863&e,e=64*i+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1])&&t.length--,t},n(y,b),n(w,b),n(_,b),_.prototype.imulK=function(t){for(var e=0,n=0;n<t.length;n++){var i=19*(0|t.words[n])+e,r=67108863&i;i>>>=26,t.words[n]=r,e=i}return 0!==e&&(t.words[t.length++]=e),t},g._prime=function(t){if(u[t])return u[t];var e;if("k256"===t)e=new v;else if("p224"===t)e=new y;else if("p192"===t)e=new w;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new _}return u[t]=e},x.prototype._verify1=function(t){m(0===t.negative,"red works only with positives"),m(t.red,"red works only with red numbers")},x.prototype._verify2=function(t,e){m(0==(t.negative|e.negative),"red works only with positives"),m(t.red&&t.red===e.red,"red works only with red numbers")},x.prototype.imod=function(t){return(this.prime?this.prime.ireduce(t):t.umod(this.m))._forceRed(this)},x.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},x.prototype.add=function(t,e){this._verify2(t,e);t=t.add(e);return 0<=t.cmp(this.m)&&t.isub(this.m),t._forceRed(this)},x.prototype.iadd=function(t,e){this._verify2(t,e);t=t.iadd(e);return 0<=t.cmp(this.m)&&t.isub(this.m),t},x.prototype.sub=function(t,e){this._verify2(t,e);t=t.sub(e);return t.cmpn(0)<0&&t.iadd(this.m),t._forceRed(this)},x.prototype.isub=function(t,e){this._verify2(t,e);t=t.isub(e);return t.cmpn(0)<0&&t.iadd(this.m),t},x.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},x.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},x.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},x.prototype.isqr=function(t){return this.imul(t,t.clone())},x.prototype.sqr=function(t){return this.mul(t,t)},x.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(m(e%2==1),3===e)return e=this.m.add(new g(1)).iushrn(2),this.pow(t,e);for(var n=this.m.subn(1),i=0;!n.isZero()&&0===n.andln(1);)i++,n.iushrn(1);m(!n.isZero());for(var r=new g(1).toRed(this),o=r.redNeg(),a=this.m.subn(1).iushrn(1),s=new g(2*(s=this.m.bitLength())*s).toRed(this);0!==this.pow(s,a).cmp(o);)s.redIAdd(o);for(var l=this.pow(s,n),c=this.pow(t,n.addn(1).iushrn(1)),u=this.pow(t,n),h=i;0!==u.cmp(r);){for(var d=u,f=0;0!==d.cmp(r);f++)d=d.redSqr();m(f<h);var p=this.pow(l,new g(1).iushln(h-f-1)),c=c.redMul(p),l=p.redSqr(),u=u.redMul(l),h=f}return c},x.prototype.invm=function(t){t=t._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},x.prototype.pow=function(t,e){if(e.isZero())return new g(1).toRed(this);if(0===e.cmpn(1))return t.clone();var n=new Array(16);n[0]=new g(1).toRed(this),n[1]=t;for(var i=2;i<n.length;i++)n[i]=this.mul(n[i-1],t);var r=n[0],o=0,a=0,s=e.bitLength()%26;for(0===s&&(s=26),i=e.length-1;0<=i;i--){for(var l=e.words[i],c=s-1;0<=c;c--){var u=l>>c&1;r!==n[0]&&(r=this.sqr(r)),0==u&&0===o?a=0:(o=o<<1|u,(4===++a||0===i&&0===c)&&(r=this.mul(r,n[o]),o=a=0))}s=26}return r},x.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},x.prototype.convertFrom=function(t){t=t.clone();return t.red=null,t},g.mont=function(t){return new M(t)},n(M,x),M.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},M.prototype.convertFrom=function(t){t=this.imod(t.mul(this.rinv));return t.red=null,t},M.prototype.imul=function(t,e){return t.isZero()||e.isZero()?(t.words[0]=0,t.length=1,t):(e=(t=t.imul(e)).maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),0<=(e=t=t.isub(e).iushrn(this.shift)).cmp(this.m)?e=t.isub(this.m):t.cmpn(0)<0&&(e=t.iadd(this.m)),e._forceRed(this))},M.prototype.mul=function(t,e){return(t.isZero()||e.isZero()?new g(0):(e=(t=t.mul(e)).maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),0<=(e=t=t.isub(e).iushrn(this.shift)).cmp(this.m)?e=t.isub(this.m):t.cmpn(0)<0&&(e=t.iadd(this.m)),e))._forceRed(this)},M.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t,this)}.call(this,S(146)(t))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.sleep=function(e){return new Promise(function(t){return setTimeout(t,e)})},e.random=function(t,e){return Math.random()*(e-t)+t},e.forever=function(){return new Promise(function(){})},e.pick=function(n,t){return t.reduce(function(t,e){return e in n&&(t[e]=n[e]),t},{})},e.unescapeHtml=function(t){var e={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"'};return t.replace(/\&\w{2,5}\;/g,function(t){return e[t]||t})},e.whenDocumentLoaded=function(t){"loading"===window.document.readyState?window.document.addEventListener("DOMContentLoaded",t):t()},e.isPlainObject=function(t){return t&&!Array.isArray(t)&&"object"===(void 0===t?"undefined":i(t))},e.convertNameToAi=function(t){return["startm5"].includes(t)?t+"-next":t}},,function(t,e,n){var i=n(15).Buffer,r=n(499).Transform,o=n(148).StringDecoder;function a(t){r.call(this),this.hashMode="string"==typeof t,this.hashMode?this[t]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}n(10)(a,r),a.prototype.update=function(t,e,n){"string"==typeof t&&(t=i.from(t,e));e=this._update(t);return this.hashMode?this:n?this._toString(e,n):e},a.prototype.setAutoPadding=function(){},a.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},a.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},a.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},a.prototype._transform=function(t,e,n){var i;try{this.hashMode?this._update(t):this.push(this._update(t))}catch(t){i=t}finally{n(i)}},a.prototype._flush=function(t){var e;try{this.push(this.__final())}catch(t){e=t}t(e)},a.prototype._finalOrDigest=function(t){var e=this.__final()||i.alloc(0);return e=t?this._toString(e,t,!0):e},a.prototype._toString=function(t,e,n){if(this._decoder||(this._decoder=new o(e),this._encoding=e),this._encoding!==e)throw new Error("can't switch encodings");e=this._decoder.write(t);return n&&(e+=this._decoder.end()),e},t.exports=a},function(t,e,n){t.exports=!n(7)&&!n(3)(function(){return 7!=Object.defineProperty(n(78)("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){e.f=n(5)},function(t,e,n){var a=n(16),s=n(17),l=n(58)(!1),c=n(80)("IE_PROTO");t.exports=function(t,e){var n,i=s(t),r=0,o=[];for(n in i)n!=c&&a(i,n)&&o.push(n);for(;e.length>r;)!a(i,n=e[r++])||~l(o,n)||o.push(n);return o}},function(t,e,n){var a=n(8),s=n(1),l=n(39);t.exports=n(7)?Object.defineProperties:function(t,e){s(t);for(var n,i=l(e),r=i.length,o=0;o<r;)a.f(t,n=i[o++],e[n]);return t}},function(t,e,n){var i=n(17),r=n(42).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){if(!a||"[object Window]"!=o.call(t))return r(i(t));try{return r(t)}catch(t){return a.slice()}}},function(t,e,n){"use strict";var d=n(7),f=n(39),p=n(59),m=n(55),g=n(9),b=n(54),r=Object.assign;t.exports=!r||n(3)(function(){var t={},e={},n=Symbol(),i="abcdefghijklmnopqrst";return t[n]=7,i.split("").forEach(function(t){e[t]=t}),7!=r({},t)[n]||Object.keys(r({},e)).join("")!=i})?function(t,e){for(var n=g(t),i=arguments.length,r=1,o=p.f,a=m.f;r<i;)for(var s,l=b(arguments[r++]),c=o?f(l).concat(o(l)):f(l),u=c.length,h=0;h<u;)s=c[h++],d&&!a.call(l,s)||(n[s]=l[s]);return n}:r},function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}},function(t,e,n){"use strict";var i=n(11),r=n(4),u=n(118),h=[].slice,d={};t.exports=Function.bind||function(a){var s=i(this),l=h.call(arguments,1),c=function(){var t=l.concat(h.call(arguments));if(this instanceof c){var e=s,n=t.length,i=t;if(!(n in d)){for(var r=[],o=0;o<n;o++)r[o]="a["+o+"]";d[n]=Function("F,a","return new F("+r.join(",")+")")}return d[n](e,i)}return u(s,t,a)};return r(s.prototype)&&(c.prototype=s.prototype),c}},function(t,e){t.exports=function(t,e,n){var i=void 0===n;switch(e.length){case 0:return i?t():t.call(n);case 1:return i?t(e[0]):t.call(n,e[0]);case 2:return i?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return i?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return i?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},function(t,e,n){var i=n(2).parseInt,r=n(51).trim,n=n(84),o=/^[-+]?0[xX]/;t.exports=8!==i(n+"08")||22!==i(n+"0x16")?function(t,e){t=r(String(t),3);return i(t,e>>>0||(o.test(t)?16:10))}:i},function(t,e,n){var i=n(2).parseFloat,r=n(51).trim;t.exports=1/i(n(84)+"-0")!=-1/0?function(t){var t=r(String(t),3),e=i(t);return 0===e&&"-"==t.charAt(0)?-0:e}:i},function(t,e,n){var i=n(22);t.exports=function(t,e){if("number"!=typeof t&&"Number"!=i(t))throw TypeError(e);return+t}},function(t,e,n){var i=n(4),r=Math.floor;t.exports=function(t){return!i(t)&&isFinite(t)&&r(t)===t}},function(t,e){t.exports=Math.log1p||function(t){return-1e-8<(t=+t)&&t<1e-8?t-t*t/2:Math.log(1+t)}},function(t,e,n){var i=n(87),n=Math.pow,r=n(2,-52),o=n(2,-23),a=n(2,127)*(2-o),s=n(2,-126);t.exports=Math.fround||function(t){var e,n=Math.abs(t),t=i(t);return n<s?t*(n/s/o+1/r-1/r)*s*o:a<(e=(e=(1+o/r)*n)-(e-n))||e!=e?t*(1/0):t*e}},function(t,e,n){var r=n(1);t.exports=function(e,t,n,i){try{return i?t(r(n)[0],n[1]):t(n)}catch(t){i=e.return;throw void 0!==i&&r(i.call(e)),t}}},function(t,e,n){var u=n(11),h=n(9),d=n(54),f=n(6);t.exports=function(t,e,n,i,r){u(e);var o=h(t),a=d(o),s=f(o.length),l=r?s-1:0,c=r?-1:1;if(n<2)for(;;){if(l in a){i=a[l],l+=c;break}if(l+=c,r?l<0:s<=l)throw TypeError("Reduce of empty array with no initial value")}for(;r?0<=l:l<s;l+=c)l in a&&(i=e(i,a[l],l,o));return i}},function(t,e,n){"use strict";var l=n(9),c=n(40),u=n(6);t.exports=[].copyWithin||function(t,e){var n=l(this),i=u(n.length),r=c(t,i),o=c(e,i),t=2<arguments.length?arguments[2]:void 0,a=Math.min((void 0===t?i:c(t,i))-o,i-r),s=1;for(o<r&&r<o+a&&(s=-1,o+=a-1,r+=a-1);0<a--;)o in n?n[r]=n[o]:delete n[r],r+=s,o+=s;return n}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,n){"use strict";var i=n(99);n(0)({target:"RegExp",proto:!0,forced:i!==/./.exec},{exec:i})},function(t,e,n){n(7)&&"g"!=/./g.flags&&n(8).f(RegExp.prototype,"flags",{configurable:!0,get:n(56)})},function(t,e){t.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},function(t,e,n){var i=n(1),r=n(4),o=n(103);t.exports=function(t,e){return i(t),r(e)&&e.constructor===t?e:((0,(t=o.f(t)).resolve)(e),t.promise)}},function(t,e,n){"use strict";var i=n(134),r=n(47);t.exports=n(67)("Map",function(t){return function(){return t(this,0<arguments.length?arguments[0]:void 0)}},{get:function(t){t=i.getEntry(r(this,"Map"),t);return t&&t.v},set:function(t,e){return i.def(r(this,"Map"),0===t?0:t,e)}},i,!0)},function(t,e,n){"use strict";function a(t,e){var n,i=p(e);if("F"!==i)return t._i[i];for(n=t._f;n;n=n.n)if(n.k==e)return n}var s=n(8).f,l=n(41),c=n(46),u=n(21),h=n(44),d=n(45),i=n(89),r=n(128),o=n(43),f=n(7),p=n(34).fastKey,m=n(47),g=f?"_s":"size";t.exports={getConstructor:function(t,r,n,i){var o=t(function(t,e){h(t,o,r,"_i"),t._t=r,t._i=l(null),t._f=void 0,t._l=void 0,t[g]=0,null!=e&&d(e,n,t[i],t)});return c(o.prototype,{clear:function(){for(var t=m(this,r),e=t._i,n=t._f;n;n=n.n)n.r=!0,n.p&&(n.p=n.p.n=void 0),delete e[n.i];t._f=t._l=void 0,t[g]=0},delete:function(t){var e,n,i=m(this,r),t=a(i,t);return t&&(e=t.n,n=t.p,delete i._i[t.i],t.r=!0,n&&(n.n=e),e&&(e.p=n),i._f==t&&(i._f=e),i._l==t&&(i._l=n),i[g]--),!!t},forEach:function(t){m(this,r);for(var e,n=u(t,1<arguments.length?arguments[1]:void 0,3);e=e?e.n:this._f;)for(n(e.v,e.k,this);e&&e.r;)e=e.p},has:function(t){return!!a(m(this,r),t)}}),f&&s(o.prototype,"size",{get:function(){return m(this,r)[g]}}),o},def:function(t,e,n){var i,r=a(t,e);return r?r.v=n:(t._l=r={i:i=p(e,!0),k:e,v:n,p:e=t._l,n:void 0,r:!1},t._f||(t._f=r),e&&(e.n=r),t[g]++,"F"!==i&&(t._i[i]=r)),t},getEntry:a,setStrong:function(t,n,e){i(t,n,function(t,e){this._t=m(t,n),this._k=e,this._l=void 0},function(){for(var t=this._k,e=this._l;e&&e.r;)e=e.p;return this._t&&(this._l=e=e?e.n:this._t._f)?r(0,"keys"==t?e.k:"values"==t?e.v:[e.k,e.v]):(this._t=void 0,r(1))},e?"entries":"values",!e,!0),o(n)}}},function(t,e,n){"use strict";var i=n(134),r=n(47);t.exports=n(67)("Set",function(t){return function(){return t(this,0<arguments.length?arguments[0]:void 0)}},{add:function(t){return i.def(r(this,"Set"),t=0===t?0:t,t)}},i)},function(t,e,n){"use strict";function i(t){return function(){return t(this,0<arguments.length?arguments[0]:void 0)}}var o,r=n(2),a=n(30)(0),s=n(13),l=n(34),c=n(115),u=n(137),h=n(4),d=n(47),f=n(47),r=!r.ActiveXObject&&"ActiveXObject"in r,p="WeakMap",m=l.getWeak,g=Object.isExtensible,b=u.ufstore,v={get:function(t){var e;if(h(t))return!0===(e=m(t))?b(d(this,p)).get(t):e?e[this._i]:void 0},set:function(t,e){return u.def(d(this,p),t,e)}},y=t.exports=n(67)(p,i,v,u,!0,!0);f&&r&&(c((o=u.getConstructor(i,p)).prototype,v),l.NEED=!0,a(["delete","has","get","set"],function(i){var t=y.prototype,r=t[i];s(t,i,function(t,e){var n;return h(t)&&!g(t)?(this._f||(this._f=new o),n=this._f[i](t,e),"set"==i?this:n):r.call(this,t,e)})}))},function(t,e,n){"use strict";function a(t){return t._l||(t._l=new i)}function i(){this.a=[]}function r(t,e){return m(t.a,function(t){return t[0]===e})}var s=n(46),l=n(34).getWeak,o=n(1),c=n(4),u=n(44),h=n(45),d=n(30),f=n(16),p=n(47),m=d(5),g=d(6),b=0;i.prototype={get:function(t){t=r(this,t);if(t)return t[1]},has:function(t){return!!r(this,t)},set:function(t,e){var n=r(this,t);n?n[1]=e:this.a.push([t,e])},delete:function(e){var t=g(this.a,function(t){return t[0]===e});return~t&&this.a.splice(t,1),!!~t}},t.exports={getConstructor:function(t,n,i,r){var o=t(function(t,e){u(t,o,n,"_i"),t._t=n,t._i=b++,t._l=void 0,null!=e&&h(e,i,t[r],t)});return s(o.prototype,{delete:function(t){var e;return!!c(t)&&(!0===(e=l(t))?a(p(this,n)).delete(t):e&&f(e,this._i)&&delete e[this._i])},has:function(t){var e;return!!c(t)&&(!0===(e=l(t))?a(p(this,n)).has(t):e&&f(e,this._i))}}),o},def:function(t,e,n){var i=l(o(e),!0);return!0===i?a(t).set(e,n):i[t._i]=n,t},ufstore:a}},function(t,e,n){var i=n(23),r=n(6);t.exports=function(t){if(void 0===t)return 0;var t=i(t),e=r(t);if(t!==e)throw RangeError("Wrong length!");return e}},function(t,e,n){var i=n(42),r=n(59),o=n(1),n=n(2).Reflect;t.exports=n&&n.ownKeys||function(t){var e=i.f(o(t)),n=r.f;return n?e.concat(n(t)):e}},function(t,e,n){"use strict";var p=n(60),m=n(4),g=n(6),b=n(21),v=n(5)("isConcatSpreadable");t.exports=function t(e,n,i,r,o,a,s,l){for(var c,u,h=o,d=0,f=!!s&&b(s,l,3);d<r;){if(d in i){if(c=f?f(i[d],d,n):i[d],u=!1,(u=m(c)?void 0!==(u=c[v])?!!u:p(c):u)&&0<a)h=t(e,n,c,g(c.length),h,a-1)-1;else{if(9007199254740991<=h)throw TypeError();e[h]=c}h++}d++}return h}},function(t,e,n){var o=n(6),a=n(86),s=n(28);t.exports=function(t,e,n,i){var t=String(s(t)),r=t.length,n=void 0===n?" ":String(n),e=o(e);return e<=r||""==n?t:(e=e-r,(r=a.call(n,Math.ceil(e/n.length))).length>e&&(r=r.slice(0,e)),i?r+t:t+r)}},function(t,e,n){var l=n(7),c=n(39),u=n(17),h=n(55).f;t.exports=function(s){return function(t){for(var e,n=u(t),i=c(n),r=i.length,o=0,a=[];o<r;)e=i[o++],l&&!h.call(n,e)||a.push(s?[e,n[e]]:n[e]);return a}}},function(t,e,n){var i=n(50),r=n(144);t.exports=function(t){return function(){if(i(this)!=t)throw TypeError(t+"#toJSON isn't generic");return r(this)}}},function(t,e,n){var i=n(45);t.exports=function(t,e){var n=[];return i(t,!1,n.push,n,e),n}},function(t,e){t.exports=Math.scale||function(t,e,n,i,r){return 0===arguments.length||t!=t||e!=e||n!=n||i!=i||r!=r?NaN:t===1/0||t===-1/0?t:(t-e)*(r-i)/(n-e)+i}},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){"use strict";var i="object"==typeof Reflect?Reflect:null,l=i&&"function"==typeof i.apply?i.apply:function(t,e,n){return Function.prototype.apply.call(t,e,n)};var r=i&&"function"==typeof i.ownKeys?i.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)},o=Number.isNaN||function(t){return t!=t};function a(){a.init.call(this)}t.exports=a,t.exports.once=function(s,l){return new Promise(function(t,e){function n(t){s.removeListener(l,i),e(t)}function i(){"function"==typeof s.removeListener&&s.removeListener("error",n),t([].slice.call(arguments))}var r,o,a;g(s,l,i,{once:!0}),"error"!==l&&(o=n,a={once:!0},"function"==typeof(r=s).on)&&g(r,"error",o,a)})},(a.EventEmitter=a).prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var s=10;function c(t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function u(t){return void 0===t._maxListeners?a.defaultMaxListeners:t._maxListeners}function h(t,e,n,i){var r,o;return c(n),void 0===(r=t._events)?(r=t._events=Object.create(null),t._eventsCount=0):(void 0!==r.newListener&&(t.emit("newListener",e,n.listener||n),r=t._events),o=r[e]),void 0===o?(o=r[e]=n,++t._eventsCount):("function"==typeof o?o=r[e]=i?[n,o]:[o,n]:i?o.unshift(n):o.push(n),0<(r=u(t))&&o.length>r&&!o.warned&&(o.warned=!0,(i=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit")).name="MaxListenersExceededWarning",i.emitter=t,i.type=e,i.count=o.length,n=i,console)&&console.warn&&console.warn(n)),t}function d(t,e,n){t={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},e=function(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}.bind(t);return e.listener=n,t.wrapFn=e}function f(t,e,n){t=t._events;if(void 0===t)return[];t=t[e];if(void 0===t)return[];if("function"==typeof t)return n?[t.listener||t]:[t];if(n){for(var i=t,r=new Array(i.length),o=0;o<r.length;++o)r[o]=i[o].listener||i[o];return r}return m(t,t.length)}function p(t){var e=this._events;if(void 0!==e){e=e[t];if("function"==typeof e)return 1;if(void 0!==e)return e.length}return 0}function m(t,e){for(var n=new Array(e),i=0;i<e;++i)n[i]=t[i];return n}function g(n,i,r,o){if("function"==typeof n.on)o.once?n.once(i,r):n.on(i,r);else{if("function"!=typeof n.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof n);n.addEventListener(i,function t(e){o.once&&n.removeEventListener(i,t),r(e)})}}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(t){if("number"!=typeof t||t<0||o(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");s=t}}),a.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||o(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},a.prototype.getMaxListeners=function(){return u(this)},a.prototype.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e.push(arguments[n]);var i="error"===t,r=this._events;if(void 0!==r)i=i&&void 0===r.error;else if(!i)return!1;if(i){if((o=0<e.length?e[0]:o)instanceof Error)throw o;i=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw i.context=o,i}var o=r[t];if(void 0===o)return!1;if("function"==typeof o)l(o,this,e);else for(var a=o.length,s=m(o,a),n=0;n<a;++n)l(s[n],this,e);return!0},a.prototype.on=a.prototype.addListener=function(t,e){return h(this,t,e,!1)},a.prototype.prependListener=function(t,e){return h(this,t,e,!0)},a.prototype.once=function(t,e){return c(e),this.on(t,d(this,t,e)),this},a.prototype.prependOnceListener=function(t,e){return c(e),this.prependListener(t,d(this,t,e)),this},a.prototype.off=a.prototype.removeListener=function(t,e){var n,i,r,o,a;if(c(e),void 0!==(i=this._events)&&void 0!==(n=i[t]))if(n===e||n.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete i[t],i.removeListener&&this.emit("removeListener",t,n.listener||e));else if("function"!=typeof n){for(r=-1,o=n.length-1;0<=o;o--)if(n[o]===e||n[o].listener===e){a=n[o].listener,r=o;break}if(r<0)return this;if(0===r)n.shift();else{for(var s=n,l=r;l+1<s.length;l++)s[l]=s[l+1];s.pop()}1===n.length&&(i[t]=n[0]),void 0!==i.removeListener&&this.emit("removeListener",t,a||e)}return this},a.prototype.removeAllListeners=function(t){var e,n=this._events;if(void 0!==n)if(void 0===n.removeListener)0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[t]);else if(0===arguments.length){for(var i,r=Object.keys(n),o=0;o<r.length;++o)"removeListener"!==(i=r[o])&&this.removeAllListeners(i);this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0}else if("function"==typeof(e=n[t]))this.removeListener(t,e);else if(void 0!==e)for(o=e.length-1;0<=o;o--)this.removeListener(t,e[o]);return this},a.prototype.listeners=function(t){return f(this,t,!0)},a.prototype.rawListeners=function(t){return f(this,t,!1)},a.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):p.call(t,e)},a.prototype.listenerCount=p,a.prototype.eventNames=function(){return 0<this._eventsCount?r(this._events):[]}},function(t,e,n){"use strict";var i=n(15).Buffer,r=i.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(t){var e=function(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}(t);if("string"==typeof e||i.isEncoding!==r&&r(t))return e||t;throw new Error("Unknown encoding: "+t)}function a(t){var e;switch(this.encoding=o(t),this.encoding){case"utf16le":this.text=c,this.end=u,e=4;break;case"utf8":this.fillLast=l,e=4;break;case"base64":this.text=h,this.end=d,e=3;break;default:return this.write=f,void(this.end=p)}this.lastNeed=0,this.lastTotal=0,this.lastChar=i.allocUnsafe(e)}function s(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function l(t){var e,n=this.lastTotal-this.lastNeed,i=(e=this,128!=(192&(i=t)[0])?(e.lastNeed=0,""):1<e.lastNeed&&1<i.length?128!=(192&i[1])?(e.lastNeed=1,""):2<e.lastNeed&&2<i.length&&128!=(192&i[2])?(e.lastNeed=2,""):void 0:void 0);return void 0!==i?i:this.lastNeed<=t.length?(t.copy(this.lastChar,n,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,n,0,t.length),void(this.lastNeed-=t.length))}function c(t,e){if((t.length-e)%2!=0)return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1);e=t.toString("utf16le",e);if(e){var n=e.charCodeAt(e.length-1);if(55296<=n&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],e.slice(0,-1)}return e}function u(t){var e,t=t&&t.length?this.write(t):"";return this.lastNeed?(e=this.lastTotal-this.lastNeed,t+this.lastChar.toString("utf16le",0,e)):t}function h(t,e){var n=(t.length-e)%3;return 0==n?t.toString("base64",e):(this.lastNeed=3-n,this.lastTotal=3,1==n?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-n))}function d(t){t=t&&t.length?this.write(t):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function f(t){return t.toString(this.encoding)}function p(t){return t&&t.length?this.write(t):""}(e.StringDecoder=a).prototype.write=function(t){if(0===t.length)return"";var e,n;if(this.lastNeed){if(void 0===(e=this.fillLast(t)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<t.length?e?e+this.text(t,n):this.text(t,n):e||""},a.prototype.end=function(t){t=t&&t.length?this.write(t):"";return this.lastNeed?t+"":t},a.prototype.text=function(t,e){var n=function(t,e,n){var i=e.length-1;if(!(i<n)){var r=s(e[i]);if(0<=r)return 0<r&&(t.lastNeed=r-1),r;if(!(--i<n||-2===r)){if(0<=(r=s(e[i])))return 0<r&&(t.lastNeed=r-2),r;if(!(--i<n||-2===r)&&0<=(r=s(e[i])))return 0<r&&(2===r?r=0:t.lastNeed=r-3),r}}return 0}(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=n;n=t.length-(n-this.lastNeed);return t.copy(this.lastChar,0,n),t.toString("utf8",e,n)},a.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length}},function(t,e,n){"use strict";var i=n(375),r=Object.keys||function(t){var e,n=[];for(e in t)n.push(e);return n},t=(t.exports=u,Object.create(n(162))),o=(t.inherits=n(10),n(431)),a=n(392);t.inherits(u,o);for(var s=r(a.prototype),l=0;l<s.length;l++){var c=s[l];u.prototype[c]||(u.prototype[c]=a.prototype[c])}function u(t){if(!(this instanceof u))return new u(t);o.call(this,t),a.call(this,t),t&&!1===t.readable&&(this.readable=!1),t&&!1===t.writable&&(this.writable=!1),this.allowHalfOpen=!0,t&&!1===t.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",h)}function h(){this.allowHalfOpen||this._writableState.ended||i.nextTick(d,this)}function d(t){t.end()}Object.defineProperty(u.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(u.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(t){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}}),u.prototype._destroy=function(t,e){this.push(null),this.end(),i.nextTick(e,t)}},function(t,e){t.exports=window.jQuery},,,,function(e,t,n){"use strict";!function(t,r){var o=n(15).Buffer,a=t.crypto||t.msCrypto;a&&a.getRandomValues?e.exports=function(t,e){if(4294967295<t)throw new RangeError("requested too many random bytes");var n=o.allocUnsafe(t);if(0<t)if(65536<t)for(var i=0;i<t;i+=65536)a.getRandomValues(n.slice(i,i+65536));else a.getRandomValues(n);return"function"!=typeof e?n:r.nextTick(function(){e(null,n)})}:e.exports=function(){throw new Error("Secure random number generation is not supported by this browser.\nUse Chrome, Firefox or Internet Explorer 11")}}.call(this,n(26),n(36))},function(t,e,n){"use strict";var i={};function r(t,r,e){var n=function(i){var t,e;function n(t,e,n){return i.call(this,(t=t,e=e,n=n,"string"==typeof r?r:r(t,e,n)))||this}return e=i,(t=n).prototype=Object.create(e.prototype),(t.prototype.constructor=t).__proto__=e,n}(e=e||Error);n.prototype.name=e.name,n.prototype.code=t,i[t]=n}function l(t,e){var n;return Array.isArray(t)?(n=t.length,t=t.map(function(t){return String(t)}),2<n?"one of ".concat(e," ").concat(t.slice(0,n-1).join(", "),", or ")+t[n-1]:2===n?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])):"of ".concat(e," ").concat(String(t))}r("ERR_INVALID_OPT_VALUE",function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'},TypeError),r("ERR_INVALID_ARG_TYPE",function(t,e,n){var i,r,o,a,s;return"string"==typeof e&&(a="not ",e.substr(!o||o<0?0:+o,a.length)===a)?(i="must not be",e=e.replace(/^not /,"")):i="must be",o=t,a=" argument",(void 0===s||s>o.length)&&(s=o.length),o=(o.substring(s-a.length,s)===a?"The ".concat(t," "):(s=(r="number"!=typeof r?0:r)+(o=".").length>(s=t).length||-1===s.indexOf(o,r)?"argument":"property",'The "'.concat(t,'" ').concat(s," "))).concat(i," ").concat(l(e,"type")),o+=". Received type ".concat(typeof n)},TypeError),r("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),r("ERR_METHOD_NOT_IMPLEMENTED",function(t){return"The "+t+" method is not implemented"}),r("ERR_STREAM_PREMATURE_CLOSE","Premature close"),r("ERR_STREAM_DESTROYED",function(t){return"Cannot call "+t+" after a stream was destroyed"}),r("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),r("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),r("ERR_STREAM_WRITE_AFTER_END","write after end"),r("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),r("ERR_UNKNOWN_ENCODING",function(t){return"Unknown encoding: "+t},TypeError),r("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),t.exports.codes=i},function(u,t,h){"use strict";!function(t){var e=Object.keys||function(t){var e,n=[];for(e in t)n.push(e);return n},n=(u.exports=s,h(423)),i=h(427);h(10)(s,n);for(var r=e(i.prototype),o=0;o<r.length;o++){var a=r[o];s.prototype[a]||(s.prototype[a]=i.prototype[a])}function s(t){if(!(this instanceof s))return new s(t);n.call(this,t),i.call(this,t),this.allowHalfOpen=!0,t&&(!1===t.readable&&(this.readable=!1),!1===t.writable&&(this.writable=!1),!1===t.allowHalfOpen)&&(this.allowHalfOpen=!1,this.once("end",l))}function l(){this._writableState.ended||t.nextTick(c,this)}function c(t){t.end()}Object.defineProperty(s.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(s.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(s.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(s.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(t){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}})}.call(this,h(36))},function(t,e,n){var u=n(15).Buffer;function i(t,e){this._block=u.alloc(t),this._finalSize=e,this._blockSize=t,this._len=0}i.prototype.update=function(t,e){"string"==typeof t&&(t=u.from(t,e=e||"utf8"));for(var n=this._block,i=this._blockSize,r=t.length,o=this._len,a=0;a<r;){for(var s=o%i,l=Math.min(r-a,i-s),c=0;c<l;c++)n[s+c]=t[a+c];a+=l,(o+=l)%i==0&&this._update(n)}return this._len+=r,this},i.prototype.digest=function(t){var e=this._len%this._blockSize,e=(this._block[e]=128,this._block.fill(0,1+e),e>=this._finalSize&&(this._update(this._block),this._block.fill(0)),8*this._len),e=(e<=4294967295?this._block.writeUInt32BE(e,this._blockSize-4):(this._block.writeUInt32BE((e-(e=(4294967295&e)>>>0))/4294967296,this._blockSize-8),this._block.writeUInt32BE(e,this._blockSize-4)),this._update(this._block),this._hash());return t?e.toString(t):e},i.prototype._update=function(){throw new Error("_update must be implemented by subclass")},t.exports=i},function(t,e,n){"use strict";var i={};function r(t,r,e){var n=function(i){var t,e;function n(t,e,n){return i.call(this,(t=t,e=e,n=n,"string"==typeof r?r:r(t,e,n)))||this}return e=i,(t=n).prototype=Object.create(e.prototype),(t.prototype.constructor=t).__proto__=e,n}(e=e||Error);n.prototype.name=e.name,n.prototype.code=t,i[t]=n}function l(t,e){var n;return Array.isArray(t)?(n=t.length,t=t.map(function(t){return String(t)}),2<n?"one of ".concat(e," ").concat(t.slice(0,n-1).join(", "),", or ")+t[n-1]:2===n?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])):"of ".concat(e," ").concat(String(t))}r("ERR_INVALID_OPT_VALUE",function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'},TypeError),r("ERR_INVALID_ARG_TYPE",function(t,e,n){var i,r,o,a,s;return"string"==typeof e&&(a="not ",e.substr(!o||o<0?0:+o,a.length)===a)?(i="must not be",e=e.replace(/^not /,"")):i="must be",o=t,a=" argument",(void 0===s||s>o.length)&&(s=o.length),o=(o.substring(s-a.length,s)===a?"The ".concat(t," "):(s=(r="number"!=typeof r?0:r)+(o=".").length>(s=t).length||-1===s.indexOf(o,r)?"argument":"property",'The "'.concat(t,'" ').concat(s," "))).concat(i," ").concat(l(e,"type")),o+=". Received type ".concat(typeof n)},TypeError),r("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),r("ERR_METHOD_NOT_IMPLEMENTED",function(t){return"The "+t+" method is not implemented"}),r("ERR_STREAM_PREMATURE_CLOSE","Premature close"),r("ERR_STREAM_DESTROYED",function(t){return"Cannot call "+t+" after a stream was destroyed"}),r("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),r("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),r("ERR_STREAM_WRITE_AFTER_END","write after end"),r("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),r("ERR_UNKNOWN_ENCODING",function(t){return"Unknown encoding: "+t},TypeError),r("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),t.exports.codes=i},function(u,t,h){"use strict";!function(t){var e=Object.keys||function(t){var e,n=[];for(e in t)n.push(e);return n},n=(u.exports=s,h(453)),i=h(457);h(10)(s,n);for(var r=e(i.prototype),o=0;o<r.length;o++){var a=r[o];s.prototype[a]||(s.prototype[a]=i.prototype[a])}function s(t){if(!(this instanceof s))return new s(t);n.call(this,t),i.call(this,t),this.allowHalfOpen=!0,t&&(!1===t.readable&&(this.readable=!1),!1===t.writable&&(this.writable=!1),!1===t.allowHalfOpen)&&(this.allowHalfOpen=!1,this.once("end",l))}function l(){this._writableState.ended||t.nextTick(c,this)}function c(t){t.end()}Object.defineProperty(s.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(s.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(s.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(s.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(t){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}})}.call(this,h(36))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(25);e.default={unzip:function(t,e){var n=jQuery.Deferred();return o.Bridge.unzip(t,e,function(t){t?n.resolve():n.reject()}),n},zip:function(t,e){var n=jQuery.Deferred();return o.Bridge.zip(t,e,function(t){t?n.resolve():n.reject()}),n},dirList:function(t,e){var n=jQuery.Deferred();return o.Bridge.dirList(t,function(t){n.resolve(t)},e),n},moveLocal:function(t,e){var n=jQuery.Deferred();return o.Bridge.moveLocal(t,e,function(t){t?n.resolve():n.reject()}),n},copyLocal:function(t,e){var n=jQuery.Deferred();return o.Bridge.copyLocal(t,e,function(t){t?n.resolve(t):n.reject()}),n},removeLocal:function(t){var e=jQuery.Deferred();return o.Bridge.removeLocal(t,function(t){t?e.resolve():e.reject()}),e},loadLocalFile:function(t){var e=jQuery.Deferred();return o.Bridge.loadLocalFile(t,function(t){e.resolve(t)}),e},saveLocalFile:function(t,e){var n=jQuery.Deferred();return o.Bridge.saveLocalFile(t,e,function(t){t?n.resolve():n.reject()}),n},getLocalJSON:function(t){var e=jQuery.Deferred();return o.Bridge.getLocalJSON(t,function(t){e.resolve(t)},function(t){e.reject(t)}),e},getScreen:function(t,e,n){var i=jQuery.Deferred();return o.Bridge.getScreen(function(t){t?i.resolve(t):i.reject()},t,e,n),i},runFileDialog:function(t,e,n,i){var r=jQuery.Deferred();return o.Bridge.runFileDialog(t,e,n,function(t){t?r.resolve(t):r.reject()},i),r},runFileDialog2:function(t){var e=jQuery.Deferred();return o.Bridge.runFileDialog2(function(t){t?e.resolve(t):e.reject()},t),e},isExistsLocal:function(t,e){var n=jQuery.Deferred();return o.Bridge.isExistsLocal(t,function(t){n.resolve(t),e&&e(t)}),n},addRecent:function(t,e){var n=jQuery.Deferred();return o.Bridge.addRecent(t,function(t){t?n.resolve():n.reject(),e&&e(t)}),n},md5_base64:function(t,e){var n=jQuery.Deferred();return o.Bridge.md5_base64(t,function(t){n.resolve(t),e&&e(t)}),n},getSettings:function(t){var e=jQuery.Deferred();return o.Bridge.getSettings(t,function(t){e.resolve(t)}),e},setSettings:function(t,e){var n=jQuery.Deferred();return o.Bridge.setSettings(t,e,function(t){t?n.resolve():n.reject()}),n},getRecentsList:function(){var e=jQuery.Deferred();return o.Bridge.getRecentsList(function(t){e.resolve(t)}),e},osLocale:function(){var e=jQuery.Deferred();return o.Bridge.osLocale(function(t){e.resolve(t)}),e},verify:function(t,e,n){var i=jQuery.Deferred();return o.Bridge.verify(t,e,function(t){i.resolve(t),n&&n(t)}),i}}},function(t,e,n){"use strict";var i=n(10),r=n(386),o=n(389),a=n(390),s=n(109);function l(t){s.call(this,"digest"),this._hash=t}i(l,s),l.prototype._update=function(t){this._hash.update(t)},l.prototype._final=function(){return this._hash.digest()},t.exports=function(t){return"md5"===(t=t.toLowerCase())?new r:"rmd160"===t||"ripemd160"===t?new o:new l(a(t))}},function(t,e,n){function i(t){return Object.prototype.toString.call(t)}e.isArray=function(t){return Array.isArray?Array.isArray(t):"[object Array]"===i(t)},e.isBoolean=function(t){return"boolean"==typeof t},e.isNull=function(t){return null===t},e.isNullOrUndefined=function(t){return null==t},e.isNumber=function(t){return"number"==typeof t},e.isString=function(t){return"string"==typeof t},e.isSymbol=function(t){return"symbol"==typeof t},e.isUndefined=function(t){return void 0===t},e.isRegExp=function(t){return"[object RegExp]"===i(t)},e.isObject=function(t){return"object"==typeof t&&null!==t},e.isDate=function(t){return"[object Date]"===i(t)},e.isError=function(t){return"[object Error]"===i(t)||t instanceof Error},e.isFunction=function(t){return"function"==typeof t},e.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},e.isBuffer=n(48).Buffer.isBuffer},function(t,e,n){!function(o){t.exports=function(t,e){for(var n=Math.min(t.length,e.length),i=new o(n),r=0;r<n;++r)i[r]=t[r]^e[r];return i}}.call(this,n(48).Buffer)},function(t,e,n){"use strict";var i=n(105),r=n(74);function o(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}(e.BlockHash=o).prototype.update=function(t,e){if(t=i.toArray(t,e),this.pending?this.pending=this.pending.concat(t):this.pending=t,this.pendingTotal+=t.length,this.pending.length>=this._delta8){e=(t=this.pending).length%this._delta8;this.pending=t.slice(t.length-e,t.length),0===this.pending.length&&(this.pending=null),t=i.join32(t,0,t.length-e,this.endian);for(var n=0;n<t.length;n+=this._delta32)this._update(t,n,n+this._delta32)}return this},o.prototype.digest=function(t){return this.update(this._pad()),r(null===this.pending),this._digest(t)},o.prototype._pad=function(){var t=this.pendingTotal,e=this._delta8,n=e-(t+this.padLength)%e,i=new Array(n+this.padLength);i[0]=128;for(var r=1;r<n;r++)i[r]=0;if(t<<=3,"big"===this.endian){for(var o=8;o<this.padLength;o++)i[r++]=0;i[r++]=0,i[r++]=0,i[r++]=0,i[r++]=0,i[r++]=t>>>24&255,i[r++]=t>>>16&255,i[r++]=t>>>8&255,i[r++]=255&t}else for(i[r++]=255&t,i[r++]=t>>>8&255,i[r++]=t>>>16&255,i[r++]=t>>>24&255,i[r++]=0,i[r++]=0,i[r++]=0,i[r++]=0,o=8;o<this.padLength;o++)i[r++]=0;return i}},function(t,e,n){"use strict";var i=n(10);const r=n(406).Reporter,o=n(404).Buffer;function a(t,e){r.call(this,e),o.isBuffer(t)?(this.base=t,this.offset=0,this.length=t.length):this.error("Input not Buffer")}function s(t,e){if(Array.isArray(t))this.length=0,this.value=t.map(function(t){return s.isEncoderBuffer(t)||(t=new s(t,e)),this.length+=t.length,t},this);else if("number"==typeof t){if(!(0<=t&&t<=255))return e.error("non-byte EncoderBuffer value");this.value=t,this.length=1}else if("string"==typeof t)this.value=t,this.length=o.byteLength(t);else{if(!o.isBuffer(t))return e.error("Unsupported type: "+typeof t);this.value=t,this.length=t.length}}i(a,r),(e.DecoderBuffer=a).isDecoderBuffer=function(t){return t instanceof a||"object"==typeof t&&o.isBuffer(t.base)&&"DecoderBuffer"===t.constructor.name&&"number"==typeof t.offset&&"number"==typeof t.length&&"function"==typeof t.save&&"function"==typeof t.restore&&"function"==typeof t.isEmpty&&"function"==typeof t.readUInt8&&"function"==typeof t.skip&&"function"==typeof t.raw},a.prototype.save=function(){return{offset:this.offset,reporter:r.prototype.save.call(this)}},a.prototype.restore=function(t){var e=new a(this.base);return e.offset=t.offset,e.length=this.offset,this.offset=t.offset,r.prototype.restore.call(this,t.reporter),e},a.prototype.isEmpty=function(){return this.offset===this.length},a.prototype.readUInt8=function(t){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(t||"DecoderBuffer overrun")},a.prototype.skip=function(t,e){var n;return this.offset+t<=this.length?((n=new a(this.base))._reporterState=this._reporterState,n.offset=this.offset,n.length=this.offset+t,this.offset+=t,n):this.error(e||"DecoderBuffer overrun")},a.prototype.raw=function(t){return this.base.slice((t||this).offset,this.length)},(e.EncoderBuffer=s).isEncoderBuffer=function(t){return t instanceof s||"object"==typeof t&&"EncoderBuffer"===t.constructor.name&&"number"==typeof t.length&&"function"==typeof t.join},s.prototype.join=function(e,n){return e=e||o.alloc(this.length),n=n||0,0!==this.length&&(Array.isArray(this.value)?this.value.forEach(function(t){t.join(e,n),n+=t.length}):("number"==typeof this.value?e[n]=this.value:"string"==typeof this.value?e.write(this.value,n):o.isBuffer(this.value)&&this.value.copy(e,n),n+=this.length)),e}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=function(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),t};function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var a=n(107);r(s,[{key:"_checkInit",value:function(){if(!this._app)throw new Error("The application is not initialized")}},{key:"afterInit",value:function(t){this._app?t.call(this):this._afterInitCallbacks.push(t)}},{key:"afterLoad",value:function(t){var e=this;this._loaded?t.call(this):this.afterInit(function(){return e._app.on("loaded",t.bind(e))})}},{key:"waitUntilIsLoad",value:function(){var e=this;return new Promise(function(t){return e.afterLoad(t)})}},{key:"afterCoreLoad",value:function(t){var e=this;this._coreLoaded?t.call(this):this.afterInit(function(){return e._app.on("coreLoad",t.bind(e))})}},{key:"enableSaveProject",value:function(){var t=this;this.afterCoreLoad(function(){t._app.runSaveProject=t._runSaveProject})}},{key:"disableSaveProject",value:function(){var t=this;this.afterCoreLoad(function(){t._app.runSaveProject=function(t){return t&&t(!0)}})}},{key:"saveProjectSettings",value:function(t,e){var n=this;this.afterCoreLoad(function(){n._checkInit(),n._app.saveProjectSettings(t,e)})}},{key:"showPreloader",value:function(){this._checkInit(),this._app.showPreloader()}},{key:"showError",value:function(t,e){var n=this;(t="object"!==(void 0===t?"undefined":i(t))?{message:t||"Unknown error"}:t).callback=t.callback||e,window.bootbox?window.bootbox.alert(t):this.afterCoreLoad(function(){return n._app.showError(t)})}},{key:"loadProject",value:function(t){var e=this,n=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).onFinally;this._checkInit(),this._app.loadProject(t,0,{noSave:!0,onError:function(){e._app.hidePreloader(),n&&n()},onDone:function(){e._app.closeSidebar(),e._app.hidePreloader(),n&&n()}})}},{key:"showDialog",value:function(t){return this._checkInit(),this._app.showDialog(t)}},{key:"isPremiumUser",value:function(){return this._app.isPremiumUser()}},{key:"goToBuyPremium",value:function(){var t;return(t=this._app).goToBuyPremium.apply(t,arguments)}},{key:"reqUserInfo",value:function(){return this._app.reqUserInfo()}},{key:"getActiveTheme",value:function(){return this._app.theme}},{key:"getProjectSettings",value:function(){return this._app.projectSettings}}]);n=s;function s(){var e=this;if(!(this instanceof s))throw new TypeError("Cannot call a class as a function");this._afterInitCallbacks=[],(0,a.whenDocumentLoaded)(function(){defineM(["mbrApp"],function(t){e._app=t,e._app.on("loaded",function(){return e._loaded=!0}),e._app.on("coreLoad",function(){e._coreLoaded=!0,e._runSaveProject=e._app.runSaveProject}),e._afterInitCallbacks.forEach(function(t){return t.call(e)}),e._afterInitCallbacks=[]})})}e.default=new n},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n,i=arguments[e];for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},i=function(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t};function r(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var o=a(n(410)),c=a(n(76)),u=n(107);function a(t){return t&&t.__esModule?t:{default:t}}function s(t){return function(){var s=t.apply(this,arguments);return new Promise(function(o,a){return function e(t,n){try{var i=s[t](n),r=i.value}catch(t){return void a(t)}if(!i.done)return Promise.resolve(r).then(function(t){e("next",t)},function(t){e("throw",t)});o(r)}("next")})}}i(m,null,[{key:"create",value:(h=s(regeneratorRuntime.mark(function t(){var e,n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.default.request("/v2/pages",{method:"POST",body:JSON.stringify(n)});case 2:return e=t.sent,t.abrupt("return",new this({status:e.status,meta:(0,u.pick)(e.meta,["id","pageTitle","systemMessage"]),urls:e.urls}));case 4:case"end":return t.stop()}},t,this)})),function(){return h.apply(this,arguments)})}]),i(m,[{key:"fetchMobiriseProject",value:function(){return c.default.request("/v2/pages/"+this.id+"/project.mobirise")}},{key:"waitUntilIsReady",value:(p=s(regeneratorRuntime.mark(function t(){var e,n,i,r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},o=r.maxErrors,a=void 0===o?5:o,o=r.timeout,s=void 0===o?300:o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=a,n=Date.now();case 2:return t.prev=3,t.next=6,c.default.request("/v2/pages/"+this.id+"/status");case 6:if("READY"===(i=t.sent).name)return this.status="READY",t.abrupt("return");t.next=10;break;case 10:if("ERROR"===i.name)throw l(new Error(i.reason),{code:"PageFillError"});t.next=12;break;case 12:t.next=20;break;case 14:if(t.prev=14,t.t0=t.catch(3),"PageFillError"===t.t0.code)throw t.t0;t.next=18;break;case 18:if(--e<=0)throw t.t0;t.next=20;break;case 20:if(Date.now()-n>1e3*s)throw l(new Error("Timeout of "+s+"s exceeded"),{code:"TimeoutError"});t.next=22;break;case 22:return t.next=24,(0,u.sleep)((0,u.random)(1e3,4e3));case 24:t.next=2;break;case 26:case"end":return t.stop()}},t,this,[[3,14]])})),function(){return p.apply(this,arguments)})},{key:"randomize",value:function(t,e){return c.default.request("/v2/pages/"+this.id+"/random",{method:"POST",body:JSON.stringify(l({seed:t},e))})}},{key:"publishTo",value:(f=s(regeneratorRuntime.mark(function t(e){var n,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.default.request("/v2/pages/"+this.id+"/publish",{method:"POST",body:JSON.stringify({service:"mobirisesite.com",options:l({},i,{siteId:e.id})})});case 2:return n=t.sent,n=n.job,t.abrupt("return",new o.default(n));case 5:case"end":return t.stop()}},t,this)})),function(t){return f.apply(this,arguments)})},{key:"getMobiriseProject",value:(d=s(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.default.request("/v2/pages/"+this.id+"/project.mobirise");case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)})),function(){return d.apply(this,arguments)})},{key:"toJSON",value:function(){return this.props}},{key:"id",get:function(){return this.props.meta.id}},{key:"status",get:function(){return this.props.status.name},set:function(t){return this.props.status.name=t}},{key:"urls",get:function(){return this.props.urls}}]);var h,d,f,p,n=m;function m(t){if(!(this instanceof m))throw new TypeError("Cannot call a class as a function");this.props=t}e.default=n},function(t,r,o){!function(t){var e=void 0!==t&&t||"undefined"!=typeof self&&self||window,n=Function.prototype.apply;function i(t,e){this._id=t,this._clearFn=e}r.setTimeout=function(){return new i(n.call(setTimeout,e,arguments),clearTimeout)},r.setInterval=function(){return new i(n.call(setInterval,e,arguments),clearInterval)},r.clearTimeout=r.clearInterval=function(t){t&&t.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(e,this._id)},r.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},r.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},r._unrefActive=r.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;0<=e&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},o(372),r.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,r.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}.call(this,o(26))},function(t,_,x){"use strict";x.r(_),function(t){x.d(_,"Headers",function(){return d}),x.d(_,"Request",function(){return m}),x.d(_,"Response",function(){return b}),x.d(_,"DOMException",function(){return y}),x.d(_,"fetch",function(){return w});var e,n,l="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof self&&self||void 0!==t&&t||{},c={searchParams:"URLSearchParams"in l,iterable:"Symbol"in l&&"iterator"in Symbol,blob:"FileReader"in l&&"Blob"in l&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in l,arrayBuffer:"ArrayBuffer"in l};function u(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(t)||""===t)throw new TypeError('Invalid character in header field name: "'+t+'"');return t.toLowerCase()}function h(t){return t="string"!=typeof t?String(t):t}function i(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return c.iterable&&(t[Symbol.iterator]=function(){return t}),t}function d(e){this.map={},e instanceof d?e.forEach(function(t,e){this.append(e,t)},this):Array.isArray(e)?e.forEach(function(t){if(2!=t.length)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+t.length);this.append(t[0],t[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function r(t){if(!t._noBody)return t.bodyUsed?Promise.reject(new TypeError("Already read")):void(t.bodyUsed=!0)}function o(n){return new Promise(function(t,e){n.onload=function(){t(n.result)},n.onerror=function(){e(n.error)}})}function a(t){var e=new FileReader,n=o(e);return e.readAsArrayBuffer(t),n}function s(t){var e;return t.slice?t.slice(0):((e=new Uint8Array(t.byteLength)).set(new Uint8Array(t)),e.buffer)}function f(){return this.bodyUsed=!1,this._initBody=function(t){var e;this.bodyUsed=this.bodyUsed,(this._bodyInit=t)?"string"==typeof t?this._bodyText=t:c.blob&&Blob.prototype.isPrototypeOf(t)?this._bodyBlob=t:c.formData&&FormData.prototype.isPrototypeOf(t)?this._bodyFormData=t:c.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)?this._bodyText=t.toString():c.arrayBuffer&&c.blob&&(e=t)&&DataView.prototype.isPrototypeOf(e)?(this._bodyArrayBuffer=s(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):c.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(t)||n(t))?this._bodyArrayBuffer=s(t):this._bodyText=t=Object.prototype.toString.call(t):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):c.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},c.blob&&(this.blob=function(){var t=r(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer)return r(this)||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer));if(c.blob)return this.blob().then(a);throw new Error("could not read as ArrayBuffer")},this.text=function(){var t,e,n,i=r(this);if(i)return i;if(this._bodyBlob)return i=this._bodyBlob,t=new FileReader,e=o(t),n=(n=/charset=([A-Za-z0-9_-]+)/.exec(i.type))?n[1]:"utf-8",t.readAsText(i,n),e;if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),n=new Array(e.length),i=0;i<e.length;i++)n[i]=String.fromCharCode(e[i]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},c.formData&&(this.formData=function(){return this.text().then(g)}),this.json=function(){return this.text().then(JSON.parse)},this}c.arrayBuffer&&(e=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],n=ArrayBuffer.isView||function(t){return t&&-1<e.indexOf(Object.prototype.toString.call(t))}),d.prototype.append=function(t,e){t=u(t),e=h(e);var n=this.map[t];this.map[t]=n?n+", "+e:e},d.prototype.delete=function(t){delete this.map[u(t)]},d.prototype.get=function(t){return t=u(t),this.has(t)?this.map[t]:null},d.prototype.has=function(t){return this.map.hasOwnProperty(u(t))},d.prototype.set=function(t,e){this.map[u(t)]=h(e)},d.prototype.forEach=function(t,e){for(var n in this.map)this.map.hasOwnProperty(n)&&t.call(e,this.map[n],n,this)},d.prototype.keys=function(){var n=[];return this.forEach(function(t,e){n.push(e)}),i(n)},d.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),i(e)},d.prototype.entries=function(){var n=[];return this.forEach(function(t,e){n.push([e,t])}),i(n)},c.iterable&&(d.prototype[Symbol.iterator]=d.prototype.entries);var p=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function m(t,e){if(!(this instanceof m))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var n,i=(e=e||{}).body;if(t instanceof m){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new d(t.headers)),this.method=t.method,this.mode=t.mode,this.signal=t.signal,i||null==t._bodyInit||(i=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"same-origin",!e.headers&&this.headers||(this.headers=new d(e.headers)),this.method=(t=e.method||this.method||"GET",n=t.toUpperCase(),-1<p.indexOf(n)?n:t),this.mode=e.mode||this.mode||null,this.signal=e.signal||this.signal||function(){if("AbortController"in l)return(new AbortController).signal}(),this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(i),"GET"!==this.method&&"HEAD"!==this.method||"no-store"!==e.cache&&"no-cache"!==e.cache||((n=/([?&])_=[^&]*/).test(this.url)?this.url=this.url.replace(n,"$1_="+(new Date).getTime()):this.url+=(/\?/.test(this.url)?"&":"?")+"_="+(new Date).getTime())}function g(t){var n=new FormData;return t.trim().split("&").forEach(function(t){var e;t&&(e=(t=t.split("=")).shift().replace(/\+/g," "),t=t.join("=").replace(/\+/g," "),n.append(decodeURIComponent(e),decodeURIComponent(t)))}),n}function b(t,e){if(!(this instanceof b))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(e=e||{},this.type="default",this.status=void 0===e.status?200:e.status,this.status<200||599<this.status)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=200<=this.status&&this.status<300,this.statusText=void 0===e.statusText?"":""+e.statusText,this.headers=new d(e.headers),this.url=e.url||"",this._initBody(t)}m.prototype.clone=function(){return new m(this,{body:this._bodyInit})},f.call(m.prototype),f.call(b.prototype),b.prototype.clone=function(){return new b(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new d(this.headers),url:this.url})},b.error=function(){var t=new b(null,{status:200,statusText:""});return t.status=0,t.type="error",t};var v=[301,302,303,307,308],y=(b.redirect=function(t,e){if(-1===v.indexOf(e))throw new RangeError("Invalid status code");return new b(null,{status:e,headers:{location:t}})},l.DOMException);try{new y}catch(t){(y=function(t,e){this.message=t,this.name=e;e=Error(t);this.stack=e.stack}).prototype=Object.create(Error.prototype),y.prototype.constructor=y}function w(a,s){return new Promise(function(r,t){var e=new m(a,s);if(e.signal&&e.signal.aborted)return t(new y("Aborted","AbortError"));var n,o=new XMLHttpRequest;function i(){o.abort()}o.onload=function(){var t,n,e={status:o.status,statusText:o.statusText,headers:(t=o.getAllResponseHeaders()||"",n=new d,t.replace(/\r?\n[\t ]+/g," ").split("\r").map(function(t){return 0===t.indexOf("\n")?t.substr(1,t.length):t}).forEach(function(t){var t=t.split(":"),e=t.shift().trim();if(e){t=t.join(":").trim();try{n.append(e,t)}catch(t){console.warn("Response "+t.message)}}}),n)},i=(e.url="responseURL"in o?o.responseURL:e.headers.get("X-Request-URL"),"response"in o?o.response:o.responseText);setTimeout(function(){r(new b(i,e))},0)},o.onerror=function(){setTimeout(function(){t(new TypeError("Network request failed"))},0)},o.ontimeout=function(){setTimeout(function(){t(new TypeError("Network request failed"))},0)},o.onabort=function(){setTimeout(function(){t(new y("Aborted","AbortError"))},0)},o.open(e.method,function(e){try{return""===e&&l.location.href?l.location.href:e}catch(t){return e}}(e.url),!0),"include"===e.credentials?o.withCredentials=!0:"omit"===e.credentials&&(o.withCredentials=!1),"responseType"in o&&(c.blob?o.responseType="blob":c.arrayBuffer&&(o.responseType="arraybuffer")),s&&"object"==typeof s.headers&&!(s.headers instanceof d||l.Headers&&s.headers instanceof l.Headers)?(n=[],Object.getOwnPropertyNames(s.headers).forEach(function(t){n.push(u(t)),o.setRequestHeader(t,h(s.headers[t]))}),e.headers.forEach(function(t,e){-1===n.indexOf(e)&&o.setRequestHeader(e,t)})):e.headers.forEach(function(t,e){o.setRequestHeader(e,t)}),e.signal&&(e.signal.addEventListener("abort",i),o.onreadystatechange=function(){4===o.readyState&&e.signal.removeEventListener("abort",i)}),o.send(void 0===e._bodyInit?null:e._bodyInit)})}w.polyfill=!0,l.fetch||(l.fetch=w,l.Headers=d,l.Request=m,l.Response=b)}.call(this,x(26))},function(t,e,n){"use strict";!function(t){if(n(171),n(368),n(369),t._babelPolyfill)throw new Error("only one instance of babel-polyfill is allowed");t._babelPolyfill=!0;function e(t,e,n){t[e]||Object.defineProperty(t,e,{writable:!0,configurable:!0,value:n})}e(String.prototype,"padLeft","".padStart),e(String.prototype,"padRight","".padEnd),"pop,reverse,shift,keys,values,entries,indexOf,every,some,forEach,map,filter,find,findIndex,includes,join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill".split(",").forEach(function(t){[][t]&&e(Array,t,Function.call.bind([][t]))})}.call(this,n(26))},function(t,e,n){n(172),n(175),n(176),n(177),n(178),n(179),n(180),n(181),n(182),n(183),n(184),n(185),n(186),n(187),n(188),n(189),n(190),n(191),n(192),n(193),n(194),n(195),n(196),n(197),n(198),n(199),n(200),n(201),n(202),n(203),n(204),n(205),n(206),n(207),n(208),n(209),n(210),n(211),n(212),n(213),n(214),n(215),n(216),n(217),n(218),n(219),n(220),n(221),n(222),n(223),n(224),n(225),n(226),n(227),n(228),n(229),n(230),n(231),n(232),n(233),n(234),n(235),n(236),n(237),n(238),n(239),n(240),n(241),n(242),n(243),n(244),n(245),n(246),n(247),n(248),n(249),n(250),n(252),n(253),n(255),n(256),n(257),n(258),n(259),n(260),n(261),n(263),n(264),n(265),n(266),n(267),n(268),n(269),n(270),n(271),n(272),n(273),n(274),n(275),n(98),n(276),n(129),n(277),n(130),n(278),n(279),n(280),n(281),n(282),n(133),n(135),n(136),n(283),n(284),n(285),n(286),n(287),n(288),n(289),n(290),n(291),n(292),n(293),n(294),n(295),n(296),n(297),n(298),n(299),n(300),n(301),n(302),n(303),n(304),n(305),n(306),n(307),n(308),n(309),n(310),n(311),n(312),n(313),n(314),n(315),n(316),n(317),n(318),n(319),n(320),n(321),n(322),n(323),n(324),n(325),n(326),n(327),n(328),n(329),n(330),n(331),n(332),n(333),n(334),n(335),n(336),n(337),n(338),n(339),n(340),n(341),n(342),n(343),n(344),n(345),n(346),n(347),n(348),n(349),n(350),n(351),n(352),n(353),n(354),n(355),n(356),n(357),n(358),n(359),n(360),n(361),n(362),n(363),n(364),n(365),n(366),n(367),t.exports=n(20)},function(D,B,t){"use strict";function i(t){var e=P[t]=y(x[k]);return e._k=t,e}function n(t,e){m(t);for(var n,i=H(e=g(e)),r=0,o=i.length;r<o;)I(t,n=i[r++],e[n]);return t}function e(t){var e=tt.call(this,t=b(t,!0));return!(this===T&&l(P,t)&&!l(A,t))&&(!(e||!l(this,t)||!l(P,t)||l(this,C)&&this[C][t])||e)}function r(t,e){var n;if(t=g(t),e=b(e,!0),t!==T||!l(P,e)||l(A,e))return!(n=Y(t,e))||!l(P,e)||l(t,C)&&t[C][e]||(n.enumerable=!0),n}function o(t){for(var e,n=X(g(t)),i=[],r=0;n.length>r;)l(P,e=n[r++])||e==C||e==F||i.push(e);return i}function a(t){for(var e,n=t===T,i=X(n?A:g(t)),r=[],o=0;i.length>o;)!l(P,e=i[o++])||n&&!l(T,e)||r.push(P[e]);return r}var s=t(2),l=t(16),c=t(7),u=t(0),N=t(13),F=t(34).KEY,h=t(3),d=t(53),f=t(49),$=t(38),p=t(5),U=t(111),z=t(79),H=t(174),q=t(60),m=t(1),W=t(4),V=t(9),g=t(17),b=t(27),v=t(37),y=t(41),K=t(114),Z=t(18),w=t(59),G=t(8),J=t(39),Y=Z.f,_=G.f,X=K.f,x=s.Symbol,M=s.JSON,S=M&&M.stringify,k="prototype",C=p("_hidden"),Q=p("toPrimitive"),tt={}.propertyIsEnumerable,E=d("symbol-registry"),P=d("symbols"),A=d("op-symbols"),T=Object[k],d="function"==typeof x&&!!w.f,j=s.QObject,L=!j||!j[k]||!j[k].findChild,O=c&&h(function(){return 7!=y(_({},"a",{get:function(){return _(this,"a",{value:7}).a}})).a})?function(t,e,n){var i=Y(T,e);i&&delete T[e],_(t,e,n),i&&t!==T&&_(T,e,i)}:_,R=d&&"symbol"==typeof x.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof x},I=function(t,e,n){return t===T&&I(A,e,n),m(t),e=b(e,!0),m(n),(l(P,e)?(n.enumerable?(l(t,C)&&t[C][e]&&(t[C][e]=!1),n=y(n,{enumerable:v(0,!1)})):(l(t,C)||_(t,C,v(1,{})),t[C][e]=!0),O):_)(t,e,n)};d||(N((x=function(){if(this instanceof x)throw TypeError("Symbol is not a constructor!");var e=$(0<arguments.length?arguments[0]:void 0),n=function(t){this===T&&n.call(A,t),l(this,C)&&l(this[C],e)&&(this[C][e]=!1),O(this,e,v(1,t))};return c&&L&&O(T,e,{configurable:!0,set:n}),i(e)})[k],"toString",function(){return this._k}),Z.f=r,G.f=I,t(42).f=K.f=o,t(55).f=e,w.f=a,c&&!t(33)&&N(T,"propertyIsEnumerable",e,!0),U.f=function(t){return i(p(t))}),u(u.G+u.W+u.F*!d,{Symbol:x});for(var et="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),nt=0;et.length>nt;)p(et[nt++]);for(var it=J(p.store),rt=0;it.length>rt;)z(it[rt++]);u(u.S+u.F*!d,"Symbol",{for:function(t){return l(E,t+="")?E[t]:E[t]=x(t)},keyFor:function(t){if(!R(t))throw TypeError(t+" is not a symbol!");for(var e in E)if(E[e]===t)return e},useSetter:function(){L=!0},useSimple:function(){L=!1}}),u(u.S+u.F*!d,"Object",{create:function(t,e){return void 0===e?y(t):n(y(t),e)},defineProperty:I,defineProperties:n,getOwnPropertyDescriptor:r,getOwnPropertyNames:o,getOwnPropertySymbols:a});j=h(function(){w.f(1)});u(u.S+u.F*j,"Object",{getOwnPropertySymbols:function(t){return w.f(V(t))}}),M&&u(u.S+u.F*(!d||h(function(){var t=x();return"[null]"!=S([t])||"{}"!=S({a:t})||"{}"!=S(Object(t))})),"JSON",{stringify:function(t){for(var e,n,i=[t],r=1;r<arguments.length;)i.push(arguments[r++]);if(n=e=i[1],(W(e)||void 0!==t)&&!R(t))return q(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!R(e))return e}),i[1]=e,S.apply(M,i)}}),x[k][Q]||t(12)(x[k],Q,x[k].valueOf),f(x,"Symbol"),f(Math,"Math",!0),f(s.JSON,"JSON",!0)},function(t,e,n){t.exports=n(53)("native-function-to-string",Function.toString)},function(t,e,n){var s=n(39),l=n(59),c=n(55);t.exports=function(t){var e=s(t),n=l.f;if(n)for(var i,r=n(t),o=c.f,a=0;r.length>a;)o.call(t,i=r[a++])&&e.push(i);return e}},function(t,e,n){var i=n(0);i(i.S,"Object",{create:n(41)})},function(t,e,n){var i=n(0);i(i.S+i.F*!n(7),"Object",{defineProperty:n(8).f})},function(t,e,n){var i=n(0);i(i.S+i.F*!n(7),"Object",{defineProperties:n(113)})},function(t,e,n){var i=n(17),r=n(18).f;n(29)("getOwnPropertyDescriptor",function(){return function(t,e){return r(i(t),e)}})},function(t,e,n){var i=n(9),r=n(19);n(29)("getPrototypeOf",function(){return function(t){return r(i(t))}})},function(t,e,n){var i=n(9),r=n(39);n(29)("keys",function(){return function(t){return r(i(t))}})},function(t,e,n){n(29)("getOwnPropertyNames",function(){return n(114).f})},function(t,e,n){var i=n(4),r=n(34).onFreeze;n(29)("freeze",function(e){return function(t){return e&&i(t)?e(r(t)):t}})},function(t,e,n){var i=n(4),r=n(34).onFreeze;n(29)("seal",function(e){return function(t){return e&&i(t)?e(r(t)):t}})},function(t,e,n){var i=n(4),r=n(34).onFreeze;n(29)("preventExtensions",function(e){return function(t){return e&&i(t)?e(r(t)):t}})},function(t,e,n){var i=n(4);n(29)("isFrozen",function(e){return function(t){return!i(t)||!!e&&e(t)}})},function(t,e,n){var i=n(4);n(29)("isSealed",function(e){return function(t){return!i(t)||!!e&&e(t)}})},function(t,e,n){var i=n(4);n(29)("isExtensible",function(e){return function(t){return!!i(t)&&(!e||e(t))}})},function(t,e,n){var i=n(0);i(i.S+i.F,"Object",{assign:n(115)})},function(t,e,n){var i=n(0);i(i.S,"Object",{is:n(116)})},function(t,e,n){var i=n(0);i(i.S,"Object",{setPrototypeOf:n(83).set})},function(t,e,n){"use strict";var i=n(50),r={};r[n(5)("toStringTag")]="z",r+""!="[object z]"&&n(13)(Object.prototype,"toString",function(){return"[object "+i(this)+"]"},!0)},function(t,e,n){var i=n(0);i(i.P,"Function",{bind:n(117)})},function(t,e,n){var i=n(8).f,r=Function.prototype,o=/^\s*function ([^ (]*)/;"name"in r||n(7)&&i(r,"name",{configurable:!0,get:function(){try{return(""+this).match(o)[1]}catch(t){return""}}})},function(t,e,n){"use strict";var i=n(4),r=n(19),o=n(5)("hasInstance"),a=Function.prototype;o in a||n(8).f(a,o,{value:function(t){if("function"==typeof this&&i(t)){if(!i(this.prototype))return t instanceof this;for(;t=r(t);)if(this.prototype===t)return!0}return!1}})},function(t,e,n){var i=n(0),n=n(119);i(i.G+i.F*(parseInt!=n),{parseInt:n})},function(t,e,n){var i=n(0),n=n(120);i(i.G+i.F*(parseFloat!=n),{parseFloat:n})},function(t,e,n){"use strict";function i(t){if("string"==typeof(e=c(t,!1))&&2<e.length){var e,n,i,r,t=(e=v?e.trim():f(e,3)).charCodeAt(0);if(43===t||45===t){if(88===(n=e.charCodeAt(2))||120===n)return NaN}else if(48===t){switch(e.charCodeAt(1)){case 66:case 98:i=2,r=49;break;case 79:case 111:i=8,r=55;break;default:return+e}for(var o,a=e.slice(2),s=0,l=a.length;s<l;s++)if((o=a.charCodeAt(s))<48||r<o)return NaN;return parseInt(a,i)}}return+e}var r=n(2),o=n(16),a=n(22),s=n(85),c=n(27),l=n(3),u=n(42).f,h=n(18).f,d=n(8).f,f=n(51).trim,p="Number",m=w=r[p],g=w.prototype,b=a(n(41)(g))==p,v="trim"in String.prototype;if(!w(" 0o1")||!w("0b1")||w("+0x1")){for(var y,w=function(t){var t=arguments.length<1?0:t,e=this;return e instanceof w&&(b?l(function(){g.valueOf.call(e)}):a(e)!=p)?s(new m(i(t)),e,w):i(t)},_=n(7)?u(m):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),x=0;_.length>x;x++)o(m,y=_[x])&&!o(w,y)&&d(w,y,h(m,y));(w.prototype=g).constructor=w,n(13)(r,p,w)}},function(t,e,n){"use strict";function a(t,e){for(var n=-1,i=e;++n<6;)f[n]=(i+=t*f[n])%1e7,i=o(i/1e7)}function s(t){for(var e=6,n=0;0<=--e;)f[e]=o((n+=f[e])/t),n=n%t*1e7}function l(){for(var t,e=6,n="";0<=--e;)""===n&&0!==e&&0===f[e]||(t=String(f[e]),n=""===n?t:n+d.call("0",7-t.length)+t);return n}function c(t,e,n){return 0===e?n:e%2==1?c(t,e-1,n*t):c(t*t,e/2,n)}var i=n(0),u=n(23),h=n(121),d=n(86),r=1..toFixed,o=Math.floor,f=[0,0,0,0,0,0],p="Number.toFixed: incorrect invocation!";i(i.P+i.F*(!!r&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==0xde0b6b3a7640080.toFixed(0))||!n(3)(function(){r.call({})})),"Number",{toFixed:function(t){var e,n,i=h(this,p),t=u(t),r="",o="0";if(t<0||20<t)throw RangeError(p);if(i!=i)return"NaN";if(i<=-1e21||1e21<=i)return String(i);if(i<0&&(r="-",i=-i),1e-21<i)if(i=(e=function(t){for(var e=0,n=t;4096<=n;)e+=12,n/=4096;for(;2<=n;)e+=1,n/=2;return e}(i*c(2,69,1))-69)<0?i*c(2,-e,1):i/c(2,e,1),i*=4503599627370496,0<(e=52-e)){for(a(0,i),n=t;7<=n;)a(1e7,0),n-=7;for(a(c(10,n,1),0),n=e-1;23<=n;)s(1<<23),n-=23;s(1<<n),a(1,1),s(2),o=l()}else a(0,i),a(1<<-e,0),o=l()+d.call("0",t);return o=0<t?r+((i=o.length)<=t?"0."+d.call("0",t-i)+o:o.slice(0,i-t)+"."+o.slice(i-t)):r+o}})},function(t,e,n){"use strict";var i=n(0),r=n(3),o=n(121),a=1..toPrecision;i(i.P+i.F*(r(function(){return"1"!==a.call(1,void 0)})||!r(function(){a.call({})})),"Number",{toPrecision:function(t){var e=o(this,"Number#toPrecision: incorrect invocation!");return void 0===t?a.call(e):a.call(e,t)}})},function(t,e,n){n=n(0);n(n.S,"Number",{EPSILON:Math.pow(2,-52)})},function(t,e,n){var i=n(0),r=n(2).isFinite;i(i.S,"Number",{isFinite:function(t){return"number"==typeof t&&r(t)}})},function(t,e,n){var i=n(0);i(i.S,"Number",{isInteger:n(122)})},function(t,e,n){n=n(0);n(n.S,"Number",{isNaN:function(t){return t!=t}})},function(t,e,n){var i=n(0),r=n(122),o=Math.abs;i(i.S,"Number",{isSafeInteger:function(t){return r(t)&&o(t)<=9007199254740991}})},function(t,e,n){n=n(0);n(n.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(t,e,n){n=n(0);n(n.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},function(t,e,n){var i=n(0),n=n(120);i(i.S+i.F*(Number.parseFloat!=n),"Number",{parseFloat:n})},function(t,e,n){var i=n(0),n=n(119);i(i.S+i.F*(Number.parseInt!=n),"Number",{parseInt:n})},function(t,e,n){var i=n(0),r=n(123),o=Math.sqrt,n=Math.acosh;i(i.S+i.F*!(n&&710==Math.floor(n(Number.MAX_VALUE))&&n(1/0)==1/0),"Math",{acosh:function(t){return(t=+t)<1?NaN:94906265.62425156<t?Math.log(t)+Math.LN2:r(t-1+o(t-1)*o(t+1))}})},function(t,e,n){var n=n(0),i=Math.asinh;n(n.S+n.F*!(i&&0<1/i(0)),"Math",{asinh:function t(e){return isFinite(e=+e)&&0!=e?e<0?-t(-e):Math.log(e+Math.sqrt(e*e+1)):e}})},function(t,e,n){var n=n(0),i=Math.atanh;n(n.S+n.F*!(i&&1/i(-0)<0),"Math",{atanh:function(t){return 0==(t=+t)?t:Math.log((1+t)/(1-t))/2}})},function(t,e,n){var i=n(0),r=n(87);i(i.S,"Math",{cbrt:function(t){return r(t=+t)*Math.pow(Math.abs(t),1/3)}})},function(t,e,n){n=n(0);n(n.S,"Math",{clz32:function(t){return(t>>>=0)?31-Math.floor(Math.log(t+.5)*Math.LOG2E):32}})},function(t,e,n){var n=n(0),i=Math.exp;n(n.S,"Math",{cosh:function(t){return(i(t=+t)+i(-t))/2}})},function(t,e,n){var i=n(0),n=n(88);i(i.S+i.F*(n!=Math.expm1),"Math",{expm1:n})},function(t,e,n){var i=n(0);i(i.S,"Math",{fround:n(124)})},function(t,e,n){var n=n(0),l=Math.abs;n(n.S,"Math",{hypot:function(t,e){for(var n,i,r=0,o=0,a=arguments.length,s=0;o<a;)s<(n=l(arguments[o++]))?(r=r*(i=s/n)*i+1,s=n):r+=0<n?(i=n/s)*i:n;return s===1/0?1/0:s*Math.sqrt(r)}})},function(t,e,n){var i=n(0),r=Math.imul;i(i.S+i.F*n(3)(function(){return-5!=r(4294967295,5)||2!=r.length}),"Math",{imul:function(t,e){var t=+t,e=+e,n=65535&t,i=65535&e;return 0|n*i+((65535&t>>>16)*i+n*(65535&e>>>16)<<16>>>0)}})},function(t,e,n){n=n(0);n(n.S,"Math",{log10:function(t){return Math.log(t)*Math.LOG10E}})},function(t,e,n){var i=n(0);i(i.S,"Math",{log1p:n(123)})},function(t,e,n){n=n(0);n(n.S,"Math",{log2:function(t){return Math.log(t)/Math.LN2}})},function(t,e,n){var i=n(0);i(i.S,"Math",{sign:n(87)})},function(t,e,n){var i=n(0),r=n(88),o=Math.exp;i(i.S+i.F*n(3)(function(){return-2e-17!=!Math.sinh(-2e-17)}),"Math",{sinh:function(t){return Math.abs(t=+t)<1?(r(t)-r(-t))/2:(o(t-1)-o(-t-1))*(Math.E/2)}})},function(t,e,n){var i=n(0),r=n(88),o=Math.exp;i(i.S,"Math",{tanh:function(t){var e=r(t=+t),n=r(-t);return e==1/0?1:n==1/0?-1:(e-n)/(o(t)+o(-t))}})},function(t,e,n){n=n(0);n(n.S,"Math",{trunc:function(t){return(0<t?Math.floor:Math.ceil)(t)}})},function(t,e,n){var i=n(0),o=n(40),a=String.fromCharCode,n=String.fromCodePoint;i(i.S+i.F*(!!n&&1!=n.length),"String",{fromCodePoint:function(t){for(var e,n=[],i=arguments.length,r=0;r<i;){if(e=+arguments[r++],o(e,1114111)!==e)throw RangeError(e+" is not a valid code point");n.push(e<65536?a(e):a(55296+((e-=65536)>>10),e%1024+56320))}return n.join("")}})},function(t,e,n){var i=n(0),a=n(17),s=n(6);i(i.S,"String",{raw:function(t){for(var e=a(t.raw),n=s(e.length),i=arguments.length,r=[],o=0;o<n;)r.push(String(e[o++])),o<i&&r.push(String(arguments[o]));return r.join("")}})},function(t,e,n){"use strict";n(51)("trim",function(t){return function(){return t(this,3)}})},function(t,e,n){"use strict";var i=n(61)(!0);n(89)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t=this._t,e=this._i;return e>=t.length?{value:void 0,done:!0}:(t=i(t,e),this._i+=t.length,{value:t,done:!1})})},function(t,e,n){"use strict";var i=n(0),r=n(61)(!1);i(i.P,"String",{codePointAt:function(t){return r(this,t)}})},function(t,e,n){"use strict";var i=n(0),r=n(6),o=n(91),a="endsWith",s=""[a];i(i.P+i.F*n(92)(a),"String",{endsWith:function(t){var e=o(this,t,a),n=1<arguments.length?arguments[1]:void 0,i=r(e.length),n=void 0===n?i:Math.min(r(n),i),i=String(t);return s?s.call(e,i,n):e.slice(n-i.length,n)===i}})},function(t,e,n){"use strict";var i=n(0),r=n(91);i(i.P+i.F*n(92)("includes"),"String",{includes:function(t){return!!~r(this,t,"includes").indexOf(t,1<arguments.length?arguments[1]:void 0)}})},function(t,e,n){var i=n(0);i(i.P,"String",{repeat:n(86)})},function(t,e,n){"use strict";var i=n(0),r=n(6),o=n(91),a="startsWith",s=""[a];i(i.P+i.F*n(92)(a),"String",{startsWith:function(t){var e=o(this,t,a),n=r(Math.min(1<arguments.length?arguments[1]:void 0,e.length)),t=String(t);return s?s.call(e,t,n):e.slice(n,n+t.length)===t}})},function(t,e,n){"use strict";n(14)("anchor",function(e){return function(t){return e(this,"a","name",t)}})},function(t,e,n){"use strict";n(14)("big",function(t){return function(){return t(this,"big","","")}})},function(t,e,n){"use strict";n(14)("blink",function(t){return function(){return t(this,"blink","","")}})},function(t,e,n){"use strict";n(14)("bold",function(t){return function(){return t(this,"b","","")}})},function(t,e,n){"use strict";n(14)("fixed",function(t){return function(){return t(this,"tt","","")}})},function(t,e,n){"use strict";n(14)("fontcolor",function(e){return function(t){return e(this,"font","color",t)}})},function(t,e,n){"use strict";n(14)("fontsize",function(e){return function(t){return e(this,"font","size",t)}})},function(t,e,n){"use strict";n(14)("italics",function(t){return function(){return t(this,"i","","")}})},function(t,e,n){"use strict";n(14)("link",function(e){return function(t){return e(this,"a","href",t)}})},function(t,e,n){"use strict";n(14)("small",function(t){return function(){return t(this,"small","","")}})},function(t,e,n){"use strict";n(14)("strike",function(t){return function(){return t(this,"strike","","")}})},function(t,e,n){"use strict";n(14)("sub",function(t){return function(){return t(this,"sub","","")}})},function(t,e,n){"use strict";n(14)("sup",function(t){return function(){return t(this,"sup","","")}})},function(t,e,n){n=n(0);n(n.S,"Date",{now:function(){return(new Date).getTime()}})},function(t,e,n){"use strict";var i=n(0),r=n(9),o=n(27);i(i.P+i.F*n(3)(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}),"Date",{toJSON:function(t){var e=r(this),n=o(e);return"number"!=typeof n||isFinite(n)?e.toISOString():null}})},function(t,e,n){var i=n(0),n=n(251);i(i.P+i.F*(Date.prototype.toISOString!==n),"Date",{toISOString:n})},function(t,e,n){"use strict";function i(t){return 9<t?t:"0"+t}var n=n(3),r=Date.prototype.getTime,o=Date.prototype.toISOString;t.exports=n(function(){return"0385-07-25T07:06:39.999Z"!=o.call(new Date(-5e13-1))})||!n(function(){o.call(new Date(NaN))})?function(){var t,e,n;if(isFinite(r.call(this)))return t=this.getUTCFullYear(),e=this.getUTCMilliseconds(),(n=t<0?"-":9999<t?"+":"")+("00000"+Math.abs(t)).slice(n?-6:-4)+"-"+i(this.getUTCMonth()+1)+"-"+i(this.getUTCDate())+"T"+i(this.getUTCHours())+":"+i(this.getUTCMinutes())+":"+i(this.getUTCSeconds())+"."+(99<e?e:"0"+i(e))+"Z";throw RangeError("Invalid time value")}:o},function(t,e,n){var i=Date.prototype,r="Invalid Date",o=i.toString,a=i.getTime;new Date(NaN)+""!=r&&n(13)(i,"toString",function(){var t=a.call(this);return t==t?o.call(this):r})},function(t,e,n){var i=n(5)("toPrimitive"),r=Date.prototype;i in r||n(12)(r,i,n(254))},function(t,e,n){"use strict";var i=n(1),r=n(27);t.exports=function(t){if("string"!==t&&"number"!==t&&"default"!==t)throw TypeError("Incorrect hint");return r(i(this),"number"!=t)}},function(t,e,n){var i=n(0);i(i.S,"Array",{isArray:n(60)})},function(t,e,n){"use strict";var h=n(21),i=n(0),d=n(9),f=n(125),p=n(93),m=n(6),g=n(94),b=n(95);i(i.S+i.F*!n(63)(function(t){Array.from(t)}),"Array",{from:function(t){var e,n,i,r,o=d(t),t="function"==typeof this?this:Array,a=arguments.length,s=1<a?arguments[1]:void 0,l=void 0!==s,c=0,u=b(o);if(l&&(s=h(s,2<a?arguments[2]:void 0,2)),null==u||t==Array&&p(u))for(n=new t(e=m(o.length));c<e;c++)g(n,c,l?s(o[c],c):o[c]);else for(r=u.call(o),n=new t;!(i=r.next()).done;c++)g(n,c,l?f(r,s,[i.value,c],!0):i.value);return n.length=c,n}})},function(t,e,n){"use strict";var i=n(0),r=n(94);i(i.S+i.F*n(3)(function(){function t(){}return!(Array.of.call(t)instanceof t)}),"Array",{of:function(){for(var t=0,e=arguments.length,n=new("function"==typeof this?this:Array)(e);t<e;)r(n,t,arguments[t++]);return n.length=e,n}})},function(t,e,n){"use strict";var i=n(0),r=n(17),o=[].join;i(i.P+i.F*(n(54)!=Object||!n(24)(o)),"Array",{join:function(t){return o.call(r(this),void 0===t?",":t)}})},function(t,e,n){"use strict";var i=n(0),r=n(82),l=n(22),c=n(40),u=n(6),h=[].slice;i(i.P+i.F*n(3)(function(){r&&h.call(r)}),"Array",{slice:function(t,e){var n=u(this.length),i=l(this);if(e=void 0===e?n:e,"Array"==i)return h.call(this,t,e);for(var r=c(t,n),t=c(e,n),o=u(t-r),a=new Array(o),s=0;s<o;s++)a[s]="String"==i?this.charAt(r+s):this[r+s];return a}})},function(t,e,n){"use strict";var i=n(0),r=n(11),o=n(9),a=n(3),s=[].sort,l=[1,2,3];i(i.P+i.F*(a(function(){l.sort(void 0)})||!a(function(){l.sort(null)})||!n(24)(s)),"Array",{sort:function(t){return void 0===t?s.call(o(this)):s.call(o(this),r(t))}})},function(t,e,n){"use strict";var i=n(0),r=n(30)(0),n=n(24)([].forEach,!0);i(i.P+i.F*!n,"Array",{forEach:function(t){return r(this,t,arguments[1])}})},function(t,e,n){var i=n(4),r=n(60),o=n(5)("species");t.exports=function(t){var e;return void 0===(e=r(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!r(e.prototype)||(e=void 0),i(e))&&null===(e=e[o])?void 0:e)?Array:e}},function(t,e,n){"use strict";var i=n(0),r=n(30)(1);i(i.P+i.F*!n(24)([].map,!0),"Array",{map:function(t){return r(this,t,arguments[1])}})},function(t,e,n){"use strict";var i=n(0),r=n(30)(2);i(i.P+i.F*!n(24)([].filter,!0),"Array",{filter:function(t){return r(this,t,arguments[1])}})},function(t,e,n){"use strict";var i=n(0),r=n(30)(3);i(i.P+i.F*!n(24)([].some,!0),"Array",{some:function(t){return r(this,t,arguments[1])}})},function(t,e,n){"use strict";var i=n(0),r=n(30)(4);i(i.P+i.F*!n(24)([].every,!0),"Array",{every:function(t){return r(this,t,arguments[1])}})},function(t,e,n){"use strict";var i=n(0),r=n(126);i(i.P+i.F*!n(24)([].reduce,!0),"Array",{reduce:function(t){return r(this,t,arguments.length,arguments[1],!1)}})},function(t,e,n){"use strict";var i=n(0),r=n(126);i(i.P+i.F*!n(24)([].reduceRight,!0),"Array",{reduceRight:function(t){return r(this,t,arguments.length,arguments[1],!0)}})},function(t,e,n){"use strict";var i=n(0),r=n(58)(!1),o=[].indexOf,a=!!o&&1/[1].indexOf(1,-0)<0;i(i.P+i.F*(a||!n(24)(o)),"Array",{indexOf:function(t){return a?o.apply(this,arguments)||0:r(this,t,arguments[1])}})},function(t,e,n){"use strict";var i=n(0),r=n(17),o=n(23),a=n(6),s=[].lastIndexOf,l=!!s&&1/[1].lastIndexOf(1,-0)<0;i(i.P+i.F*(l||!n(24)(s)),"Array",{lastIndexOf:function(t){if(l)return s.apply(this,arguments)||0;var e=r(this),n=a(e.length),i=n-1;for((i=1<arguments.length?Math.min(i,o(arguments[1])):i)<0&&(i=n+i);0<=i;i--)if(i in e&&e[i]===t)return i||0;return-1}})},function(t,e,n){var i=n(0);i(i.P,"Array",{copyWithin:n(127)}),n(35)("copyWithin")},function(t,e,n){var i=n(0);i(i.P,"Array",{fill:n(97)}),n(35)("fill")},function(t,e,n){"use strict";var i=n(0),r=n(30)(5),o=!0;"find"in[]&&Array(1).find(function(){o=!1}),i(i.P+i.F*o,"Array",{find:function(t){return r(this,t,1<arguments.length?arguments[1]:void 0)}}),n(35)("find")},function(t,e,n){"use strict";var i=n(0),r=n(30)(6),o="findIndex",a=!0;o in[]&&Array(1)[o](function(){a=!1}),i(i.P+i.F*a,"Array",{findIndex:function(t){return r(this,t,1<arguments.length?arguments[1]:void 0)}}),n(35)(o)},function(t,e,n){n(43)("Array")},function(t,e,n){var i=n(2),o=n(85),r=n(8).f,a=n(42).f,s=n(62),l=n(56),c=p=i.RegExp,u=p.prototype,h=/a/g,d=/a/g,f=new p(h)!==h;if(n(7)&&(!f||n(3)(function(){return d[n(5)("match")]=!1,p(h)!=h||p(d)==d||"/a/i"!=p(h,"i")}))){for(var p=function(t,e){var n=this instanceof p,i=s(t),r=void 0===e;return!n&&i&&t.constructor===p&&r?t:o(f?new c(i&&!r?t.source:t,e):c((i=t instanceof p)?t.source:t,i&&r?l.call(t):e),n?this:u,p)},m=a(c),g=0;m.length>g;)!function(e){e in p||r(p,e,{configurable:!0,get:function(){return c[e]},set:function(t){c[e]=t}})}(m[g++]);(u.constructor=p).prototype=u,n(13)(i,"RegExp",p)}n(43)("RegExp")},function(t,e,n){"use strict";n(130);function i(t){n(13)(RegExp.prototype,s,t,!0)}var r=n(1),o=n(56),a=n(7),s="toString",l=/./[s];n(3)(function(){return"/a/b"!=l.call({source:"a",flags:"b"})})?i(function(){var t=r(this);return"/".concat(t.source,"/","flags"in t?t.flags:!a&&t instanceof RegExp?o.call(t):void 0)}):l.name!=s&&i(function(){return l.call(this)})},function(t,e,n){"use strict";var u=n(1),h=n(6),d=n(100),f=n(64);n(65)("match",1,function(i,r,l,c){return[function(t){var e=i(this),n=null==t?void 0:t[r];return void 0!==n?n.call(t,e):new RegExp(t)[r](String(e))},function(t){var e=c(l,t,this);if(e.done)return e.value;var n=u(t),i=String(this);if(!n.global)return f(n,i);for(var r=n.unicode,o=[],a=n.lastIndex=0;null!==(s=f(n,i));){var s=String(s[0]);""===(o[a]=s)&&(n.lastIndex=d(i,h(n.lastIndex),r)),a++}return 0===a?null:o}]})},function(t,e,n){"use strict";var x=n(1),M=n(9),S=n(6),k=n(23),C=n(100),E=n(64),P=Math.max,A=Math.min,T=Math.floor,j=/\$([$&`']|\d\d?|<[^>]*>)/g,L=/\$([$&`']|\d\d?)/g;n(65)("replace",2,function(r,o,w,_){return[function(t,e){var n=r(this),i=null==t?void 0:t[o];return void 0!==i?i.call(t,n,e):w.call(String(n),t,e)},function(t,e){var n=_(w,t,this,e);if(n.done)return n.value;for(var i,r=x(t),o=String(this),a="function"==typeof e,s=(a||(e=String(e)),r.global),l=(s&&(i=r.unicode,r.lastIndex=0),[]);null!==(f=E(r,o))&&(l.push(f),s);)""===String(f[0])&&(r.lastIndex=C(o,S(r.lastIndex),i));for(var c,u="",h=0,d=0;d<l.length;d++){for(var f=l[d],p=String(f[0]),m=P(A(k(f.index),o.length),0),g=[],b=1;b<f.length;b++)g.push(void 0===(c=f[b])?c:String(c));var v=f.groups,y=a?(y=[p].concat(g,m,o),void 0!==v&&y.push(v),String(e.apply(void 0,y))):function(o,a,s,l,c,t){var u=s+o.length,h=l.length,e=L;void 0!==c&&(c=M(c),e=j);return w.call(t,e,function(t,e){var n;switch(e.charAt(0)){case"$":return"$";case"&":return o;case"`":return a.slice(0,s);case"'":return a.slice(u);case"<":n=c[e.slice(1,-1)];break;default:var i,r=+e;if(0==r)return t;if(h<r)return 0!==(i=T(r/10))&&i<=h?void 0===l[i-1]?e.charAt(1):l[i-1]+e.charAt(1):t;n=l[r-1]}return void 0===n?"":n})}(p,o,m,g,v,e);h<=m&&(u+=o.slice(h,m)+y,h=m+p.length)}return u+o.slice(h)}]})},function(t,e,n){"use strict";var s=n(1),l=n(116),c=n(64);n(65)("search",1,function(i,r,o,a){return[function(t){var e=i(this),n=null==t?void 0:t[r];return void 0!==n?n.call(t,e):new RegExp(t)[r](String(e))},function(t){var e,n=a(o,t,this);return n.done?n.value:(n=s(t),t=String(this),e=n.lastIndex,l(e,0)||(n.lastIndex=0),t=c(n,t),l(n.lastIndex,e)||(n.lastIndex=e),null===t?-1:t.index)}]})},function(t,e,n){"use strict";var h=n(62),b=n(1),v=n(57),y=n(100),w=n(6),_=n(64),d=n(99),i=n(3),x=Math.min,f=[].push,a="split",M="length",S="lastIndex",k=4294967295,C=!i(function(){RegExp(k,"y")});n(65)("split",2,function(r,o,p,m){var g="c"=="abbc"[a](/(b)*/)[1]||4!="test"[a](/(?:)/,-1)[M]||2!="ab"[a](/(?:ab)*/)[M]||4!="."[a](/(.?)(.?)/)[M]||1<"."[a](/()()/)[M]||""[a](/.?/)[M]?function(t,e){var n=String(this);if(void 0===t&&0===e)return[];if(!h(t))return p.call(n,t,e);for(var i,r,o,a=[],s=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),l=0,c=void 0===e?k:e>>>0,u=new RegExp(t.source,s+"g");(i=d.call(u,n))&&!(l<(r=u[S])&&(a.push(n.slice(l,i.index)),1<i[M]&&i.index<n[M]&&f.apply(a,i.slice(1)),o=i[0][M],l=r,c<=a[M]));)u[S]===i.index&&u[S]++;return l===n[M]?!o&&u.test("")||a.push(""):a.push(n.slice(l)),c<a[M]?a.slice(0,c):a}:"0"[a](void 0,0)[M]?function(t,e){return void 0===t&&0===e?[]:p.call(this,t,e)}:p;return[function(t,e){var n=r(this),i=null==t?void 0:t[o];return void 0!==i?i.call(t,n,e):g.call(String(n),t,e)},function(t,e){var n=m(g,t,this,e,g!==p);if(n.done)return n.value;var n=b(t),i=String(this),t=v(n,RegExp),r=n.unicode,o=(n.ignoreCase?"i":"")+(n.multiline?"m":"")+(n.unicode?"u":"")+(C?"y":"g"),a=new t(C?n:"^(?:"+n.source+")",o),s=void 0===e?k:e>>>0;if(0==s)return[];if(0===i.length)return null===_(a,i)?[i]:[];for(var l=0,c=0,u=[];c<i.length;){a.lastIndex=C?c:0;var h,d=_(a,C?i:i.slice(c));if(null===d||(h=x(w(a.lastIndex+(C?0:c)),i.length))===l)c=y(i,c,r);else{if(u.push(i.slice(l,c)),u.length===s)return u;for(var f=1;f<=d.length-1;f++)if(u.push(d[f]),u.length===s)return u;c=l=h}}return u.push(i.slice(l)),u}]})},function(I,D,n){"use strict";function i(){}var e,r,o,a,s=n(33),d=n(2),l=n(21),t=n(50),c=n(0),u=n(4),h=n(11),f=n(44),p=n(45),m=n(57),g=n(101).set,b=n(102)(),v=n(103),y=n(131),w=n(66),_=n(132),x="Promise",M=d.TypeError,S=d.process,k=S&&S.versions,C=k&&k.v8||"",E=d[x],P="process"==t(S),A=r=v.f,k=!!function(){try{var t=E.resolve(1),e=(t.constructor={})[n(5)("species")]=function(t){t(i,i)};return(P||"function"==typeof PromiseRejectionEvent)&&t.then(i)instanceof e&&0!==C.indexOf("6.6")&&-1===w.indexOf("Chrome/66")}catch(t){}}(),T=function(t){var e;return!(!u(t)||"function"!=typeof(e=t.then))&&e},j=function(h,n){var i;h._n||(h._n=!0,i=h._c,b(function(){for(var r,c=h._v,u=1==h._s,t=0,e=function(t){var e,n,i,r,o=u?t.ok:t.fail,a=t.resolve,s=t.reject,l=t.domain;try{o?(u||(2==h._h&&(r=h,g.call(d,function(){var t;P?S.emit("rejectionHandled",r):(t=d.onrejectionhandled)&&t({promise:r,reason:r._v})})),h._h=1),!0===o?e=c:(l&&l.enter(),e=o(c),l&&(l.exit(),i=!0)),e===t.promise?s(M("Promise-chain cycle")):(n=T(e))?n.call(e,a,s):a(e)):s(c)}catch(t){l&&!i&&l.exit(),s(t)}};i.length>t;)e(i[t++]);h._c=[],h._n=!1,n&&!h._h&&(r=h,g.call(d,function(){var t,e,n=r._v,i=L(r);if(i&&(t=y(function(){P?S.emit("unhandledRejection",n,r):(e=d.onunhandledrejection)?e({promise:r,reason:n}):(e=d.console)&&e.error&&e.error("Unhandled promise rejection",n)}),r._h=P||L(r)?2:1),r._a=void 0,i&&t.e)throw t.v}))}))},L=function(t){return 1!==t._h&&0===(t._a||t._c).length},O=function(t){var e=this;e._d||(e._d=!0,(e=e._w||e)._v=t,e._s=2,e._a||(e._a=e._c.slice()),j(e,!0))},R=function(t){var n,i=this;if(!i._d){i._d=!0,i=i._w||i;try{if(i===t)throw M("Promise can't be resolved itself");(n=T(t))?b(function(){var e={_w:i,_d:!1};try{n.call(t,l(R,e,1),l(O,e,1))}catch(t){O.call(e,t)}}):(i._v=t,i._s=1,j(i,!1))}catch(t){O.call({_w:i,_d:!1},t)}}};k||(E=function(t){f(this,E,x,"_h"),h(t),e.call(this);try{t(l(R,this,1),l(O,this,1))}catch(t){O.call(this,t)}},(e=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(46)(E.prototype,{then:function(t,e){var n=A(m(this,E));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=P?S.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&j(this,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),o=function(){var t=new e;this.promise=t,this.resolve=l(R,t,1),this.reject=l(O,t,1)},v.f=A=function(t){return t===E||t===a?new o:r(t)}),c(c.G+c.W+c.F*!k,{Promise:E}),n(49)(E,x),n(43)(x),a=n(20)[x],c(c.S+c.F*!k,x,{reject:function(t){var e=A(this);return(0,e.reject)(t),e.promise}}),c(c.S+c.F*(s||!k),x,{resolve:function(t){return _(s&&this===a?E:this,t)}}),c(c.S+c.F*!(k&&n(63)(function(t){E.all(t).catch(i)})),x,{all:function(t){var a=this,e=A(a),s=e.resolve,l=e.reject,n=y(function(){var i=[],r=0,o=1;p(t,!1,function(t){var e=r++,n=!1;i.push(void 0),o++,a.resolve(t).then(function(t){n||(n=!0,i[e]=t,--o)||s(i)},l)}),--o||s(i)});return n.e&&l(n.v),e.promise},race:function(t){var e=this,n=A(e),i=n.reject,r=y(function(){p(t,!1,function(t){e.resolve(t).then(n.resolve,i)})});return r.e&&i(r.v),n.promise}})},function(t,e,n){"use strict";var i=n(137),r=n(47);n(67)("WeakSet",function(t){return function(){return t(this,0<arguments.length?arguments[0]:void 0)}},{add:function(t){return i.def(r(this,"WeakSet"),t,!0)}},i,!1,!0)},function(t,e,n){"use strict";var i=n(0),r=n(68),o=n(104),l=n(1),c=n(40),u=n(6),a=n(4),s=n(2).ArrayBuffer,h=n(57),d=o.ArrayBuffer,f=o.DataView,p=r.ABV&&s.isView,m=d.prototype.slice,g=r.VIEW,o="ArrayBuffer";i(i.G+i.W+i.F*(s!==d),{ArrayBuffer:d}),i(i.S+i.F*!r.CONSTR,o,{isView:function(t){return p&&p(t)||a(t)&&g in t}}),i(i.P+i.U+i.F*n(3)(function(){return!new d(2).slice(1,void 0).byteLength}),o,{slice:function(t,e){if(void 0!==m&&void 0===e)return m.call(l(this),t);for(var n=l(this).byteLength,i=c(t,n),r=c(void 0===e?n:e,n),t=new(h(this,d))(u(r-i)),o=new f(this),a=new f(t),s=0;i<r;)a.setUint8(s++,o.getUint8(i++));return t}}),n(43)(o)},function(t,e,n){var i=n(0);i(i.G+i.W+i.F*!n(68).ABV,{DataView:n(104).DataView})},function(t,e,n){n(31)("Int8",1,function(i){return function(t,e,n){return i(this,t,e,n)}})},function(t,e,n){n(31)("Uint8",1,function(i){return function(t,e,n){return i(this,t,e,n)}})},function(t,e,n){n(31)("Uint8",1,function(i){return function(t,e,n){return i(this,t,e,n)}},!0)},function(t,e,n){n(31)("Int16",2,function(i){return function(t,e,n){return i(this,t,e,n)}})},function(t,e,n){n(31)("Uint16",2,function(i){return function(t,e,n){return i(this,t,e,n)}})},function(t,e,n){n(31)("Int32",4,function(i){return function(t,e,n){return i(this,t,e,n)}})},function(t,e,n){n(31)("Uint32",4,function(i){return function(t,e,n){return i(this,t,e,n)}})},function(t,e,n){n(31)("Float32",4,function(i){return function(t,e,n){return i(this,t,e,n)}})},function(t,e,n){n(31)("Float64",8,function(i){return function(t,e,n){return i(this,t,e,n)}})},function(t,e,n){var i=n(0),r=n(11),o=n(1),a=(n(2).Reflect||{}).apply,s=Function.apply;i(i.S+i.F*!n(3)(function(){a(function(){})}),"Reflect",{apply:function(t,e,n){t=r(t),n=o(n);return a?a(t,e,n):s.call(t,e,n)}})},function(t,e,n){var i=n(0),r=n(41),o=n(11),a=n(1),s=n(4),l=n(3),c=n(117),u=(n(2).Reflect||{}).construct,h=l(function(){function t(){}return!(u(function(){},[],t)instanceof t)}),d=!l(function(){u(function(){})});i(i.S+i.F*(h||d),"Reflect",{construct:function(t,e){o(t),a(e);var n=arguments.length<3?t:o(arguments[2]);if(d&&!h)return u(t,e,n);if(t==n){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var i=[null];return i.push.apply(i,e),new(c.apply(t,i))}i=n.prototype,n=r(s(i)?i:Object.prototype),i=Function.apply.call(t,n,e);return s(i)?i:n}})},function(t,e,n){var i=n(8),r=n(0),o=n(1),a=n(27);r(r.S+r.F*n(3)(function(){Reflect.defineProperty(i.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function(t,e,n){o(t),e=a(e,!0),o(n);try{return i.f(t,e,n),!0}catch(t){return!1}}})},function(t,e,n){var i=n(0),r=n(18).f,o=n(1);i(i.S,"Reflect",{deleteProperty:function(t,e){var n=r(o(t),e);return!(n&&!n.configurable)&&delete t[e]}})},function(t,e,n){"use strict";function i(t){this._t=o(t),this._i=0;var e,n=this._k=[];for(e in t)n.push(e)}var r=n(0),o=n(1);n(90)(i,"Object",function(){var t,e=this._k;do{if(this._i>=e.length)return{value:void 0,done:!0}}while(!((t=e[this._i++])in this._t));return{value:t,done:!1}}),r(r.S,"Reflect",{enumerate:function(t){return new i(t)}})},function(t,e,n){var o=n(18),a=n(19),s=n(16),i=n(0),l=n(4),c=n(1);i(i.S,"Reflect",{get:function t(e,n){var i,r=arguments.length<3?e:arguments[2];return c(e)===r?e[n]:(i=o.f(e,n))?s(i,"value")?i.value:void 0!==i.get?i.get.call(r):void 0:l(i=a(e))?t(i,n,r):void 0}})},function(t,e,n){var i=n(18),r=n(0),o=n(1);r(r.S,"Reflect",{getOwnPropertyDescriptor:function(t,e){return i.f(o(t),e)}})},function(t,e,n){var i=n(0),r=n(19),o=n(1);i(i.S,"Reflect",{getPrototypeOf:function(t){return r(o(t))}})},function(t,e,n){n=n(0);n(n.S,"Reflect",{has:function(t,e){return e in t}})},function(t,e,n){var i=n(0),r=n(1),o=Object.isExtensible;i(i.S,"Reflect",{isExtensible:function(t){return r(t),!o||o(t)}})},function(t,e,n){var i=n(0);i(i.S,"Reflect",{ownKeys:n(139)})},function(t,e,n){var i=n(0),r=n(1),o=Object.preventExtensions;i(i.S,"Reflect",{preventExtensions:function(t){r(t);try{return o&&o(t),!0}catch(t){return!1}}})},function(t,e,n){var s=n(8),l=n(18),c=n(19),u=n(16),i=n(0),h=n(37),d=n(1),f=n(4);i(i.S,"Reflect",{set:function t(e,n,i){var r,o=arguments.length<4?e:arguments[3],a=l.f(d(e),n);if(!a){if(f(r=c(e)))return t(r,n,i,o);a=h(0)}if(u(a,"value")){if(!1===a.writable||!f(o))return!1;if(r=l.f(o,n)){if(r.get||r.set||!1===r.writable)return!1;r.value=i,s.f(o,n,r)}else s.f(o,n,h(0,i));return!0}return void 0!==a.set&&(a.set.call(o,i),!0)}})},function(t,e,n){var i=n(0),r=n(83);r&&i(i.S,"Reflect",{setPrototypeOf:function(t,e){r.check(t,e);try{return r.set(t,e),!0}catch(t){return!1}}})},function(t,e,n){"use strict";var i=n(0),r=n(58)(!0);i(i.P,"Array",{includes:function(t){return r(this,t,1<arguments.length?arguments[1]:void 0)}}),n(35)("includes")},function(t,e,n){"use strict";var i=n(0),r=n(140),o=n(9),a=n(6),s=n(11),l=n(96);i(i.P,"Array",{flatMap:function(t){var e,n,i=o(this);return s(t),e=a(i.length),n=l(i,0),r(n,i,i,e,0,1,t,arguments[1]),n}}),n(35)("flatMap")},function(t,e,n){"use strict";var i=n(0),r=n(140),o=n(9),a=n(6),s=n(23),l=n(96);i(i.P,"Array",{flatten:function(){var t=arguments[0],e=o(this),n=a(e.length),i=l(e,0);return r(i,e,e,n,0,void 0===t?1:s(t)),i}}),n(35)("flatten")},function(t,e,n){"use strict";var i=n(0),r=n(61)(!0),n=n(3)(function(){return""!=="".at(0)});i(i.P+i.F*n,"String",{at:function(t){return r(this,t)}})},function(t,e,n){"use strict";var i=n(0),r=n(141),n=n(66),n=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(n);i(i.P+i.F*n,"String",{padStart:function(t){return r(this,t,1<arguments.length?arguments[1]:void 0,!0)}})},function(t,e,n){"use strict";var i=n(0),r=n(141),n=n(66),n=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(n);i(i.P+i.F*n,"String",{padEnd:function(t){return r(this,t,1<arguments.length?arguments[1]:void 0,!1)}})},function(t,e,n){"use strict";n(51)("trimLeft",function(t){return function(){return t(this,1)}},"trimStart")},function(t,e,n){"use strict";n(51)("trimRight",function(t){return function(){return t(this,2)}},"trimEnd")},function(t,e,n){"use strict";function i(t,e){this._r=t,this._s=e}var r=n(0),o=n(28),a=n(6),s=n(62),l=n(56),c=RegExp.prototype;n(90)(i,"RegExp String",function(){var t=this._r.exec(this._s);return{value:t,done:null===t}}),r(r.P,"String",{matchAll:function(t){var e,n;if(o(this),s(t))return e=String(this),n="flags"in c?String(t.flags):l.call(t),(n=new RegExp(t.source,~n.indexOf("g")?n:"g"+n)).lastIndex=a(t.lastIndex),new i(n,e);throw TypeError(t+" is not a regexp!")}})},function(t,e,n){n(79)("asyncIterator")},function(t,e,n){n(79)("observable")},function(t,e,n){var i=n(0),l=n(139),c=n(17),u=n(18),h=n(94);i(i.S,"Object",{getOwnPropertyDescriptors:function(t){for(var e,n,i=c(t),r=u.f,o=l(i),a={},s=0;o.length>s;)void 0!==(n=r(i,e=o[s++]))&&h(a,e,n);return a}})},function(t,e,n){var i=n(0),r=n(142)(!1);i(i.S,"Object",{values:function(t){return r(t)}})},function(t,e,n){var i=n(0),r=n(142)(!0);i(i.S,"Object",{entries:function(t){return r(t)}})},function(t,e,n){"use strict";var i=n(0),r=n(9),o=n(11),a=n(8);n(7)&&i(i.P+n(69),"Object",{__defineGetter__:function(t,e){a.f(r(this),t,{get:o(e),enumerable:!0,configurable:!0})}})},function(t,e,n){"use strict";var i=n(0),r=n(9),o=n(11),a=n(8);n(7)&&i(i.P+n(69),"Object",{__defineSetter__:function(t,e){a.f(r(this),t,{set:o(e),enumerable:!0,configurable:!0})}})},function(t,e,n){"use strict";var i=n(0),r=n(9),o=n(27),a=n(19),s=n(18).f;n(7)&&i(i.P+n(69),"Object",{__lookupGetter__:function(t){var e,n=r(this),i=o(t,!0);do{if(e=s(n,i))return e.get}while(n=a(n))}})},function(t,e,n){"use strict";var i=n(0),r=n(9),o=n(27),a=n(19),s=n(18).f;n(7)&&i(i.P+n(69),"Object",{__lookupSetter__:function(t){var e,n=r(this),i=o(t,!0);do{if(e=s(n,i))return e.set}while(n=a(n))}})},function(t,e,n){var i=n(0);i(i.P+i.R,"Map",{toJSON:n(143)("Map")})},function(t,e,n){var i=n(0);i(i.P+i.R,"Set",{toJSON:n(143)("Set")})},function(t,e,n){n(70)("Map")},function(t,e,n){n(70)("Set")},function(t,e,n){n(70)("WeakMap")},function(t,e,n){n(70)("WeakSet")},function(t,e,n){n(71)("Map")},function(t,e,n){n(71)("Set")},function(t,e,n){n(71)("WeakMap")},function(t,e,n){n(71)("WeakSet")},function(t,e,n){var i=n(0);i(i.G,{global:n(2)})},function(t,e,n){var i=n(0);i(i.S,"System",{global:n(2)})},function(t,e,n){var i=n(0),r=n(22);i(i.S,"Error",{isError:function(t){return"Error"===r(t)}})},function(t,e,n){n=n(0);n(n.S,"Math",{clamp:function(t,e,n){return Math.min(n,Math.max(e,t))}})},function(t,e,n){n=n(0);n(n.S,"Math",{DEG_PER_RAD:Math.PI/180})},function(t,e,n){var n=n(0),i=180/Math.PI;n(n.S,"Math",{degrees:function(t){return t*i}})},function(t,e,n){var i=n(0),o=n(145),a=n(124);i(i.S,"Math",{fscale:function(t,e,n,i,r){return a(o(t,e,n,i,r))}})},function(t,e,n){n=n(0);n(n.S,"Math",{iaddh:function(t,e,n,i){t>>>=0,n>>>=0;return(e>>>0)+(i>>>0)+((t&n|(t|n)&~(t+n>>>0))>>>31)|0}})},function(t,e,n){n=n(0);n(n.S,"Math",{isubh:function(t,e,n,i){t>>>=0,n>>>=0;return(e>>>0)-(i>>>0)-((~t&n|~(t^n)&t-n>>>0)>>>31)|0}})},function(t,e,n){n=n(0);n(n.S,"Math",{imulh:function(t,e){var t=+t,e=+e,n=65535&t,i=65535&e,t=t>>16,e=e>>16,i=(t*i>>>0)+(n*i>>>16);return t*e+(i>>16)+((n*e>>>0)+(65535&i)>>16)}})},function(t,e,n){n=n(0);n(n.S,"Math",{RAD_PER_DEG:180/Math.PI})},function(t,e,n){var n=n(0),i=Math.PI/180;n(n.S,"Math",{radians:function(t){return t*i}})},function(t,e,n){var i=n(0);i(i.S,"Math",{scale:n(145)})},function(t,e,n){n=n(0);n(n.S,"Math",{umulh:function(t,e){var t=+t,e=+e,n=65535&t,i=65535&e,t=t>>>16,e=e>>>16,i=(t*i>>>0)+(n*i>>>16);return t*e+(i>>>16)+((n*e>>>0)+(65535&i)>>>16)}})},function(t,e,n){n=n(0);n(n.S,"Math",{signbit:function(t){return(t=+t)!=t?t:0==t?1/t==1/0:0<t}})},function(t,e,n){"use strict";var i=n(0),r=n(20),o=n(2),a=n(57),s=n(132);i(i.P+i.R,"Promise",{finally:function(e){var n=a(this,r.Promise||o.Promise),t="function"==typeof e;return this.then(t?function(t){return s(n,e()).then(function(){return t})}:e,t?function(t){return s(n,e()).then(function(){throw t})}:e)}})},function(t,e,n){"use strict";var i=n(0),r=n(103),o=n(131);i(i.S,"Promise",{try:function(t){var e=r.f(this),t=o(t);return(t.e?e.reject:e.resolve)(t.v),e.promise}})},function(t,e,n){var i=n(32),r=n(1),o=i.key,a=i.set;i.exp({defineMetadata:function(t,e,n,i){a(t,e,r(n),o(i))}})},function(t,e,n){var i=n(32),r=n(1),o=i.key,a=i.map,s=i.store;i.exp({deleteMetadata:function(t,e){var n=arguments.length<3?void 0:o(arguments[2]),i=a(r(e),n,!1);return!(void 0===i||!i.delete(t))&&(!!i.size||((i=s.get(e)).delete(n),!!i.size)||s.delete(e))}})},function(t,e,n){function i(t,e,n){return s(t,e,n)?l(t,e,n):null!==(e=a(e))?i(t,e,n):void 0}var r=n(32),o=n(1),a=n(19),s=r.has,l=r.get,c=r.key;r.exp({getMetadata:function(t,e){return i(t,o(e),arguments.length<3?void 0:c(arguments[2]))}})},function(t,e,n){function i(t,e){var n=c(t,e);return null!==(t=l(t))&&(t=i(t,e)).length?n.length?o(new r(n.concat(t))):t:n}var r=n(135),o=n(144),a=n(32),s=n(1),l=n(19),c=a.keys,u=a.key;a.exp({getMetadataKeys:function(t){return i(s(t),arguments.length<2?void 0:u(arguments[1]))}})},function(t,e,n){var i=n(32),r=n(1),o=i.get,a=i.key;i.exp({getOwnMetadata:function(t,e){return o(t,r(e),arguments.length<3?void 0:a(arguments[2]))}})},function(t,e,n){var i=n(32),r=n(1),o=i.keys,a=i.key;i.exp({getOwnMetadataKeys:function(t){return o(r(t),arguments.length<2?void 0:a(arguments[1]))}})},function(t,e,n){function i(t,e,n){return!!s(t,e,n)||null!==(e=a(e))&&i(t,e,n)}var r=n(32),o=n(1),a=n(19),s=r.has,l=r.key;r.exp({hasMetadata:function(t,e){return i(t,o(e),arguments.length<3?void 0:l(arguments[2]))}})},function(t,e,n){var i=n(32),r=n(1),o=i.has,a=i.key;i.exp({hasOwnMetadata:function(t,e){return o(t,r(e),arguments.length<3?void 0:a(arguments[2]))}})},function(t,e,n){var i=n(32),r=n(1),o=n(11),a=i.key,s=i.set;i.exp({metadata:function(n,i){return function(t,e){s(n,i,(void 0!==e?r:o)(t),a(e))}}})},function(t,e,n){var i=n(0),r=n(102)(),o=n(2).process,a="process"==n(22)(o);i(i.G,{asap:function(t){var e=a&&o.domain;r(e?e.bind(t):t)}})},function(t,e,n){"use strict";function r(t){return null==t?void 0:f(t)}function o(t){var e=t._c;e&&(t._c=void 0,e())}function a(t){return void 0===t._o}function s(t){a(t)||(t._o=void 0,o(t))}function i(e,t){p(e),this._c=void 0,this._o=e,e=new w(this);try{var n=t(e),i=n;null!=n&&("function"==typeof n.unsubscribe?n=function(){i.unsubscribe()}:f(n),this._c=n)}catch(t){return void e.error(t)}a(this)&&o(this)}var l=n(0),c=n(2),u=n(20),h=n(102)(),d=n(5)("observable"),f=n(11),p=n(1),m=n(44),g=n(46),b=n(12),v=n(45),y=v.RETURN,w=(i.prototype=g({},{unsubscribe:function(){s(this)}}),function(t){this._s=t}),_=(w.prototype=g({},{next:function(t){var e=this._s;if(!a(e)){var n=e._o;try{var i=r(n.next);if(i)return i.call(n,t)}catch(t){try{s(e)}finally{throw t}}}},error:function(t){var e=this._s;if(a(e))throw t;var n=e._o;e._o=void 0;try{var i=r(n.error);if(!i)throw t;t=i.call(n,t)}catch(t){try{o(e)}finally{throw t}}return o(e),t},complete:function(t){var e=this._s;if(!a(e)){var n=e._o;e._o=void 0;try{var i=r(n.complete);t=i?i.call(n,t):void 0}catch(t){try{o(e)}finally{throw t}}return o(e),t}}}),function(t){m(this,_,"Observable","_f")._f=f(t)});g(_.prototype,{subscribe:function(t){return new i(t,this._f)},forEach:function(i){var r=this;return new(u.Promise||c.Promise)(function(t,e){f(i);var n=r.subscribe({next:function(t){try{return i(t)}catch(t){e(t),n.unsubscribe()}},error:e,complete:t})})}}),g(_,{from:function(t){var e,n="function"==typeof this?this:_,i=r(p(t)[d]);return i?(e=p(i.call(t))).constructor===n?e:new n(function(t){return e.subscribe(t)}):new n(function(e){var n=!1;return h(function(){if(!n){try{if(v(t,!1,function(t){if(e.next(t),n)return y})===y)return}catch(t){if(n)throw t;return void e.error(t)}e.complete()}}),function(){n=!0}})},of:function(){for(var t=0,e=arguments.length,i=new Array(e);t<e;)i[t]=arguments[t++];return new("function"==typeof this?this:_)(function(e){var n=!1;return h(function(){if(!n){for(var t=0;t<i.length;++t)if(e.next(i[t]),n)return;e.complete()}}),function(){n=!0}})}}),b(_.prototype,d,function(){return this}),l(l.G,{Observable:_}),n(43)("Observable")},function(t,e,n){function i(r){return function(t,e){var n=2<arguments.length,i=n&&a.call(arguments,2);return r(n?function(){("function"==typeof t?t:Function(t)).apply(this,i)}:t,e)}}var r=n(2),o=n(0),n=n(66),a=[].slice,n=/MSIE .\./.test(n);o(o.G+o.B+o.F*n,{setTimeout:i(r.setTimeout),setInterval:i(r.setInterval)})},function(t,e,n){var i=n(0),n=n(101);i(i.G+i.B,{setImmediate:n.set,clearImmediate:n.clear})},function(t,e,n){for(var i=n(98),r=n(39),o=n(13),a=n(2),s=n(12),l=n(52),n=n(5),c=n("iterator"),u=n("toStringTag"),h=l.Array,d={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},f=r(d),p=0;p<f.length;p++){var m,g=f[p],b=d[g],v=a[g],y=v&&v.prototype;if(y&&(y[c]||s(y,c,h),y[u]||s(y,u,g),l[g]=h,b))for(m in i)y[m]||o(y,m,i[m],!0)}},function(P,t,e){!function(t){!function(t){"use strict";var l,c,u,h,d,f,e,n,i=Object.prototype,p=i.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",s=r.toStringTag||"@@toStringTag",r="object"==typeof P,m=t.regeneratorRuntime;function g(t,e,n,i){var r,o,a,s,e=e&&e.prototype instanceof v?e:v,e=Object.create(e.prototype),i=new k(i||[]);return e._invoke=(r=t,o=n,a=i,s=c,function(t,e){if(s===h)throw new Error("Generator is already running");if(s===d){if("throw"===t)throw e;return E()}for(a.method=t,a.arg=e;;){var n=a.delegate;if(n){n=function t(e,n){var i=e.iterator[n.method];if(i===l){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=l,t(e,n),"throw"===n.method))return f;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}i=b(i,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,f;i=i.arg;if(!i)return n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,f;{if(!i.done)return i;n[e.resultName]=i.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=l)}n.delegate=null;return f}(n,a);if(n){if(n===f)continue;return n}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(s===c)throw s=d,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);s=h;n=b(r,o,a);if("normal"===n.type){if(s=a.done?d:u,n.arg!==f)return{value:n.arg,done:a.done}}else"throw"===n.type&&(s=d,a.method="throw",a.arg=n.arg)}}),e}function b(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}function v(){}function y(){}function w(){}function _(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function x(o){function a(t,e,n,i){var r,t=b(o[t],o,e);if("throw"!==t.type)return(e=(r=t.arg).value)&&"object"==typeof e&&p.call(e,"__await")?Promise.resolve(e.__await).then(function(t){a("next",t,n,i)},function(t){a("throw",t,n,i)}):Promise.resolve(e).then(function(t){r.value=t,n(r)},i);i(t.arg)}var e;"object"==typeof t.process&&t.process.domain&&(a=t.process.domain.bind(a)),this._invoke=function(n,i){function t(){return new Promise(function(t,e){a(n,i,t,e)})}return e=e?e.then(t,t):t()}}function M(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function S(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(M,this),this.reset(!0)}function C(e){if(e){var n,t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length))return n=-1,(t=function t(){for(;++n<e.length;)if(p.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=l,t.done=!0,t}).next=t}return{next:E}}function E(){return{value:l,done:!0}}m?r&&(P.exports=m):((m=t.regeneratorRuntime=r?P.exports:{}).wrap=g,c="suspendedStart",u="suspendedYield",h="executing",d="completed",f={},(r={})[o]=function(){return this},e=(e=Object.getPrototypeOf)&&e(e(C([]))),e&&e!==i&&p.call(e,o)&&(r=e),n=w.prototype=v.prototype=Object.create(r),(y.prototype=n.constructor=w).constructor=y,w[s]=y.displayName="GeneratorFunction",m.isGeneratorFunction=function(t){t="function"==typeof t&&t.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},m.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,w):(t.__proto__=w,s in t||(t[s]="GeneratorFunction")),t.prototype=Object.create(n),t},m.awrap=function(t){return{__await:t}},_(x.prototype),x.prototype[a]=function(){return this},m.AsyncIterator=x,m.async=function(t,e,n,i){var r=new x(g(t,e,n,i));return m.isGeneratorFunction(e)?r:r.next().then(function(t){return t.done?t.value:r.next()})},_(n),n[s]="Generator",n[o]=function(){return this},n.toString=function(){return"[object Generator]"},m.keys=function(n){var t,i=[];for(t in n)i.push(t);return i.reverse(),function t(){for(;i.length;){var e=i.pop();if(e in n)return t.value=e,t.done=!1,t}return t.done=!0,t}},m.values=C,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=l,this.done=!1,this.delegate=null,this.method="next",this.arg=l,this.tryEntries.forEach(S),!t)for(var e in this)"t"===e.charAt(0)&&p.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=l)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var i=this;function t(t,e){return o.type="throw",o.arg=n,i.next=t,e&&(i.method="next",i.arg=l),!!e}for(var e=this.tryEntries.length-1;0<=e;--e){var r=this.tryEntries[e],o=r.completion;if("root"===r.tryLoc)return t("end");if(r.tryLoc<=this.prev){var a=p.call(r,"catchLoc"),s=p.call(r,"finallyLoc");if(a&&s){if(this.prev<r.catchLoc)return t(r.catchLoc,!0);if(this.prev<r.finallyLoc)return t(r.finallyLoc)}else if(a){if(this.prev<r.catchLoc)return t(r.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return t(r.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;0<=n;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&p.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var r=i;break}}var o=(r=r&&("break"===t||"continue"===t)&&r.tryLoc<=e&&e<=r.finallyLoc?null:r)?r.completion:{};return o.type=t,o.arg=e,r?(this.method="next",this.next=r.finallyLoc,f):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),S(n),f}},catch:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var n,i,r=this.tryEntries[e];if(r.tryLoc===t)return"throw"===(n=r.completion).type&&(i=n.arg,S(r)),i}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:C(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=l),f}})}("object"==typeof t?t:"object"==typeof window?window:"object"==typeof self?self:this)}.call(this,e(26))},function(t,e,n){n(370),t.exports=n(20).RegExp.escape},function(t,e,n){var i=n(0),r=n(371)(/[\\^$*+?.()|[\]{}]/g,"\\$&");i(i.S,"RegExp",{escape:function(t){return r(t)}})},function(t,e){t.exports=function(e,n){var i=n===Object(n)?function(t){return n[t]}:n;return function(t){return String(t).replace(e,i)}}},function(t,e,n){!function(t,f){!function(n,o){"use strict";var i,a,s,r,l,c,e,t;function u(t){delete a[t]}function h(t){if(s)setTimeout(h,0,t);else{var e=a[t];if(e){s=!0;try{var n=e,i=n.callback,r=n.args;switch(r.length){case 0:i();break;case 1:i(r[0]);break;case 2:i(r[0],r[1]);break;case 3:i(r[0],r[1],r[2]);break;default:i.apply(o,r)}}finally{u(t),s=!1}}}}function d(){function t(t){t.source===n&&"string"==typeof t.data&&0===t.data.indexOf(e)&&h(+t.data.slice(e.length))}var e="setImmediate$"+Math.random()+"$";n.addEventListener?n.addEventListener("message",t,!1):n.attachEvent("onmessage",t),l=function(t){n.postMessage(e+t,"*")}}n.setImmediate||(i=1,s=!(a={}),r=n.document,t=(t=Object.getPrototypeOf&&Object.getPrototypeOf(n))&&t.setTimeout?t:n,"[object process]"==={}.toString.call(n.process)?l=function(t){f.nextTick(function(){h(t)})}:!function(){var t,e;if(n.postMessage&&!n.importScripts)return t=!0,e=n.onmessage,n.onmessage=function(){t=!1},n.postMessage("","*"),n.onmessage=e,t}()?l=n.MessageChannel?((e=new MessageChannel).port1.onmessage=function(t){h(t.data)},function(t){e.port2.postMessage(t)}):r&&"onreadystatechange"in r.createElement("script")?(c=r.documentElement,function(t){var e=r.createElement("script");e.onreadystatechange=function(){h(t),e.onreadystatechange=null,c.removeChild(e),e=null},c.appendChild(e)}):function(t){setTimeout(h,0,t)}:d(),t.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];return a[i]={callback:t,args:e},l(i),i++},t.clearImmediate=u)}("undefined"==typeof self?void 0===t?this:t:self)}.call(this,n(26),n(36))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n,i=arguments[e];for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},r=function(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),t};function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var a=n(25);r(s,[{key:"getApiUrl",value:function(){return this._apiUrl}},{key:"ajax",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=(t.method||"GET").toUpperCase(),n=("POST"!=e&&"PUT"!=e||(t.contentType="application/json","data"in t&&(t.data=JSON.stringify(t.data))),t.url&&!/^(http|https):/.test(t.url)&&(t.url=this.getApiUrl()+t.url),a.Bridge.getArgs());return n.url&&(t.headers=i(t.headers||{},{"X-SITE-URL":n.url,"X-SITE-EXTERNAL":n.external})),fetch(t.url,{credentials:"include",method:e,headers:i(t.headers||{},{"X-XSRF-TOKEN":l(),"X-App":a.Bridge.appName+"/"+a.Bridge.version,"content-type":"json"}),body:t.data}).then(function(t){return t.text().then(function(t){try{0==t.indexOf(")]}',\n")&&(t=t.substr(6)),t=JSON.parse(t)}catch(t){throw new Error("Incorrect server response.")}if(t&&t.error)throw i(new Error(t.response),{code:t.error});return t.response})},function(){throw new Error("The request to the server could not be completed.")})}},{key:"signin",value:function(t){return this._profile=0,this.ajax({url:this.getApiUrl()+"signin",method:"POST",data:{email:t.email,is_app:!1,password:t.password}}).then(function(t){if(t&&t["XSRF-TOKEN"])return c(t["XSRF-TOKEN"]),t;throw new Error("Incorrect server response.")})}},{key:"signinByToken",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=t.service,n=t.token,t=t.origin,t=void 0===t?"DEFAULT":t;return this._profile=0,this.ajax({url:this.getApiUrl()+"signin",method:"POST",data:{service:e,token:n,origin:t,is_app:!1}}).then(function(t){if(t&&t["XSRF-TOKEN"])return c(t["XSRF-TOKEN"]),t;throw new Error("Incorrect server response.")})}},{key:"signup",value:function(t){var e=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).origin,e=void 0===e?"DEFAULT":e;return this.ajax({url:this.getApiUrl()+"signup",method:"POST",data:{origin:e,email:t}})}},{key:"signout",value:function(){return this._profile=0,this.ajax({url:this.getApiUrl()+"signout",method:"POST"})}},{key:"getProfile",value:function(){var n=this,i=this;return new Promise(function(e,t){i._profile?e(i._profile):n.ajax({url:n.getApiUrl()+"profile"}).then(function(t){i._profile=t,e(t)}).catch(t)})}},{key:"profile",value:function(){return this.getProfile()}},{key:"isAuthorized",value:function(){var t=this;return new Promise(function(e,n){t.getProfile().then(function(){e(!0)}).catch(function(t){if(403!==t.code)return n(t);e(!1)})})}},{key:"getAuthToken",value:function(){return this.ajax({url:this.getApiUrl()+"auth",method:"POST",data:{target:"https://mobirisesite.com"}}).then(function(t){return{access_token:t.access_token}})}},{key:"lostpassword",value:function(t){return this.ajax({url:this.getApiUrl()+"lostpassword",method:"POST",data:{email:t}})}},{key:"url",value:function(t){return this.ajax({url:this.getApiUrl()+"auth",method:"POST",data:{target:t||""}}).then(function(t){return t.authURL})}},{key:"sendMessage",value:function(t,e){return this.ajax({url:this.getApiUrl()+"users/"+t+"/messages",method:"POST",data:{text:e}})}},{key:"addons",value:function(t,e){var i=this;return new Promise(function(e,n){i.ajax({url:i.getApiUrl()+"addons?web_compatible=1",method:"GET"}).then(function(t){e(t)},function(t){n(t)})})}},{key:"post",value:function(t,e){return this.ajax({url:t,method:"POST",data:e})}},{key:"get",value:function(t){return this.ajax({url:t,method:"GET"})}},{key:"put",value:function(t,e){return this.ajax({url:t,method:"PUT",data:e})}},{key:"delete",value:function(t){return this.ajax({url:t,method:"DELETE"})}},{key:"licenses",value:function(){return this.ajax({url:this.getApiUrl()+"my/purchases?ver=2",method:"GET"})}},{key:"activate",value:function(t){return this.ajax({url:this.getApiUrl()+"activate",method:"POST",data:{coupon:t},headers:{Cookie:"token="+l()}})}}]);n=s;function s(t){if(!(this instanceof s))throw new TypeError("Cannot call a class as a function");this._apiUrl=t}function l(){return localStorage.getItem("XSRF-TOKEN")||""}function c(t){localStorage.setItem("XSRF-TOKEN",t)}e.default=n},,function(t,e,n){"use strict";!function(s){void 0===s||!s.version||0===s.version.indexOf("v0.")||0===s.version.indexOf("v1.")&&0!==s.version.indexOf("v1.8.")?t.exports={nextTick:function(t,e,n,i){if("function"!=typeof t)throw new TypeError('"callback" argument must be a function');var r,o,a=arguments.length;switch(a){case 0:case 1:return s.nextTick(t);case 2:return s.nextTick(function(){t.call(null,e)});case 3:return s.nextTick(function(){t.call(null,e,n)});case 4:return s.nextTick(function(){t.call(null,e,n,i)});default:for(r=new Array(a-1),o=0;o<r.length;)r[o++]=arguments[o];return s.nextTick(function(){t.apply(null,r)})}}}:t.exports=s}.call(this,n(36))},function(t,e,n){var r=n(15).Buffer;function i(t){for(var e=(t=r.isBuffer(t)?t:r.from(t)).length/4|0,n=new Array(e),i=0;i<e;i++)n[i]=t.readUInt32BE(4*i);return n}function o(t){for(;0<t.length;t++)t[0]=0}function a(t,e,n,i,r){for(var o,a,s,l,c=n[0],u=n[1],h=n[2],d=n[3],f=t[0]^e[0],p=t[1]^e[1],m=t[2]^e[2],g=t[3]^e[3],b=4,v=1;v<r;v++)o=c[f>>>24]^u[p>>>16&255]^h[m>>>8&255]^d[255&g]^e[b++],a=c[p>>>24]^u[m>>>16&255]^h[g>>>8&255]^d[255&f]^e[b++],s=c[m>>>24]^u[g>>>16&255]^h[f>>>8&255]^d[255&p]^e[b++],l=c[g>>>24]^u[f>>>16&255]^h[p>>>8&255]^d[255&m]^e[b++],f=o,p=a,m=s,g=l;return o=(i[f>>>24]<<24|i[p>>>16&255]<<16|i[m>>>8&255]<<8|i[255&g])^e[b++],a=(i[p>>>24]<<24|i[m>>>16&255]<<16|i[g>>>8&255]<<8|i[255&f])^e[b++],s=(i[m>>>24]<<24|i[g>>>16&255]<<16|i[f>>>8&255]<<8|i[255&p])^e[b++],l=(i[g>>>24]<<24|i[f>>>16&255]<<16|i[p>>>8&255]<<8|i[255&m])^e[b++],[o>>>=0,a>>>=0,s>>>=0,l>>>=0]}var h=[0,1,2,4,8,16,32,64,128,27,54],d=function(){for(var t=new Array(256),e=0;e<256;e++)t[e]=e<128?e<<1:e<<1^283;for(var n=[],i=[],r=[[],[],[],[]],o=[[],[],[],[]],a=0,s=0,l=0;l<256;++l){var c=s^s<<1^s<<2^s<<3^s<<4,u=(n[a]=c=c>>>8^255&c^99,t[i[c]=a]),h=t[u],d=t[h],f=257*t[c]^16843008*c;r[0][a]=f<<24|f>>>8,r[1][a]=f<<16|f>>>16,r[2][a]=f<<8|f>>>24,r[3][a]=f,o[0][c]=(f=16843009*d^65537*h^257*u^16843008*a)<<24|f>>>8,o[1][c]=f<<16|f>>>16,o[2][c]=f<<8|f>>>24,o[3][c]=f,0===a?a=s=1:(a=u^t[t[t[d^u]]],s^=t[t[s]])}return{SBOX:n,INV_SBOX:i,SUB_MIX:r,INV_SUB_MIX:o}}();function s(t){this._key=i(t),this._reset()}s.blockSize=16,s.keySize=32,s.prototype.blockSize=s.blockSize,s.prototype.keySize=s.keySize,s.prototype._reset=function(){for(var t=this._key,e=t.length,n=e+6,i=4*(n+1),r=[],o=0;o<e;o++)r[o]=t[o];for(o=e;o<i;o++){var a=r[o-1];o%e==0?(a=d.SBOX[(a=a<<8|a>>>24)>>>24]<<24|d.SBOX[a>>>16&255]<<16|d.SBOX[a>>>8&255]<<8|d.SBOX[255&a],a^=h[o/e|0]<<24):6<e&&o%e==4&&(a=d.SBOX[a>>>24]<<24|d.SBOX[a>>>16&255]<<16|d.SBOX[a>>>8&255]<<8|d.SBOX[255&a]),r[o]=r[o-e]^a}for(var s=[],l=0;l<i;l++){var c=i-l,u=r[c-(l%4?0:4)];s[l]=l<4||c<=4?u:d.INV_SUB_MIX[0][d.SBOX[u>>>24]]^d.INV_SUB_MIX[1][d.SBOX[u>>>16&255]]^d.INV_SUB_MIX[2][d.SBOX[u>>>8&255]]^d.INV_SUB_MIX[3][d.SBOX[255&u]]}this._nRounds=n,this._keySchedule=r,this._invKeySchedule=s},s.prototype.encryptBlockRaw=function(t){return a(t=i(t),this._keySchedule,d.SUB_MIX,d.SBOX,this._nRounds)},s.prototype.encryptBlock=function(t){var t=this.encryptBlockRaw(t),e=r.allocUnsafe(16);return e.writeUInt32BE(t[0],0),e.writeUInt32BE(t[1],4),e.writeUInt32BE(t[2],8),e.writeUInt32BE(t[3],12),e},s.prototype.decryptBlock=function(t){var e=(t=i(t))[1],e=(t[1]=t[3],t[3]=e,a(t,this._invKeySchedule,d.INV_SUB_MIX,d.INV_SBOX,this._nRounds)),t=r.allocUnsafe(16);return t.writeUInt32BE(e[0],0),t.writeUInt32BE(e[3],4),t.writeUInt32BE(e[2],8),t.writeUInt32BE(e[1],12),t},s.prototype.scrub=function(){o(this._keySchedule),o(this._invKeySchedule),o(this._key)},t.exports.AES=s},function(t,e,n){var h=n(15).Buffer,d=n(386);t.exports=function(t,e,n,i){if(h.isBuffer(t)||(t=h.from(t,"binary")),e&&8!==(e=h.isBuffer(e)?e:h.from(e,"binary")).length)throw new RangeError("salt should be Buffer with 8 byte length");for(var r=n/8,o=h.alloc(r),a=h.alloc(i||0),s=h.alloc(0);0<r||0<i;){var l,c,u=new d,u=(u.update(s),u.update(t),e&&u.update(e),s=u.digest(),0);0<r&&(l=o.length-r,u=Math.min(r,s.length),s.copy(o,l,0,u),r-=u),u<s.length&&0<i&&(l=a.length-i,c=Math.min(i,s.length-u),s.copy(a,l,u,u+c),i-=c)}return s.fill(0),{key:o,iv:a}}},function(t,e,n){"use strict";var i=n(106),r=n(75),k=r.getNAF,C=r.getJSF,h=r.assert;function o(t,e){this.type=t,this.p=new i(e.p,16),this.red=e.prime?i.red(e.prime):i.mont(this.p),this.zero=new i(0).toRed(this.red),this.one=new i(1).toRed(this.red),this.two=new i(2).toRed(this.red),this.n=e.n&&new i(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;t=this.n&&this.p.div(this.n);!t||0<t.cmpn(100)?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function a(t,e){this.curve=t,this.type=e,this.precomputed=null}(t.exports=o).prototype.point=function(){throw new Error("Not implemented")},o.prototype.validate=function(){throw new Error("Not implemented")},o.prototype._fixedNafMul=function(t,e){h(t.precomputed);for(var n=t._getDoubles(),i=k(e,1,this._bitLength),t=(1<<n.step+1)-(n.step%2==0?2:1),r=(t/=3,[]),o=0;o<i.length;o+=n.step){for(var a=0,s=o+n.step-1;o<=s;s--)a=(a<<1)+i[s];r.push(a)}for(var l=this.jpoint(null,null,null),c=this.jpoint(null,null,null),u=t;0<u;u--){for(o=0;o<r.length;o++)(a=r[o])===u?c=c.mixedAdd(n.points[o]):a===-u&&(c=c.mixedAdd(n.points[o].neg()));l=l.add(c)}return l.toP()},o.prototype._wnafMul=function(t,e){for(var n=t._getNAFPoints(4),i=n.wnd,r=n.points,o=k(e,i,this._bitLength),a=this.jpoint(null,null,null),s=o.length-1;0<=s;s--){for(var l=0;0<=s&&0===o[s];s--)l++;if(0<=s&&l++,a=a.dblp(l),s<0)break;var c=o[s];h(0!==c),a="affine"===t.type?0<c?a.mixedAdd(r[c-1>>1]):a.mixedAdd(r[-c-1>>1].neg()):0<c?a.add(r[c-1>>1]):a.add(r[-c-1>>1].neg())}return"affine"===t.type?a.toP():a},o.prototype._wnafMulAdd=function(t,e,n,i,r){for(var o=this._wnafT1,a=this._wnafT2,s=this._wnafT3,l=0,c=0;c<i;c++){var u,h=(u=e[c])._getNAFPoints(t);o[c]=h.wnd,a[c]=h.points}for(c=i-1;1<=c;c-=2){var d=c-1,f=c;if(1!==o[d]||1!==o[f])s[d]=k(n[d],o[d],this._bitLength),s[f]=k(n[f],o[f],this._bitLength),l=Math.max(s[d].length,l),l=Math.max(s[f].length,l);else{var p=[e[d],null,null,e[f]],m=(0===e[d].y.cmp(e[f].y)?(p[1]=e[d].add(e[f]),p[2]=e[d].toJ().mixedAdd(e[f].neg())):0===e[d].y.cmp(e[f].y.redNeg())?(p[1]=e[d].toJ().mixedAdd(e[f]),p[2]=e[d].add(e[f].neg())):(p[1]=e[d].toJ().mixedAdd(e[f]),p[2]=e[d].toJ().mixedAdd(e[f].neg())),[-3,-1,-5,-7,0,7,5,1,3]),g=C(n[d],n[f]),l=Math.max(g[0].length,l);for(s[d]=new Array(l),s[f]=new Array(l),M=0;M<l;M++){var b=0|g[0][M],v=0|g[1][M];s[d][M]=m[3*(1+b)+(1+v)],s[f][M]=0,a[d]=p}}}var y=this.jpoint(null,null,null),w=this._wnafT4;for(c=l;0<=c;c--){for(var _=0;0<=c;){for(var x=!0,M=0;M<i;M++)w[M]=0|s[M][c],0!==w[M]&&(x=!1);if(!x)break;_++,c--}if(0<=c&&_++,y=y.dblp(_),c<0)break;for(M=0;M<i;M++){var S=w[M];0!==S&&(0<S?u=a[M][S-1>>1]:S<0&&(u=a[M][-S-1>>1].neg()),y="affine"===u.type?y.mixedAdd(u):y.add(u))}}for(c=0;c<i;c++)a[c]=null;return r?y:y.toP()},(o.BasePoint=a).prototype.eq=function(){throw new Error("Not implemented")},a.prototype.validate=function(){return this.curve.validate(this)},o.prototype.decodePoint=function(t,e){t=r.toArray(t,e);e=this.p.byteLength();if((4===t[0]||6===t[0]||7===t[0])&&t.length-1==2*e)return 6===t[0]?h(t[t.length-1]%2==0):7===t[0]&&h(t[t.length-1]%2==1),this.point(t.slice(1,1+e),t.slice(1+e,1+2*e));if(2!==t[0]&&3!==t[0]||t.length-1!==e)throw new Error("Unknown point format");return this.pointFromX(t.slice(1,1+e),3===t[0])},a.prototype.encodeCompressed=function(t){return this.encode(t,!0)},a.prototype._encode=function(t){var e=this.curve.p.byteLength(),n=this.getX().toArray("be",e);return t?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",e))},a.prototype.encode=function(t,e){return r.encode(this._encode(e),t)},a.prototype.precompute=function(t){var e;return this.precomputed||((e={doubles:null,naf:null,beta:null}).naf=this._getNAFPoints(8),e.doubles=this._getDoubles(4,t),e.beta=this._getBeta(),this.precomputed=e),this},a.prototype._hasDoubles=function(t){var e;return!!this.precomputed&&!!(e=this.precomputed.doubles)&&e.points.length>=Math.ceil((t.bitLength()+1)/e.step)},a.prototype._getDoubles=function(t,e){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],i=this,r=0;r<e;r+=t){for(var o=0;o<t;o++)i=i.dbl();n.push(i)}return{step:t,points:n}},a.prototype._getNAFPoints=function(t){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var e=[this],n=(1<<t)-1,i=1==n?null:this.dbl(),r=1;r<n;r++)e[r]=e[r-1].add(i);return{wnd:t,points:e}},a.prototype._getBeta=function(){return null},a.prototype.dblp=function(t){for(var e=this,n=0;n<t;n++)e=e.dbl();return e}},function(t,e,n){var f=n(563),p=n(571),m=n(572),g=n(394),b=n(438),v=n(15).Buffer;function i(t){"object"!=typeof t||v.isBuffer(t)||(e=t.passphrase,t=t.key),"string"==typeof t&&(t=v.from(t));var e,n,i,r,o,a,s,l,c,u,t=m(t,e),h=t.tag,d=t.data;switch(h){case"CERTIFICATE":i=f.certificate.decode(d,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(n=(i=i||f.PublicKey.decode(d,"der")).algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return f.RSAPublicKey.decode(i.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return i.subjectPrivateKey=i.subjectPublicKey,{type:"ec",data:i};case"1.2.840.10040.4.1":return i.algorithm.params.pub_key=f.DSAparam.decode(i.subjectPublicKey.data,"der"),{type:"dsa",data:i.algorithm.params};default:throw new Error("unknown key id "+n)}case"ENCRYPTED PRIVATE KEY":d=f.EncryptedPrivateKey.decode(d,"der"),o=e,a=(r=d).algorithm.decrypt.kde.kdeparams.salt,s=parseInt(r.algorithm.decrypt.kde.kdeparams.iters.toString(),10),l=p[r.algorithm.decrypt.cipher.algo.join(".")],c=r.algorithm.decrypt.cipher.iv,r=r.subjectPrivateKey,u=parseInt(l.split("-")[1],10)/8,o=b.pbkdf2Sync(o,a,s,u,"sha1"),a=g.createDecipheriv(l,o,c),(s=[]).push(a.update(r)),s.push(a.final()),d=v.concat(s);case"PRIVATE KEY":switch(n=(i=f.PrivateKey.decode(d,"der")).algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return f.RSAPrivateKey.decode(i.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:i.algorithm.curve,privateKey:f.ECPrivateKey.decode(i.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return i.algorithm.params.priv_key=f.DSAparam.decode(i.subjectPrivateKey,"der"),{type:"dsa",params:i.algorithm.params};default:throw new Error("unknown key id "+n)}case"RSA PUBLIC KEY":return f.RSAPublicKey.decode(d,"der");case"RSA PRIVATE KEY":return f.RSAPrivateKey.decode(d,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:f.DSAPrivateKey.decode(d,"der")};case"EC PRIVATE KEY":return{curve:(d=f.ECPrivateKey.decode(d,"der")).parameters.value,privateKey:d.privateKey};default:throw new Error("unknown key type "+h)}}(t.exports=i).signature=f.signature},function(t,e,n){"use strict";function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}Object.defineProperty(e,"__esModule",{value:!0});(function(t,e,n){e&&i(t.prototype,e),n&&i(t,n)})(o,[{key:"start",value:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];var i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var l=a.value;this.log(l,"(start)"),this.marks[l]=Date.now()}}catch(t){r=!0,o=t}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}}},{key:"end",value:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];var i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var l=a.value,c=(Date.now()-(this.marks[l]||this.startTime))/1e3;this.log(l,"(end) time: "+c)}}catch(t){r=!0,o=t}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}}},{key:"log",value:function(){for(var t,e=arguments.length,n=Array(e),i=0;i<e;i++)n[i]=arguments[i];(t=console).log.apply(t,[this.name+":"].concat(n))}}]);var r=o;function o(t){if(!(this instanceof o))throw new TypeError("Cannot call a class as a function");this.name=t,this.marks={},this.startTime=Date.now()}e.default=new r("mobirise ai")},,,,,,function(t,e,n){"use strict";var i=n(10),r=n(422),o=n(15).Buffer,a=new Array(16);function s(){r.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function l(t,e){return t<<e|t>>>32-e}function c(t,e,n,i,r,o,a){return l(t+(e&n|~e&i)+r+o|0,a)+e|0}function u(t,e,n,i,r,o,a){return l(t+(e&i|n&~i)+r+o|0,a)+e|0}function h(t,e,n,i,r,o,a){return l(t+(e^n^i)+r+o|0,a)+e|0}function d(t,e,n,i,r,o,a){return l(t+(n^(e|~i))+r+o|0,a)+e|0}i(s,r),s.prototype._update=function(){for(var t=a,e=0;e<16;++e)t[e]=this._block.readInt32LE(4*e);var n=c(this._a,o=this._b,r=this._c,i=this._d,t[0],3614090360,7),i=c(i,n,o,r,t[1],3905402710,12),r=c(r,i,n,o,t[2],606105819,17),o=c(o,r,i,n,t[3],3250441966,22);n=c(n,o,r,i,t[4],4118548399,7),i=c(i,n,o,r,t[5],1200080426,12),r=c(r,i,n,o,t[6],2821735955,17),o=c(o,r,i,n,t[7],4249261313,22),n=c(n,o,r,i,t[8],1770035416,7),i=c(i,n,o,r,t[9],2336552879,12),r=c(r,i,n,o,t[10],4294925233,17),o=c(o,r,i,n,t[11],2304563134,22),n=c(n,o,r,i,t[12],1804603682,7),i=c(i,n,o,r,t[13],4254626195,12),r=c(r,i,n,o,t[14],2792965006,17),n=u(n,o=c(o,r,i,n,t[15],1236535329,22),r,i,t[1],4129170786,5),i=u(i,n,o,r,t[6],3225465664,9),r=u(r,i,n,o,t[11],643717713,14),o=u(o,r,i,n,t[0],3921069994,20),n=u(n,o,r,i,t[5],3593408605,5),i=u(i,n,o,r,t[10],38016083,9),r=u(r,i,n,o,t[15],3634488961,14),o=u(o,r,i,n,t[4],3889429448,20),n=u(n,o,r,i,t[9],568446438,5),i=u(i,n,o,r,t[14],3275163606,9),r=u(r,i,n,o,t[3],4107603335,14),o=u(o,r,i,n,t[8],1163531501,20),n=u(n,o,r,i,t[13],2850285829,5),i=u(i,n,o,r,t[2],4243563512,9),r=u(r,i,n,o,t[7],1735328473,14),n=h(n,o=u(o,r,i,n,t[12],2368359562,20),r,i,t[5],4294588738,4),i=h(i,n,o,r,t[8],2272392833,11),r=h(r,i,n,o,t[11],1839030562,16),o=h(o,r,i,n,t[14],4259657740,23),n=h(n,o,r,i,t[1],2763975236,4),i=h(i,n,o,r,t[4],1272893353,11),r=h(r,i,n,o,t[7],4139469664,16),o=h(o,r,i,n,t[10],3200236656,23),n=h(n,o,r,i,t[13],681279174,4),i=h(i,n,o,r,t[0],3936430074,11),r=h(r,i,n,o,t[3],3572445317,16),o=h(o,r,i,n,t[6],76029189,23),n=h(n,o,r,i,t[9],3654602809,4),i=h(i,n,o,r,t[12],3873151461,11),r=h(r,i,n,o,t[15],530742520,16),n=d(n,o=h(o,r,i,n,t[2],3299628645,23),r,i,t[0],4096336452,6),i=d(i,n,o,r,t[7],1126891415,10),r=d(r,i,n,o,t[14],2878612391,15),o=d(o,r,i,n,t[5],4237533241,21),n=d(n,o,r,i,t[12],1700485571,6),i=d(i,n,o,r,t[3],2399980690,10),r=d(r,i,n,o,t[10],4293915773,15),o=d(o,r,i,n,t[1],2240044497,21),n=d(n,o,r,i,t[8],1873313359,6),i=d(i,n,o,r,t[15],4264355552,10),r=d(r,i,n,o,t[6],2734768916,15),o=d(o,r,i,n,t[13],1309151649,21),n=d(n,o,r,i,t[4],4149444226,6),i=d(i,n,o,r,t[11],3174756917,10),r=d(r,i,n,o,t[2],718787259,15),o=d(o,r,i,n,t[9],3951481745,21),this._a=this._a+n|0,this._b=this._b+o|0,this._c=this._c+r|0,this._d=this._d+i|0},s.prototype._digest=function(){this._block[this._blockOffset++]=128,56<this._blockOffset&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var t=o.allocUnsafe(16);return t.writeInt32LE(this._a,0),t.writeInt32LE(this._b,4),t.writeInt32LE(this._c,8),t.writeInt32LE(this._d,12),t},t.exports=s},function(t,e,n){!function(e){function i(t){try{if(!e.localStorage)return}catch(t){return}t=e.localStorage[t];return null!=t&&"true"===String(t).toLowerCase()}t.exports=function(t,e){if(i("noDeprecation"))return t;var n=!1;return function(){if(!n){if(i("throwDeprecation"))throw new Error(e);i("traceDeprecation")?console.trace(e):console.warn(e),n=!0}return t.apply(this,arguments)}}}.call(this,n(26))},function(t,e,n){"use strict";var b=n(155).codes.ERR_STREAM_PREMATURE_CLOSE;function v(){}t.exports=function t(e,n,i){var r,o,a,s,l,c,u,h,d,f,p,m,g;return"function"==typeof n?t(e,null,n):(r=i||v,o=!1,i=function(){if(!o){o=!0;for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];r.apply(this,e)}},a=(n=n||{}).readable||!1!==n.readable&&e.readable,s=n.writable||!1!==n.writable&&e.writable,l=function(){e.writable||u()},c=e._writableState&&e._writableState.finished,u=function(){c=!(s=!1),a||i.call(e)},h=e._readableState&&e._readableState.endEmitted,d=function(){h=!(a=!1),s||i.call(e)},f=function(t){i.call(e,t)},p=function(){var t;return a&&!h?(e._readableState&&e._readableState.ended||(t=new b),i.call(e,t)):s&&!c?(e._writableState&&e._writableState.ended||(t=new b),i.call(e,t)):void 0},m=function(){e.req.on("finish",u)},(g=e).setHeader&&"function"==typeof g.abort?(e.on("complete",u),e.on("abort",p),e.req?m():e.on("request",m)):s&&!e._writableState&&(e.on("end",l),e.on("close",l)),e.on("end",d),e.on("finish",u),!1!==n.error&&e.on("error",f),e.on("close",p),function(){e.removeListener("complete",u),e.removeListener("abort",p),e.removeListener("request",m),e.req&&e.req.removeListener("finish",u),e.removeListener("end",l),e.removeListener("close",l),e.removeListener("finish",u),e.removeListener("end",d),e.removeListener("error",f),e.removeListener("close",p)})}},function(t,e,n){"use strict";var i=n(48).Buffer,r=n(10),o=n(422),g=new Array(16),b=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],v=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],y=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],w=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],_=[0,1518500249,1859775393,2400959708,2840853838],x=[1352829926,1548603684,1836072691,2053994217,0];function a(){o.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function M(t,e){return t<<e|t>>>32-e}function S(t,e,n,i,r,o,a,s){return M(t+(e^n^i)+o+a|0,s)+r|0}function k(t,e,n,i,r,o,a,s){return M(t+(e&n|~e&i)+o+a|0,s)+r|0}function C(t,e,n,i,r,o,a,s){return M(t+((e|~n)^i)+o+a|0,s)+r|0}function E(t,e,n,i,r,o,a,s){return M(t+(e&i|n&~i)+o+a|0,s)+r|0}function P(t,e,n,i,r,o,a,s){return M(t+(e^(n|~i))+o+a|0,s)+r|0}r(a,o),a.prototype._update=function(){for(var t=g,e=0;e<16;++e)t[e]=this._block.readInt32LE(4*e);for(var n=0|this._a,i=0|this._b,r=0|this._c,o=0|this._d,a=0|this._e,s=0|this._a,l=0|this._b,c=0|this._c,u=0|this._d,h=0|this._e,d=0;d<80;d+=1)var f,p=d<16?(f=S(n,i,r,o,a,t[b[d]],_[0],y[d]),P(s,l,c,u,h,t[v[d]],x[0],w[d])):d<32?(f=k(n,i,r,o,a,t[b[d]],_[1],y[d]),E(s,l,c,u,h,t[v[d]],x[1],w[d])):d<48?(f=C(n,i,r,o,a,t[b[d]],_[2],y[d]),C(s,l,c,u,h,t[v[d]],x[2],w[d])):d<64?(f=E(n,i,r,o,a,t[b[d]],_[3],y[d]),k(s,l,c,u,h,t[v[d]],x[3],w[d])):(f=P(n,i,r,o,a,t[b[d]],_[4],y[d]),S(s,l,c,u,h,t[v[d]],x[4],w[d])),n=a,a=o,o=M(r,10),r=i,i=f,s=h,h=u,u=M(c,10),c=l,l=p;var m=this._b+r+u|0;this._b=this._c+o+h|0,this._c=this._d+a+s|0,this._d=this._e+n+l|0,this._e=this._a+i+c|0,this._a=m},a.prototype._digest=function(){this._block[this._blockOffset++]=128,56<this._blockOffset&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var t=i.alloc?i.alloc(20):new i(20);return t.writeInt32LE(this._a,0),t.writeInt32LE(this._b,4),t.writeInt32LE(this._c,8),t.writeInt32LE(this._d,12),t.writeInt32LE(this._e,16),t},t.exports=a},function(t,n,e){(n=t.exports=function(t){t=t.toLowerCase();var e=n[t];if(e)return new e;throw new Error(t+" is not supported (we accept pull requests)")}).sha=e(495),n.sha1=e(496),n.sha224=e(497),n.sha256=e(429),n.sha384=e(498),n.sha512=e(430)},function(t,e,n){(((e=t.exports=n(431)).Stream=e).Readable=e).Writable=n(392),e.Duplex=n(149),e.Transform=n(434),e.PassThrough=n(503)},function(c,t,x){"use strict";!function(t,e,n){var f=x(375);function h(o){var a=this;this.next=null,this.entry=null,this.finish=function(){var t=a,e=o,n=void 0,i=t.entry;for(t.entry=null;i;){var r=i.callback;e.pendingcb--,r(n),i=i.next}e.corkedRequestsFree.next=t}}c.exports=s;var o,d=!t.browser&&-1<["v0.10","v0.9."].indexOf(t.version.slice(0,5))?e:f.nextTick,t=(s.WritableState=a,Object.create(x(162))),e=(t.inherits=x(10),{deprecate:x(387)}),i=x(432),p=x(15).Buffer,m=(void 0!==n?n:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){};var r,n=x(433);function g(){}function a(t,u){o=o||x(149),t=t||{};var e=u instanceof o,n=(this.objectMode=!!t.objectMode,e&&(this.objectMode=this.objectMode||!!t.writableObjectMode),t.highWaterMark),i=t.writableHighWaterMark,r=this.objectMode?16:16384,n=(this.highWaterMark=n||0===n?n:e&&(i||0===i)?i:r,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,(this.destroyed=!1)===t.decodeStrings);this.decodeStrings=!n,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){t=t,n=(e=u)._writableState,i=n.sync,r=n.writecb;var e,n,i,r,o=n;{var a,s,l,c;(o.writing=!1,o.writecb=null,o.length-=o.writelen,o.writelen=0,t)?(o=e,s=i,l=t,c=r,--(a=n).pendingcb,s?(f.nextTick(c,l),f.nextTick(_,o,a),o._writableState.errorEmitted=!0,o.emit("error",l)):(c(l),o._writableState.errorEmitted=!0,o.emit("error",l),_(o,a))):((t=w(n))||n.corked||n.bufferProcessing||!n.bufferedRequest||y(e,n),i?d(v,e,n,t,r):v(e,n,t,r))}},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new h(this)}t.inherits(s,i),a.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e};try{Object.defineProperty(a.prototype,"buffer",{get:e.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(t){}function s(t){if(o=o||x(149),!(r.call(s,this)||this instanceof o))return new s(t);this._writableState=new a(t,this),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final)&&(this._final=t.final),i.call(this)}function b(t,e,n,i,r,o,a){e.writelen=i,e.writecb=a,e.writing=!0,e.sync=!0,n?t._writev(r,e.onwrite):t._write(r,o,e.onwrite),e.sync=!1}function v(t,e,n,i){var r;n||(n=t,0===(r=e).length&&r.needDrain&&(r.needDrain=!1,n.emit("drain"))),e.pendingcb--,i(),_(t,e)}function y(t,e){e.bufferProcessing=!0;var n=e.bufferedRequest;if(t._writev&&n&&n.next){for(var i=e.bufferedRequestCount,r=new Array(i),i=e.corkedRequestsFree,o=(i.entry=n,0),a=!0;n;)(r[o]=n).isBuf||(a=!1),n=n.next,o+=1;r.allBuffers=a,b(t,e,!0,e.length,r,"",i.finish),e.pendingcb++,e.lastBufferedRequest=null,i.next?(e.corkedRequestsFree=i.next,i.next=null):e.corkedRequestsFree=new h(e),e.bufferedRequestCount=0}else{for(;n;){var s=n.chunk,l=n.encoding,c=n.callback;if(b(t,e,!1,e.objectMode?1:s.length,s,l,c),n=n.next,e.bufferedRequestCount--,e.writing)break}null===n&&(e.lastBufferedRequest=null)}e.bufferedRequest=n,e.bufferProcessing=!1}function w(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function l(e,n){e._final(function(t){n.pendingcb--,t&&e.emit("error",t),n.prefinished=!0,e.emit("prefinish"),_(e,n)})}function _(t,e){var n,i,r=w(e);return r&&(n=t,(i=e).prefinished||i.finalCalled||("function"==typeof n._final?(i.pendingcb++,i.finalCalled=!0,f.nextTick(l,n,i)):(i.prefinished=!0,n.emit("prefinish"))),0===e.pendingcb)&&(e.finished=!0,t.emit("finish")),r}"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(r=Function.prototype[Symbol.hasInstance],Object.defineProperty(s,Symbol.hasInstance,{value:function(t){return!!r.call(this,t)||this===s&&t&&t._writableState instanceof a}})):r=function(t){return t instanceof this},s.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},s.prototype.write=function(t,e,n){var i,r,o,a,s,l,c,u=this._writableState,h=!1,d=!u.objectMode&&(d=t,p.isBuffer(d)||d instanceof m);return d&&!p.isBuffer(t)&&(s=t,t=p.from(s)),"function"==typeof e&&(n=e,e=null),e=d?"buffer":e||u.defaultEncoding,"function"!=typeof n&&(n=g),u.ended?(s=this,l=n,c=new Error("write after end"),s.emit("error",c),f.nextTick(l,c)):(d||(l=this,c=u,r=n,a=!(o=!0),null===(i=t)?a=new TypeError("May not write null values to stream"):"string"==typeof i||void 0===i||c.objectMode||(a=new TypeError("Invalid non-string/buffer chunk")),a&&(l.emit("error",a),f.nextTick(r,a),o=!1),o))&&(u.pendingcb++,h=function(t,e,n,i,r,o){n||(a=function(t,e,n){t.objectMode||!1===t.decodeStrings||"string"!=typeof e||(e=p.from(e,n));return e}(e,i,r),i!==a&&(n=!0,r="buffer",i=a));var a=e.objectMode?1:i.length,s=(e.length+=a,e.length<e.highWaterMark);s||(e.needDrain=!0);{var l;e.writing||e.corked?(l=e.lastBufferedRequest,e.lastBufferedRequest={chunk:i,encoding:r,isBuf:n,callback:o,next:null},l?l.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1):b(t,e,!1,a,i,r,o)}return s}(this,u,d,t,e,n)),h},s.prototype.cork=function(){this._writableState.corked++},s.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.bufferProcessing||!t.bufferedRequest||y(this,t))},s.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=t.toLowerCase()),-1<["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase()))return this._writableState.defaultEncoding=t,this;throw new TypeError("Unknown encoding: "+t)},Object.defineProperty(s.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),s.prototype._write=function(t,e,n){n(new Error("_write() is not implemented"))},s.prototype._writev=null,s.prototype.end=function(t,e,n){var i=this._writableState;"function"==typeof t?(n=t,e=t=null):"function"==typeof e&&(n=e,e=null),null!=t&&this.write(t,e),i.corked&&(i.corked=1,this.uncork()),i.ending||(t=this,e=n,(n=i).ending=!0,_(t,n),e&&(n.finished?f.nextTick(e):t.once("finish",e)),n.ended=!0,t.writable=!1)},Object.defineProperty(s.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}}),s.prototype.destroy=n.destroy,s.prototype._undestroy=n.undestroy,s.prototype._destroy=function(t,e){this.end(),e(t)}}.call(this,x(36),x(168).setImmediate,x(26))},function(t,e,n){"use strict";var i=n(74);function r(t){this.options=t,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0,this.padding=!1!==t.padding}(t.exports=r).prototype._init=function(){},r.prototype.update=function(t){return 0===t.length?[]:"decrypt"===this.type?this._updateDecrypt(t):this._updateEncrypt(t)},r.prototype._buffer=function(t,e){for(var n=Math.min(this.buffer.length-this.bufferOff,t.length-e),i=0;i<n;i++)this.buffer[this.bufferOff+i]=t[e+i];return this.bufferOff+=n,n},r.prototype._flushBuffer=function(t,e){return this._update(this.buffer,0,t,e),this.bufferOff=0,this.blockSize},r.prototype._updateEncrypt=function(t){for(var e=0,n=0,i=(this.bufferOff+t.length)/this.blockSize|0,r=new Array(i*this.blockSize),o=(0!==this.bufferOff&&(e+=this._buffer(t,e),this.bufferOff===this.buffer.length)&&(n+=this._flushBuffer(r,n)),t.length-(t.length-e)%this.blockSize);e<o;e+=this.blockSize)this._update(t,e,r,n),n+=this.blockSize;for(;e<t.length;e++,this.bufferOff++)this.buffer[this.bufferOff]=t[e];return r},r.prototype._updateDecrypt=function(t){for(var e=0,n=0,i=Math.ceil((this.bufferOff+t.length)/this.blockSize)-1,r=new Array(i*this.blockSize);0<i;i--)e+=this._buffer(t,e),n+=this._flushBuffer(r,n);return e+=this._buffer(t,e),r},r.prototype.final=function(t){var e;return t&&(e=this.update(t)),t="encrypt"===this.type?this._finalEncrypt():this._finalDecrypt(),e?e.concat(t):t},r.prototype._pad=function(t,e){if(0===e)return!1;for(;e<t.length;)t[e++]=0;return!0},r.prototype._finalEncrypt=function(){var t;return this._pad(this.buffer,this.bufferOff)?(t=new Array(this.blockSize),this._update(this.buffer,0,t,0),t):[]},r.prototype._unpad=function(t){return t},r.prototype._finalDecrypt=function(){i.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var t=new Array(this.blockSize);return this._flushBuffer(t,0),this._unpad(t)}},function(t,e,n){var i=n(516),r=n(524),o=n(447);e.createCipher=e.Cipher=i.createCipher,e.createCipheriv=e.Cipheriv=i.createCipheriv,e.createDecipher=e.Decipher=r.createDecipher,e.createDecipheriv=e.Decipheriv=r.createDecipheriv,e.listCiphers=e.getCiphers=function(){return Object.keys(o)}},function(t,e,n){var i,r={ECB:n(517),CBC:n(518),CFB:n(519),CFB8:n(520),CFB1:n(521),OFB:n(522),CTR:n(445),GCM:n(445)},o=n(447);for(i in o)o[i].module=r[o[i].mode];t.exports=o},function(t,e,n){var i;function r(t){this.rand=t}if(t.exports=function(t){return(i=i||new r(null)).generate(t)},(t.exports.Rand=r).prototype.generate=function(t){return this._rand(t)},r.prototype._rand=function(t){if(this.rand.getBytes)return this.rand.getBytes(t);for(var e=new Uint8Array(t),n=0;n<e.length;n++)e[n]=this.rand.getByte();return e},"object"==typeof self)self.crypto&&self.crypto.getRandomValues?r.prototype._rand=function(t){t=new Uint8Array(t);return self.crypto.getRandomValues(t),t}:self.msCrypto&&self.msCrypto.getRandomValues?r.prototype._rand=function(t){t=new Uint8Array(t);return self.msCrypto.getRandomValues(t),t}:"object"==typeof window&&(r.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var o=n(530);if("function"!=typeof o.randomBytes)throw new Error("Not supported");r.prototype._rand=function(t){return o.randomBytes(t)}}catch(t){}},function(t,e,n){
/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
var i=n(48),r=i.Buffer;function o(t,e){for(var n in t)e[n]=t[n]}function a(t,e,n){return r(t,e,n)}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?t.exports=i:(o(i,e),e.Buffer=a),a.prototype=Object.create(r.prototype),o(r,a),a.from=function(t,e,n){if("number"==typeof t)throw new TypeError("Argument must not be a number");return r(t,e,n)},a.alloc=function(t,e,n){if("number"!=typeof t)throw new TypeError("Argument must be a number");t=r(t);return void 0!==e?"string"==typeof n?t.fill(e,n):t.fill(e):t.fill(0),t},a.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return r(t)},a.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return i.SlowBuffer(t)}},function(t,e,n){"use strict";var b=n(158).codes.ERR_STREAM_PREMATURE_CLOSE;function v(){}t.exports=function t(e,n,i){var r,o,a,s,l,c,u,h,d,f,p,m,g;return"function"==typeof n?t(e,null,n):(r=i||v,o=!1,i=function(){if(!o){o=!0;for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];r.apply(this,e)}},a=(n=n||{}).readable||!1!==n.readable&&e.readable,s=n.writable||!1!==n.writable&&e.writable,l=function(){e.writable||u()},c=e._writableState&&e._writableState.finished,u=function(){c=!(s=!1),a||i.call(e)},h=e._readableState&&e._readableState.endEmitted,d=function(){h=!(a=!1),s||i.call(e)},f=function(t){i.call(e,t)},p=function(){var t;return a&&!h?(e._readableState&&e._readableState.ended||(t=new b),i.call(e,t)):s&&!c?(e._writableState&&e._writableState.ended||(t=new b),i.call(e,t)):void 0},m=function(){e.req.on("finish",u)},(g=e).setHeader&&"function"==typeof g.abort?(e.on("complete",u),e.on("abort",p),e.req?m():e.on("request",m)):s&&!e._writableState&&(e.on("end",l),e.on("close",l)),e.on("end",d),e.on("finish",u),!1!==n.error&&e.on("error",f),e.on("close",p),function(){e.removeListener("complete",u),e.removeListener("abort",p),e.removeListener("request",m),e.req&&e.req.removeListener("finish",u),e.removeListener("end",l),e.removeListener("close",l),e.removeListener("finish",u),e.removeListener("end",d),e.removeListener("error",f),e.removeListener("close",p)})}},function(e,t,n){!function(l){var c=n(400),i=n(154);function u(t){for(var e,n=t.modulus.byteLength();0<=(e=new c(i(n))).cmp(t.modulus)||!e.umod(t.prime1)||!e.umod(t.prime2););return e}function t(t,e){var n={blinder:(n=u(i=e)).toRed(c.mont(i.modulus)).redPow(new c(i.publicExponent)).fromRed(),unblinder:n.invm(i.modulus)},i=e.modulus.byteLength(),t=new c(t).mul(n.blinder).umod(e.modulus),r=t.toRed(c.mont(e.prime1)),t=t.toRed(c.mont(e.prime2)),o=e.coefficient,a=e.prime1,s=e.prime2,r=r.redPow(e.exponent1).fromRed(),t=t.redPow(e.exponent2).fromRed(),r=r.isub(t).imul(o).umod(a).imul(s);return t.iadd(r).imul(n.unblinder).umod(e.modulus).toArrayLike(l,"be",i)}t.getr=u,e.exports=t}.call(this,n(48).Buffer)},function(t,e,C){!function(t){!function(t,e){"use strict";function m(t,e){if(!t)throw new Error(e||"Assertion failed")}function n(t,e){t.super_=e;function n(){}n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}function g(t,e,n){if(g.isBN(t))return t;this.negative=0,this.words=null,this.length=0,(this.red=null)!==t&&("le"!==e&&"be"!==e||(n=e,e=10),this._init(t||0,e||10,n||"be"))}var i;"object"==typeof t?t.exports=g:e.BN=g,(g.BN=g).wordSize=26;try{i=("undefined"!=typeof window&&void 0!==window.Buffer?window:C(543)).Buffer}catch(t){}function r(t,e){e=t.charCodeAt(e);return 48<=e&&e<=57?e-48:65<=e&&e<=70?e-55:97<=e&&e<=102?e-87:void m(!1,"Invalid character in "+t)}function s(t,e,n){var i=r(t,n);return e<=n-1&&(i|=r(t,n-1)<<4),i}function h(t,e,n,i){for(var r=0,o=0,a=Math.min(t.length,n),s=e;s<a;s++){var l=t.charCodeAt(s)-48;r*=i,o=49<=l?l-49+10:17<=l?l-17+10:l,m(0<=l&&o<i,"Invalid character"),r+=o}return r}function o(t,e){t.words=e.words,t.length=e.length,t.negative=e.negative,t.red=e.red}if(g.isBN=function(t){return t instanceof g||null!==t&&"object"==typeof t&&t.constructor.wordSize===g.wordSize&&Array.isArray(t.words)},g.max=function(t,e){return 0<t.cmp(e)?t:e},g.min=function(t,e){return t.cmp(e)<0?t:e},g.prototype._init=function(t,e,n){if("number"==typeof t)return this._initNumber(t,e,n);if("object"==typeof t)return this._initArray(t,e,n);m((e="hex"===e?16:e)===(0|e)&&2<=e&&e<=36);var i=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<t.length&&(16===e?this._parseHex(t,i,n):(this._parseBase(t,e,i),"le"===n&&this._initArray(this.toArray(),e,n)))},g.prototype._initNumber=function(t,e,n){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(m(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),e,n)},g.prototype._initArray=function(t,e,n){if(m("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i,r,o=0;o<this.length;o++)this.words[o]=0;var a=0;if("be"===n)for(o=t.length-1,i=0;0<=o;o-=3)r=t[o]|t[o-1]<<8|t[o-2]<<16,this.words[i]|=r<<a&67108863,this.words[i+1]=r>>>26-a&67108863,26<=(a+=24)&&(a-=26,i++);else if("le"===n)for(i=o=0;o<t.length;o+=3)r=t[o]|t[o+1]<<8|t[o+2]<<16,this.words[i]|=r<<a&67108863,this.words[i+1]=r>>>26-a&67108863,26<=(a+=24)&&(a-=26,i++);return this._strip()},g.prototype._parseHex=function(t,e,n){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var r,o=0,a=0;if("be"===n)for(i=t.length-1;e<=i;i-=2)r=s(t,e,i)<<o,this.words[a]|=67108863&r,18<=o?(o-=18,this.words[a+=1]|=r>>>26):o+=8;else for(i=(t.length-e)%2==0?e+1:e;i<t.length;i+=2)r=s(t,e,i)<<o,this.words[a]|=67108863&r,18<=o?(o-=18,this.words[a+=1]|=r>>>26):o+=8;this._strip()},g.prototype._parseBase=function(t,e,n){this.words=[0];for(var i=0,r=this.length=1;r<=67108863;r*=e)i++;for(var r=r/e|0,o=t.length-n,a=o%--i,s=Math.min(o,o-a)+n,l=0,c=n;c<s;c+=i)l=h(t,c,c+i,e),this.imuln(r),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l);if(0!=a){for(var u=1,l=h(t,c,t.length,e),c=0;c<a;c++)u*=e;this.imuln(u),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l)}this._strip()},g.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},g.prototype._move=function(t){o(t,this)},g.prototype.clone=function(){var t=new g(null);return this.copy(t),t},g.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},g.prototype._strip=function(){for(;1<this.length&&0===this.words[this.length-1];)this.length--;return this._normSign()},g.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!=typeof Symbol&&"function"==typeof Symbol.for)try{g.prototype[Symbol.for("nodejs.util.inspect.custom")]=a}catch(t){g.prototype.inspect=a}else g.prototype.inspect=a;function a(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var d=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],f=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];g.prototype.toString=function(t,e){if(e=0|e||1,16===(t=t||10)||"hex"===t){for(var n="",i=0,r=0,o=0;o<this.length;o++){var a=this.words[o],s=(16777215&(a<<i|r)).toString(16),r=a>>>24-i&16777215;26<=(i+=2)&&(i-=26,o--),n=0!==r||o!==this.length-1?d[6-s.length]+s+n:s+n}for(0!==r&&(n=r.toString(16)+n);n.length%e!=0;)n="0"+n;return n=0!==this.negative?"-"+n:n}if(t===(0|t)&&2<=t&&t<=36){var l=f[t],c=p[t];for(n="",(u=this.clone()).negative=0;!u.isZero();){var u,h=u.modrn(c).toString(t);n=(u=u.idivn(c)).isZero()?h+n:d[l-h.length]+h+n}for(this.isZero()&&(n="0"+n);n.length%e!=0;)n="0"+n;return n=0!==this.negative?"-"+n:n}m(!1,"Base should be between 2 and 36")},g.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:2<this.length&&m(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},g.prototype.toJSON=function(){return this.toString(16,2)},i&&(g.prototype.toBuffer=function(t,e){return this.toArrayLike(i,t,e)}),g.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)};function l(t,e,n){n.negative=e.negative^t.negative;var i=t.length+e.length|0,i=(n.length=i)-1|0,r=(a=(0|t.words[0])*(0|e.words[0]))/67108864|0;n.words[0]=67108863&a;for(var o=1;o<i;o++){for(var a,s=r>>>26,l=67108863&r,c=Math.min(o,e.length-1),u=Math.max(0,o-t.length+1);u<=c;u++)s+=(a=(0|t.words[o-u|0])*(0|e.words[u])+l)/67108864|0,l=67108863&a;n.words[o]=0|l,r=0|s}return 0!==r?n.words[o]=0|r:n.length--,n._strip()}g.prototype.toArrayLike=function(t,e,n){this._strip();var i=this.byteLength(),n=n||Math.max(1,i),t=(m(i<=n,"byte array longer than desired length"),m(0<n,"Requested array length <= 0"),n=n,(t=t).allocUnsafe?t.allocUnsafe(n):new t(n));return this["_toArrayLike"+("le"===e?"LE":"BE")](t,i),t},g.prototype._toArrayLikeLE=function(t,e){for(var n=0,i=0,r=0,o=0;r<this.length;r++){var a=this.words[r]<<o|i;t[n++]=255&a,n<t.length&&(t[n++]=a>>8&255),n<t.length&&(t[n++]=a>>16&255),6===o?(n<t.length&&(t[n++]=a>>24&255),o=i=0):(i=a>>>24,o+=2)}if(n<t.length)for(t[n++]=i;n<t.length;)t[n++]=0},g.prototype._toArrayLikeBE=function(t,e){for(var n=t.length-1,i=0,r=0,o=0;r<this.length;r++){var a=this.words[r]<<o|i;t[n--]=255&a,0<=n&&(t[n--]=a>>8&255),0<=n&&(t[n--]=a>>16&255),6===o?(0<=n&&(t[n--]=a>>24&255),o=i=0):(i=a>>>24,o+=2)}if(0<=n)for(t[n--]=i;0<=n;)t[n--]=0},Math.clz32?g.prototype._countBits=function(t){return 32-Math.clz32(t)}:g.prototype._countBits=function(t){var e=0;return 4096<=t&&(e+=13,t>>>=13),64<=t&&(e+=7,t>>>=7),8<=t&&(e+=4,t>>>=4),2<=t&&(e+=2,t>>>=2),e+t},g.prototype._zeroBits=function(t){var e;return 0===t?26:((e=0)==(8191&(t=t))&&(e+=13,t>>>=13),0==(127&t)&&(e+=7,t>>>=7),0==(15&t)&&(e+=4,t>>>=4),0==(3&t)&&(e+=2,t>>>=2),0==(1&t)&&e++,e)},g.prototype.bitLength=function(){var t=this.words[this.length-1],t=this._countBits(t);return 26*(this.length-1)+t},g.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var n=this._zeroBits(this.words[e]);if(t+=n,26!==n)break}return t},g.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},g.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},g.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},g.prototype.isNeg=function(){return 0!==this.negative},g.prototype.neg=function(){return this.clone().ineg()},g.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},g.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this._strip()},g.prototype.ior=function(t){return m(0==(this.negative|t.negative)),this.iuor(t)},g.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},g.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},g.prototype.iuand=function(t){for(var e=this.length>t.length?t:this,n=0;n<e.length;n++)this.words[n]=this.words[n]&t.words[n];return this.length=e.length,this._strip()},g.prototype.iand=function(t){return m(0==(this.negative|t.negative)),this.iuand(t)},g.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},g.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},g.prototype.iuxor=function(t){for(var e,n=this.length>t.length?(e=this,t):(e=t,this),i=0;i<n.length;i++)this.words[i]=e.words[i]^n.words[i];if(this!==e)for(;i<e.length;i++)this.words[i]=e.words[i];return this.length=e.length,this._strip()},g.prototype.ixor=function(t){return m(0==(this.negative|t.negative)),this.iuxor(t)},g.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},g.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},g.prototype.inotn=function(t){m("number"==typeof t&&0<=t);var e=0|Math.ceil(t/26),t=t%26;this._expand(e),0<t&&e--;for(var n=0;n<e;n++)this.words[n]=67108863&~this.words[n];return 0<t&&(this.words[n]=~this.words[n]&67108863>>26-t),this._strip()},g.prototype.notn=function(t){return this.clone().inotn(t)},g.prototype.setn=function(t,e){m("number"==typeof t&&0<=t);var n=t/26|0,t=t%26;return this._expand(1+n),this.words[n]=e?this.words[n]|1<<t:this.words[n]&~(1<<t),this._strip()},g.prototype.iadd=function(t){var e,n;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();for(var i=this.length>t.length?(n=this,t):(n=t,this),r=0,o=0;o<i.length;o++)e=(0|n.words[o])+(0|i.words[o])+r,this.words[o]=67108863&e,r=e>>>26;for(;0!==r&&o<n.length;o++)e=(0|n.words[o])+r,this.words[o]=67108863&e,r=e>>>26;if(this.length=n.length,0!==r)this.words[this.length]=r,this.length++;else if(n!==this)for(;o<n.length;o++)this.words[o]=n.words[o];return this},g.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},g.prototype.isub=function(t){var e;if(0!==t.negative)return t.negative=0,e=this.iadd(t),t.negative=1,e._normSign();if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var n,i=this.cmp(t);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;for(var r=0<i?(n=this,t):(n=t,this),o=0,a=0;a<r.length;a++)o=(e=(0|n.words[a])-(0|r.words[a])+o)>>26,this.words[a]=67108863&e;for(;0!==o&&a<n.length;a++)o=(e=(0|n.words[a])+o)>>26,this.words[a]=67108863&e;if(0===o&&a<n.length&&n!==this)for(;a<n.length;a++)this.words[a]=n.words[a];return this.length=Math.max(this.length,a),n!==this&&(this.negative=1),this._strip()},g.prototype.sub=function(t){return this.clone().isub(t)};var c=function(t,D,B){var e,n=t.words,i=D.words,r=B.words,o=0|n[0],a=8191&o,o=o>>>13,s=0|n[1],l=8191&s,s=s>>>13,c=0|n[2],u=8191&c,c=c>>>13,h=0|n[3],d=8191&h,h=h>>>13,f=0|n[4],p=8191&f,f=f>>>13,m=0|n[5],g=8191&m,m=m>>>13,b=0|n[6],v=8191&b,b=b>>>13,y=0|n[7],w=8191&y,y=y>>>13,_=0|n[8],N=8191&_,_=_>>>13,n=0|n[9],F=8191&n,n=n>>>13,x=0|i[0],M=8191&x,x=x>>>13,S=0|i[1],k=8191&S,S=S>>>13,C=0|i[2],E=8191&C,C=C>>>13,P=0|i[3],$=8191&P,P=P>>>13,A=0|i[4],U=8191&A,A=A>>>13,T=0|i[5],z=8191&T,T=T>>>13,j=0|i[6],H=8191&j,j=j>>>13,L=0|i[7],q=8191&L,L=L>>>13,O=0|i[8],W=8191&O,O=O>>>13,i=0|i[9],V=8191&i,i=i>>>13,D=(B.negative=t.negative^D.negative,B.length=19,(0+Math.imul(a,M)|0)+((8191&(t=Math.imul(a,x)+Math.imul(o,M)|0))<<13)|0),R=(Math.imul(o,x)+(t>>>13)|0)+(D>>>26)|0;D&=67108863,e=Math.imul(l,M),t=Math.imul(l,x)+Math.imul(s,M)|0,I=Math.imul(s,x);var I,K=(R+(e+Math.imul(a,k)|0)|0)+((8191&(t=(t+Math.imul(a,S)|0)+Math.imul(o,k)|0))<<13)|0,Z=(R=((I+Math.imul(o,S)|0)+(t>>>13)|0)+(K>>>26)|0,K&=67108863,e=Math.imul(u,M),t=Math.imul(u,x)+Math.imul(c,M)|0,I=Math.imul(c,x),e=e+Math.imul(l,k)|0,t=(t+Math.imul(l,S)|0)+Math.imul(s,k)|0,I=I+Math.imul(s,S)|0,(R+(e+Math.imul(a,E)|0)|0)+((8191&(t=(t+Math.imul(a,C)|0)+Math.imul(o,E)|0))<<13)|0),G=(R=((I+Math.imul(o,C)|0)+(t>>>13)|0)+(Z>>>26)|0,Z&=67108863,e=Math.imul(d,M),t=Math.imul(d,x)+Math.imul(h,M)|0,I=Math.imul(h,x),e=e+Math.imul(u,k)|0,t=(t+Math.imul(u,S)|0)+Math.imul(c,k)|0,I=I+Math.imul(c,S)|0,e=e+Math.imul(l,E)|0,t=(t+Math.imul(l,C)|0)+Math.imul(s,E)|0,I=I+Math.imul(s,C)|0,(R+(e+Math.imul(a,$)|0)|0)+((8191&(t=(t+Math.imul(a,P)|0)+Math.imul(o,$)|0))<<13)|0),J=(R=((I+Math.imul(o,P)|0)+(t>>>13)|0)+(G>>>26)|0,G&=67108863,e=Math.imul(p,M),t=Math.imul(p,x)+Math.imul(f,M)|0,I=Math.imul(f,x),e=e+Math.imul(d,k)|0,t=(t+Math.imul(d,S)|0)+Math.imul(h,k)|0,I=I+Math.imul(h,S)|0,e=e+Math.imul(u,E)|0,t=(t+Math.imul(u,C)|0)+Math.imul(c,E)|0,I=I+Math.imul(c,C)|0,e=e+Math.imul(l,$)|0,t=(t+Math.imul(l,P)|0)+Math.imul(s,$)|0,I=I+Math.imul(s,P)|0,(R+(e+Math.imul(a,U)|0)|0)+((8191&(t=(t+Math.imul(a,A)|0)+Math.imul(o,U)|0))<<13)|0),Y=(R=((I+Math.imul(o,A)|0)+(t>>>13)|0)+(J>>>26)|0,J&=67108863,e=Math.imul(g,M),t=Math.imul(g,x)+Math.imul(m,M)|0,I=Math.imul(m,x),e=e+Math.imul(p,k)|0,t=(t+Math.imul(p,S)|0)+Math.imul(f,k)|0,I=I+Math.imul(f,S)|0,e=e+Math.imul(d,E)|0,t=(t+Math.imul(d,C)|0)+Math.imul(h,E)|0,I=I+Math.imul(h,C)|0,e=e+Math.imul(u,$)|0,t=(t+Math.imul(u,P)|0)+Math.imul(c,$)|0,I=I+Math.imul(c,P)|0,e=e+Math.imul(l,U)|0,t=(t+Math.imul(l,A)|0)+Math.imul(s,U)|0,I=I+Math.imul(s,A)|0,(R+(e+Math.imul(a,z)|0)|0)+((8191&(t=(t+Math.imul(a,T)|0)+Math.imul(o,z)|0))<<13)|0),X=(R=((I+Math.imul(o,T)|0)+(t>>>13)|0)+(Y>>>26)|0,Y&=67108863,e=Math.imul(v,M),t=Math.imul(v,x)+Math.imul(b,M)|0,I=Math.imul(b,x),e=e+Math.imul(g,k)|0,t=(t+Math.imul(g,S)|0)+Math.imul(m,k)|0,I=I+Math.imul(m,S)|0,e=e+Math.imul(p,E)|0,t=(t+Math.imul(p,C)|0)+Math.imul(f,E)|0,I=I+Math.imul(f,C)|0,e=e+Math.imul(d,$)|0,t=(t+Math.imul(d,P)|0)+Math.imul(h,$)|0,I=I+Math.imul(h,P)|0,e=e+Math.imul(u,U)|0,t=(t+Math.imul(u,A)|0)+Math.imul(c,U)|0,I=I+Math.imul(c,A)|0,e=e+Math.imul(l,z)|0,t=(t+Math.imul(l,T)|0)+Math.imul(s,z)|0,I=I+Math.imul(s,T)|0,(R+(e+Math.imul(a,H)|0)|0)+((8191&(t=(t+Math.imul(a,j)|0)+Math.imul(o,H)|0))<<13)|0),Q=(R=((I+Math.imul(o,j)|0)+(t>>>13)|0)+(X>>>26)|0,X&=67108863,e=Math.imul(w,M),t=Math.imul(w,x)+Math.imul(y,M)|0,I=Math.imul(y,x),e=e+Math.imul(v,k)|0,t=(t+Math.imul(v,S)|0)+Math.imul(b,k)|0,I=I+Math.imul(b,S)|0,e=e+Math.imul(g,E)|0,t=(t+Math.imul(g,C)|0)+Math.imul(m,E)|0,I=I+Math.imul(m,C)|0,e=e+Math.imul(p,$)|0,t=(t+Math.imul(p,P)|0)+Math.imul(f,$)|0,I=I+Math.imul(f,P)|0,e=e+Math.imul(d,U)|0,t=(t+Math.imul(d,A)|0)+Math.imul(h,U)|0,I=I+Math.imul(h,A)|0,e=e+Math.imul(u,z)|0,t=(t+Math.imul(u,T)|0)+Math.imul(c,z)|0,I=I+Math.imul(c,T)|0,e=e+Math.imul(l,H)|0,t=(t+Math.imul(l,j)|0)+Math.imul(s,H)|0,I=I+Math.imul(s,j)|0,(R+(e+Math.imul(a,q)|0)|0)+((8191&(t=(t+Math.imul(a,L)|0)+Math.imul(o,q)|0))<<13)|0),tt=(R=((I+Math.imul(o,L)|0)+(t>>>13)|0)+(Q>>>26)|0,Q&=67108863,e=Math.imul(N,M),t=Math.imul(N,x)+Math.imul(_,M)|0,I=Math.imul(_,x),e=e+Math.imul(w,k)|0,t=(t+Math.imul(w,S)|0)+Math.imul(y,k)|0,I=I+Math.imul(y,S)|0,e=e+Math.imul(v,E)|0,t=(t+Math.imul(v,C)|0)+Math.imul(b,E)|0,I=I+Math.imul(b,C)|0,e=e+Math.imul(g,$)|0,t=(t+Math.imul(g,P)|0)+Math.imul(m,$)|0,I=I+Math.imul(m,P)|0,e=e+Math.imul(p,U)|0,t=(t+Math.imul(p,A)|0)+Math.imul(f,U)|0,I=I+Math.imul(f,A)|0,e=e+Math.imul(d,z)|0,t=(t+Math.imul(d,T)|0)+Math.imul(h,z)|0,I=I+Math.imul(h,T)|0,e=e+Math.imul(u,H)|0,t=(t+Math.imul(u,j)|0)+Math.imul(c,H)|0,I=I+Math.imul(c,j)|0,e=e+Math.imul(l,q)|0,t=(t+Math.imul(l,L)|0)+Math.imul(s,q)|0,I=I+Math.imul(s,L)|0,(R+(e+Math.imul(a,W)|0)|0)+((8191&(t=(t+Math.imul(a,O)|0)+Math.imul(o,W)|0))<<13)|0),M=(R=((I+Math.imul(o,O)|0)+(t>>>13)|0)+(tt>>>26)|0,tt&=67108863,e=Math.imul(F,M),t=Math.imul(F,x)+Math.imul(n,M)|0,I=Math.imul(n,x),e=e+Math.imul(N,k)|0,t=(t+Math.imul(N,S)|0)+Math.imul(_,k)|0,I=I+Math.imul(_,S)|0,e=e+Math.imul(w,E)|0,t=(t+Math.imul(w,C)|0)+Math.imul(y,E)|0,I=I+Math.imul(y,C)|0,e=e+Math.imul(v,$)|0,t=(t+Math.imul(v,P)|0)+Math.imul(b,$)|0,I=I+Math.imul(b,P)|0,e=e+Math.imul(g,U)|0,t=(t+Math.imul(g,A)|0)+Math.imul(m,U)|0,I=I+Math.imul(m,A)|0,e=e+Math.imul(p,z)|0,t=(t+Math.imul(p,T)|0)+Math.imul(f,z)|0,I=I+Math.imul(f,T)|0,e=e+Math.imul(d,H)|0,t=(t+Math.imul(d,j)|0)+Math.imul(h,H)|0,I=I+Math.imul(h,j)|0,e=e+Math.imul(u,q)|0,t=(t+Math.imul(u,L)|0)+Math.imul(c,q)|0,I=I+Math.imul(c,L)|0,e=e+Math.imul(l,W)|0,t=(t+Math.imul(l,O)|0)+Math.imul(s,W)|0,I=I+Math.imul(s,O)|0,(R+(e+Math.imul(a,V)|0)|0)+((8191&(t=(t+Math.imul(a,i)|0)+Math.imul(o,V)|0))<<13)|0),x=(R=((I+Math.imul(o,i)|0)+(t>>>13)|0)+(M>>>26)|0,M&=67108863,e=Math.imul(F,k),t=Math.imul(F,S)+Math.imul(n,k)|0,I=Math.imul(n,S),e=e+Math.imul(N,E)|0,t=(t+Math.imul(N,C)|0)+Math.imul(_,E)|0,I=I+Math.imul(_,C)|0,e=e+Math.imul(w,$)|0,t=(t+Math.imul(w,P)|0)+Math.imul(y,$)|0,I=I+Math.imul(y,P)|0,e=e+Math.imul(v,U)|0,t=(t+Math.imul(v,A)|0)+Math.imul(b,U)|0,I=I+Math.imul(b,A)|0,e=e+Math.imul(g,z)|0,t=(t+Math.imul(g,T)|0)+Math.imul(m,z)|0,I=I+Math.imul(m,T)|0,e=e+Math.imul(p,H)|0,t=(t+Math.imul(p,j)|0)+Math.imul(f,H)|0,I=I+Math.imul(f,j)|0,e=e+Math.imul(d,q)|0,t=(t+Math.imul(d,L)|0)+Math.imul(h,q)|0,I=I+Math.imul(h,L)|0,e=e+Math.imul(u,W)|0,t=(t+Math.imul(u,O)|0)+Math.imul(c,W)|0,I=I+Math.imul(c,O)|0,(R+(e+Math.imul(l,V)|0)|0)+((8191&(t=(t+Math.imul(l,i)|0)+Math.imul(s,V)|0))<<13)|0),a=(R=((I+Math.imul(s,i)|0)+(t>>>13)|0)+(x>>>26)|0,x&=67108863,e=Math.imul(F,E),t=Math.imul(F,C)+Math.imul(n,E)|0,I=Math.imul(n,C),e=e+Math.imul(N,$)|0,t=(t+Math.imul(N,P)|0)+Math.imul(_,$)|0,I=I+Math.imul(_,P)|0,e=e+Math.imul(w,U)|0,t=(t+Math.imul(w,A)|0)+Math.imul(y,U)|0,I=I+Math.imul(y,A)|0,e=e+Math.imul(v,z)|0,t=(t+Math.imul(v,T)|0)+Math.imul(b,z)|0,I=I+Math.imul(b,T)|0,e=e+Math.imul(g,H)|0,t=(t+Math.imul(g,j)|0)+Math.imul(m,H)|0,I=I+Math.imul(m,j)|0,e=e+Math.imul(p,q)|0,t=(t+Math.imul(p,L)|0)+Math.imul(f,q)|0,I=I+Math.imul(f,L)|0,e=e+Math.imul(d,W)|0,t=(t+Math.imul(d,O)|0)+Math.imul(h,W)|0,I=I+Math.imul(h,O)|0,(R+(e+Math.imul(u,V)|0)|0)+((8191&(t=(t+Math.imul(u,i)|0)+Math.imul(c,V)|0))<<13)|0),o=(R=((I+Math.imul(c,i)|0)+(t>>>13)|0)+(a>>>26)|0,a&=67108863,e=Math.imul(F,$),t=Math.imul(F,P)+Math.imul(n,$)|0,I=Math.imul(n,P),e=e+Math.imul(N,U)|0,t=(t+Math.imul(N,A)|0)+Math.imul(_,U)|0,I=I+Math.imul(_,A)|0,e=e+Math.imul(w,z)|0,t=(t+Math.imul(w,T)|0)+Math.imul(y,z)|0,I=I+Math.imul(y,T)|0,e=e+Math.imul(v,H)|0,t=(t+Math.imul(v,j)|0)+Math.imul(b,H)|0,I=I+Math.imul(b,j)|0,e=e+Math.imul(g,q)|0,t=(t+Math.imul(g,L)|0)+Math.imul(m,q)|0,I=I+Math.imul(m,L)|0,e=e+Math.imul(p,W)|0,t=(t+Math.imul(p,O)|0)+Math.imul(f,W)|0,I=I+Math.imul(f,O)|0,(R+(e+Math.imul(d,V)|0)|0)+((8191&(t=(t+Math.imul(d,i)|0)+Math.imul(h,V)|0))<<13)|0),k=(R=((I+Math.imul(h,i)|0)+(t>>>13)|0)+(o>>>26)|0,o&=67108863,e=Math.imul(F,U),t=Math.imul(F,A)+Math.imul(n,U)|0,I=Math.imul(n,A),e=e+Math.imul(N,z)|0,t=(t+Math.imul(N,T)|0)+Math.imul(_,z)|0,I=I+Math.imul(_,T)|0,e=e+Math.imul(w,H)|0,t=(t+Math.imul(w,j)|0)+Math.imul(y,H)|0,I=I+Math.imul(y,j)|0,e=e+Math.imul(v,q)|0,t=(t+Math.imul(v,L)|0)+Math.imul(b,q)|0,I=I+Math.imul(b,L)|0,e=e+Math.imul(g,W)|0,t=(t+Math.imul(g,O)|0)+Math.imul(m,W)|0,I=I+Math.imul(m,O)|0,(R+(e+Math.imul(p,V)|0)|0)+((8191&(t=(t+Math.imul(p,i)|0)+Math.imul(f,V)|0))<<13)|0),S=(R=((I+Math.imul(f,i)|0)+(t>>>13)|0)+(k>>>26)|0,k&=67108863,e=Math.imul(F,z),t=Math.imul(F,T)+Math.imul(n,z)|0,I=Math.imul(n,T),e=e+Math.imul(N,H)|0,t=(t+Math.imul(N,j)|0)+Math.imul(_,H)|0,I=I+Math.imul(_,j)|0,e=e+Math.imul(w,q)|0,t=(t+Math.imul(w,L)|0)+Math.imul(y,q)|0,I=I+Math.imul(y,L)|0,e=e+Math.imul(v,W)|0,t=(t+Math.imul(v,O)|0)+Math.imul(b,W)|0,I=I+Math.imul(b,O)|0,(R+(e+Math.imul(g,V)|0)|0)+((8191&(t=(t+Math.imul(g,i)|0)+Math.imul(m,V)|0))<<13)|0),l=(R=((I+Math.imul(m,i)|0)+(t>>>13)|0)+(S>>>26)|0,S&=67108863,e=Math.imul(F,H),t=Math.imul(F,j)+Math.imul(n,H)|0,I=Math.imul(n,j),e=e+Math.imul(N,q)|0,t=(t+Math.imul(N,L)|0)+Math.imul(_,q)|0,I=I+Math.imul(_,L)|0,e=e+Math.imul(w,W)|0,t=(t+Math.imul(w,O)|0)+Math.imul(y,W)|0,I=I+Math.imul(y,O)|0,(R+(e+Math.imul(v,V)|0)|0)+((8191&(t=(t+Math.imul(v,i)|0)+Math.imul(b,V)|0))<<13)|0),s=(R=((I+Math.imul(b,i)|0)+(t>>>13)|0)+(l>>>26)|0,l&=67108863,e=Math.imul(F,q),t=Math.imul(F,L)+Math.imul(n,q)|0,I=Math.imul(n,L),e=e+Math.imul(N,W)|0,t=(t+Math.imul(N,O)|0)+Math.imul(_,W)|0,I=I+Math.imul(_,O)|0,(R+(e+Math.imul(w,V)|0)|0)+((8191&(t=(t+Math.imul(w,i)|0)+Math.imul(y,V)|0))<<13)|0),E=(R=((I+Math.imul(y,i)|0)+(t>>>13)|0)+(s>>>26)|0,s&=67108863,e=Math.imul(F,W),t=Math.imul(F,O)+Math.imul(n,W)|0,I=Math.imul(n,O),(R+(e+Math.imul(N,V)|0)|0)+((8191&(t=(t+Math.imul(N,i)|0)+Math.imul(_,V)|0))<<13)|0),C=(R=((I+Math.imul(_,i)|0)+(t>>>13)|0)+(E>>>26)|0,E&=67108863,(R+Math.imul(F,V)|0)+((8191&(t=Math.imul(F,i)+Math.imul(n,V)|0))<<13)|0);return R=(Math.imul(n,i)+(t>>>13)|0)+(C>>>26)|0,C&=67108863,r[0]=D,r[1]=K,r[2]=Z,r[3]=G,r[4]=J,r[5]=Y,r[6]=X,r[7]=Q,r[8]=tt,r[9]=M,r[10]=x,r[11]=a,r[12]=o,r[13]=k,r[14]=S,r[15]=l,r[16]=s,r[17]=E,r[18]=C,0!=R&&(r[19]=R,B.length++),B};function u(t,e,n){n.negative=e.negative^t.negative,n.length=t.length+e.length;for(var i=0,r=0,o=0;o<n.length-1;o++){for(var a=r,r=0,s=67108863&i,l=Math.min(o,e.length-1),c=Math.max(0,o-t.length+1);c<=l;c++){var u,h=(0|t.words[o-c])*(0|e.words[c]),s=67108863&(u=(67108863&h)+s|0);r+=(a=(a=a+(h/67108864|0)|0)+(u>>>26)|0)>>>26,a&=67108863}n.words[o]=s,i=a,a=r}return 0!==i?n.words[o]=i:n.length--,n._strip()}function b(t,e,n){return u(t,e,n)}Math.imul||(c=l),g.prototype.mulTo=function(t,e){var n=this.length+t.length,n=(10===this.length&&10===t.length?c:n<63?l:n<1024?u:b)(this,t,e);return n},g.prototype.mul=function(t){var e=new g(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},g.prototype.mulf=function(t){var e=new g(null);return e.words=new Array(this.length+t.length),b(this,t,e)},g.prototype.imul=function(t){return this.clone().mulTo(t,this)},g.prototype.imuln=function(t){for(var e=t<0,n=(m("number"==typeof(t=e?-t:t)),m(t<67108864),0),i=0;i<this.length;i++){var r=(0|this.words[i])*t,o=(67108863&r)+(67108863&n),n=(n>>=26)+(r/67108864|0)+(o>>>26);this.words[i]=67108863&o}return 0!==n&&(this.words[i]=n,this.length++),e?this.ineg():this},g.prototype.muln=function(t){return this.clone().imuln(t)},g.prototype.sqr=function(){return this.mul(this)},g.prototype.isqr=function(){return this.imul(this.clone())},g.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),n=0;n<e.length;n++)e[n]=t.words[n/26|0]>>>n%26&1;return e}(t);if(0===e.length)return new g(1);for(var n=this,i=0;i<e.length&&0===e[i];i++,n=n.sqr());if(++i<e.length)for(var r=n.sqr();i<e.length;i++,r=r.sqr())0!==e[i]&&(n=n.mul(r));return n},g.prototype.iushln=function(t){m("number"==typeof t&&0<=t);var e=t%26,n=(t-e)/26,i=67108863>>>26-e<<26-e;if(0!=e){for(var r=0,o=0;o<this.length;o++){var a=this.words[o]&i,s=(0|this.words[o])-a<<e;this.words[o]=s|r,r=a>>>26-e}r&&(this.words[o]=r,this.length++)}if(0!=n){for(o=this.length-1;0<=o;o--)this.words[o+n]=this.words[o];for(o=0;o<n;o++)this.words[o]=0;this.length+=n}return this._strip()},g.prototype.ishln=function(t){return m(0===this.negative),this.iushln(t)},g.prototype.iushrn=function(t,e,n){m("number"==typeof t&&0<=t),i=e?(e-e%26)/26:0;var i,r=t%26,o=Math.min((t-r)/26,this.length),a=67108863^67108863>>>r<<r,s=n;if(i-=o,i=Math.max(0,i),s){for(var l=0;l<o;l++)s.words[l]=this.words[l];s.length=o}if(0!==o)if(this.length>o)for(this.length-=o,l=0;l<this.length;l++)this.words[l]=this.words[l+o];else this.words[0]=0,this.length=1;for(var c=0,l=this.length-1;0<=l&&(0!==c||i<=l);l--){var u=0|this.words[l];this.words[l]=c<<26-r|u>>>r,c=u&a}return s&&0!==c&&(s.words[s.length++]=c),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},g.prototype.ishrn=function(t,e,n){return m(0===this.negative),this.iushrn(t,e,n)},g.prototype.shln=function(t){return this.clone().ishln(t)},g.prototype.ushln=function(t){return this.clone().iushln(t)},g.prototype.shrn=function(t){return this.clone().ishrn(t)},g.prototype.ushrn=function(t){return this.clone().iushrn(t)},g.prototype.testn=function(t){m("number"==typeof t&&0<=t);var e=t%26,t=(t-e)/26;return!(this.length<=t||!(this.words[t]&1<<e))},g.prototype.imaskn=function(t){m("number"==typeof t&&0<=t);var e=t%26,t=(t-e)/26;return m(0===this.negative,"imaskn works only with positive numbers"),this.length<=t?this:(0!=e&&t++,this.length=Math.min(t,this.length),0!=e&&(this.words[this.length-1]&=67108863^67108863>>>e<<e),this._strip())},g.prototype.maskn=function(t){return this.clone().imaskn(t)},g.prototype.iaddn=function(t){return m("number"==typeof t),m(t<67108864),t<0?this.isubn(-t):0!==this.negative?(1===this.length&&(0|this.words[0])<=t?(this.words[0]=t-(0|this.words[0]),this.negative=0):(this.negative=0,this.isubn(t),this.negative=1),this):this._iaddn(t)},g.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&67108864<=this.words[e];e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},g.prototype.isubn=function(t){if(m("number"==typeof t),m(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,--this.words[e+1];return this._strip()},g.prototype.addn=function(t){return this.clone().iaddn(t)},g.prototype.subn=function(t){return this.clone().isubn(t)},g.prototype.iabs=function(){return this.negative=0,this},g.prototype.abs=function(){return this.clone().iabs()},g.prototype._ishlnsubmul=function(t,e,n){for(var i=t.length+n,r=(this._expand(i),0),o=0;o<t.length;o++){var a=(0|this.words[o+n])+r,s=(0|t.words[o])*e,r=((a-=67108863&s)>>26)-(s/67108864|0);this.words[o+n]=67108863&a}for(;o<this.length-n;o++)r=(a=(0|this.words[o+n])+r)>>26,this.words[o+n]=67108863&a;if(0!==r){for(m(-1===r),o=r=0;o<this.length;o++)r=(a=-(0|this.words[o])+r)>>26,this.words[o]=67108863&a;this.negative=1}return this._strip()},g.prototype._wordDiv=function(t,e){this.length,t.length;var n,i=this.clone(),r=t,o=0|r.words[r.length-1],a=(0!=(t=26-this._countBits(o))&&(r=r.ushln(t),i.iushln(t),o=0|r.words[r.length-1]),i.length-r.length);if("mod"!==e){(n=new g(null)).length=1+a,n.words=new Array(n.length);for(var s=0;s<n.length;s++)n.words[s]=0}var l=i.clone()._ishlnsubmul(r,1,a);0===l.negative&&(i=l,n)&&(n.words[a]=1);for(var c=a-1;0<=c;c--){var u=67108864*(0|i.words[r.length+c])+(0|i.words[r.length+c-1]),u=Math.min(u/o|0,67108863);for(i._ishlnsubmul(r,u,c);0!==i.negative;)u--,i.negative=0,i._ishlnsubmul(r,1,c),i.isZero()||(i.negative^=1);n&&(n.words[c]=u)}return n&&n._strip(),i._strip(),"div"!==e&&0!=t&&i.iushrn(t),{div:n||null,mod:i}},g.prototype.divmod=function(t,e,n){var i,r,o;return m(!t.isZero()),this.isZero()?{div:new g(0),mod:new g(0)}:0!==this.negative&&0===t.negative?(o=this.neg().divmod(t,e),"mod"!==e&&(i=o.div.neg()),"div"!==e&&(r=o.mod.neg(),n)&&0!==r.negative&&r.iadd(t),{div:i,mod:r}):0===this.negative&&0!==t.negative?(o=this.divmod(t.neg(),e),{div:i="mod"!==e?o.div.neg():i,mod:o.mod}):0!=(this.negative&t.negative)?(o=this.neg().divmod(t.neg(),e),"div"!==e&&(r=o.mod.neg(),n)&&0!==r.negative&&r.isub(t),{div:o.div,mod:r}):t.length>this.length||this.cmp(t)<0?{div:new g(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new g(this.modrn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new g(this.modrn(t.words[0]))}:this._wordDiv(t,e)},g.prototype.div=function(t){return this.divmod(t,"div",!1).div},g.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},g.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},g.prototype.divRound=function(t){var e,n,i=this.divmod(t);return i.mod.isZero()||(n=0!==i.div.negative?i.mod.isub(t):i.mod,e=t.ushrn(1),t=t.andln(1),(n=n.cmp(e))<0)||1===t&&0===n?i.div:0!==i.div.negative?i.div.isubn(1):i.div.iaddn(1)},g.prototype.modrn=function(t){for(var e=t<0,n=(m((t=e?-t:t)<=67108863),(1<<26)%t),i=0,r=this.length-1;0<=r;r--)i=(n*i+(0|this.words[r]))%t;return e?-i:i},g.prototype.modn=function(t){return this.modrn(t)},g.prototype.idivn=function(t){for(var e=t<0,n=(m((t=e?-t:t)<=67108863),0),i=this.length-1;0<=i;i--){var r=(0|this.words[i])+67108864*n;this.words[i]=r/t|0,n=r%t}return this._strip(),e?this.ineg():this},g.prototype.divn=function(t){return this.clone().idivn(t)},g.prototype.egcd=function(t){m(0===t.negative),m(!t.isZero());for(var e=this,n=t.clone(),e=0!==e.negative?e.umod(t):e.clone(),i=new g(1),r=new g(0),o=new g(0),a=new g(1),s=0;e.isEven()&&n.isEven();)e.iushrn(1),n.iushrn(1),++s;for(var l=n.clone(),c=e.clone();!e.isZero();){for(var u=0,h=1;0==(e.words[0]&h)&&u<26;++u,h<<=1);if(0<u)for(e.iushrn(u);0<u--;)(i.isOdd()||r.isOdd())&&(i.iadd(l),r.isub(c)),i.iushrn(1),r.iushrn(1);for(var d=0,f=1;0==(n.words[0]&f)&&d<26;++d,f<<=1);if(0<d)for(n.iushrn(d);0<d--;)(o.isOdd()||a.isOdd())&&(o.iadd(l),a.isub(c)),o.iushrn(1),a.iushrn(1);0<=e.cmp(n)?(e.isub(n),i.isub(o),r.isub(a)):(n.isub(e),o.isub(i),a.isub(r))}return{a:o,b:a,gcd:n.iushln(s)}},g.prototype._invmp=function(t){m(0===t.negative),m(!t.isZero());for(var e,n=this,i=t.clone(),n=0!==n.negative?n.umod(t):n.clone(),r=new g(1),o=new g(0),a=i.clone();0<n.cmpn(1)&&0<i.cmpn(1);){for(var s=0,l=1;0==(n.words[0]&l)&&s<26;++s,l<<=1);if(0<s)for(n.iushrn(s);0<s--;)r.isOdd()&&r.iadd(a),r.iushrn(1);for(var c=0,u=1;0==(i.words[0]&u)&&c<26;++c,u<<=1);if(0<c)for(i.iushrn(c);0<c--;)o.isOdd()&&o.iadd(a),o.iushrn(1);0<=n.cmp(i)?(n.isub(i),r.isub(o)):(i.isub(n),o.isub(r))}return(e=0===n.cmpn(1)?r:o).cmpn(0)<0&&e.iadd(t),e},g.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),n=t.clone();e.negative=0;for(var i=n.negative=0;e.isEven()&&n.isEven();i++)e.iushrn(1),n.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;n.isEven();)n.iushrn(1);var r=e.cmp(n);if(r<0)var o=e,e=n,n=o;else if(0===r||0===n.cmpn(1))break;e.isub(n)}return n.iushln(i)},g.prototype.invm=function(t){return this.egcd(t).a.umod(t)},g.prototype.isEven=function(){return 0==(1&this.words[0])},g.prototype.isOdd=function(){return 1==(1&this.words[0])},g.prototype.andln=function(t){return this.words[0]&t},g.prototype.bincn=function(t){m("number"==typeof t);var e=t%26,t=(t-e)/26,e=1<<e;if(this.length<=t)this._expand(1+t),this.words[t]|=e;else{for(var n=e,i=t;0!==n&&i<this.length;i++){var r=0|this.words[i],n=(r+=n)>>>26;r&=67108863,this.words[i]=r}0!==n&&(this.words[i]=n,this.length++)}return this},g.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},g.prototype.cmpn=function(t){var e=t<0;return 0===this.negative||e?0===this.negative&&e?1:(this._strip(),e=1<this.length?1:(m((t=e?-t:t)<=67108863,"Number is too big"),(e=0|this.words[0])===t?0:e<t?-1:1),0!==this.negative?0|-e:e):-1},g.prototype.cmp=function(t){return 0!==this.negative&&0===t.negative?-1:0===this.negative&&0!==t.negative?1:(t=this.ucmp(t),0!==this.negative?0|-t:t)},g.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,n=this.length-1;0<=n;n--){var i=0|this.words[n],r=0|t.words[n];if(i!=r){i<r?e=-1:r<i&&(e=1);break}}return e},g.prototype.gtn=function(t){return 1===this.cmpn(t)},g.prototype.gt=function(t){return 1===this.cmp(t)},g.prototype.gten=function(t){return 0<=this.cmpn(t)},g.prototype.gte=function(t){return 0<=this.cmp(t)},g.prototype.ltn=function(t){return-1===this.cmpn(t)},g.prototype.lt=function(t){return-1===this.cmp(t)},g.prototype.lten=function(t){return this.cmpn(t)<=0},g.prototype.lte=function(t){return this.cmp(t)<=0},g.prototype.eqn=function(t){return 0===this.cmpn(t)},g.prototype.eq=function(t){return 0===this.cmp(t)},g.red=function(t){return new S(t)},g.prototype.toRed=function(t){return m(!this.red,"Already a number in reduction context"),m(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},g.prototype.fromRed=function(){return m(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},g.prototype._forceRed=function(t){return this.red=t,this},g.prototype.forceRed=function(t){return m(!this.red,"Already a number in reduction context"),this._forceRed(t)},g.prototype.redAdd=function(t){return m(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},g.prototype.redIAdd=function(t){return m(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},g.prototype.redSub=function(t){return m(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},g.prototype.redISub=function(t){return m(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},g.prototype.redShl=function(t){return m(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},g.prototype.redMul=function(t){return m(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},g.prototype.redIMul=function(t){return m(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},g.prototype.redSqr=function(){return m(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},g.prototype.redISqr=function(){return m(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},g.prototype.redSqrt=function(){return m(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},g.prototype.redInvm=function(){return m(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},g.prototype.redNeg=function(){return m(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},g.prototype.redPow=function(t){return m(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var v={k256:null,p224:null,p192:null,p25519:null};function y(t,e){this.name=t,this.p=new g(e,16),this.n=this.p.bitLength(),this.k=new g(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function w(){y.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function _(){y.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function x(){y.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function M(){y.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function S(t){var e;"string"==typeof t?(e=g._prime(t),this.m=e.p,this.prime=e):(m(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null)}function k(t){S.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new g(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}y.prototype._tmp=function(){var t=new g(null);return t.words=new Array(Math.ceil(this.n/13)),t},y.prototype.ireduce=function(t){for(var e,n=t;this.split(n,this.tmp),(e=(n=(n=this.imulK(n)).iadd(this.tmp)).bitLength())>this.n;);t=e<this.n?-1:n.ucmp(this.p);return 0===t?(n.words[0]=0,n.length=1):0<t?n.isub(this.p):void 0!==n.strip?n.strip():n._strip(),n},y.prototype.split=function(t,e){t.iushrn(this.n,0,e)},y.prototype.imulK=function(t){return t.imul(this.k)},n(w,y),w.prototype.split=function(t,e){for(var n=Math.min(t.length,9),i=0;i<n;i++)e.words[i]=t.words[i];if(e.length=n,t.length<=9)t.words[0]=0,t.length=1;else{var r=t.words[9];for(e.words[e.length++]=4194303&r,i=10;i<t.length;i++){var o=0|t.words[i];t.words[i-10]=(4194303&o)<<4|r>>>22,r=o}0===(t.words[i-10]=r>>>=22)&&10<t.length?t.length-=10:t.length-=9}},w.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,n=0;n<t.length;n++){var i=0|t.words[n];e+=977*i,t.words[n]=67108863&e,e=64*i+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1])&&t.length--,t},n(_,y),n(x,y),n(M,y),M.prototype.imulK=function(t){for(var e=0,n=0;n<t.length;n++){var i=19*(0|t.words[n])+e,r=67108863&i;i>>>=26,t.words[n]=r,e=i}return 0!==e&&(t.words[t.length++]=e),t},g._prime=function(t){if(v[t])return v[t];var e;if("k256"===t)e=new w;else if("p224"===t)e=new _;else if("p192"===t)e=new x;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new M}return v[t]=e},S.prototype._verify1=function(t){m(0===t.negative,"red works only with positives"),m(t.red,"red works only with red numbers")},S.prototype._verify2=function(t,e){m(0==(t.negative|e.negative),"red works only with positives"),m(t.red&&t.red===e.red,"red works only with red numbers")},S.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):(o(t,t.umod(this.m)._forceRed(this)),t)},S.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},S.prototype.add=function(t,e){this._verify2(t,e);t=t.add(e);return 0<=t.cmp(this.m)&&t.isub(this.m),t._forceRed(this)},S.prototype.iadd=function(t,e){this._verify2(t,e);t=t.iadd(e);return 0<=t.cmp(this.m)&&t.isub(this.m),t},S.prototype.sub=function(t,e){this._verify2(t,e);t=t.sub(e);return t.cmpn(0)<0&&t.iadd(this.m),t._forceRed(this)},S.prototype.isub=function(t,e){this._verify2(t,e);t=t.isub(e);return t.cmpn(0)<0&&t.iadd(this.m),t},S.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},S.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},S.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},S.prototype.isqr=function(t){return this.imul(t,t.clone())},S.prototype.sqr=function(t){return this.mul(t,t)},S.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(m(e%2==1),3===e)return e=this.m.add(new g(1)).iushrn(2),this.pow(t,e);for(var n=this.m.subn(1),i=0;!n.isZero()&&0===n.andln(1);)i++,n.iushrn(1);m(!n.isZero());for(var r=new g(1).toRed(this),o=r.redNeg(),a=this.m.subn(1).iushrn(1),s=new g(2*(s=this.m.bitLength())*s).toRed(this);0!==this.pow(s,a).cmp(o);)s.redIAdd(o);for(var l=this.pow(s,n),c=this.pow(t,n.addn(1).iushrn(1)),u=this.pow(t,n),h=i;0!==u.cmp(r);){for(var d=u,f=0;0!==d.cmp(r);f++)d=d.redSqr();m(f<h);var p=this.pow(l,new g(1).iushln(h-f-1)),c=c.redMul(p),l=p.redSqr(),u=u.redMul(l),h=f}return c},S.prototype.invm=function(t){t=t._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},S.prototype.pow=function(t,e){if(e.isZero())return new g(1).toRed(this);if(0===e.cmpn(1))return t.clone();var n=new Array(16);n[0]=new g(1).toRed(this),n[1]=t;for(var i=2;i<n.length;i++)n[i]=this.mul(n[i-1],t);var r=n[0],o=0,a=0,s=e.bitLength()%26;for(0===s&&(s=26),i=e.length-1;0<=i;i--){for(var l=e.words[i],c=s-1;0<=c;c--){var u=l>>c&1;r!==n[0]&&(r=this.sqr(r)),0==u&&0===o?a=0:(o=o<<1|u,(4===++a||0===i&&0===c)&&(r=this.mul(r,n[o]),o=a=0))}s=26}return r},S.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},S.prototype.convertFrom=function(t){t=t.clone();return t.red=null,t},g.mont=function(t){return new k(t)},n(k,S),k.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},k.prototype.convertFrom=function(t){t=this.imod(t.mul(this.rinv));return t.red=null,t},k.prototype.imul=function(t,e){return t.isZero()||e.isZero()?(t.words[0]=0,t.length=1,t):(e=(t=t.imul(e)).maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),0<=(e=t=t.isub(e).iushrn(this.shift)).cmp(this.m)?e=t.isub(this.m):t.cmpn(0)<0&&(e=t.iadd(this.m)),e._forceRed(this))},k.prototype.mul=function(t,e){return(t.isZero()||e.isZero()?new g(0):(e=(t=t.mul(e)).maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),0<=(e=t=t.isub(e).iushrn(this.shift)).cmp(this.m)?e=t.isub(this.m):t.cmpn(0)<0&&(e=t.iadd(this.m)),e))._forceRed(this)},k.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t,this)}.call(this,C(146)(t))},function(t,e,n){"use strict";e.version=n(544).version,e.utils=n(75),e.rand=n(396),e.curve=n(460),e.curves=n(402),e.ec=n(556),e.eddsa=n(560)},function(t,e,n){"use strict";var i,r=e,e=n(403),o=n(460),a=n(75).assert;function s(t){"short"===t.type?this.curve=new o.short(t):"edwards"===t.type?this.curve=new o.edwards(t):this.curve=new o.mont(t),this.g=this.curve.g,this.n=this.curve.n,this.hash=t.hash,a(this.g.validate(),"Invalid curve"),a(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function l(e,n){Object.defineProperty(r,e,{configurable:!0,enumerable:!0,get:function(){var t=new s(n);return Object.defineProperty(r,e,{configurable:!0,enumerable:!0,value:t}),t}})}r.PresetCurve=s,l("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:e.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),l("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:e.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),l("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:e.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),l("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:e.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),l("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:e.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),l("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:e.sha256,gRed:!1,g:["9"]}),l("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:e.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{i=n(555)}catch(t){i=void 0}l("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:e.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",i]})},function(t,e,n){e.utils=n(105),e.common=n(164),e.sha=n(549),e.ripemd=n(553),e.hmac=n(554),e.sha1=e.sha.sha1,e.sha256=e.sha.sha256,e.sha224=e.sha.sha224,e.sha384=e.sha.sha384,e.sha512=e.sha.sha512,e.ripemd160=e.ripemd.ripemd160},function(a,t,s){"use strict";!function(t){var e,n=s(48),i=n.Buffer,r={};for(e in n)n.hasOwnProperty(e)&&"SlowBuffer"!==e&&"Buffer"!==e&&(r[e]=n[e]);var o=r.Buffer={};for(e in i)i.hasOwnProperty(e)&&"allocUnsafe"!==e&&"allocUnsafeSlow"!==e&&(o[e]=i[e]);if(r.Buffer.prototype=i.prototype,o.from&&o.from!==Uint8Array.from||(o.from=function(t,e,n){if("number"==typeof t)throw new TypeError('The "value" argument must not be of type number. Received type '+typeof t);if(t&&void 0===t.length)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);return i(t,e,n)}),o.alloc||(o.alloc=function(t,e,n){if("number"!=typeof t)throw new TypeError('The "size" argument must be of type number. Received type '+typeof t);if(t<0||2*(1<<30)<=t)throw new RangeError('The value "'+t+'" is invalid for option "size"');t=i(t);return e&&0!==e.length?"string"==typeof n?t.fill(e,n):t.fill(e):t.fill(0),t}),!r.kStringMaxLength)try{r.kStringMaxLength=t.binding("buffer").kStringMaxLength}catch(t){}r.constants||(r.constants={MAX_LENGTH:r.kMaxLength},r.kStringMaxLength&&(r.constants.MAX_STRING_LENGTH=r.kStringMaxLength)),a.exports=r}.call(this,s(36))},function(t,e,n){"use strict";const l=n(406).Reporter,i=n(165).EncoderBuffer,c=n(165).DecoderBuffer,r=n(74);n=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"];const o=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(n);function a(t,e,n){var i={};(this._baseState=i).name=n,i.enc=t,i.parent=e||null,i.children=null,i.tag=null,i.args=null,i.reverseArgs=null,i.choice=null,i.optional=!1,i.any=!1,i.obj=!1,i.use=null,i.useDecoder=null,i.key=null,i.default=null,i.explicit=null,i.implicit=null,i.contains=null,i.parent||(i.children=[],this._wrap())}t.exports=a;const s=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];a.prototype.clone=function(){const e=this._baseState,n={};s.forEach(function(t){n[t]=e[t]});var t=new this.constructor(n.parent);return t._baseState=n,t},a.prototype._wrap=function(){const n=this._baseState;o.forEach(function(e){this[e]=function(){var t=new this.constructor(this);return n.children.push(t),t[e].apply(t,arguments)}},this)},a.prototype._init=function(t){var e=this._baseState;r(null===e.parent),t.call(this),e.children=e.children.filter(function(t){return t._baseState.parent===this},this),r.equal(e.children.length,1,"Root node can have only one child")},a.prototype._useArgs=function(t){var e=this._baseState,n=t.filter(function(t){return t instanceof this.constructor},this);t=t.filter(function(t){return!(t instanceof this.constructor)},this),0!==n.length&&(r(null===e.children),(e.children=n).forEach(function(t){t._baseState.parent=this},this)),0!==t.length&&(r(null===e.args),e.args=t,e.reverseArgs=t.map(function(n){if("object"!=typeof n||n.constructor!==Object)return n;const i={};return Object.keys(n).forEach(function(t){t==(0|t)&&(t|=0);var e=n[t];i[e]=t}),i}))},["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"].forEach(function(e){a.prototype[e]=function(){var t=this._baseState;throw new Error(e+" not implemented for encoding: "+t.enc)}}),n.forEach(function(n){a.prototype[n]=function(){var t=this._baseState,e=Array.prototype.slice.call(arguments);return r(null===t.tag),t.tag=n,this._useArgs(e),this}}),a.prototype.use=function(t){r(t);var e=this._baseState;return r(null===e.use),e.use=t,this},a.prototype.optional=function(){return this._baseState.optional=!0,this},a.prototype.def=function(t){var e=this._baseState;return r(null===e.default),e.default=t,e.optional=!0,this},a.prototype.explicit=function(t){var e=this._baseState;return r(null===e.explicit&&null===e.implicit),e.explicit=t,this},a.prototype.implicit=function(t){var e=this._baseState;return r(null===e.explicit&&null===e.implicit),e.implicit=t,this},a.prototype.obj=function(){var t=this._baseState,e=Array.prototype.slice.call(arguments);return t.obj=!0,0!==e.length&&this._useArgs(e),this},a.prototype.key=function(t){var e=this._baseState;return r(null===e.key),e.key=t,this},a.prototype.any=function(){return this._baseState.any=!0,this},a.prototype.choice=function(e){var t=this._baseState;return r(null===t.choice),t.choice=e,this._useArgs(Object.keys(e).map(function(t){return e[t]})),this},a.prototype.contains=function(t){var e=this._baseState;return r(null===e.use),e.contains=t,this},a.prototype._decode=function(e,n){var i=this._baseState;if(null===i.parent)return e.wrapResult(i.children[0]._decode(e,n));let r=i.default,o=!0,t=null;if(null!==i.key&&(t=e.enterKey(i.key)),i.optional){let t=null;if(null!==i.explicit?t=i.explicit:null!==i.implicit?t=i.implicit:null!==i.tag&&(t=i.tag),null!==t||i.any){if(o=this._peekTag(e,t,i.any),e.isError(o))return o}else{var a=e.save();try{null===i.choice?this._decodeGeneric(i.tag,e,n):this._decodeChoice(e,n),o=!0}catch(t){o=!1}e.restore(a)}}let s;if(i.obj&&o&&(s=e.enterObject()),o){if(null!==i.explicit){a=this._decodeTag(e,i.explicit);if(e.isError(a))return a;e=a}a=e.offset;if(null===i.use&&null===i.choice){let t;i.any&&(t=e.save());var l=this._decodeTag(e,null!==i.implicit?i.implicit:i.tag,i.any);if(e.isError(l))return l;i.any?r=e.raw(t):e=l}if(n&&n.track&&null!==i.tag&&n.track(e.path(),a,e.length,"tagged"),n&&n.track&&null!==i.tag&&n.track(e.path(),e.offset,e.length,"content"),i.any||(r=null===i.choice?this._decodeGeneric(i.tag,e,n):this._decodeChoice(e,n)),e.isError(r))return r;i.any||null!==i.choice||null===i.children||i.children.forEach(function(t){t._decode(e,n)}),!i.contains||"octstr"!==i.tag&&"bitstr"!==i.tag||(l=new c(r),r=this._getUse(i.contains,e._reporterState.obj)._decode(l,n))}return i.obj&&o&&(r=e.leaveObject(s)),null===i.key||null===r&&!0!==o?null!==t&&e.exitKey(t):e.leaveKey(t,i.key,r),r},a.prototype._decodeGeneric=function(t,e,n){var i=this._baseState;return"seq"===t||"set"===t?null:"seqof"===t||"setof"===t?this._decodeList(e,t,i.args[0],n):/str$/.test(t)?this._decodeStr(e,t,n):"objid"===t&&i.args?this._decodeObjid(e,i.args[0],i.args[1],n):"objid"===t?this._decodeObjid(e,null,null,n):"gentime"===t||"utctime"===t?this._decodeTime(e,t,n):"null_"===t?this._decodeNull(e,n):"bool"===t?this._decodeBool(e,n):"objDesc"===t?this._decodeStr(e,t,n):"int"===t||"enum"===t?this._decodeInt(e,i.args&&i.args[0],n):null!==i.use?this._getUse(i.use,e._reporterState.obj)._decode(e,n):e.error("unknown tag: "+t)},a.prototype._getUse=function(t,e){var n=this._baseState;return n.useDecoder=this._use(t,e),r(null===n.useDecoder._baseState.parent),n.useDecoder=n.useDecoder._baseState.children[0],n.implicit!==n.useDecoder._baseState.implicit&&(n.useDecoder=n.useDecoder.clone(),n.useDecoder._baseState.implicit=n.implicit),n.useDecoder},a.prototype._decodeChoice=function(r,o){const a=this._baseState;let s=null,l=!1;return Object.keys(a.choice).some(function(t){var e=r.save(),n=a.choice[t];try{var i=n._decode(r,o);if(r.isError(i))return!1;s={type:t,value:i},l=!0}catch(t){return r.restore(e),!1}return!0},this),l?s:r.error("Choice not matched")},a.prototype._createEncoderBuffer=function(t){return new i(t,this.reporter)},a.prototype._encode=function(t,e,n){var i=this._baseState;if(null===i.default||i.default!==t){i=this._encodeValue(t,e,n);if(void 0!==i&&!this._skipDefault(i,e,n))return i}},a.prototype._encodeValue=function(n,i,t){var e=this._baseState;if(null===e.parent)return e.children[0]._encode(n,i||new l);let r=null;if(this.reporter=i,e.optional&&void 0===n){if(null===e.default)return;n=e.default}let o=null,a=!1;if(e.any)r=this._createEncoderBuffer(n);else if(e.choice)r=this._encodeChoice(n,i);else if(e.contains)o=this._getUse(e.contains,t)._encode(n,i),a=!0;else if(e.children)o=e.children.map(function(t){var e;return"null_"===t._baseState.tag?t._encode(null,i,n):null===t._baseState.key?i.error("Child should have a key"):(e=i.enterKey(t._baseState.key),"object"!=typeof n?i.error("Child expected, but input is not object"):(t=t._encode(n[t._baseState.key],i,n),i.leaveKey(e),t))},this).filter(function(t){return t}),o=this._createEncoderBuffer(o);else if("seqof"===e.tag||"setof"===e.tag){if(!e.args||1!==e.args.length)return i.error("Too many args for : "+e.tag);if(!Array.isArray(n))return i.error("seqof/setof, but data is not Array");var s=this.clone();s._baseState.implicit=null,o=this._createEncoderBuffer(n.map(function(t){var e=this._baseState;return this._getUse(e.args[0],n)._encode(t,i)},s))}else null!==e.use?r=this._getUse(e.use,t)._encode(n,i):(o=this._encodePrimitive(e.tag,n),a=!0);return e.any||null!==e.choice||(s=null!==e.implicit?e.implicit:e.tag,t=null===e.implicit?"universal":"context",null===s?null===e.use&&i.error("Tag could be omitted only for .use()"):null===e.use&&(r=this._encodeComposite(s,a,t,o))),r=null!==e.explicit?this._encodeComposite(e.explicit,!1,"context",r):r},a.prototype._encodeChoice=function(t,e){var n=this._baseState,i=n.choice[t.type];return i||r(!1,t.type+" not found in "+JSON.stringify(Object.keys(n.choice))),i._encode(t.value,e)},a.prototype._encodePrimitive=function(t,e){var n=this._baseState;if(/str$/.test(t))return this._encodeStr(e,t);if("objid"===t&&n.args)return this._encodeObjid(e,n.reverseArgs[0],n.args[1]);if("objid"===t)return this._encodeObjid(e,null,null);if("gentime"===t||"utctime"===t)return this._encodeTime(e,t);if("null_"===t)return this._encodeNull();if("int"===t||"enum"===t)return this._encodeInt(e,n.args&&n.reverseArgs[0]);if("bool"===t)return this._encodeBool(e);if("objDesc"===t)return this._encodeStr(e,t);throw new Error("Unsupported tag: "+t)},a.prototype._isNumstr=function(t){return/^[0-9 ]*$/.test(t)},a.prototype._isPrintstr=function(t){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(t)}},function(t,e,n){"use strict";n=n(10);function i(t){this._reporterState={obj:null,path:[],options:t||{},errors:[]}}function r(t,e){this.path=t,this.rethrow(e)}(e.Reporter=i).prototype.isError=function(t){return t instanceof r},i.prototype.save=function(){var t=this._reporterState;return{obj:t.obj,pathLen:t.path.length}},i.prototype.restore=function(t){var e=this._reporterState;e.obj=t.obj,e.path=e.path.slice(0,t.pathLen)},i.prototype.enterKey=function(t){return this._reporterState.path.push(t)},i.prototype.exitKey=function(t){var e=this._reporterState;e.path=e.path.slice(0,t-1)},i.prototype.leaveKey=function(t,e,n){var i=this._reporterState;this.exitKey(t),null!==i.obj&&(i.obj[e]=n)},i.prototype.path=function(){return this._reporterState.path.join("/")},i.prototype.enterObject=function(){var t=this._reporterState,e=t.obj;return t.obj={},e},i.prototype.leaveObject=function(t){var e=this._reporterState,n=e.obj;return e.obj=t,n},i.prototype.error=function(t){let e;var n=this._reporterState,i=t instanceof r;if(e=i?t:new r(n.path.map(function(t){return"["+JSON.stringify(t)+"]"}).join(""),t.message||t,t.stack),n.options.partial)return i||n.errors.push(e),e;throw e},i.prototype.wrapResult=function(t){var e=this._reporterState;return e.options.partial?{result:this.isError(t)?null:t,errors:e.errors}:t},n(r,Error),r.prototype.rethrow=function(t){if(this.message=t+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,r),!this.stack)try{throw new Error(this.message)}catch(t){this.stack=t.stack}return this}},function(t,e,n){"use strict";function i(n){const i={};return Object.keys(n).forEach(function(t){(0|t)==t&&(t|=0);var e=n[t];i[e]=t}),i}e.tagClass={0:"universal",1:"application",2:"context",3:"private"},e.tagClassByName=i(e.tagClass),e.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},e.tagByName=i(e.tag)},function(t,e,S){!function(t){!function(t,e){"use strict";function m(t,e){if(!t)throw new Error(e||"Assertion failed")}function n(t,e){t.super_=e;function n(){}n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}function g(t,e,n){if(g.isBN(t))return t;this.negative=0,this.words=null,this.length=0,(this.red=null)!==t&&("le"!==e&&"be"!==e||(n=e,e=10),this._init(t||0,e||10,n||"be"))}var i;"object"==typeof t?t.exports=g:e.BN=g,(g.BN=g).wordSize=26;try{i=("undefined"!=typeof window&&void 0!==window.Buffer?window:S(579)).Buffer}catch(t){}function r(t,e){t=t.charCodeAt(e);return 65<=t&&t<=70?t-55:97<=t&&t<=102?t-87:t-48&15}function s(t,e,n){var i=r(t,n);return e<=n-1&&(i|=r(t,n-1)<<4),i}function h(t,e,n,i){for(var r=0,o=Math.min(t.length,n),a=e;a<o;a++)var s=t.charCodeAt(a)-48,r=r*i+(49<=s?s-49+10:17<=s?s-17+10:s);return r}g.isBN=function(t){return t instanceof g||null!==t&&"object"==typeof t&&t.constructor.wordSize===g.wordSize&&Array.isArray(t.words)},g.max=function(t,e){return 0<t.cmp(e)?t:e},g.min=function(t,e){return t.cmp(e)<0?t:e},g.prototype._init=function(t,e,n){if("number"==typeof t)return this._initNumber(t,e,n);if("object"==typeof t)return this._initArray(t,e,n);m((e="hex"===e?16:e)===(0|e)&&2<=e&&e<=36);var i=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<t.length&&(16===e?this._parseHex(t,i,n):(this._parseBase(t,e,i),"le"===n&&this._initArray(this.toArray(),e,n)))},g.prototype._initNumber=function(t,e,n){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(m(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),e,n)},g.prototype._initArray=function(t,e,n){if(m("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i,r,o=0;o<this.length;o++)this.words[o]=0;var a=0;if("be"===n)for(o=t.length-1,i=0;0<=o;o-=3)r=t[o]|t[o-1]<<8|t[o-2]<<16,this.words[i]|=r<<a&67108863,this.words[i+1]=r>>>26-a&67108863,26<=(a+=24)&&(a-=26,i++);else if("le"===n)for(i=o=0;o<t.length;o+=3)r=t[o]|t[o+1]<<8|t[o+2]<<16,this.words[i]|=r<<a&67108863,this.words[i+1]=r>>>26-a&67108863,26<=(a+=24)&&(a-=26,i++);return this.strip()},g.prototype._parseHex=function(t,e,n){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var r,o=0,a=0;if("be"===n)for(i=t.length-1;e<=i;i-=2)r=s(t,e,i)<<o,this.words[a]|=67108863&r,18<=o?(o-=18,this.words[a+=1]|=r>>>26):o+=8;else for(i=(t.length-e)%2==0?e+1:e;i<t.length;i+=2)r=s(t,e,i)<<o,this.words[a]|=67108863&r,18<=o?(o-=18,this.words[a+=1]|=r>>>26):o+=8;this.strip()},g.prototype._parseBase=function(t,e,n){this.words=[0];for(var i=0,r=this.length=1;r<=67108863;r*=e)i++;for(var r=r/e|0,o=t.length-n,a=o%--i,s=Math.min(o,o-a)+n,l=0,c=n;c<s;c+=i)l=h(t,c,c+i,e),this.imuln(r),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l);if(0!=a){for(var u=1,l=h(t,c,t.length,e),c=0;c<a;c++)u*=e;this.imuln(u),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l)}this.strip()},g.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},g.prototype.clone=function(){var t=new g(null);return this.copy(t),t},g.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},g.prototype.strip=function(){for(;1<this.length&&0===this.words[this.length-1];)this.length--;return this._normSign()},g.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},g.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var d=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],f=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function o(t,e,n){n.negative=e.negative^t.negative;var i=t.length+e.length|0,i=(n.length=i)-1|0,r=(a=(0|t.words[0])*(0|e.words[0]))/67108864|0;n.words[0]=67108863&a;for(var o=1;o<i;o++){for(var a,s=r>>>26,l=67108863&r,c=Math.min(o,e.length-1),u=Math.max(0,o-t.length+1);u<=c;u++)s+=(a=(0|t.words[o-u|0])*(0|e.words[u])+l)/67108864|0,l=67108863&a;n.words[o]=0|l,r=0|s}return 0!==r?n.words[o]=0|r:n.length--,n.strip()}g.prototype.toString=function(t,e){if(e=0|e||1,16===(t=t||10)||"hex"===t){s="";for(var n=0,i=0,r=0;r<this.length;r++){var o=this.words[r],a=(16777215&(o<<n|i)).toString(16),s=0!==(i=o>>>24-n&16777215)||r!==this.length-1?d[6-a.length]+a+s:a+s;26<=(n+=2)&&(n-=26,r--)}for(0!==i&&(s=i.toString(16)+s);s.length%e!=0;)s="0"+s;return s=0!==this.negative?"-"+s:s}if(t===(0|t)&&2<=t&&t<=36){var l=f[t],c=p[t];for(s="",(u=this.clone()).negative=0;!u.isZero();){var u,h=u.modn(c).toString(t);s=(u=u.idivn(c)).isZero()?h+s:d[l-h.length]+h+s}for(this.isZero()&&(s="0"+s);s.length%e!=0;)s="0"+s;return s=0!==this.negative?"-"+s:s}m(!1,"Base should be between 2 and 36")},g.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:2<this.length&&m(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},g.prototype.toJSON=function(){return this.toString(16)},g.prototype.toBuffer=function(t,e){return m(void 0!==i),this.toArrayLike(i,t,e)},g.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},g.prototype.toArrayLike=function(t,e,n){var i,r,o=this.byteLength(),a=n||Math.max(1,o),n=(m(o<=a,"byte array longer than desired length"),m(0<a,"Requested array length <= 0"),this.strip(),"le"===e),s=new t(a),l=this.clone();if(n){for(r=0;!l.isZero();r++)i=l.andln(255),l.iushrn(8),s[r]=i;for(;r<a;r++)s[r]=0}else{for(r=0;r<a-o;r++)s[r]=0;for(r=0;!l.isZero();r++)i=l.andln(255),l.iushrn(8),s[a-r-1]=i}return s},Math.clz32?g.prototype._countBits=function(t){return 32-Math.clz32(t)}:g.prototype._countBits=function(t){var e=0;return 4096<=t&&(e+=13,t>>>=13),64<=t&&(e+=7,t>>>=7),8<=t&&(e+=4,t>>>=4),2<=t&&(e+=2,t>>>=2),e+t},g.prototype._zeroBits=function(t){var e;return 0===t?26:((e=0)==(8191&(t=t))&&(e+=13,t>>>=13),0==(127&t)&&(e+=7,t>>>=7),0==(15&t)&&(e+=4,t>>>=4),0==(3&t)&&(e+=2,t>>>=2),0==(1&t)&&e++,e)},g.prototype.bitLength=function(){var t=this.words[this.length-1],t=this._countBits(t);return 26*(this.length-1)+t},g.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var n=this._zeroBits(this.words[e]);if(t+=n,26!==n)break}return t},g.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},g.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},g.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},g.prototype.isNeg=function(){return 0!==this.negative},g.prototype.neg=function(){return this.clone().ineg()},g.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},g.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this.strip()},g.prototype.ior=function(t){return m(0==(this.negative|t.negative)),this.iuor(t)},g.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},g.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},g.prototype.iuand=function(t){for(var e=this.length>t.length?t:this,n=0;n<e.length;n++)this.words[n]=this.words[n]&t.words[n];return this.length=e.length,this.strip()},g.prototype.iand=function(t){return m(0==(this.negative|t.negative)),this.iuand(t)},g.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},g.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},g.prototype.iuxor=function(t){for(var e,n=this.length>t.length?(e=this,t):(e=t,this),i=0;i<n.length;i++)this.words[i]=e.words[i]^n.words[i];if(this!==e)for(;i<e.length;i++)this.words[i]=e.words[i];return this.length=e.length,this.strip()},g.prototype.ixor=function(t){return m(0==(this.negative|t.negative)),this.iuxor(t)},g.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},g.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},g.prototype.inotn=function(t){m("number"==typeof t&&0<=t);var e=0|Math.ceil(t/26),t=t%26;this._expand(e),0<t&&e--;for(var n=0;n<e;n++)this.words[n]=67108863&~this.words[n];return 0<t&&(this.words[n]=~this.words[n]&67108863>>26-t),this.strip()},g.prototype.notn=function(t){return this.clone().inotn(t)},g.prototype.setn=function(t,e){m("number"==typeof t&&0<=t);var n=t/26|0,t=t%26;return this._expand(1+n),this.words[n]=e?this.words[n]|1<<t:this.words[n]&~(1<<t),this.strip()},g.prototype.iadd=function(t){var e,n;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();for(var i=this.length>t.length?(n=this,t):(n=t,this),r=0,o=0;o<i.length;o++)e=(0|n.words[o])+(0|i.words[o])+r,this.words[o]=67108863&e,r=e>>>26;for(;0!==r&&o<n.length;o++)e=(0|n.words[o])+r,this.words[o]=67108863&e,r=e>>>26;if(this.length=n.length,0!==r)this.words[this.length]=r,this.length++;else if(n!==this)for(;o<n.length;o++)this.words[o]=n.words[o];return this},g.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},g.prototype.isub=function(t){var e;if(0!==t.negative)return t.negative=0,e=this.iadd(t),t.negative=1,e._normSign();if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var n,i=this.cmp(t);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;for(var r=0<i?(n=this,t):(n=t,this),o=0,a=0;a<r.length;a++)o=(e=(0|n.words[a])-(0|r.words[a])+o)>>26,this.words[a]=67108863&e;for(;0!==o&&a<n.length;a++)o=(e=(0|n.words[a])+o)>>26,this.words[a]=67108863&e;if(0===o&&a<n.length&&n!==this)for(;a<n.length;a++)this.words[a]=n.words[a];return this.length=Math.max(this.length,a),n!==this&&(this.negative=1),this.strip()},g.prototype.sub=function(t){return this.clone().isub(t)};var a=function(t,D,B){var e,n=t.words,i=D.words,r=B.words,o=0|n[0],a=8191&o,o=o>>>13,s=0|n[1],l=8191&s,s=s>>>13,c=0|n[2],u=8191&c,c=c>>>13,h=0|n[3],d=8191&h,h=h>>>13,f=0|n[4],p=8191&f,f=f>>>13,m=0|n[5],g=8191&m,m=m>>>13,b=0|n[6],v=8191&b,b=b>>>13,y=0|n[7],w=8191&y,y=y>>>13,_=0|n[8],N=8191&_,_=_>>>13,n=0|n[9],F=8191&n,n=n>>>13,x=0|i[0],M=8191&x,x=x>>>13,S=0|i[1],k=8191&S,S=S>>>13,C=0|i[2],E=8191&C,C=C>>>13,P=0|i[3],$=8191&P,P=P>>>13,A=0|i[4],U=8191&A,A=A>>>13,T=0|i[5],z=8191&T,T=T>>>13,j=0|i[6],H=8191&j,j=j>>>13,L=0|i[7],q=8191&L,L=L>>>13,O=0|i[8],W=8191&O,O=O>>>13,i=0|i[9],V=8191&i,i=i>>>13,D=(B.negative=t.negative^D.negative,B.length=19,(0+Math.imul(a,M)|0)+((8191&(t=Math.imul(a,x)+Math.imul(o,M)|0))<<13)|0),R=(Math.imul(o,x)+(t>>>13)|0)+(D>>>26)|0;D&=67108863,e=Math.imul(l,M),t=Math.imul(l,x)+Math.imul(s,M)|0,I=Math.imul(s,x);var I,K=(R+(e+Math.imul(a,k)|0)|0)+((8191&(t=(t+Math.imul(a,S)|0)+Math.imul(o,k)|0))<<13)|0,Z=(R=((I+Math.imul(o,S)|0)+(t>>>13)|0)+(K>>>26)|0,K&=67108863,e=Math.imul(u,M),t=Math.imul(u,x)+Math.imul(c,M)|0,I=Math.imul(c,x),e=e+Math.imul(l,k)|0,t=(t+Math.imul(l,S)|0)+Math.imul(s,k)|0,I=I+Math.imul(s,S)|0,(R+(e+Math.imul(a,E)|0)|0)+((8191&(t=(t+Math.imul(a,C)|0)+Math.imul(o,E)|0))<<13)|0),G=(R=((I+Math.imul(o,C)|0)+(t>>>13)|0)+(Z>>>26)|0,Z&=67108863,e=Math.imul(d,M),t=Math.imul(d,x)+Math.imul(h,M)|0,I=Math.imul(h,x),e=e+Math.imul(u,k)|0,t=(t+Math.imul(u,S)|0)+Math.imul(c,k)|0,I=I+Math.imul(c,S)|0,e=e+Math.imul(l,E)|0,t=(t+Math.imul(l,C)|0)+Math.imul(s,E)|0,I=I+Math.imul(s,C)|0,(R+(e+Math.imul(a,$)|0)|0)+((8191&(t=(t+Math.imul(a,P)|0)+Math.imul(o,$)|0))<<13)|0),J=(R=((I+Math.imul(o,P)|0)+(t>>>13)|0)+(G>>>26)|0,G&=67108863,e=Math.imul(p,M),t=Math.imul(p,x)+Math.imul(f,M)|0,I=Math.imul(f,x),e=e+Math.imul(d,k)|0,t=(t+Math.imul(d,S)|0)+Math.imul(h,k)|0,I=I+Math.imul(h,S)|0,e=e+Math.imul(u,E)|0,t=(t+Math.imul(u,C)|0)+Math.imul(c,E)|0,I=I+Math.imul(c,C)|0,e=e+Math.imul(l,$)|0,t=(t+Math.imul(l,P)|0)+Math.imul(s,$)|0,I=I+Math.imul(s,P)|0,(R+(e+Math.imul(a,U)|0)|0)+((8191&(t=(t+Math.imul(a,A)|0)+Math.imul(o,U)|0))<<13)|0),Y=(R=((I+Math.imul(o,A)|0)+(t>>>13)|0)+(J>>>26)|0,J&=67108863,e=Math.imul(g,M),t=Math.imul(g,x)+Math.imul(m,M)|0,I=Math.imul(m,x),e=e+Math.imul(p,k)|0,t=(t+Math.imul(p,S)|0)+Math.imul(f,k)|0,I=I+Math.imul(f,S)|0,e=e+Math.imul(d,E)|0,t=(t+Math.imul(d,C)|0)+Math.imul(h,E)|0,I=I+Math.imul(h,C)|0,e=e+Math.imul(u,$)|0,t=(t+Math.imul(u,P)|0)+Math.imul(c,$)|0,I=I+Math.imul(c,P)|0,e=e+Math.imul(l,U)|0,t=(t+Math.imul(l,A)|0)+Math.imul(s,U)|0,I=I+Math.imul(s,A)|0,(R+(e+Math.imul(a,z)|0)|0)+((8191&(t=(t+Math.imul(a,T)|0)+Math.imul(o,z)|0))<<13)|0),X=(R=((I+Math.imul(o,T)|0)+(t>>>13)|0)+(Y>>>26)|0,Y&=67108863,e=Math.imul(v,M),t=Math.imul(v,x)+Math.imul(b,M)|0,I=Math.imul(b,x),e=e+Math.imul(g,k)|0,t=(t+Math.imul(g,S)|0)+Math.imul(m,k)|0,I=I+Math.imul(m,S)|0,e=e+Math.imul(p,E)|0,t=(t+Math.imul(p,C)|0)+Math.imul(f,E)|0,I=I+Math.imul(f,C)|0,e=e+Math.imul(d,$)|0,t=(t+Math.imul(d,P)|0)+Math.imul(h,$)|0,I=I+Math.imul(h,P)|0,e=e+Math.imul(u,U)|0,t=(t+Math.imul(u,A)|0)+Math.imul(c,U)|0,I=I+Math.imul(c,A)|0,e=e+Math.imul(l,z)|0,t=(t+Math.imul(l,T)|0)+Math.imul(s,z)|0,I=I+Math.imul(s,T)|0,(R+(e+Math.imul(a,H)|0)|0)+((8191&(t=(t+Math.imul(a,j)|0)+Math.imul(o,H)|0))<<13)|0),Q=(R=((I+Math.imul(o,j)|0)+(t>>>13)|0)+(X>>>26)|0,X&=67108863,e=Math.imul(w,M),t=Math.imul(w,x)+Math.imul(y,M)|0,I=Math.imul(y,x),e=e+Math.imul(v,k)|0,t=(t+Math.imul(v,S)|0)+Math.imul(b,k)|0,I=I+Math.imul(b,S)|0,e=e+Math.imul(g,E)|0,t=(t+Math.imul(g,C)|0)+Math.imul(m,E)|0,I=I+Math.imul(m,C)|0,e=e+Math.imul(p,$)|0,t=(t+Math.imul(p,P)|0)+Math.imul(f,$)|0,I=I+Math.imul(f,P)|0,e=e+Math.imul(d,U)|0,t=(t+Math.imul(d,A)|0)+Math.imul(h,U)|0,I=I+Math.imul(h,A)|0,e=e+Math.imul(u,z)|0,t=(t+Math.imul(u,T)|0)+Math.imul(c,z)|0,I=I+Math.imul(c,T)|0,e=e+Math.imul(l,H)|0,t=(t+Math.imul(l,j)|0)+Math.imul(s,H)|0,I=I+Math.imul(s,j)|0,(R+(e+Math.imul(a,q)|0)|0)+((8191&(t=(t+Math.imul(a,L)|0)+Math.imul(o,q)|0))<<13)|0),tt=(R=((I+Math.imul(o,L)|0)+(t>>>13)|0)+(Q>>>26)|0,Q&=67108863,e=Math.imul(N,M),t=Math.imul(N,x)+Math.imul(_,M)|0,I=Math.imul(_,x),e=e+Math.imul(w,k)|0,t=(t+Math.imul(w,S)|0)+Math.imul(y,k)|0,I=I+Math.imul(y,S)|0,e=e+Math.imul(v,E)|0,t=(t+Math.imul(v,C)|0)+Math.imul(b,E)|0,I=I+Math.imul(b,C)|0,e=e+Math.imul(g,$)|0,t=(t+Math.imul(g,P)|0)+Math.imul(m,$)|0,I=I+Math.imul(m,P)|0,e=e+Math.imul(p,U)|0,t=(t+Math.imul(p,A)|0)+Math.imul(f,U)|0,I=I+Math.imul(f,A)|0,e=e+Math.imul(d,z)|0,t=(t+Math.imul(d,T)|0)+Math.imul(h,z)|0,I=I+Math.imul(h,T)|0,e=e+Math.imul(u,H)|0,t=(t+Math.imul(u,j)|0)+Math.imul(c,H)|0,I=I+Math.imul(c,j)|0,e=e+Math.imul(l,q)|0,t=(t+Math.imul(l,L)|0)+Math.imul(s,q)|0,I=I+Math.imul(s,L)|0,(R+(e+Math.imul(a,W)|0)|0)+((8191&(t=(t+Math.imul(a,O)|0)+Math.imul(o,W)|0))<<13)|0),M=(R=((I+Math.imul(o,O)|0)+(t>>>13)|0)+(tt>>>26)|0,tt&=67108863,e=Math.imul(F,M),t=Math.imul(F,x)+Math.imul(n,M)|0,I=Math.imul(n,x),e=e+Math.imul(N,k)|0,t=(t+Math.imul(N,S)|0)+Math.imul(_,k)|0,I=I+Math.imul(_,S)|0,e=e+Math.imul(w,E)|0,t=(t+Math.imul(w,C)|0)+Math.imul(y,E)|0,I=I+Math.imul(y,C)|0,e=e+Math.imul(v,$)|0,t=(t+Math.imul(v,P)|0)+Math.imul(b,$)|0,I=I+Math.imul(b,P)|0,e=e+Math.imul(g,U)|0,t=(t+Math.imul(g,A)|0)+Math.imul(m,U)|0,I=I+Math.imul(m,A)|0,e=e+Math.imul(p,z)|0,t=(t+Math.imul(p,T)|0)+Math.imul(f,z)|0,I=I+Math.imul(f,T)|0,e=e+Math.imul(d,H)|0,t=(t+Math.imul(d,j)|0)+Math.imul(h,H)|0,I=I+Math.imul(h,j)|0,e=e+Math.imul(u,q)|0,t=(t+Math.imul(u,L)|0)+Math.imul(c,q)|0,I=I+Math.imul(c,L)|0,e=e+Math.imul(l,W)|0,t=(t+Math.imul(l,O)|0)+Math.imul(s,W)|0,I=I+Math.imul(s,O)|0,(R+(e+Math.imul(a,V)|0)|0)+((8191&(t=(t+Math.imul(a,i)|0)+Math.imul(o,V)|0))<<13)|0),x=(R=((I+Math.imul(o,i)|0)+(t>>>13)|0)+(M>>>26)|0,M&=67108863,e=Math.imul(F,k),t=Math.imul(F,S)+Math.imul(n,k)|0,I=Math.imul(n,S),e=e+Math.imul(N,E)|0,t=(t+Math.imul(N,C)|0)+Math.imul(_,E)|0,I=I+Math.imul(_,C)|0,e=e+Math.imul(w,$)|0,t=(t+Math.imul(w,P)|0)+Math.imul(y,$)|0,I=I+Math.imul(y,P)|0,e=e+Math.imul(v,U)|0,t=(t+Math.imul(v,A)|0)+Math.imul(b,U)|0,I=I+Math.imul(b,A)|0,e=e+Math.imul(g,z)|0,t=(t+Math.imul(g,T)|0)+Math.imul(m,z)|0,I=I+Math.imul(m,T)|0,e=e+Math.imul(p,H)|0,t=(t+Math.imul(p,j)|0)+Math.imul(f,H)|0,I=I+Math.imul(f,j)|0,e=e+Math.imul(d,q)|0,t=(t+Math.imul(d,L)|0)+Math.imul(h,q)|0,I=I+Math.imul(h,L)|0,e=e+Math.imul(u,W)|0,t=(t+Math.imul(u,O)|0)+Math.imul(c,W)|0,I=I+Math.imul(c,O)|0,(R+(e+Math.imul(l,V)|0)|0)+((8191&(t=(t+Math.imul(l,i)|0)+Math.imul(s,V)|0))<<13)|0),a=(R=((I+Math.imul(s,i)|0)+(t>>>13)|0)+(x>>>26)|0,x&=67108863,e=Math.imul(F,E),t=Math.imul(F,C)+Math.imul(n,E)|0,I=Math.imul(n,C),e=e+Math.imul(N,$)|0,t=(t+Math.imul(N,P)|0)+Math.imul(_,$)|0,I=I+Math.imul(_,P)|0,e=e+Math.imul(w,U)|0,t=(t+Math.imul(w,A)|0)+Math.imul(y,U)|0,I=I+Math.imul(y,A)|0,e=e+Math.imul(v,z)|0,t=(t+Math.imul(v,T)|0)+Math.imul(b,z)|0,I=I+Math.imul(b,T)|0,e=e+Math.imul(g,H)|0,t=(t+Math.imul(g,j)|0)+Math.imul(m,H)|0,I=I+Math.imul(m,j)|0,e=e+Math.imul(p,q)|0,t=(t+Math.imul(p,L)|0)+Math.imul(f,q)|0,I=I+Math.imul(f,L)|0,e=e+Math.imul(d,W)|0,t=(t+Math.imul(d,O)|0)+Math.imul(h,W)|0,I=I+Math.imul(h,O)|0,(R+(e+Math.imul(u,V)|0)|0)+((8191&(t=(t+Math.imul(u,i)|0)+Math.imul(c,V)|0))<<13)|0),o=(R=((I+Math.imul(c,i)|0)+(t>>>13)|0)+(a>>>26)|0,a&=67108863,e=Math.imul(F,$),t=Math.imul(F,P)+Math.imul(n,$)|0,I=Math.imul(n,P),e=e+Math.imul(N,U)|0,t=(t+Math.imul(N,A)|0)+Math.imul(_,U)|0,I=I+Math.imul(_,A)|0,e=e+Math.imul(w,z)|0,t=(t+Math.imul(w,T)|0)+Math.imul(y,z)|0,I=I+Math.imul(y,T)|0,e=e+Math.imul(v,H)|0,t=(t+Math.imul(v,j)|0)+Math.imul(b,H)|0,I=I+Math.imul(b,j)|0,e=e+Math.imul(g,q)|0,t=(t+Math.imul(g,L)|0)+Math.imul(m,q)|0,I=I+Math.imul(m,L)|0,e=e+Math.imul(p,W)|0,t=(t+Math.imul(p,O)|0)+Math.imul(f,W)|0,I=I+Math.imul(f,O)|0,(R+(e+Math.imul(d,V)|0)|0)+((8191&(t=(t+Math.imul(d,i)|0)+Math.imul(h,V)|0))<<13)|0),k=(R=((I+Math.imul(h,i)|0)+(t>>>13)|0)+(o>>>26)|0,o&=67108863,e=Math.imul(F,U),t=Math.imul(F,A)+Math.imul(n,U)|0,I=Math.imul(n,A),e=e+Math.imul(N,z)|0,t=(t+Math.imul(N,T)|0)+Math.imul(_,z)|0,I=I+Math.imul(_,T)|0,e=e+Math.imul(w,H)|0,t=(t+Math.imul(w,j)|0)+Math.imul(y,H)|0,I=I+Math.imul(y,j)|0,e=e+Math.imul(v,q)|0,t=(t+Math.imul(v,L)|0)+Math.imul(b,q)|0,I=I+Math.imul(b,L)|0,e=e+Math.imul(g,W)|0,t=(t+Math.imul(g,O)|0)+Math.imul(m,W)|0,I=I+Math.imul(m,O)|0,(R+(e+Math.imul(p,V)|0)|0)+((8191&(t=(t+Math.imul(p,i)|0)+Math.imul(f,V)|0))<<13)|0),S=(R=((I+Math.imul(f,i)|0)+(t>>>13)|0)+(k>>>26)|0,k&=67108863,e=Math.imul(F,z),t=Math.imul(F,T)+Math.imul(n,z)|0,I=Math.imul(n,T),e=e+Math.imul(N,H)|0,t=(t+Math.imul(N,j)|0)+Math.imul(_,H)|0,I=I+Math.imul(_,j)|0,e=e+Math.imul(w,q)|0,t=(t+Math.imul(w,L)|0)+Math.imul(y,q)|0,I=I+Math.imul(y,L)|0,e=e+Math.imul(v,W)|0,t=(t+Math.imul(v,O)|0)+Math.imul(b,W)|0,I=I+Math.imul(b,O)|0,(R+(e+Math.imul(g,V)|0)|0)+((8191&(t=(t+Math.imul(g,i)|0)+Math.imul(m,V)|0))<<13)|0),l=(R=((I+Math.imul(m,i)|0)+(t>>>13)|0)+(S>>>26)|0,S&=67108863,e=Math.imul(F,H),t=Math.imul(F,j)+Math.imul(n,H)|0,I=Math.imul(n,j),e=e+Math.imul(N,q)|0,t=(t+Math.imul(N,L)|0)+Math.imul(_,q)|0,I=I+Math.imul(_,L)|0,e=e+Math.imul(w,W)|0,t=(t+Math.imul(w,O)|0)+Math.imul(y,W)|0,I=I+Math.imul(y,O)|0,(R+(e+Math.imul(v,V)|0)|0)+((8191&(t=(t+Math.imul(v,i)|0)+Math.imul(b,V)|0))<<13)|0),s=(R=((I+Math.imul(b,i)|0)+(t>>>13)|0)+(l>>>26)|0,l&=67108863,e=Math.imul(F,q),t=Math.imul(F,L)+Math.imul(n,q)|0,I=Math.imul(n,L),e=e+Math.imul(N,W)|0,t=(t+Math.imul(N,O)|0)+Math.imul(_,W)|0,I=I+Math.imul(_,O)|0,(R+(e+Math.imul(w,V)|0)|0)+((8191&(t=(t+Math.imul(w,i)|0)+Math.imul(y,V)|0))<<13)|0),E=(R=((I+Math.imul(y,i)|0)+(t>>>13)|0)+(s>>>26)|0,s&=67108863,e=Math.imul(F,W),t=Math.imul(F,O)+Math.imul(n,W)|0,I=Math.imul(n,O),(R+(e+Math.imul(N,V)|0)|0)+((8191&(t=(t+Math.imul(N,i)|0)+Math.imul(_,V)|0))<<13)|0),C=(R=((I+Math.imul(_,i)|0)+(t>>>13)|0)+(E>>>26)|0,E&=67108863,(R+Math.imul(F,V)|0)+((8191&(t=Math.imul(F,i)+Math.imul(n,V)|0))<<13)|0);return R=(Math.imul(n,i)+(t>>>13)|0)+(C>>>26)|0,C&=67108863,r[0]=D,r[1]=K,r[2]=Z,r[3]=G,r[4]=J,r[5]=Y,r[6]=X,r[7]=Q,r[8]=tt,r[9]=M,r[10]=x,r[11]=a,r[12]=o,r[13]=k,r[14]=S,r[15]=l,r[16]=s,r[17]=E,r[18]=C,0!=R&&(r[19]=R,B.length++),B};function l(t,e,n){return(new c).mulp(t,e,n)}function c(t,e){this.x=t,this.y=e}Math.imul||(a=o),g.prototype.mulTo=function(t,e){var n=this.length+t.length,n=(10===this.length&&10===t.length?a:n<63?o:n<1024?function(t,e,n){n.negative=e.negative^t.negative,n.length=t.length+e.length;for(var i=0,r=0,o=0;o<n.length-1;o++){for(var a=r,r=0,s=67108863&i,l=Math.min(o,e.length-1),c=Math.max(0,o-t.length+1);c<=l;c++){var u,h=(0|t.words[o-c])*(0|e.words[c]),s=67108863&(u=(67108863&h)+s|0);r+=(a=(a=a+(h/67108864|0)|0)+(u>>>26)|0)>>>26,a&=67108863}n.words[o]=s,i=a,a=r}return 0!==i?n.words[o]=i:n.length--,n.strip()}:l)(this,t,e);return n},c.prototype.makeRBT=function(t){for(var e=new Array(t),n=g.prototype._countBits(t)-1,i=0;i<t;i++)e[i]=this.revBin(i,n,t);return e},c.prototype.revBin=function(t,e,n){if(0===t||t===n-1)return t;for(var i=0,r=0;r<e;r++)i|=(1&t)<<e-r-1,t>>=1;return i},c.prototype.permute=function(t,e,n,i,r,o){for(var a=0;a<o;a++)i[a]=e[t[a]],r[a]=n[t[a]]},c.prototype.transform=function(t,e,n,i,r,o){this.permute(o,t,e,n,i,r);for(var a=1;a<r;a<<=1)for(var s=a<<1,l=Math.cos(2*Math.PI/s),c=Math.sin(2*Math.PI/s),u=0;u<r;u+=s)for(var h=l,d=c,f=0;f<a;f++){var p=n[u+f],m=i[u+f],g=n[u+f+a],b=h*g-d*(v=i[u+f+a]),v=h*v+d*g;n[u+f]=p+(g=b),i[u+f]=m+v,n[u+f+a]=p-g,i[u+f+a]=m-v,f!==s&&(b=l*h-c*d,d=l*d+c*h,h=b)}},c.prototype.guessLen13b=function(t,e){for(var e=1&(i=1|Math.max(e,t)),n=0,i=i/2|0;i;i>>>=1)n++;return 1<<n+1+e},c.prototype.conjugate=function(t,e,n){if(!(n<=1))for(var i=0;i<n/2;i++){var r=t[i];t[i]=t[n-i-1],t[n-i-1]=r,r=e[i],e[i]=-e[n-i-1],e[n-i-1]=-r}},c.prototype.normalize13b=function(t,e){for(var n=0,i=0;i<e/2;i++){var r=8192*Math.round(t[2*i+1]/e)+Math.round(t[2*i]/e)+n;t[i]=67108863&r,n=r<67108864?0:r/67108864|0}return t},c.prototype.convert13b=function(t,e,n,i){for(var r=0,o=0;o<e;o++)r+=0|t[o],n[2*o]=8191&r,n[2*o+1]=8191&(r>>>=13),r>>>=13;for(o=2*e;o<i;++o)n[o]=0;m(0===r),m(0==(-8192&r))},c.prototype.stub=function(t){for(var e=new Array(t),n=0;n<t;n++)e[n]=0;return e},c.prototype.mulp=function(t,e,n){var i=2*this.guessLen13b(t.length,e.length),r=this.makeRBT(i),o=this.stub(i),a=new Array(i),s=new Array(i),l=new Array(i),c=new Array(i),u=new Array(i),h=new Array(i),d=n.words;d.length=i,this.convert13b(t.words,t.length,a,i),this.convert13b(e.words,e.length,c,i),this.transform(a,o,s,l,i,r),this.transform(c,o,u,h,i,r);for(var f=0;f<i;f++){var p=s[f]*u[f]-l[f]*h[f];l[f]=s[f]*h[f]+l[f]*u[f],s[f]=p}return this.conjugate(s,l,i),this.transform(s,l,d,o,i,r),this.conjugate(d,o,i),this.normalize13b(d,i),n.negative=t.negative^e.negative,n.length=t.length+e.length,n.strip()},g.prototype.mul=function(t){var e=new g(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},g.prototype.mulf=function(t){var e=new g(null);return e.words=new Array(this.length+t.length),l(this,t,e)},g.prototype.imul=function(t){return this.clone().mulTo(t,this)},g.prototype.imuln=function(t){m("number"==typeof t),m(t<67108864);for(var e=0,n=0;n<this.length;n++){var i=(0|this.words[n])*t,r=(67108863&i)+(67108863&e),e=(e>>=26)+(i/67108864|0)+(r>>>26);this.words[n]=67108863&r}return 0!==e&&(this.words[n]=e,this.length++),this},g.prototype.muln=function(t){return this.clone().imuln(t)},g.prototype.sqr=function(){return this.mul(this)},g.prototype.isqr=function(){return this.imul(this.clone())},g.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),n=0;n<e.length;n++){var i=n%26;e[n]=(t.words[n/26|0]&1<<i)>>>i}return e}(t);if(0===e.length)return new g(1);for(var n=this,i=0;i<e.length&&0===e[i];i++,n=n.sqr());if(++i<e.length)for(var r=n.sqr();i<e.length;i++,r=r.sqr())0!==e[i]&&(n=n.mul(r));return n},g.prototype.iushln=function(t){m("number"==typeof t&&0<=t);var e=t%26,n=(t-e)/26,i=67108863>>>26-e<<26-e;if(0!=e){for(var r=0,o=0;o<this.length;o++){var a=this.words[o]&i,s=(0|this.words[o])-a<<e;this.words[o]=s|r,r=a>>>26-e}r&&(this.words[o]=r,this.length++)}if(0!=n){for(o=this.length-1;0<=o;o--)this.words[o+n]=this.words[o];for(o=0;o<n;o++)this.words[o]=0;this.length+=n}return this.strip()},g.prototype.ishln=function(t){return m(0===this.negative),this.iushln(t)},g.prototype.iushrn=function(t,e,n){m("number"==typeof t&&0<=t),i=e?(e-e%26)/26:0;var i,r=t%26,o=Math.min((t-r)/26,this.length),a=67108863^67108863>>>r<<r,s=n;if(i-=o,i=Math.max(0,i),s){for(var l=0;l<o;l++)s.words[l]=this.words[l];s.length=o}if(0!==o)if(this.length>o)for(this.length-=o,l=0;l<this.length;l++)this.words[l]=this.words[l+o];else this.words[0]=0,this.length=1;for(var c=0,l=this.length-1;0<=l&&(0!==c||i<=l);l--){var u=0|this.words[l];this.words[l]=c<<26-r|u>>>r,c=u&a}return s&&0!==c&&(s.words[s.length++]=c),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},g.prototype.ishrn=function(t,e,n){return m(0===this.negative),this.iushrn(t,e,n)},g.prototype.shln=function(t){return this.clone().ishln(t)},g.prototype.ushln=function(t){return this.clone().iushln(t)},g.prototype.shrn=function(t){return this.clone().ishrn(t)},g.prototype.ushrn=function(t){return this.clone().iushrn(t)},g.prototype.testn=function(t){m("number"==typeof t&&0<=t);var e=t%26,t=(t-e)/26;return!(this.length<=t||!(this.words[t]&1<<e))},g.prototype.imaskn=function(t){m("number"==typeof t&&0<=t);var e=t%26,t=(t-e)/26;return m(0===this.negative,"imaskn works only with positive numbers"),this.length<=t?this:(0!=e&&t++,this.length=Math.min(t,this.length),0!=e&&(this.words[this.length-1]&=67108863^67108863>>>e<<e),this.strip())},g.prototype.maskn=function(t){return this.clone().imaskn(t)},g.prototype.iaddn=function(t){return m("number"==typeof t),m(t<67108864),t<0?this.isubn(-t):0!==this.negative?(1===this.length&&(0|this.words[0])<t?(this.words[0]=t-(0|this.words[0]),this.negative=0):(this.negative=0,this.isubn(t),this.negative=1),this):this._iaddn(t)},g.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&67108864<=this.words[e];e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},g.prototype.isubn=function(t){if(m("number"==typeof t),m(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,--this.words[e+1];return this.strip()},g.prototype.addn=function(t){return this.clone().iaddn(t)},g.prototype.subn=function(t){return this.clone().isubn(t)},g.prototype.iabs=function(){return this.negative=0,this},g.prototype.abs=function(){return this.clone().iabs()},g.prototype._ishlnsubmul=function(t,e,n){for(var i=t.length+n,r=(this._expand(i),0),o=0;o<t.length;o++){var a=(0|this.words[o+n])+r,s=(0|t.words[o])*e,r=((a-=67108863&s)>>26)-(s/67108864|0);this.words[o+n]=67108863&a}for(;o<this.length-n;o++)r=(a=(0|this.words[o+n])+r)>>26,this.words[o+n]=67108863&a;if(0!==r){for(m(-1===r),o=r=0;o<this.length;o++)r=(a=-(0|this.words[o])+r)>>26,this.words[o]=67108863&a;this.negative=1}return this.strip()},g.prototype._wordDiv=function(t,e){this.length,t.length;var n,i=this.clone(),r=t,o=0|r.words[r.length-1],a=(0!=(t=26-this._countBits(o))&&(r=r.ushln(t),i.iushln(t),o=0|r.words[r.length-1]),i.length-r.length);if("mod"!==e){(n=new g(null)).length=1+a,n.words=new Array(n.length);for(var s=0;s<n.length;s++)n.words[s]=0}var l=i.clone()._ishlnsubmul(r,1,a);0===l.negative&&(i=l,n)&&(n.words[a]=1);for(var c=a-1;0<=c;c--){var u=67108864*(0|i.words[r.length+c])+(0|i.words[r.length+c-1]),u=Math.min(u/o|0,67108863);for(i._ishlnsubmul(r,u,c);0!==i.negative;)u--,i.negative=0,i._ishlnsubmul(r,1,c),i.isZero()||(i.negative^=1);n&&(n.words[c]=u)}return n&&n.strip(),i.strip(),"div"!==e&&0!=t&&i.iushrn(t),{div:n||null,mod:i}},g.prototype.divmod=function(t,e,n){var i,r,o;return m(!t.isZero()),this.isZero()?{div:new g(0),mod:new g(0)}:0!==this.negative&&0===t.negative?(o=this.neg().divmod(t,e),"mod"!==e&&(i=o.div.neg()),"div"!==e&&(r=o.mod.neg(),n)&&0!==r.negative&&r.iadd(t),{div:i,mod:r}):0===this.negative&&0!==t.negative?(o=this.divmod(t.neg(),e),{div:i="mod"!==e?o.div.neg():i,mod:o.mod}):0!=(this.negative&t.negative)?(o=this.neg().divmod(t.neg(),e),"div"!==e&&(r=o.mod.neg(),n)&&0!==r.negative&&r.isub(t),{div:o.div,mod:r}):t.length>this.length||this.cmp(t)<0?{div:new g(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new g(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new g(this.modn(t.words[0]))}:this._wordDiv(t,e)},g.prototype.div=function(t){return this.divmod(t,"div",!1).div},g.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},g.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},g.prototype.divRound=function(t){var e,n,i=this.divmod(t);return i.mod.isZero()||(n=0!==i.div.negative?i.mod.isub(t):i.mod,e=t.ushrn(1),t=t.andln(1),(n=n.cmp(e))<0)||1===t&&0===n?i.div:0!==i.div.negative?i.div.isubn(1):i.div.iaddn(1)},g.prototype.modn=function(t){m(t<=67108863);for(var e=(1<<26)%t,n=0,i=this.length-1;0<=i;i--)n=(e*n+(0|this.words[i]))%t;return n},g.prototype.idivn=function(t){m(t<=67108863);for(var e=0,n=this.length-1;0<=n;n--){var i=(0|this.words[n])+67108864*e;this.words[n]=i/t|0,e=i%t}return this.strip()},g.prototype.divn=function(t){return this.clone().idivn(t)},g.prototype.egcd=function(t){m(0===t.negative),m(!t.isZero());for(var e=this,n=t.clone(),e=0!==e.negative?e.umod(t):e.clone(),i=new g(1),r=new g(0),o=new g(0),a=new g(1),s=0;e.isEven()&&n.isEven();)e.iushrn(1),n.iushrn(1),++s;for(var l=n.clone(),c=e.clone();!e.isZero();){for(var u=0,h=1;0==(e.words[0]&h)&&u<26;++u,h<<=1);if(0<u)for(e.iushrn(u);0<u--;)(i.isOdd()||r.isOdd())&&(i.iadd(l),r.isub(c)),i.iushrn(1),r.iushrn(1);for(var d=0,f=1;0==(n.words[0]&f)&&d<26;++d,f<<=1);if(0<d)for(n.iushrn(d);0<d--;)(o.isOdd()||a.isOdd())&&(o.iadd(l),a.isub(c)),o.iushrn(1),a.iushrn(1);0<=e.cmp(n)?(e.isub(n),i.isub(o),r.isub(a)):(n.isub(e),o.isub(i),a.isub(r))}return{a:o,b:a,gcd:n.iushln(s)}},g.prototype._invmp=function(t){m(0===t.negative),m(!t.isZero());for(var e,n=this,i=t.clone(),n=0!==n.negative?n.umod(t):n.clone(),r=new g(1),o=new g(0),a=i.clone();0<n.cmpn(1)&&0<i.cmpn(1);){for(var s=0,l=1;0==(n.words[0]&l)&&s<26;++s,l<<=1);if(0<s)for(n.iushrn(s);0<s--;)r.isOdd()&&r.iadd(a),r.iushrn(1);for(var c=0,u=1;0==(i.words[0]&u)&&c<26;++c,u<<=1);if(0<c)for(i.iushrn(c);0<c--;)o.isOdd()&&o.iadd(a),o.iushrn(1);0<=n.cmp(i)?(n.isub(i),r.isub(o)):(i.isub(n),o.isub(r))}return(e=0===n.cmpn(1)?r:o).cmpn(0)<0&&e.iadd(t),e},g.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),n=t.clone();e.negative=0;for(var i=n.negative=0;e.isEven()&&n.isEven();i++)e.iushrn(1),n.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;n.isEven();)n.iushrn(1);var r=e.cmp(n);if(r<0)var o=e,e=n,n=o;else if(0===r||0===n.cmpn(1))break;e.isub(n)}return n.iushln(i)},g.prototype.invm=function(t){return this.egcd(t).a.umod(t)},g.prototype.isEven=function(){return 0==(1&this.words[0])},g.prototype.isOdd=function(){return 1==(1&this.words[0])},g.prototype.andln=function(t){return this.words[0]&t},g.prototype.bincn=function(t){m("number"==typeof t);var e=t%26,t=(t-e)/26,e=1<<e;if(this.length<=t)this._expand(1+t),this.words[t]|=e;else{for(var n=e,i=t;0!==n&&i<this.length;i++){var r=0|this.words[i],n=(r+=n)>>>26;r&=67108863,this.words[i]=r}0!==n&&(this.words[i]=n,this.length++)}return this},g.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},g.prototype.cmpn=function(t){var e=t<0;return 0===this.negative||e?0===this.negative&&e?1:(this.strip(),e=1<this.length?1:(m((t=e?-t:t)<=67108863,"Number is too big"),(e=0|this.words[0])===t?0:e<t?-1:1),0!==this.negative?0|-e:e):-1},g.prototype.cmp=function(t){return 0!==this.negative&&0===t.negative?-1:0===this.negative&&0!==t.negative?1:(t=this.ucmp(t),0!==this.negative?0|-t:t)},g.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,n=this.length-1;0<=n;n--){var i=0|this.words[n],r=0|t.words[n];if(i!=r){i<r?e=-1:r<i&&(e=1);break}}return e},g.prototype.gtn=function(t){return 1===this.cmpn(t)},g.prototype.gt=function(t){return 1===this.cmp(t)},g.prototype.gten=function(t){return 0<=this.cmpn(t)},g.prototype.gte=function(t){return 0<=this.cmp(t)},g.prototype.ltn=function(t){return-1===this.cmpn(t)},g.prototype.lt=function(t){return-1===this.cmp(t)},g.prototype.lten=function(t){return this.cmpn(t)<=0},g.prototype.lte=function(t){return this.cmp(t)<=0},g.prototype.eqn=function(t){return 0===this.cmpn(t)},g.prototype.eq=function(t){return 0===this.cmp(t)},g.red=function(t){return new x(t)},g.prototype.toRed=function(t){return m(!this.red,"Already a number in reduction context"),m(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},g.prototype.fromRed=function(){return m(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},g.prototype._forceRed=function(t){return this.red=t,this},g.prototype.forceRed=function(t){return m(!this.red,"Already a number in reduction context"),this._forceRed(t)},g.prototype.redAdd=function(t){return m(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},g.prototype.redIAdd=function(t){return m(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},g.prototype.redSub=function(t){return m(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},g.prototype.redISub=function(t){return m(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},g.prototype.redShl=function(t){return m(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},g.prototype.redMul=function(t){return m(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},g.prototype.redIMul=function(t){return m(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},g.prototype.redSqr=function(){return m(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},g.prototype.redISqr=function(){return m(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},g.prototype.redSqrt=function(){return m(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},g.prototype.redInvm=function(){return m(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},g.prototype.redNeg=function(){return m(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},g.prototype.redPow=function(t){return m(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var u={k256:null,p224:null,p192:null,p25519:null};function b(t,e){this.name=t,this.p=new g(e,16),this.n=this.p.bitLength(),this.k=new g(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function v(){b.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function y(){b.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function w(){b.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function _(){b.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function x(t){var e;"string"==typeof t?(e=g._prime(t),this.m=e.p,this.prime=e):(m(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null)}function M(t){x.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new g(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}b.prototype._tmp=function(){var t=new g(null);return t.words=new Array(Math.ceil(this.n/13)),t},b.prototype.ireduce=function(t){for(var e,n=t;this.split(n,this.tmp),(e=(n=(n=this.imulK(n)).iadd(this.tmp)).bitLength())>this.n;);t=e<this.n?-1:n.ucmp(this.p);return 0===t?(n.words[0]=0,n.length=1):0<t?n.isub(this.p):void 0!==n.strip?n.strip():n._strip(),n},b.prototype.split=function(t,e){t.iushrn(this.n,0,e)},b.prototype.imulK=function(t){return t.imul(this.k)},n(v,b),v.prototype.split=function(t,e){for(var n=Math.min(t.length,9),i=0;i<n;i++)e.words[i]=t.words[i];if(e.length=n,t.length<=9)t.words[0]=0,t.length=1;else{var r=t.words[9];for(e.words[e.length++]=4194303&r,i=10;i<t.length;i++){var o=0|t.words[i];t.words[i-10]=(4194303&o)<<4|r>>>22,r=o}0===(t.words[i-10]=r>>>=22)&&10<t.length?t.length-=10:t.length-=9}},v.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,n=0;n<t.length;n++){var i=0|t.words[n];e+=977*i,t.words[n]=67108863&e,e=64*i+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1])&&t.length--,t},n(y,b),n(w,b),n(_,b),_.prototype.imulK=function(t){for(var e=0,n=0;n<t.length;n++){var i=19*(0|t.words[n])+e,r=67108863&i;i>>>=26,t.words[n]=r,e=i}return 0!==e&&(t.words[t.length++]=e),t},g._prime=function(t){if(u[t])return u[t];var e;if("k256"===t)e=new v;else if("p224"===t)e=new y;else if("p192"===t)e=new w;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new _}return u[t]=e},x.prototype._verify1=function(t){m(0===t.negative,"red works only with positives"),m(t.red,"red works only with red numbers")},x.prototype._verify2=function(t,e){m(0==(t.negative|e.negative),"red works only with positives"),m(t.red&&t.red===e.red,"red works only with red numbers")},x.prototype.imod=function(t){return(this.prime?this.prime.ireduce(t):t.umod(this.m))._forceRed(this)},x.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},x.prototype.add=function(t,e){this._verify2(t,e);t=t.add(e);return 0<=t.cmp(this.m)&&t.isub(this.m),t._forceRed(this)},x.prototype.iadd=function(t,e){this._verify2(t,e);t=t.iadd(e);return 0<=t.cmp(this.m)&&t.isub(this.m),t},x.prototype.sub=function(t,e){this._verify2(t,e);t=t.sub(e);return t.cmpn(0)<0&&t.iadd(this.m),t._forceRed(this)},x.prototype.isub=function(t,e){this._verify2(t,e);t=t.isub(e);return t.cmpn(0)<0&&t.iadd(this.m),t},x.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},x.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},x.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},x.prototype.isqr=function(t){return this.imul(t,t.clone())},x.prototype.sqr=function(t){return this.mul(t,t)},x.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(m(e%2==1),3===e)return e=this.m.add(new g(1)).iushrn(2),this.pow(t,e);for(var n=this.m.subn(1),i=0;!n.isZero()&&0===n.andln(1);)i++,n.iushrn(1);m(!n.isZero());for(var r=new g(1).toRed(this),o=r.redNeg(),a=this.m.subn(1).iushrn(1),s=new g(2*(s=this.m.bitLength())*s).toRed(this);0!==this.pow(s,a).cmp(o);)s.redIAdd(o);for(var l=this.pow(s,n),c=this.pow(t,n.addn(1).iushrn(1)),u=this.pow(t,n),h=i;0!==u.cmp(r);){for(var d=u,f=0;0!==d.cmp(r);f++)d=d.redSqr();m(f<h);var p=this.pow(l,new g(1).iushln(h-f-1)),c=c.redMul(p),l=p.redSqr(),u=u.redMul(l),h=f}return c},x.prototype.invm=function(t){t=t._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},x.prototype.pow=function(t,e){if(e.isZero())return new g(1).toRed(this);if(0===e.cmpn(1))return t.clone();var n=new Array(16);n[0]=new g(1).toRed(this),n[1]=t;for(var i=2;i<n.length;i++)n[i]=this.mul(n[i-1],t);var r=n[0],o=0,a=0,s=e.bitLength()%26;for(0===s&&(s=26),i=e.length-1;0<=i;i--){for(var l=e.words[i],c=s-1;0<=c;c--){var u=l>>c&1;r!==n[0]&&(r=this.sqr(r)),0==u&&0===o?a=0:(o=o<<1|u,(4===++a||0===i&&0===c)&&(r=this.mul(r,n[o]),o=a=0))}s=26}return r},x.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},x.prototype.convertFrom=function(t){t=t.clone();return t.red=null,t},g.mont=function(t){return new M(t)},n(M,x),M.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},M.prototype.convertFrom=function(t){t=this.imod(t.mul(this.rinv));return t.red=null,t},M.prototype.imul=function(t,e){return t.isZero()||e.isZero()?(t.words[0]=0,t.length=1,t):(e=(t=t.imul(e)).maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),0<=(e=t=t.isub(e).iushrn(this.shift)).cmp(this.m)?e=t.isub(this.m):t.cmpn(0)<0&&(e=t.iadd(this.m)),e._forceRed(this))},M.prototype.mul=function(t,e){return(t.isZero()||e.isZero()?new g(0):(e=(t=t.mul(e)).maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),0<=(e=t=t.isub(e).iushrn(this.shift)).cmp(this.m)?e=t.isub(this.m):t.cmpn(0)<0&&(e=t.iadd(this.m)),e))._forceRed(this)},M.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t,this)}.call(this,S(146)(t))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t};function r(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var c=s(n(166)),o=s(n(410)),u=s(n(411)),a=s(n(167)),h=s(n(380)),d=s(n(76)),f=n(25),p=s(n(584)),m=n(107);function s(t){return t&&t.__esModule?t:{default:t}}function g(t){return function(){var s=t.apply(this,arguments);return new Promise(function(o,a){return function e(t,n){try{var i=s[t](n),r=i.value}catch(t){return void a(t)}if(!i.done)return Promise.resolve(r).then(function(t){e("next",t)},function(t){e("throw",t)});o(r)}("next")})}}i(x,[{key:"restoreOrCreateSite",value:(_=g(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.storage.get("site"))return t.abrupt("return",new u.default(e));t.next=3;break;case 3:return t.next=5,u.default.create();case 5:return e=t.sent,this.storage.set("site",e.toJSON()),t.abrupt("return",e);case 8:case"end":return t.stop()}},t,this)})),function(){return _.apply(this,arguments)})},{key:"restoreOrCreatePage",value:(w=g(regeneratorRuntime.mark(function t(e){var n,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=this.storage.get("page"))return t.abrupt("return",new a.default(n));t.next=3;break;case 3:return e=e||this.storage.get("prompt"),n=this.storage.get("options")||{},t.next=7,a.default.create({prompt:e,options:n});case 7:return i=t.sent,this.storage.set("page",i.toJSON()),t.abrupt("return",i);case 10:case"end":return t.stop()}},t,this)})),function(t){return w.apply(this,arguments)})},{key:"restoreOrCreateProjectPublication",value:(y=g(regeneratorRuntime.mark(function t(e,n){var i,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=this.storage.get("projectPublication"))return t.abrupt("return",new o.default(i));t.next=3;break;case 3:return t.next=5,e.fetchMobiriseProject();case 5:return i=t.sent,t.next=8,n.upload("project.mobirise",{content:JSON.stringify(i)});case 8:return r=new o.default({state:"COMPLETE"}),this.storage.set("projectPublication",r.toJSON()),t.abrupt("return",r);case 11:case"end":return t.stop()}},t,this)})),function(t,e){return y.apply(this,arguments)})},{key:"createPublication",value:(v=g(regeneratorRuntime.mark(function t(e,n){var i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.seed)return t.next=3,e.randomize(e.seed);t.next=3;break;case 3:return i=this.storage.get("publicationOptions"),t.next=6,e.publishTo(n,i);case 6:return i=t.sent,this.storage.set("publication",i.toJSON()),t.abrupt("return",i);case 9:case"end":return t.stop()}},t,this)})),function(t,e){return v.apply(this,arguments)})},{key:"restoreOrCreatePublication",value:(b=g(regeneratorRuntime.mark(function t(e,n){var i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(i=this.storage.get("publication"))return t.abrupt("return",new o.default(i));t.next=3;break;case 3:return t.abrupt("return",this.createPublication(e,n));case 4:case"end":return t.stop()}},t,this)})),function(t,e){return b.apply(this,arguments)})},{key:"start",value:(l=g(regeneratorRuntime.mark(function t(){var o,n,a,e,i,s=this,l=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.isInitialized||"onClient"===l.mode){t.next=3;break}return d.default.loader.hide(),t.abrupt("return");case 3:return n=o=void 0,t.next=6,c.default.reqUserInfo();case 6:return a=t.sent,e=function(){var e=g(regeneratorRuntime.mark(function t(e){var n,i,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("onClient"===l.mode)t.next=23;else{if(n=s.storage.get("prompt"),o)return t.next=5,o.delete().catch(console.error);t.next=7}break;case 5:t.next=8;break;case 7:c.default.enableSaveProject();case 8:if(i=s.storage.get("keepInAppOnError"),s.storage.clear(),i&&e.isShown)return window.location.reload(),t.abrupt("return");t.next=15;break;case 15:if(i)return d.default.loader.hide(),c.default.showError(e.message,function(){return window.location.reload()}),t.abrupt("return");t.next=19;break;case 19:r=new URLSearchParams({prompt:(0,m.unescapeHtml)(n),u:a.id,error:e.message,errorType:e.code}).toString(),window.location.replace("https://ai.mobirise.com/?"+r),t.next=25;break;case 23:throw d.default.loader.hide(),e;case 25:case"end":return t.stop()}},t,s)}));return function(t){return e.apply(this,arguments)}}(),h.default.start("app load","site generate"),c.default.afterLoad(function(){return h.default.end("app load")}),c.default.disableSaveProject(),t.prev=11,t.next=14,d.default.loader.create();case 14:return d.default.loader.show("Generating Page..."),t.prev=15,t.next=18,this.restoreOrCreateSite();case 18:o=t.sent,t.next=42;break;case 21:if(t.prev=21,t.t0=t.catch(15),"SiteLimitError"!==t.t0.type)throw t.t0;t.next=25;break;case 25:return t.t1=p.default,t.next=28,u.default.all({onlyFree:!0});case 28:return t.t2=t.sent,t.t3=t.t0.message,t.t4={sites:t.t2,message:t.t3},t.next=33,(0,t.t1)(t.t4);case 33:if(i=t.sent){t.next=37;break}throw t.t0.isShown=!0,t.t0;case 37:return t.next=39,i.delete();case 39:return t.next=41,this.restoreOrCreateSite();case 41:o=t.sent;case 42:return h.default.start("page create"),t.next=45,this.restoreOrCreatePage(l.clientPrompt);case 45:return(n=t.sent).props.meta.imageSearchQuery&&d.default.loader.sendImageSearchQuery(n.props.meta.imageSearchQuery),h.default.end("page create"),h.default.start("page fill"),d.default.loader.show(n.props.meta.systemMessage.replace("Creating a page titled","Creating page")),h.default.start("empty project publish"),t.next=53,this.restoreOrCreateProjectPublication(n,o);case 53:h.default.end("empty project publish"),f.Bridge.initPath=o.projectLocation,c.default.saveProjectSettings(o.projectLocation,{title:n.props.meta.pageTitle}),n.waitUntilIsReady().then(g(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return h.default.end("page fill"),h.default.start("page publish on mobirisesite.com"),t.next=4,s.restoreOrCreatePublication(n,o);case 4:return e=t.sent,t.prev=5,t.next=8,e.waitUntilIsComplete();case 8:t.next=19;break;case 10:if(t.prev=10,t.t0=t.catch(5),"NotFound"!==t.t0.code)throw t.t0;t.next=14;break;case 14:return t.next=16,s.createPublication(n,o);case 16:return e=t.sent,t.next=19,e.waitUntilIsComplete();case 19:return h.default.end("page publish on mobirisesite.com"),t.next=22,c.default.waitUntilIsLoad();case 22:c.default.showPreloader(),d.default.loader.hide(),s.storage.clear(),c.default.loadProject(o.projectLocation,{onFinally:function(){return c.default.enableSaveProject()}}),h.default.end("site generate");case 27:case"end":return t.stop()}},t,s,[[5,10]])}))).catch(e),t.next=65;break;case 59:return t.prev=59,t.t5=t.catch(11),t.next=63,e(t.t5);case 63:return t.next=65,(0,m.forever)();case 65:case"end":return t.stop()}},t,this,[[11,59],[15,21]])})),function(){return l.apply(this,arguments)})},{key:"storage",get:function(){return d.default.storage}},{key:"isInitialized",get:function(){return this.storage.has("prompt")}}]);var l,b,v,y,w,_,n=x;function x(){if(!(this instanceof x))throw new TypeError("Cannot call a class as a function")}e.default=n},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n,i=arguments[e];for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},r=function(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),t};function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var a=n(76),s=(a=a)&&a.__esModule?a:{default:a},l=n(107);function c(t){return function(){var s=t.apply(this,arguments);return new Promise(function(o,a){return function e(t,n){try{var i=s[t](n),r=i.value}catch(t){return void a(t)}if(!i.done)return Promise.resolve(r).then(function(t){e("next",t)},function(t){e("throw",t)});o(r)}("next")})}}r(d,[{key:"isPending",value:function(){return"PENDING"===this.state}},{key:"getResult",value:(h=c(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.isPending())return t.abrupt("return");t.next=2;break;case 2:if("COMPLETE"===this.state)return t.abrupt("return",this.props.result);t.next=4;break;case 4:throw i(new Error(this.props.reason.message),{code:this.props.reason.code});case 5:case"end":return t.stop()}},t,this)})),function(){return h.apply(this,arguments)})},{key:"waitUntilIsComplete",value:(u=c(regeneratorRuntime.mark(function t(){var e,n,i=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).maxErrors,r=void 0===i?3:i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.isPending()){t.next=2;break}return t.abrupt("return",this.getResult());case 2:e=r;case 3:return t.prev=4,t.next=7,s.default.request(this.props.url);case 7:if("PENDING"!==(n=t.sent).state)return this.props=n,t.abrupt("break",23);t.next=11;break;case 11:t.next=19;break;case 13:if(t.prev=13,t.t0=t.catch(4),"NotFound"===t.t0.code)throw t.t0;t.next=17;break;case 17:if(--e<=0)throw t.t0;t.next=19;break;case 19:return t.next=21,(0,l.sleep)((0,l.random)(1e3,4e3));case 21:t.next=3;break;case 23:return t.abrupt("return",this.getResult());case 24:case"end":return t.stop()}},t,this,[[4,13]])})),function(){return u.apply(this,arguments)})},{key:"toJSON",value:function(){return this.props}},{key:"state",get:function(){return this.props.state}}]);var u,h,a=d;function d(t){if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");this.props=t}e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t};function r(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var o=n(107),a=n(25);function s(t){return function(){var s=t.apply(this,arguments);return new Promise(function(o,a){return function e(t,n){try{var i=s[t](n),r=i.value}catch(t){return void a(t)}if(!i.done)return Promise.resolve(r).then(function(t){e("next",t)},function(t){e("throw",t)});o(r)}("next")})}}i(u,null,[{key:"create",value:(c=s(regeneratorRuntime.mark(function t(){var e,n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.Bridge._REST("sites",{method:"POST",data:JSON.stringify(n)});case 2:return e=t.sent,t.abrupt("return",new this((0,o.pick)(e,["id"])));case 4:case"end":return t.stop()}},t,this)})),function(){return c.apply(this,arguments)})},{key:"all",value:(l=s(regeneratorRuntime.mark(function t(){var e,n=this,i=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).onlyFree,r=void 0!==i&&i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.Bridge._REST("me/sites");case 2:return e=t.sent,e=e.items,r&&(e=e.filter(function(t){return 0===t.licenses.length})),t.abrupt("return",e.map(function(t){return new n(t)}));case 6:case"end":return t.stop()}},t,this)})),function(){return l.apply(this,arguments)})}]),i(u,[{key:"upload",value:function(t,e){return a.Bridge._REST("sites/"+this.id+"/files/"+t,{method:"POST",data:e.content})}},{key:"delete",value:function(){return a.Bridge._REST("sites/"+this.id,{method:"DELETE"})}},{key:"toJSON",value:function(){return this.props}},{key:"id",get:function(){return this.props.id}},{key:"title",get:function(){return this.props.title||String(this.id)}},{key:"url",get:function(){var t=this.props.domains;return Array.isArray(t)&&0<t.length?"https://"+t[t.length-1].name+"/":"https://"+this.id+".mobirisesite.com/"}},{key:"projectLocation",get:function(){return a.Bridge.projectsLocation+"/"+this.id}}]);var l,c,n=u;function u(t){if(!(this instanceof u))throw new TypeError("Cannot call a class as a function");this.props=t}e.default=n},function(t,e,n){"use strict";var i=n(477),r=f(i),o=f(n(160)),a=f(n(76)),s=n(77);n(588),n(589),n(590);var l=f(n(591));n(592);var c=f(n(593)),u=f(n(594)),h=f(n(595)),d=f(n(596));function f(t){return t&&t.__esModule?t:{default:t}}n(597),n(598),n(599),n(600),n(601),n(602),n(603),n(604),n(605),n(606),n(607),n(608),n(609),n(610),n(611),n(612),n(613),n(614),n(615),n(616),n(617),n(618),n(619),n(620),n(621),n(622),n(623),n(624),n(625),n(626),n(627),n(628),n(629),n(630),n(631),n(632),n(633),n(634),n(635),n(636),n(637),n(638),n(640),n(641),n(642),n(643),n(644),n(645),n(646),n(647),n(648),n(649),n(650),n(651),n(652),n(653),n(654),n(655),n(656),n(657),n(658),n(659),n(660),n(661),n(662),n(663),n(664),n(665),n(666),n(667),n(668),n(669),n(670),n(671),n(672),n(674),n(675),n(676),n(677),n(678),n(679),n(680),n(681),n(682),defineM("Bridge",function(){return r.default}),defineM("$Bridge",function(){return o.default}),(0,i.afterBridgeInit)(function(){var t=JSON.parse(sessionStorage.getItem("mobiriseAi"))||{};return(t.options&&t.options.theme?a.default.generator:a.default.multipleGenerator).start()}),defineM("mbrServer",function(){return s.mbrServer}),window.noUiSlider=l.default,window.bootbox=c.default,window.JSZipUtils=h.default,window.JSZip=u.default,window.saveAs=d.default,defineM("jQuery",function(){return jQuery})},,,,,,,,,function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},function(t,e,n){"use strict";var c=n(486).Buffer,i=n(487).Transform;function r(t){i.call(this),this._block=c.allocUnsafe(t),this._blockSize=t,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}n(10)(r,i),r.prototype._transform=function(t,e,n){var i=null;try{this.update(t,e)}catch(t){i=t}n(i)},r.prototype._flush=function(t){var e=null;try{this.push(this.digest())}catch(t){e=t}t(e)},r.prototype.update=function(t,e){var n=t,i="Data";if(!c.isBuffer(n)&&"string"!=typeof n)throw new TypeError(i+" must be a string or a buffer");if(this._finalized)throw new Error("Digest already called");c.isBuffer(t)||(t=c.from(t,e));for(var r=this._block,o=0;this._blockOffset+t.length-o>=this._blockSize;){for(var a=this._blockOffset;a<this._blockSize;)r[a++]=t[o++];this._update(),this._blockOffset=0}for(;o<t.length;)r[this._blockOffset++]=t[o++];for(var s=0,l=8*t.length;0<l;++s)this._length[s]+=l,0<(l=this._length[s]/4294967296|0)&&(this._length[s]-=4294967296*l);return this},r.prototype._update=function(){throw new Error("_update is not implemented")},r.prototype.digest=function(t){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var e=this._digest();void 0!==t&&(e=e.toString(t)),this._block.fill(0);for(var n=this._blockOffset=0;n<4;++n)this._length[n]=0;return e},r.prototype._digest=function(){throw new Error("_digest is not implemented")},t.exports=r},function(N,t,F){"use strict";!function(t,p){function m(t,e){return t.listeners(e).length}(N.exports=_).ReadableState=w,F(147).EventEmitter;var i,r=F(424),u=F(48).Buffer,h=(void 0!==t?t:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){};var o,e,n,t=F(488),g=t&&t.debuglog?t.debuglog("stream"):function(){},a=F(489),t=F(425),s=F(426).getHighWaterMark,l=F(155).codes,d=l.ERR_INVALID_ARG_TYPE,f=l.ERR_STREAM_PUSH_AFTER_EOF,c=l.ERR_METHOD_NOT_IMPLEMENTED,b=l.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,v=(F(10)(_,r),t.errorOrDestroy),y=["error","close","destroy","pause","resume"];function w(t,e,n){i=i||F(156),t=t||{},"boolean"!=typeof n&&(n=e instanceof i),this.objectMode=!!t.objectMode,n&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=s(this,t,"readableHighWaterMark",n),this.buffer=new a,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(o=o||F(148).StringDecoder,this.decoder=new o(t.encoding),this.encoding=t.encoding)}function _(t){if(i=i||F(156),!(this instanceof _))return new _(t);var e=this instanceof i;this._readableState=new w(t,this,e),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy)&&(this._destroy=t.destroy),r.call(this)}function x(t,e,n,i,r){g("readableAddChunk",e);var o,a,s,l,c=t._readableState;if(null===e)c.reading=!1,a=t,s=c,g("onEofChunk"),s.ended||(s.decoder&&(l=s.decoder.end())&&l.length&&(s.buffer.push(l),s.length+=s.objectMode?1:l.length),s.ended=!0,s.sync?C(a):(s.needReadable=!1,s.emittedReadable||(s.emittedReadable=!0,E(a))));else if(o=r?o:function(t,e){var n;!function(t){return u.isBuffer(t)||t instanceof h}(e)&&"string"!=typeof e&&void 0!==e&&!t.objectMode&&(n=new d("chunk",["string","Buffer","Uint8Array"],e));return n}(c,e))v(t,o);else if(c.objectMode||e&&0<e.length)if("string"==typeof e||c.objectMode||Object.getPrototypeOf(e)===u.prototype||(l=e,e=u.from(l)),i)c.endEmitted?v(t,new b):M(t,c,e,!0);else if(c.ended)v(t,new f);else{if(c.destroyed)return!1;c.reading=!1,!c.decoder||n||(e=c.decoder.write(e),c.objectMode)||0!==e.length?M(t,c,e,!1):P(t,c)}else i||(c.reading=!1,P(t,c));return!c.ended&&(c.length<c.highWaterMark||0===c.length)}function M(t,e,n,i){e.flowing&&0===e.length&&!e.sync?(e.awaitDrain=0,t.emit("data",n)):(e.length+=e.objectMode?1:n.length,i?e.buffer.unshift(n):e.buffer.push(n),e.needReadable&&C(t)),P(t,e)}Object.defineProperty(_.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}}),_.prototype.destroy=t.destroy,_.prototype._undestroy=t.undestroy,_.prototype._destroy=function(t,e){e(t)},_.prototype.push=function(t,e){var n,i=this._readableState;return i.objectMode?n=!0:"string"==typeof t&&((e=e||i.defaultEncoding)!==i.encoding&&(t=u.from(t,e),e=""),n=!0),x(this,t,e,!1,n)},_.prototype.unshift=function(t){return x(this,t,null,!0,!1)},_.prototype.isPaused=function(){return!1===this._readableState.flowing},_.prototype.setEncoding=function(t){for(var e=new(o=o||F(148).StringDecoder)(t),n=(this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding,this._readableState.buffer.head),i="";null!==n;)i+=e.write(n.data),n=n.next;return this._readableState.buffer.clear(),""!==i&&this._readableState.buffer.push(i),this._readableState.length=i.length,this};var S=1073741824;function k(t,e){var n;return t<=0||0===e.length&&e.ended?0:e.objectMode?1:t!=t?(e.flowing&&e.length?e.buffer.head.data:e).length:(t>e.highWaterMark&&(e.highWaterMark=(S<=(n=t)?n=S:(n--,n=(n=(n=(n=(n|=n>>>1)|n>>>2)|n>>>4)|n>>>8)|n>>>16,n++),n)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}function C(t){var e=t._readableState;g("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(g("emitReadable",e.flowing),e.emittedReadable=!0,p.nextTick(E,t))}function E(t){var e=t._readableState;g("emitReadable_",e.destroyed,e.length,e.ended),e.destroyed||!e.length&&!e.ended||(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,L(t)}function P(t,e){e.readingMore||(e.readingMore=!0,p.nextTick(A,t,e))}function A(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&0===e.length);){var n=e.length;if(g("maybeReadMore read 0"),t.read(0),n===e.length)break}e.readingMore=!1}function T(t){var e=t._readableState;e.readableListening=0<t.listenerCount("readable"),e.resumeScheduled&&!e.paused?e.flowing=!0:0<t.listenerCount("data")&&t.resume()}function j(t){g("readable nexttick read 0"),t.read(0)}function D(t,e){g("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),L(t),e.flowing&&!e.reading&&t.read(0)}function L(t){var e=t._readableState;for(g("flow",e.flowing);e.flowing&&null!==t.read(););}function O(t,e){var n;return 0===e.length?null:(e.objectMode?n=e.buffer.shift():!t||t>=e.length?(n=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.first():e.buffer.concat(e.length),e.buffer.clear()):n=e.buffer.consume(t,e.decoder),n)}function R(t){var e=t._readableState;g("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,p.nextTick(B,e,t))}function B(t,e){g("endReadableNT",t.endEmitted,t.length),t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"),t.autoDestroy&&(!(t=e._writableState)||t.autoDestroy&&t.finished)&&e.destroy())}function I(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1}_.prototype.read=function(t){g("read",t),t=parseInt(t,10);var e,n=this._readableState,i=t;return 0!==t&&(n.emittedReadable=!1),0===t&&n.needReadable&&((0!==n.highWaterMark?n.length>=n.highWaterMark:0<n.length)||n.ended)?(g("read: emitReadable",n.length,n.ended),(0===n.length&&n.ended?R:C)(this),null):0===(t=k(t,n))&&n.ended?(0===n.length&&R(this),null):(e=n.needReadable,g("need readable",e),(0===n.length||n.length-t<n.highWaterMark)&&g("length less than watermark",e=!0),n.ended||n.reading?g("reading or ended",e=!1):e&&(g("do read"),n.reading=!0,n.sync=!0,0===n.length&&(n.needReadable=!0),this._read(n.highWaterMark),n.sync=!1,n.reading||(t=k(i,n))),null===(e=0<t?O(t,n):null)?(n.needReadable=n.length<=n.highWaterMark,t=0):(n.length-=t,n.awaitDrain=0),0===n.length&&(n.ended||(n.needReadable=!0),i!==t)&&n.ended&&R(this),null!==e&&this.emit("data",e),e)},_.prototype._read=function(t){v(this,new c("_read()"))},_.prototype.pipe=function(n,t){var i=this,r=this._readableState;switch(r.pipesCount){case 0:r.pipes=n;break;case 1:r.pipes=[r.pipes,n];break;default:r.pipes.push(n)}r.pipesCount+=1,g("pipe count=%d opts=%j",r.pipesCount,t);t=(!t||!1!==t.end)&&n!==p.stdout&&n!==p.stderr?a:f;function o(t,e){g("onunpipe"),t===i&&e&&!1===e.hasUnpiped&&(e.hasUnpiped=!0,g("cleanup"),n.removeListener("close",h),n.removeListener("finish",d),n.removeListener("drain",s),n.removeListener("error",u),n.removeListener("unpipe",o),i.removeListener("end",a),i.removeListener("end",f),i.removeListener("data",c),l=!0,!r.awaitDrain||n._writableState&&!n._writableState.needDrain||s())}function a(){g("onend"),n.end()}r.endEmitted?p.nextTick(t):i.once("end",t),n.on("unpipe",o);e=i;var e,s=function(){var t=e._readableState;g("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&m(e,"data")&&(t.flowing=!0,L(e))},l=(n.on("drain",s),!1);function c(t){g("ondata");t=n.write(t);g("dest.write",t),!1===t&&((1===r.pipesCount&&r.pipes===n||1<r.pipesCount&&-1!==I(r.pipes,n))&&!l&&(g("false write response, pause",r.awaitDrain),r.awaitDrain++),i.pause())}function u(t){g("onerror",t),f(),n.removeListener("error",u),0===m(n,"error")&&v(n,t)}function h(){n.removeListener("finish",d),f()}function d(){g("onfinish"),n.removeListener("close",h),f()}function f(){g("unpipe"),i.unpipe(n)}return i.on("data",c),function(t,e,n){if("function"==typeof t.prependListener)return t.prependListener(e,n);t._events&&t._events[e]?Array.isArray(t._events[e])?t._events[e].unshift(n):t._events[e]=[n,t._events[e]]:t.on(e,n)}(n,"error",u),n.once("close",h),n.once("finish",d),n.emit("pipe",i),r.flowing||(g("pipe resume"),i.resume()),n},_.prototype.unpipe=function(t){var e=this._readableState,n={hasUnpiped:!1};if(0!==e.pipesCount)if(1===e.pipesCount)t&&t!==e.pipes||(t=t||e.pipes,e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,n));else if(t){var i=I(e.pipes,t);-1!==i&&(e.pipes.splice(i,1),--e.pipesCount,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,n))}else{var r=e.pipes,o=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var a=0;a<o;a++)r[a].emit("unpipe",this,{hasUnpiped:!1})}return this},_.prototype.addListener=_.prototype.on=function(t,e){var e=r.prototype.on.call(this,t,e),n=this._readableState;return"data"===t?(n.readableListening=0<this.listenerCount("readable"),!1!==n.flowing&&this.resume()):"readable"!==t||n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,g("on readable",n.length,n.reading),n.length?C(this):n.reading||p.nextTick(j,this)),e},_.prototype.removeListener=function(t,e){e=r.prototype.removeListener.call(this,t,e);return"readable"===t&&p.nextTick(T,this),e},_.prototype.removeAllListeners=function(t){var e=r.prototype.removeAllListeners.apply(this,arguments);return"readable"!==t&&void 0!==t||p.nextTick(T,this),e},_.prototype.resume=function(){var t,e,n=this._readableState;return n.flowing||(g("resume"),n.flowing=!n.readableListening,t=this,(e=n).resumeScheduled)||(e.resumeScheduled=!0,p.nextTick(D,t,e)),n.paused=!1,this},_.prototype.pause=function(){return g("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(g("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},_.prototype.wrap=function(e){var t,n=this,i=this._readableState,r=!1;for(t in e.on("end",function(){var t;g("wrapped end"),i.decoder&&!i.ended&&(t=i.decoder.end())&&t.length&&n.push(t),n.push(null)}),e.on("data",function(t){g("wrapped data"),i.decoder&&(t=i.decoder.write(t)),i.objectMode&&null==t||(i.objectMode||t&&t.length)&&!n.push(t)&&(r=!0,e.pause())}),e)void 0===this[t]&&"function"==typeof e[t]&&(this[t]=function(t){return function(){return e[t].apply(e,arguments)}}(t));for(var o=0;o<y.length;o++)e.on(y[o],this.emit.bind(this,y[o]));return this._read=function(t){g("wrapped _read",t),r&&(r=!1,e.resume())},this},"function"==typeof Symbol&&(_.prototype[Symbol.asyncIterator]=function(){return(e=void 0===e?F(491):e)(this)}),Object.defineProperty(_.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(_.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(_.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(t){this._readableState&&(this._readableState.flowing=t)}}),_._fromList=O,Object.defineProperty(_.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(_.from=function(t,e){return(n=void 0===n?F(492):n)(_,t,e)})}.call(this,F(26),F(36))},function(t,e,n){t.exports=n(147).EventEmitter},function(t,e,n){"use strict";!function(o){function a(t,e){l(t,e),s(t)}function s(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function l(t,e){t.emit("error",e)}t.exports={destroy:function(t,e){var n=this,i=this._readableState&&this._readableState.destroyed,r=this._writableState&&this._writableState.destroyed;return i||r?e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,o.nextTick(l,this,t)):o.nextTick(l,this,t)):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(t){!e&&t?n._writableState?n._writableState.errorEmitted?o.nextTick(s,n):(n._writableState.errorEmitted=!0,o.nextTick(a,n,t)):o.nextTick(a,n,t):e?(o.nextTick(s,n),e(t)):o.nextTick(s,n)})),this},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(t,e){var n=t._readableState,i=t._writableState;n&&n.autoDestroy||i&&i.autoDestroy?t.destroy(e):t.emit("error",e)}}}.call(this,n(36))},function(t,e,n){"use strict";var a=n(155).codes.ERR_INVALID_OPT_VALUE;t.exports={getHighWaterMark:function(t,e,n,i){o=i,r=n;var r,o=null!=(e=e).highWaterMark?e.highWaterMark:o?e[r]:null;if(null==o)return t.objectMode?16:16384;if(!isFinite(o)||Math.floor(o)!==o||o<0)throw new a(i?n:"highWaterMark",o);return Math.floor(o)}}},function(A,t,T){"use strict";!function(t,h){function d(o){var a=this;this.next=null,this.entry=null,this.finish=function(){var t=a,e=o,n=void 0,i=t.entry;for(t.entry=null;i;){var r=i.callback;e.pendingcb--,r(n),i=i.next}e.corkedRequestsFree.next=t}}(A.exports=x).WritableState=_;var n,e={deprecate:T(387)},i=T(424),c=T(48).Buffer,u=(void 0!==t?t:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){};var r,t=T(425),o=T(426).getHighWaterMark,a=T(155).codes,f=a.ERR_INVALID_ARG_TYPE,s=a.ERR_METHOD_NOT_IMPLEMENTED,p=a.ERR_MULTIPLE_CALLBACK,l=a.ERR_STREAM_CANNOT_PIPE,m=a.ERR_STREAM_DESTROYED,g=a.ERR_STREAM_NULL_VALUES,b=a.ERR_STREAM_WRITE_AFTER_END,v=a.ERR_UNKNOWN_ENCODING,y=t.errorOrDestroy;function w(){}function _(t,u,e){n=n||T(156),t=t||{},"boolean"!=typeof e&&(e=u instanceof n),this.objectMode=!!t.objectMode,e&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=o(this,t,"writableHighWaterMark",e),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;e=(this.destroyed=!1)===t.decodeStrings;this.decodeStrings=!e,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){var e=u,n=e._writableState,i=n.sync,r=n.writecb;if("function"!=typeof r)throw new p;var o,a,s,l,c=n;c.writing=!1,c.writecb=null,c.length-=c.writelen,c.writelen=0,t?(c=e,a=i,s=t,l=r,--(o=n).pendingcb,a?(h.nextTick(l,s),h.nextTick(P,c,o),c._writableState.errorEmitted=!0,y(c,s)):(l(s),c._writableState.errorEmitted=!0,y(c,s),P(c,o))):((t=C(n)||e.destroyed)||n.corked||n.bufferProcessing||!n.bufferedRequest||k(e,n),i?h.nextTick(S,e,n,t,r):S(e,n,t,r))},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new d(this)}T(10)(x,i),_.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e};try{Object.defineProperty(_.prototype,"buffer",{get:e.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(t){}function x(t){var e=this instanceof(n=n||T(156));if(!e&&!r.call(x,this))return new x(t);this._writableState=new _(t,this,e),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final)&&(this._final=t.final),i.call(this)}function M(t,e,n,i,r,o,a){e.writelen=i,e.writecb=a,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new m("write")):n?t._writev(r,e.onwrite):t._write(r,o,e.onwrite),e.sync=!1}function S(t,e,n,i){var r;n||(n=t,0===(r=e).length&&r.needDrain&&(r.needDrain=!1,n.emit("drain"))),e.pendingcb--,i(),P(t,e)}function k(t,e){e.bufferProcessing=!0;var n=e.bufferedRequest;if(t._writev&&n&&n.next){for(var i=e.bufferedRequestCount,r=new Array(i),i=e.corkedRequestsFree,o=(i.entry=n,0),a=!0;n;)(r[o]=n).isBuf||(a=!1),n=n.next,o+=1;r.allBuffers=a,M(t,e,!0,e.length,r,"",i.finish),e.pendingcb++,e.lastBufferedRequest=null,i.next?(e.corkedRequestsFree=i.next,i.next=null):e.corkedRequestsFree=new d(e),e.bufferedRequestCount=0}else{for(;n;){var s=n.chunk,l=n.encoding,c=n.callback;if(M(t,e,!1,e.objectMode?1:s.length,s,l,c),n=n.next,e.bufferedRequestCount--,e.writing)break}null===n&&(e.lastBufferedRequest=null)}e.bufferedRequest=n,e.bufferProcessing=!1}function C(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function E(e,n){e._final(function(t){n.pendingcb--,t&&y(e,t),n.prefinished=!0,e.emit("prefinish"),P(e,n)})}function P(t,e){var n,i,r=C(e);return r&&(n=t,(i=e).prefinished||i.finalCalled||("function"!=typeof n._final||i.destroyed?(i.prefinished=!0,n.emit("prefinish")):(i.pendingcb++,i.finalCalled=!0,h.nextTick(E,n,i))),0===e.pendingcb)&&(e.finished=!0,t.emit("finish"),e.autoDestroy)&&(!(n=t._readableState)||n.autoDestroy&&n.endEmitted)&&t.destroy(),r}"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(r=Function.prototype[Symbol.hasInstance],Object.defineProperty(x,Symbol.hasInstance,{value:function(t){return!!r.call(this,t)||this===x&&t&&t._writableState instanceof _}})):r=function(t){return t instanceof this},x.prototype.pipe=function(){y(this,new l)},x.prototype.write=function(t,e,n){var i,r,o,a=this._writableState,s=!1,l=!a.objectMode&&(l=t,c.isBuffer(l)||l instanceof u);return l&&!c.isBuffer(t)&&(i=t,t=c.from(i)),"function"==typeof e&&(n=e,e=null),e=l?"buffer":e||a.defaultEncoding,"function"!=typeof n&&(n=w),a.ending?(i=this,r=n,o=new b,y(i,o),h.nextTick(r,o)):(l||function(t,e,n,i){var r;if(null===n?r=new g:"string"==typeof n||e.objectMode||(r=new f("chunk",["string","Buffer"],n)),!r)return 1;y(t,r),h.nextTick(i,r)}(this,a,t,n))&&(a.pendingcb++,s=function(t,e,n,i,r,o){n||(a=function(t,e,n){t.objectMode||!1===t.decodeStrings||"string"!=typeof e||(e=c.from(e,n));return e}(e,i,r),i!==a&&(n=!0,r="buffer",i=a));var a=e.objectMode?1:i.length,s=(e.length+=a,e.length<e.highWaterMark);s||(e.needDrain=!0);{var l;e.writing||e.corked?(l=e.lastBufferedRequest,e.lastBufferedRequest={chunk:i,encoding:r,isBuf:n,callback:o,next:null},l?l.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1):M(t,e,!1,a,i,r,o)}return s}(this,a,l,t,e,n)),s},x.prototype.cork=function(){this._writableState.corked++},x.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.bufferProcessing||!t.bufferedRequest||k(this,t))},x.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=t.toLowerCase()),-1<["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase()))return this._writableState.defaultEncoding=t,this;throw new v(t)},Object.defineProperty(x.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(x.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),x.prototype._write=function(t,e,n){n(new s("_write()"))},x.prototype._writev=null,x.prototype.end=function(t,e,n){var i=this._writableState;if("function"==typeof t?(n=t,e=t=null):"function"==typeof e&&(n=e,e=null),null!=t&&this.write(t,e),i.corked&&(i.corked=1,this.uncork()),!i.ending){t=this,e=i,i=n;e.ending=!0,P(t,e),i&&(e.finished?h.nextTick(i):t.once("finish",i)),e.ended=!0,t.writable=!1}return this},Object.defineProperty(x.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(x.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}}),x.prototype.destroy=t.destroy,x.prototype._undestroy=t.undestroy,x.prototype._destroy=function(t,e){e(t)}}.call(this,T(26),T(36))},function(t,e,n){"use strict";t.exports=l;var t=n(155).codes,i=t.ERR_METHOD_NOT_IMPLEMENTED,r=t.ERR_MULTIPLE_CALLBACK,o=t.ERR_TRANSFORM_ALREADY_TRANSFORMING,a=t.ERR_TRANSFORM_WITH_LENGTH_0,s=n(156);function l(t){if(!(this instanceof l))return new l(t);s.call(this,t),this._transformState={afterTransform:function(t,e){var n=this._transformState,i=(n.transforming=!1,n.writecb);if(null===i)return this.emit("error",new r);n.writechunk=null,(n.writecb=null)!=e&&this.push(e),i(t),(n=this._readableState).reading=!1,(n.needReadable||n.length<n.highWaterMark)&&this._read(n.highWaterMark)}.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush)&&(this._flush=t.flush),this.on("prefinish",c)}function c(){var n=this;"function"!=typeof this._flush||this._readableState.destroyed?u(this,null,null):this._flush(function(t,e){u(n,t,e)})}function u(t,e,n){if(e)return t.emit("error",e);if(null!=n&&t.push(n),t._writableState.length)throw new a;if(t._transformState.transforming)throw new o;t.push(null)}n(10)(l,s),l.prototype.push=function(t,e){return this._transformState.needTransform=!1,s.prototype.push.call(this,t,e)},l.prototype._transform=function(t,e,n){n(new i("_transform()"))},l.prototype._write=function(t,e,n){var i=this._transformState;i.writecb=n,i.writechunk=t,i.writeencoding=e,!i.transforming&&(n=this._readableState,i.needTransform||n.needReadable||n.length<n.highWaterMark)&&this._read(n.highWaterMark)},l.prototype._read=function(t){var e=this._transformState;null===e.writechunk||e.transforming?e.needTransform=!0:(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform))},l.prototype._destroy=function(t,e){s.prototype._destroy.call(this,t,function(t){e(t)})}},function(t,e,n){var i=n(10),r=n(157),o=n(15).Buffer,m=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],a=new Array(64);function s(){this.init(),this._w=a,r.call(this,64,56)}i(s,r),s.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},s.prototype._update=function(t){for(var e,n=this._w,i=0|this._a,r=0|this._b,o=0|this._c,a=0|this._d,s=0|this._e,l=0|this._f,c=0|this._g,u=0|this._h,h=0;h<16;++h)n[h]=t.readInt32BE(4*h);for(;h<64;++h)n[h]=0|(((e=n[h-2])>>>17|e<<15)^(e>>>19|e<<13)^e>>>10)+n[h-7]+(((e=n[h-15])>>>7|e<<25)^(e>>>18|e<<14)^e>>>3)+n[h-16];for(var d=0;d<64;++d)var f=u+((s>>>6|s<<26)^(s>>>11|s<<21)^(s>>>25|s<<7))+(c^s&(l^c))+m[d]+n[d]|0,p=0|((i>>>2|i<<30)^(i>>>13|i<<19)^(i>>>22|i<<10))+(i&r|o&(i|r)),u=c,c=l,l=s,s=a+f|0,a=o,o=r,r=i,i=f+p|0;this._a=i+this._a|0,this._b=r+this._b|0,this._c=o+this._c|0,this._d=a+this._d|0,this._e=s+this._e|0,this._f=l+this._f|0,this._g=c+this._g|0,this._h=u+this._h|0},s.prototype._hash=function(){var t=o.allocUnsafe(32);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t.writeInt32BE(this._h,28),t},t.exports=s},function(t,e,n){var i=n(10),r=n(157),o=n(15).Buffer,$=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],a=new Array(160);function s(){this.init(),this._w=a,r.call(this,128,112)}function U(t,e,n){return n^t&(e^n)}function z(t,e,n){return t&e|n&(t|e)}function H(t,e){return(t>>>28|e<<4)^(e>>>2|t<<30)^(e>>>7|t<<25)}function q(t,e){return(t>>>14|e<<18)^(t>>>18|e<<14)^(e>>>9|t<<23)}function W(t,e){return t>>>0<e>>>0?1:0}i(s,r),s.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},s.prototype._update=function(t){for(var e=this._w,n=0|this._ah,i=0|this._bh,r=0|this._ch,o=0|this._dh,a=0|this._eh,s=0|this._fh,l=0|this._gh,c=0|this._hh,u=0|this._al,h=0|this._bl,d=0|this._cl,f=0|this._dl,p=0|this._el,m=0|this._fl,g=0|this._gl,b=0|this._hl,v=0;v<32;v+=2)e[v]=t.readInt32BE(4*v),e[v+1]=t.readInt32BE(4*v+4);for(;v<160;v+=2){var y=e[v-30],w=e[v-30+1],_=(y>>>1|w<<31)^(y>>>8|w<<24)^y>>>7,x=(w>>>1|y<<31)^(w>>>8|y<<24)^(w>>>7|y<<25),y=e[v-4],M=((w=e[v-4+1])>>>19|y<<13)^(y>>>29|w<<3)^(w>>>6|y<<26),S=e[v-14],k=e[v-14+1],D=e[v-32],C=e[v-32+1],E=x+k|0,P=_+S+W(E,x)|0;P=(P=P+((y>>>19|w<<13)^(w>>>29|y<<3)^y>>>6)+W(E=E+M|0,M)|0)+D+W(E=E+C|0,C)|0,e[v]=P,e[v+1]=E}for(var A=0;A<160;A+=2){P=e[A],E=e[A+1];var B=z(n,i,r),N=z(u,h,d),F=H(n,u),T=H(u,n),j=q(a,p),L=q(p,a),O=$[A+1],R=U(a,s,l),I=U(p,m,g),L=b+L|0,R=(j=(((c+j+W(L,b)|0)+R+W(L=L+I|0,I)|0)+$[A]+W(L=L+O|0,O)|0)+P+W(L=L+E|0,E)|0,T+N|0),I=F+B+W(R,T)|0,c=l,b=g,l=s,g=m,s=a,m=p,a=o+j+W(p=f+L|0,f)|0,o=r,f=d,r=i,d=h,i=n,h=u,n=j+I+W(u=L+R|0,L)|0}this._al=this._al+u|0,this._bl=this._bl+h|0,this._cl=this._cl+d|0,this._dl=this._dl+f|0,this._el=this._el+p|0,this._fl=this._fl+m|0,this._gl=this._gl+g|0,this._hl=this._hl+b|0,this._ah=this._ah+n+W(this._al,u)|0,this._bh=this._bh+i+W(this._bl,h)|0,this._ch=this._ch+r+W(this._cl,d)|0,this._dh=this._dh+o+W(this._dl,f)|0,this._eh=this._eh+a+W(this._el,p)|0,this._fh=this._fh+s+W(this._fl,m)|0,this._gh=this._gh+l+W(this._gl,g)|0,this._hh=this._hh+c+W(this._hl,b)|0},s.prototype._hash=function(){var i=o.allocUnsafe(64);function t(t,e,n){i.writeInt32BE(t,n),i.writeInt32BE(e,n+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),t(this._gh,this._gl,48),t(this._hh,this._hl,56),i},t.exports=s},function(j,t,L){"use strict";!function(t,m){function g(t,e){return t.listeners(e).length}var o,b=L(375),v=(j.exports=r,L(421)),n=(r.ReadableState=i,L(147).EventEmitter,L(432)),u=L(15).Buffer,h=(void 0!==t?t:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){};var a,t=Object.create(L(162)),e=(t.inherits=L(10),L(500)),y=void 0,y=e&&e.debuglog?e.debuglog("stream"):function(){},s=L(501),e=L(433),l=(t.inherits(r,n),["error","close","destroy","pause","resume"]);function i(t,e){t=t||{};var e=e instanceof(o=o||L(149)),n=(this.objectMode=!!t.objectMode,e&&(this.objectMode=this.objectMode||!!t.readableObjectMode),t.highWaterMark),i=t.readableHighWaterMark,r=this.objectMode?16:16384;this.highWaterMark=n||0===n?n:e&&(i||0===i)?i:r,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new s,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(a=a||L(148).StringDecoder,this.decoder=new a(t.encoding),this.encoding=t.encoding)}function r(t){if(o=o||L(149),!(this instanceof r))return new r(t);this._readableState=new i(t,this),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy)&&(this._destroy=t.destroy),n.call(this)}function c(t,e,n,i,r){var o,a,s,l,c=t._readableState;return null===e?(c.reading=!1,a=t,(l=c).ended||(l.decoder&&(s=l.decoder.end())&&s.length&&(l.buffer.push(s),l.length+=l.objectMode?1:s.length),l.ended=!0,w(a))):(o=r?o:function(t,e){var n;!function(t){return u.isBuffer(t)||t instanceof h}(e)&&"string"!=typeof e&&void 0!==e&&!t.objectMode&&(n=new TypeError("Invalid non-string/buffer chunk"));return n}(c,e))?t.emit("error",o):c.objectMode||e&&0<e.length?("string"==typeof e||c.objectMode||Object.getPrototypeOf(e)===u.prototype||(s=e,e=u.from(s)),i?c.endEmitted?t.emit("error",new Error("stream.unshift() after end event")):d(t,c,e,!0):c.ended?t.emit("error",new Error("stream.push() after EOF")):(c.reading=!1,!c.decoder||n||(e=c.decoder.write(e),c.objectMode)||0!==e.length?d(t,c,e,!1):x(t,c))):i||(c.reading=!1),!(l=c).ended&&(l.needReadable||l.length<l.highWaterMark||0===l.length)}function d(t,e,n,i){e.flowing&&0===e.length&&!e.sync?(t.emit("data",n),t.read(0)):(e.length+=e.objectMode?1:n.length,i?e.buffer.unshift(n):e.buffer.push(n),e.needReadable&&w(t)),x(t,e)}Object.defineProperty(r.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}}),r.prototype.destroy=e.destroy,r.prototype._undestroy=e.undestroy,r.prototype._destroy=function(t,e){this.push(null),e(t)},r.prototype.push=function(t,e){var n,i=this._readableState;return i.objectMode?n=!0:"string"==typeof t&&((e=e||i.defaultEncoding)!==i.encoding&&(t=u.from(t,e),e=""),n=!0),c(this,t,e,!1,n)},r.prototype.unshift=function(t){return c(this,t,null,!0,!1)},r.prototype.isPaused=function(){return!1===this._readableState.flowing},r.prototype.setEncoding=function(t){return a=a||L(148).StringDecoder,this._readableState.decoder=new a(t),this._readableState.encoding=t,this};var f=8388608;function p(t,e){var n;return t<=0||0===e.length&&e.ended?0:e.objectMode?1:t!=t?(e.flowing&&e.length?e.buffer.head.data:e).length:(t>e.highWaterMark&&(e.highWaterMark=(f<=(n=t)?n=f:(n--,n=(n=(n=(n=(n|=n>>>1)|n>>>2)|n>>>4)|n>>>8)|n>>>16,n++),n)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}function w(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||(y("emitReadable",e.flowing),e.emittedReadable=!0,e.sync?b.nextTick(_,t):_(t))}function _(t){y("emit readable"),t.emit("readable"),C(t)}function x(t,e){e.readingMore||(e.readingMore=!0,b.nextTick(M,t,e))}function M(t,e){for(var n=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(y("maybeReadMore read 0"),t.read(0),n!==e.length);)n=e.length;e.readingMore=!1}function S(t){y("readable nexttick read 0"),t.read(0)}function k(t,e){e.reading||(y("resume read 0"),t.read(0)),e.resumeScheduled=!1,e.awaitDrain=0,t.emit("resume"),C(t),e.flowing&&!e.reading&&t.read(0)}function C(t){var e=t._readableState;for(y("flow",e.flowing);e.flowing&&null!==t.read(););}function E(t,e){var n;return 0===e.length?null:(e.objectMode?n=e.buffer.shift():!t||t>=e.length?(n=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.head.data:e.buffer.concat(e.length),e.buffer.clear()):n=function(t,e,n){var i;t<e.head.data.length?(i=e.head.data.slice(0,t),e.head.data=e.head.data.slice(t)):i=t===e.head.data.length?e.shift():(n?function(t,e){var n=e.head,i=1,r=n.data;t-=r.length;for(;n=n.next;){var o=n.data,a=t>o.length?o.length:t;if(a===o.length?r+=o:r+=o.slice(0,t),0===(t-=a)){a===o.length?(++i,n.next?e.head=n.next:e.head=e.tail=null):(e.head=n).data=o.slice(a);break}++i}return e.length-=i,r}:function(t,e){var n=u.allocUnsafe(t),i=e.head,r=1;i.data.copy(n),t-=i.data.length;for(;i=i.next;){var o=i.data,a=t>o.length?o.length:t;if(o.copy(n,n.length-t,0,a),0===(t-=a)){a===o.length?(++r,i.next?e.head=i.next:e.head=e.tail=null):(e.head=i).data=o.slice(a);break}++r}return e.length-=r,n})(t,e);return i}(t,e.buffer,e.decoder),n)}function P(t){var e=t._readableState;if(0<e.length)throw new Error('"endReadable()" called on non-empty stream');e.endEmitted||(e.ended=!0,b.nextTick(A,e,t))}function A(t,e){t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"))}function T(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1}r.prototype.read=function(t){y("read",t),t=parseInt(t,10);var e,n=this._readableState,i=t;return 0!==t&&(n.emittedReadable=!1),0===t&&n.needReadable&&(n.length>=n.highWaterMark||n.ended)?(y("read: emitReadable",n.length,n.ended),(0===n.length&&n.ended?P:w)(this),null):0===(t=p(t,n))&&n.ended?(0===n.length&&P(this),null):(e=n.needReadable,y("need readable",e),(0===n.length||n.length-t<n.highWaterMark)&&y("length less than watermark",e=!0),n.ended||n.reading?y("reading or ended",e=!1):e&&(y("do read"),n.reading=!0,n.sync=!0,0===n.length&&(n.needReadable=!0),this._read(n.highWaterMark),n.sync=!1,n.reading||(t=p(i,n))),null===(e=0<t?E(t,n):null)?(n.needReadable=!0,t=0):n.length-=t,0===n.length&&(n.ended||(n.needReadable=!0),i!==t)&&n.ended&&P(this),null!==e&&this.emit("data",e),e)},r.prototype._read=function(t){this.emit("error",new Error("_read() is not implemented"))},r.prototype.pipe=function(n,t){var i=this,r=this._readableState;switch(r.pipesCount){case 0:r.pipes=n;break;case 1:r.pipes=[r.pipes,n];break;default:r.pipes.push(n)}r.pipesCount+=1,y("pipe count=%d opts=%j",r.pipesCount,t);t=(!t||!1!==t.end)&&n!==m.stdout&&n!==m.stderr?a:p;function o(t,e){y("onunpipe"),t===i&&e&&!1===e.hasUnpiped&&(e.hasUnpiped=!0,y("cleanup"),n.removeListener("close",d),n.removeListener("finish",f),n.removeListener("drain",s),n.removeListener("error",h),n.removeListener("unpipe",o),i.removeListener("end",a),i.removeListener("end",p),i.removeListener("data",u),l=!0,!r.awaitDrain||n._writableState&&!n._writableState.needDrain||s())}function a(){y("onend"),n.end()}r.endEmitted?b.nextTick(t):i.once("end",t),n.on("unpipe",o);e=i;var e,s=function(){var t=e._readableState;y("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&g(e,"data")&&(t.flowing=!0,C(e))},l=(n.on("drain",s),!1);var c=!1;function u(t){y("ondata"),(c=!1)!==n.write(t)||c||((1===r.pipesCount&&r.pipes===n||1<r.pipesCount&&-1!==T(r.pipes,n))&&!l&&(y("false write response, pause",r.awaitDrain),r.awaitDrain++,c=!0),i.pause())}function h(t){y("onerror",t),p(),n.removeListener("error",h),0===g(n,"error")&&n.emit("error",t)}function d(){n.removeListener("finish",f),p()}function f(){y("onfinish"),n.removeListener("close",d),p()}function p(){y("unpipe"),i.unpipe(n)}return i.on("data",u),function(t,e,n){if("function"==typeof t.prependListener)return t.prependListener(e,n);t._events&&t._events[e]?v(t._events[e])?t._events[e].unshift(n):t._events[e]=[n,t._events[e]]:t.on(e,n)}(n,"error",h),n.once("close",d),n.once("finish",f),n.emit("pipe",i),r.flowing||(y("pipe resume"),i.resume()),n},r.prototype.unpipe=function(t){var e=this._readableState,n={hasUnpiped:!1};if(0!==e.pipesCount)if(1===e.pipesCount)t&&t!==e.pipes||(t=t||e.pipes,e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,n));else if(t){var i=T(e.pipes,t);-1!==i&&(e.pipes.splice(i,1),--e.pipesCount,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,n))}else{var r=e.pipes,o=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var a=0;a<o;a++)r[a].emit("unpipe",this,{hasUnpiped:!1})}return this},r.prototype.addListener=r.prototype.on=function(t,e){e=n.prototype.on.call(this,t,e);return"data"===t?!1!==this._readableState.flowing&&this.resume():"readable"!==t||(t=this._readableState).endEmitted||t.readableListening||(t.readableListening=t.needReadable=!0,t.emittedReadable=!1,t.reading?t.length&&w(this):b.nextTick(S,this)),e},r.prototype.resume=function(){var t,e=this._readableState;return e.flowing||(y("resume"),e.flowing=!0,t=this,(e=e).resumeScheduled)||(e.resumeScheduled=!0,b.nextTick(k,t,e)),this},r.prototype.pause=function(){return y("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(y("pause"),this._readableState.flowing=!1,this.emit("pause")),this},r.prototype.wrap=function(e){var t,n=this,i=this._readableState,r=!1;for(t in e.on("end",function(){var t;y("wrapped end"),i.decoder&&!i.ended&&(t=i.decoder.end())&&t.length&&n.push(t),n.push(null)}),e.on("data",function(t){y("wrapped data"),i.decoder&&(t=i.decoder.write(t)),i.objectMode&&null==t||(i.objectMode||t&&t.length)&&!n.push(t)&&(r=!0,e.pause())}),e)void 0===this[t]&&"function"==typeof e[t]&&(this[t]=function(t){return function(){return e[t].apply(e,arguments)}}(t));for(var o=0;o<l.length;o++)e.on(l[o],this.emit.bind(this,l[o]));return this._read=function(t){y("wrapped _read",t),r&&(r=!1,e.resume())},this},Object.defineProperty(r.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),r._fromList=E}.call(this,L(26),L(36))},function(t,e,n){t.exports=n(147).EventEmitter},function(t,e,n){"use strict";var o=n(375);function a(t,e){t.emit("error",e)}t.exports={destroy:function(t,e){var n=this,i=this._readableState&&this._readableState.destroyed,r=this._writableState&&this._writableState.destroyed;return i||r?e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,o.nextTick(a,this,t)):o.nextTick(a,this,t)):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(t){!e&&t?n._writableState?n._writableState.errorEmitted||(n._writableState.errorEmitted=!0,o.nextTick(a,n,t)):o.nextTick(a,n,t):e&&e(t)})),this},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(t,e,n){"use strict";t.exports=r;var i=n(149),t=Object.create(n(162));function r(t){if(!(this instanceof r))return new r(t);i.call(this,t),this._transformState={afterTransform:function(t,e){var n=this._transformState,i=(n.transforming=!1,n.writecb);if(!i)return this.emit("error",new Error("write callback called multiple times"));n.writechunk=null,(n.writecb=null)!=e&&this.push(e),i(t),(n=this._readableState).reading=!1,(n.needReadable||n.length<n.highWaterMark)&&this._read(n.highWaterMark)}.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush)&&(this._flush=t.flush),this.on("prefinish",o)}function o(){var n=this;"function"==typeof this._flush?this._flush(function(t,e){a(n,t,e)}):a(this,null,null)}function a(t,e,n){if(e)return t.emit("error",e);if(null!=n&&t.push(n),t._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(t._transformState.transforming)throw new Error("Calling transform done when still transforming");t.push(null)}t.inherits=n(10),t.inherits(r,i),r.prototype.push=function(t,e){return this._transformState.needTransform=!1,i.prototype.push.call(this,t,e)},r.prototype._transform=function(t,e,n){throw new Error("_transform() is not implemented")},r.prototype._write=function(t,e,n){var i=this._transformState;i.writecb=n,i.writechunk=t,i.writeencoding=e,!i.transforming&&(n=this._readableState,i.needTransform||n.needReadable||n.length<n.highWaterMark)&&this._read(n.highWaterMark)},r.prototype._read=function(t){var e=this._transformState;null!==e.writechunk&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0},r.prototype._destroy=function(t,e){var n=this;i.prototype._destroy.call(this,t,function(t){e(t),n.emit("close")})}},function(t,e,n){"use strict";var i=n(10),r=n(508),a=n(109),s=n(15).Buffer,o=n(436),l=n(389),c=n(390),u=s.alloc(128);function h(t,e){a.call(this,"digest"),"string"==typeof e&&(e=s.from(e));for(var n="sha512"===t||"sha384"===t?128:64,i=(this._alg=t,(this._key=e).length>n?e=("rmd160"===t?new l:c(t)).update(e).digest():e.length<n&&(e=s.concat([e,u],n)),this._ipad=s.allocUnsafe(n)),r=this._opad=s.allocUnsafe(n),o=0;o<n;o++)i[o]=54^e[o],r[o]=92^e[o];this._hash="rmd160"===t?new l:c(t),this._hash.update(i)}i(h,a),h.prototype._update=function(t){this._hash.update(t)},h.prototype._final=function(){var t=this._hash.digest();return("rmd160"===this._alg?new l:c(this._alg)).update(this._opad).update(t).digest()},t.exports=function(t,e){return"rmd160"===(t=t.toLowerCase())||"ripemd160"===t?new h("rmd160",e):"md5"===t?new r(o,e):new h(t,e)}},function(t,e,n){var i=n(386);t.exports=function(t){return(new i).update(t).digest()}},function(t){t.exports=JSON.parse('{"sha224WithRSAEncryption":{"sign":"rsa","hash":"sha224","id":"302d300d06096086480165030402040500041c"},"RSA-SHA224":{"sign":"ecdsa/rsa","hash":"sha224","id":"302d300d06096086480165030402040500041c"},"sha256WithRSAEncryption":{"sign":"rsa","hash":"sha256","id":"3031300d060960864801650304020105000420"},"RSA-SHA256":{"sign":"ecdsa/rsa","hash":"sha256","id":"3031300d060960864801650304020105000420"},"sha384WithRSAEncryption":{"sign":"rsa","hash":"sha384","id":"3041300d060960864801650304020205000430"},"RSA-SHA384":{"sign":"ecdsa/rsa","hash":"sha384","id":"3041300d060960864801650304020205000430"},"sha512WithRSAEncryption":{"sign":"rsa","hash":"sha512","id":"3051300d060960864801650304020305000440"},"RSA-SHA512":{"sign":"ecdsa/rsa","hash":"sha512","id":"3051300d060960864801650304020305000440"},"RSA-SHA1":{"sign":"rsa","hash":"sha1","id":"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{"sign":"ecdsa","hash":"sha1","id":""},"sha256":{"sign":"ecdsa","hash":"sha256","id":""},"sha224":{"sign":"ecdsa","hash":"sha224","id":""},"sha384":{"sign":"ecdsa","hash":"sha384","id":""},"sha512":{"sign":"ecdsa","hash":"sha512","id":""},"DSA-SHA":{"sign":"dsa","hash":"sha1","id":""},"DSA-SHA1":{"sign":"dsa","hash":"sha1","id":""},"DSA":{"sign":"dsa","hash":"sha1","id":""},"DSA-WITH-SHA224":{"sign":"dsa","hash":"sha224","id":""},"DSA-SHA224":{"sign":"dsa","hash":"sha224","id":""},"DSA-WITH-SHA256":{"sign":"dsa","hash":"sha256","id":""},"DSA-SHA256":{"sign":"dsa","hash":"sha256","id":""},"DSA-WITH-SHA384":{"sign":"dsa","hash":"sha384","id":""},"DSA-SHA384":{"sign":"dsa","hash":"sha384","id":""},"DSA-WITH-SHA512":{"sign":"dsa","hash":"sha512","id":""},"DSA-SHA512":{"sign":"dsa","hash":"sha512","id":""},"DSA-RIPEMD160":{"sign":"dsa","hash":"rmd160","id":""},"ripemd160WithRSA":{"sign":"rsa","hash":"rmd160","id":"3021300906052b2403020105000414"},"RSA-RIPEMD160":{"sign":"rsa","hash":"rmd160","id":"3021300906052b2403020105000414"},"md5WithRSAEncryption":{"sign":"rsa","hash":"md5","id":"3020300c06082a864886f70d020505000410"},"RSA-MD5":{"sign":"rsa","hash":"md5","id":"3020300c06082a864886f70d020505000410"}}')},function(t,e,n){e.pbkdf2=n(510),e.pbkdf2Sync=n(441)},function(t,e){var n=Math.pow(2,30)-1;t.exports=function(t,e){if("number"!=typeof t)throw new TypeError("Iterations not a number");if(t<0)throw new TypeError("Bad iterations");if("number"!=typeof e)throw new TypeError("Key length not a number");if(e<0||n<e||e!=e)throw new TypeError("Bad key length")}},function(n,t,e){!function(t,e){t=t.process&&t.process.browser||!t.process||!t.process.version||6<=parseInt(e.version.split(".")[0].slice(1),10)?"utf-8":"binary",n.exports=t}.call(this,e(26),e(36))},function(t,e,n){var c=n(436),u=n(389),h=n(390),g=n(15).Buffer,b=n(439),v=n(440),y=n(442),d=g.alloc(128),w={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function _(t,e,n){for(var i,r="rmd160"===(i=t)||"ripemd160"===i?function(t){return(new u).update(t).digest()}:"md5"===i?c:function(t){return h(i).update(t).digest()},o="sha512"===t||"sha384"===t?128:64,a=(e.length>o?e=r(e):e.length<o&&(e=g.concat([e,d],o)),g.allocUnsafe(o+w[t])),s=g.allocUnsafe(o+w[t]),l=0;l<o;l++)a[l]=54^e[l],s[l]=92^e[l];n=g.allocUnsafe(o+n+4);a.copy(n,0,0,o),this.ipad1=n,this.ipad2=a,this.opad=s,this.alg=t,this.blocksize=o,this.hash=r,this.size=w[t]}_.prototype.run=function(t,e){return t.copy(e,this.blocksize),this.hash(e).copy(this.opad,this.blocksize),this.hash(this.opad)},t.exports=function(t,e,n,i,r){b(n,i);for(var o=new _(r=r||"sha1",t=y(t,v,"Password"),(e=y(e,v,"Salt")).length),a=g.allocUnsafe(i),s=g.allocUnsafe(e.length+4),l=(e.copy(s,0,0,e.length),0),c=w[r],u=Math.ceil(i/c),h=1;h<=u;h++){s.writeUInt32BE(h,e.length);for(var d=o.run(s,o.ipad1),f=d,p=1;p<n;p++)for(var f=o.run(f,o.ipad2),m=0;m<c;m++)d[m]^=f[m];d.copy(a,l),l+=c}return a}},function(t,e,n){var i=n(15).Buffer;t.exports=function(t,e,n){if(i.isBuffer(t))return t;if("string"==typeof t)return i.from(t,e);if(ArrayBuffer.isView(t))return i.from(t.buffer);throw new TypeError(n+" must be a string, a Buffer, a typed array or a DataView")}},function(t,e,n){"use strict";e.readUInt32BE=function(t,e){return(t[0+e]<<24|t[1+e]<<16|t[2+e]<<8|t[3+e])>>>0},e.writeUInt32BE=function(t,e,n){t[0+n]=e>>>24,t[1+n]=e>>>16&255,t[2+n]=e>>>8&255,t[3+n]=255&e},e.ip=function(t,e,n,i){for(var r=0,o=0,a=6;0<=a;a-=2){for(var s=0;s<=24;s+=8)r=r<<1|e>>>s+a&1;for(s=0;s<=24;s+=8)r=r<<1|t>>>s+a&1}for(a=6;0<=a;a-=2){for(s=1;s<=25;s+=8)o=o<<1|e>>>s+a&1;for(s=1;s<=25;s+=8)o=o<<1|t>>>s+a&1}n[i+0]=r>>>0,n[i+1]=o>>>0},e.rip=function(t,e,n,i){for(var r=0,o=0,a=0;a<4;a++)for(var s=24;0<=s;s-=8)r=(r=r<<1|e>>>s+a&1)<<1|t>>>s+a&1;for(a=4;a<8;a++)for(s=24;0<=s;s-=8)o=(o=o<<1|e>>>s+a&1)<<1|t>>>s+a&1;n[i+0]=r>>>0,n[i+1]=o>>>0},e.pc1=function(t,e,n,i){for(var r=0,o=0,a=7;5<=a;a--){for(var s=0;s<=24;s+=8)r=r<<1|e>>s+a&1;for(s=0;s<=24;s+=8)r=r<<1|t>>s+a&1}for(s=0;s<=24;s+=8)r=r<<1|e>>s+a&1;for(a=1;a<=3;a++){for(s=0;s<=24;s+=8)o=o<<1|e>>s+a&1;for(s=0;s<=24;s+=8)o=o<<1|t>>s+a&1}for(s=0;s<=24;s+=8)o=o<<1|t>>s+a&1;n[i+0]=r>>>0,n[i+1]=o>>>0},e.r28shl=function(t,e){return t<<e&268435455|t>>>28-e};var l=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24],r=(e.pc2=function(t,e,n,i){for(var r=0,o=0,a=l.length>>>1,s=0;s<a;s++)r=r<<1|t>>>l[s]&1;for(s=a;s<l.length;s++)o=o<<1|e>>>l[s]&1;n[i+0]=r>>>0,n[i+1]=o>>>0},e.expand=function(t,e,n){for(var i=0,r=0,i=(1&t)<<5|t>>>27,o=23;15<=o;o-=4)i=i<<6|t>>>o&63;for(o=11;3<=o;o-=4)r=(r|t>>>o&63)<<6;r|=(31&t)<<1|t>>>31,e[n+0]=i>>>0,e[n+1]=r>>>0},[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11]),i=(e.substitute=function(t,e){for(var n=0,i=0;i<4;i++)n=n<<4|r[64*i+(t>>>18-6*i&63)];for(i=0;i<4;i++)n=n<<4|r[256+64*i+(e>>>18-6*i&63)];return n>>>0},[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7]);e.permute=function(t){for(var e=0,n=0;n<i.length;n++)e=e<<1|t>>>i[n]&1;return e>>>0},e.padSplit=function(t,e,n){for(var i=t.toString(2);i.length<e;)i="0"+i;for(var r=[],o=0;o<e;o+=n)r.push(i.slice(o,o+n));return r.join(" ")}},function(t,e,n){"use strict";var a=n(74),i=n(10),u=n(443),r=n(393);function o(){this.tmp=new Array(2),this.keys=null}function s(t){r.call(this,t);var e=new o;this._desState=e,this.deriveKeys(e,t.key)}i(s,r),(t.exports=s).create=function(t){return new s(t)};var l=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];s.prototype.deriveKeys=function(t,e){t.keys=new Array(32),a.equal(e.length,this.blockSize,"Invalid key length");var n=u.readUInt32BE(e,0),i=u.readUInt32BE(e,4);u.pc1(n,i,t.tmp,0),n=t.tmp[0],i=t.tmp[1];for(var r=0;r<t.keys.length;r+=2){var o=l[r>>>1],n=u.r28shl(n,o),i=u.r28shl(i,o);u.pc2(n,i,t.keys,r)}},s.prototype._update=function(t,e,n,i){var r=this._desState,o=u.readUInt32BE(t,e),t=u.readUInt32BE(t,e+4);u.ip(o,t,r.tmp,0),o=r.tmp[0],t=r.tmp[1],"encrypt"===this.type?this._encrypt(r,o,t,r.tmp,0):this._decrypt(r,o,t,r.tmp,0),o=r.tmp[0],t=r.tmp[1],u.writeUInt32BE(n,o,i),u.writeUInt32BE(n,t,i+4)},s.prototype._pad=function(t,e){if(!1===this.padding)return!1;for(var n=t.length-e,i=e;i<t.length;i++)t[i]=n;return!0},s.prototype._unpad=function(t){if(!1===this.padding)return t;for(var e=t[t.length-1],n=t.length-e;n<t.length;n++)a.equal(t[n],e);return t.slice(0,t.length-e)},s.prototype._encrypt=function(t,e,n,i,r){for(var o=e,a=n,s=0;s<t.keys.length;s+=2)var l=t.keys[s],c=t.keys[s+1],l=(u.expand(a,t.tmp,0),l^=t.tmp[0],c^=t.tmp[1],u.substitute(l,c)),c=a,a=(o^u.permute(l))>>>0,o=c;u.rip(a,o,i,r)},s.prototype._decrypt=function(t,e,n,i,r){for(var o=n,a=e,s=t.keys.length-2;0<=s;s-=2)var l=t.keys[s],c=t.keys[s+1],l=(u.expand(o,t.tmp,0),l^=t.tmp[0],c^=t.tmp[1],u.substitute(l,c)),c=o,o=(a^u.permute(l))>>>0,a=c;u.rip(o,a,i,r)}},function(t,e,n){var l=n(163),c=n(15).Buffer,u=n(446);e.encrypt=function(t,e){var n=Math.ceil(e.length/16),i=t._cache.length;t._cache=c.concat([t._cache,c.allocUnsafe(16*n)]);for(var r=0;r<n;r++){a=void 0,a=(o=t)._cipher.encryptBlockRaw(o._prev),u(o._prev);var o=a,a=i+16*r;t._cache.writeUInt32BE(o[0],a+0),t._cache.writeUInt32BE(o[1],a+4),t._cache.writeUInt32BE(o[2],a+8),t._cache.writeUInt32BE(o[3],a+12)}var s=t._cache.slice(0,e.length);return t._cache=t._cache.slice(e.length),l(e,s)}},function(t,e){t.exports=function(t){for(var e,n=t.length;n--;){if(255!==(e=t.readUInt8(n))){e++,t.writeUInt8(e,n);break}t.writeUInt8(0,n)}}},function(t){t.exports=JSON.parse('{"aes-128-ecb":{"cipher":"AES","key":128,"iv":0,"mode":"ECB","type":"block"},"aes-192-ecb":{"cipher":"AES","key":192,"iv":0,"mode":"ECB","type":"block"},"aes-256-ecb":{"cipher":"AES","key":256,"iv":0,"mode":"ECB","type":"block"},"aes-128-cbc":{"cipher":"AES","key":128,"iv":16,"mode":"CBC","type":"block"},"aes-192-cbc":{"cipher":"AES","key":192,"iv":16,"mode":"CBC","type":"block"},"aes-256-cbc":{"cipher":"AES","key":256,"iv":16,"mode":"CBC","type":"block"},"aes128":{"cipher":"AES","key":128,"iv":16,"mode":"CBC","type":"block"},"aes192":{"cipher":"AES","key":192,"iv":16,"mode":"CBC","type":"block"},"aes256":{"cipher":"AES","key":256,"iv":16,"mode":"CBC","type":"block"},"aes-128-cfb":{"cipher":"AES","key":128,"iv":16,"mode":"CFB","type":"stream"},"aes-192-cfb":{"cipher":"AES","key":192,"iv":16,"mode":"CFB","type":"stream"},"aes-256-cfb":{"cipher":"AES","key":256,"iv":16,"mode":"CFB","type":"stream"},"aes-128-cfb8":{"cipher":"AES","key":128,"iv":16,"mode":"CFB8","type":"stream"},"aes-192-cfb8":{"cipher":"AES","key":192,"iv":16,"mode":"CFB8","type":"stream"},"aes-256-cfb8":{"cipher":"AES","key":256,"iv":16,"mode":"CFB8","type":"stream"},"aes-128-cfb1":{"cipher":"AES","key":128,"iv":16,"mode":"CFB1","type":"stream"},"aes-192-cfb1":{"cipher":"AES","key":192,"iv":16,"mode":"CFB1","type":"stream"},"aes-256-cfb1":{"cipher":"AES","key":256,"iv":16,"mode":"CFB1","type":"stream"},"aes-128-ofb":{"cipher":"AES","key":128,"iv":16,"mode":"OFB","type":"stream"},"aes-192-ofb":{"cipher":"AES","key":192,"iv":16,"mode":"OFB","type":"stream"},"aes-256-ofb":{"cipher":"AES","key":256,"iv":16,"mode":"OFB","type":"stream"},"aes-128-ctr":{"cipher":"AES","key":128,"iv":16,"mode":"CTR","type":"stream"},"aes-192-ctr":{"cipher":"AES","key":192,"iv":16,"mode":"CTR","type":"stream"},"aes-256-ctr":{"cipher":"AES","key":256,"iv":16,"mode":"CTR","type":"stream"},"aes-128-gcm":{"cipher":"AES","key":128,"iv":12,"mode":"GCM","type":"auth"},"aes-192-gcm":{"cipher":"AES","key":192,"iv":12,"mode":"GCM","type":"auth"},"aes-256-gcm":{"cipher":"AES","key":256,"iv":12,"mode":"GCM","type":"auth"}}')},function(t,e,n){var l=n(376),c=n(15).Buffer,u=n(109),i=n(10),h=n(523),r=n(163),d=n(446);function o(t,e,n,i){u.call(this);var r,o,a,s=c.alloc(4,0),e=(this._cipher=new l.AES(e),this._cipher.encryptBlock(s));this._ghash=new h(e),s=this,e=e,n=12===(r=n).length?(s._finID=c.concat([r,c.from([0,0,0,1])]),c.concat([r,c.from([0,0,0,2])])):(e=new h(e),o=(a=r.length)%16,e.update(r),o&&e.update(c.alloc(o=16-o,0)),e.update(c.alloc(8,0)),r=8*a,(o=c.alloc(8)).writeUIntBE(r,0,8),e.update(o),s._finID=e.state,a=c.from(s._finID),d(a),a),this._prev=c.from(n),this._cache=c.allocUnsafe(0),this._secCache=c.allocUnsafe(0),this._decrypt=i,this._alen=0,this._len=0,this._mode=t,this._authTag=null,this._called=!1}i(o,u),o.prototype._update=function(t){!this._called&&this._alen&&(e=16-this._alen%16)<16&&(e=c.alloc(e,0),this._ghash.update(e)),this._called=!0;var e=this._mode.encrypt(this,t);return this._decrypt?this._ghash.update(t):this._ghash.update(e),this._len+=t.length,e},o.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var t=r(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&function(t,e){for(var n=0,i=(t.length!==e.length&&n++,Math.min(t.length,e.length)),r=0;r<i;++r)n+=t[r]^e[r];return n}(t,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=t,this._cipher.scrub()},o.prototype.getAuthTag=function(){if(this._decrypt||!c.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},o.prototype.setAuthTag=function(t){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=t},o.prototype.setAAD=function(t){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(t),this._alen+=t.length},t.exports=o},function(t,e,n){var r=n(376),o=n(15).Buffer,a=n(109);function i(t,e,n,i){a.call(this),this._cipher=new r.AES(e),this._prev=o.from(n),this._cache=o.allocUnsafe(0),this._secCache=o.allocUnsafe(0),this._decrypt=i,this._mode=t}n(10)(i,a),i.prototype._update=function(t){return this._mode.encrypt(this,t,this._decrypt)},i.prototype._final=function(){this._cipher.scrub()},t.exports=i},function(t,e,n){var r=n(154),o=((t.exports=i).simpleSieve=g,i.fermatTest=b,n(451)),a=new o(24),s=new(n(452)),l=new o(1),c=new o(2),u=new o(5),h=(new o(16),new o(8),new o(10)),d=new o(3),f=(new o(7),new o(11)),p=new o(4),m=(new o(12),null);function g(t){for(var e=function(){if(null!==m)return m;var t=[];t[0]=2;for(var e=1,n=3;n<1048576;n+=2){for(var i=Math.ceil(Math.sqrt(n)),r=0;r<e&&t[r]<=i&&n%t[r]!=0;r++);e!==r&&t[r]<=i||(t[e++]=n)}return m=t}(),n=0;n<e.length;n++)if(0===t.modn(e[n]))return 0===t.cmpn(e[n]);return!0}function b(t){var e=o.mont(t);return 0===c.toRed(e).redPow(t.subn(1)).fromRed().cmpn(1)}function i(t,e){if(t<16)return new o(2===e||5===e?[140,123]:[140,39]);var n,i;for(e=new o(e);;){for(n=new o(r(Math.ceil(t/8)));n.bitLength()>t;)n.ishrn(1);if(n.isEven()&&n.iadd(l),n.testn(1)||n.iadd(c),e.cmp(c)){if(!e.cmp(u))for(;n.mod(h).cmp(d);)n.iadd(p)}else for(;n.mod(a).cmp(f);)n.iadd(p);if(g(i=n.shrn(1))&&g(n)&&b(i)&&b(n)&&s.test(i)&&s.test(n))return n}}},function(t,e,S){!function(t){!function(t,e){"use strict";function m(t,e){if(!t)throw new Error(e||"Assertion failed")}function n(t,e){t.super_=e;function n(){}n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}function g(t,e,n){if(g.isBN(t))return t;this.negative=0,this.words=null,this.length=0,(this.red=null)!==t&&("le"!==e&&"be"!==e||(n=e,e=10),this._init(t||0,e||10,n||"be"))}var i;"object"==typeof t?t.exports=g:e.BN=g,(g.BN=g).wordSize=26;try{i=("undefined"!=typeof window&&void 0!==window.Buffer?window:S(527)).Buffer}catch(t){}function r(t,e){t=t.charCodeAt(e);return 65<=t&&t<=70?t-55:97<=t&&t<=102?t-87:t-48&15}function s(t,e,n){var i=r(t,n);return e<=n-1&&(i|=r(t,n-1)<<4),i}function h(t,e,n,i){for(var r=0,o=Math.min(t.length,n),a=e;a<o;a++)var s=t.charCodeAt(a)-48,r=r*i+(49<=s?s-49+10:17<=s?s-17+10:s);return r}g.isBN=function(t){return t instanceof g||null!==t&&"object"==typeof t&&t.constructor.wordSize===g.wordSize&&Array.isArray(t.words)},g.max=function(t,e){return 0<t.cmp(e)?t:e},g.min=function(t,e){return t.cmp(e)<0?t:e},g.prototype._init=function(t,e,n){if("number"==typeof t)return this._initNumber(t,e,n);if("object"==typeof t)return this._initArray(t,e,n);m((e="hex"===e?16:e)===(0|e)&&2<=e&&e<=36);var i=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<t.length&&(16===e?this._parseHex(t,i,n):(this._parseBase(t,e,i),"le"===n&&this._initArray(this.toArray(),e,n)))},g.prototype._initNumber=function(t,e,n){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(m(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),e,n)},g.prototype._initArray=function(t,e,n){if(m("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i,r,o=0;o<this.length;o++)this.words[o]=0;var a=0;if("be"===n)for(o=t.length-1,i=0;0<=o;o-=3)r=t[o]|t[o-1]<<8|t[o-2]<<16,this.words[i]|=r<<a&67108863,this.words[i+1]=r>>>26-a&67108863,26<=(a+=24)&&(a-=26,i++);else if("le"===n)for(i=o=0;o<t.length;o+=3)r=t[o]|t[o+1]<<8|t[o+2]<<16,this.words[i]|=r<<a&67108863,this.words[i+1]=r>>>26-a&67108863,26<=(a+=24)&&(a-=26,i++);return this.strip()},g.prototype._parseHex=function(t,e,n){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var r,o=0,a=0;if("be"===n)for(i=t.length-1;e<=i;i-=2)r=s(t,e,i)<<o,this.words[a]|=67108863&r,18<=o?(o-=18,this.words[a+=1]|=r>>>26):o+=8;else for(i=(t.length-e)%2==0?e+1:e;i<t.length;i+=2)r=s(t,e,i)<<o,this.words[a]|=67108863&r,18<=o?(o-=18,this.words[a+=1]|=r>>>26):o+=8;this.strip()},g.prototype._parseBase=function(t,e,n){this.words=[0];for(var i=0,r=this.length=1;r<=67108863;r*=e)i++;for(var r=r/e|0,o=t.length-n,a=o%--i,s=Math.min(o,o-a)+n,l=0,c=n;c<s;c+=i)l=h(t,c,c+i,e),this.imuln(r),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l);if(0!=a){for(var u=1,l=h(t,c,t.length,e),c=0;c<a;c++)u*=e;this.imuln(u),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l)}this.strip()},g.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},g.prototype.clone=function(){var t=new g(null);return this.copy(t),t},g.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},g.prototype.strip=function(){for(;1<this.length&&0===this.words[this.length-1];)this.length--;return this._normSign()},g.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},g.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var d=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],f=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function o(t,e,n){n.negative=e.negative^t.negative;var i=t.length+e.length|0,i=(n.length=i)-1|0,r=(a=(0|t.words[0])*(0|e.words[0]))/67108864|0;n.words[0]=67108863&a;for(var o=1;o<i;o++){for(var a,s=r>>>26,l=67108863&r,c=Math.min(o,e.length-1),u=Math.max(0,o-t.length+1);u<=c;u++)s+=(a=(0|t.words[o-u|0])*(0|e.words[u])+l)/67108864|0,l=67108863&a;n.words[o]=0|l,r=0|s}return 0!==r?n.words[o]=0|r:n.length--,n.strip()}g.prototype.toString=function(t,e){if(e=0|e||1,16===(t=t||10)||"hex"===t){s="";for(var n=0,i=0,r=0;r<this.length;r++){var o=this.words[r],a=(16777215&(o<<n|i)).toString(16),s=0!==(i=o>>>24-n&16777215)||r!==this.length-1?d[6-a.length]+a+s:a+s;26<=(n+=2)&&(n-=26,r--)}for(0!==i&&(s=i.toString(16)+s);s.length%e!=0;)s="0"+s;return s=0!==this.negative?"-"+s:s}if(t===(0|t)&&2<=t&&t<=36){var l=f[t],c=p[t];for(s="",(u=this.clone()).negative=0;!u.isZero();){var u,h=u.modn(c).toString(t);s=(u=u.idivn(c)).isZero()?h+s:d[l-h.length]+h+s}for(this.isZero()&&(s="0"+s);s.length%e!=0;)s="0"+s;return s=0!==this.negative?"-"+s:s}m(!1,"Base should be between 2 and 36")},g.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:2<this.length&&m(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},g.prototype.toJSON=function(){return this.toString(16)},g.prototype.toBuffer=function(t,e){return m(void 0!==i),this.toArrayLike(i,t,e)},g.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},g.prototype.toArrayLike=function(t,e,n){var i,r,o=this.byteLength(),a=n||Math.max(1,o),n=(m(o<=a,"byte array longer than desired length"),m(0<a,"Requested array length <= 0"),this.strip(),"le"===e),s=new t(a),l=this.clone();if(n){for(r=0;!l.isZero();r++)i=l.andln(255),l.iushrn(8),s[r]=i;for(;r<a;r++)s[r]=0}else{for(r=0;r<a-o;r++)s[r]=0;for(r=0;!l.isZero();r++)i=l.andln(255),l.iushrn(8),s[a-r-1]=i}return s},Math.clz32?g.prototype._countBits=function(t){return 32-Math.clz32(t)}:g.prototype._countBits=function(t){var e=0;return 4096<=t&&(e+=13,t>>>=13),64<=t&&(e+=7,t>>>=7),8<=t&&(e+=4,t>>>=4),2<=t&&(e+=2,t>>>=2),e+t},g.prototype._zeroBits=function(t){var e;return 0===t?26:((e=0)==(8191&(t=t))&&(e+=13,t>>>=13),0==(127&t)&&(e+=7,t>>>=7),0==(15&t)&&(e+=4,t>>>=4),0==(3&t)&&(e+=2,t>>>=2),0==(1&t)&&e++,e)},g.prototype.bitLength=function(){var t=this.words[this.length-1],t=this._countBits(t);return 26*(this.length-1)+t},g.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var n=this._zeroBits(this.words[e]);if(t+=n,26!==n)break}return t},g.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},g.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},g.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},g.prototype.isNeg=function(){return 0!==this.negative},g.prototype.neg=function(){return this.clone().ineg()},g.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},g.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this.strip()},g.prototype.ior=function(t){return m(0==(this.negative|t.negative)),this.iuor(t)},g.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},g.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},g.prototype.iuand=function(t){for(var e=this.length>t.length?t:this,n=0;n<e.length;n++)this.words[n]=this.words[n]&t.words[n];return this.length=e.length,this.strip()},g.prototype.iand=function(t){return m(0==(this.negative|t.negative)),this.iuand(t)},g.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},g.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},g.prototype.iuxor=function(t){for(var e,n=this.length>t.length?(e=this,t):(e=t,this),i=0;i<n.length;i++)this.words[i]=e.words[i]^n.words[i];if(this!==e)for(;i<e.length;i++)this.words[i]=e.words[i];return this.length=e.length,this.strip()},g.prototype.ixor=function(t){return m(0==(this.negative|t.negative)),this.iuxor(t)},g.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},g.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},g.prototype.inotn=function(t){m("number"==typeof t&&0<=t);var e=0|Math.ceil(t/26),t=t%26;this._expand(e),0<t&&e--;for(var n=0;n<e;n++)this.words[n]=67108863&~this.words[n];return 0<t&&(this.words[n]=~this.words[n]&67108863>>26-t),this.strip()},g.prototype.notn=function(t){return this.clone().inotn(t)},g.prototype.setn=function(t,e){m("number"==typeof t&&0<=t);var n=t/26|0,t=t%26;return this._expand(1+n),this.words[n]=e?this.words[n]|1<<t:this.words[n]&~(1<<t),this.strip()},g.prototype.iadd=function(t){var e,n;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();for(var i=this.length>t.length?(n=this,t):(n=t,this),r=0,o=0;o<i.length;o++)e=(0|n.words[o])+(0|i.words[o])+r,this.words[o]=67108863&e,r=e>>>26;for(;0!==r&&o<n.length;o++)e=(0|n.words[o])+r,this.words[o]=67108863&e,r=e>>>26;if(this.length=n.length,0!==r)this.words[this.length]=r,this.length++;else if(n!==this)for(;o<n.length;o++)this.words[o]=n.words[o];return this},g.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},g.prototype.isub=function(t){var e;if(0!==t.negative)return t.negative=0,e=this.iadd(t),t.negative=1,e._normSign();if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var n,i=this.cmp(t);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;for(var r=0<i?(n=this,t):(n=t,this),o=0,a=0;a<r.length;a++)o=(e=(0|n.words[a])-(0|r.words[a])+o)>>26,this.words[a]=67108863&e;for(;0!==o&&a<n.length;a++)o=(e=(0|n.words[a])+o)>>26,this.words[a]=67108863&e;if(0===o&&a<n.length&&n!==this)for(;a<n.length;a++)this.words[a]=n.words[a];return this.length=Math.max(this.length,a),n!==this&&(this.negative=1),this.strip()},g.prototype.sub=function(t){return this.clone().isub(t)};var a=function(t,D,B){var e,n=t.words,i=D.words,r=B.words,o=0|n[0],a=8191&o,o=o>>>13,s=0|n[1],l=8191&s,s=s>>>13,c=0|n[2],u=8191&c,c=c>>>13,h=0|n[3],d=8191&h,h=h>>>13,f=0|n[4],p=8191&f,f=f>>>13,m=0|n[5],g=8191&m,m=m>>>13,b=0|n[6],v=8191&b,b=b>>>13,y=0|n[7],w=8191&y,y=y>>>13,_=0|n[8],N=8191&_,_=_>>>13,n=0|n[9],F=8191&n,n=n>>>13,x=0|i[0],M=8191&x,x=x>>>13,S=0|i[1],k=8191&S,S=S>>>13,C=0|i[2],E=8191&C,C=C>>>13,P=0|i[3],$=8191&P,P=P>>>13,A=0|i[4],U=8191&A,A=A>>>13,T=0|i[5],z=8191&T,T=T>>>13,j=0|i[6],H=8191&j,j=j>>>13,L=0|i[7],q=8191&L,L=L>>>13,O=0|i[8],W=8191&O,O=O>>>13,i=0|i[9],V=8191&i,i=i>>>13,D=(B.negative=t.negative^D.negative,B.length=19,(0+Math.imul(a,M)|0)+((8191&(t=Math.imul(a,x)+Math.imul(o,M)|0))<<13)|0),R=(Math.imul(o,x)+(t>>>13)|0)+(D>>>26)|0;D&=67108863,e=Math.imul(l,M),t=Math.imul(l,x)+Math.imul(s,M)|0,I=Math.imul(s,x);var I,K=(R+(e+Math.imul(a,k)|0)|0)+((8191&(t=(t+Math.imul(a,S)|0)+Math.imul(o,k)|0))<<13)|0,Z=(R=((I+Math.imul(o,S)|0)+(t>>>13)|0)+(K>>>26)|0,K&=67108863,e=Math.imul(u,M),t=Math.imul(u,x)+Math.imul(c,M)|0,I=Math.imul(c,x),e=e+Math.imul(l,k)|0,t=(t+Math.imul(l,S)|0)+Math.imul(s,k)|0,I=I+Math.imul(s,S)|0,(R+(e+Math.imul(a,E)|0)|0)+((8191&(t=(t+Math.imul(a,C)|0)+Math.imul(o,E)|0))<<13)|0),G=(R=((I+Math.imul(o,C)|0)+(t>>>13)|0)+(Z>>>26)|0,Z&=67108863,e=Math.imul(d,M),t=Math.imul(d,x)+Math.imul(h,M)|0,I=Math.imul(h,x),e=e+Math.imul(u,k)|0,t=(t+Math.imul(u,S)|0)+Math.imul(c,k)|0,I=I+Math.imul(c,S)|0,e=e+Math.imul(l,E)|0,t=(t+Math.imul(l,C)|0)+Math.imul(s,E)|0,I=I+Math.imul(s,C)|0,(R+(e+Math.imul(a,$)|0)|0)+((8191&(t=(t+Math.imul(a,P)|0)+Math.imul(o,$)|0))<<13)|0),J=(R=((I+Math.imul(o,P)|0)+(t>>>13)|0)+(G>>>26)|0,G&=67108863,e=Math.imul(p,M),t=Math.imul(p,x)+Math.imul(f,M)|0,I=Math.imul(f,x),e=e+Math.imul(d,k)|0,t=(t+Math.imul(d,S)|0)+Math.imul(h,k)|0,I=I+Math.imul(h,S)|0,e=e+Math.imul(u,E)|0,t=(t+Math.imul(u,C)|0)+Math.imul(c,E)|0,I=I+Math.imul(c,C)|0,e=e+Math.imul(l,$)|0,t=(t+Math.imul(l,P)|0)+Math.imul(s,$)|0,I=I+Math.imul(s,P)|0,(R+(e+Math.imul(a,U)|0)|0)+((8191&(t=(t+Math.imul(a,A)|0)+Math.imul(o,U)|0))<<13)|0),Y=(R=((I+Math.imul(o,A)|0)+(t>>>13)|0)+(J>>>26)|0,J&=67108863,e=Math.imul(g,M),t=Math.imul(g,x)+Math.imul(m,M)|0,I=Math.imul(m,x),e=e+Math.imul(p,k)|0,t=(t+Math.imul(p,S)|0)+Math.imul(f,k)|0,I=I+Math.imul(f,S)|0,e=e+Math.imul(d,E)|0,t=(t+Math.imul(d,C)|0)+Math.imul(h,E)|0,I=I+Math.imul(h,C)|0,e=e+Math.imul(u,$)|0,t=(t+Math.imul(u,P)|0)+Math.imul(c,$)|0,I=I+Math.imul(c,P)|0,e=e+Math.imul(l,U)|0,t=(t+Math.imul(l,A)|0)+Math.imul(s,U)|0,I=I+Math.imul(s,A)|0,(R+(e+Math.imul(a,z)|0)|0)+((8191&(t=(t+Math.imul(a,T)|0)+Math.imul(o,z)|0))<<13)|0),X=(R=((I+Math.imul(o,T)|0)+(t>>>13)|0)+(Y>>>26)|0,Y&=67108863,e=Math.imul(v,M),t=Math.imul(v,x)+Math.imul(b,M)|0,I=Math.imul(b,x),e=e+Math.imul(g,k)|0,t=(t+Math.imul(g,S)|0)+Math.imul(m,k)|0,I=I+Math.imul(m,S)|0,e=e+Math.imul(p,E)|0,t=(t+Math.imul(p,C)|0)+Math.imul(f,E)|0,I=I+Math.imul(f,C)|0,e=e+Math.imul(d,$)|0,t=(t+Math.imul(d,P)|0)+Math.imul(h,$)|0,I=I+Math.imul(h,P)|0,e=e+Math.imul(u,U)|0,t=(t+Math.imul(u,A)|0)+Math.imul(c,U)|0,I=I+Math.imul(c,A)|0,e=e+Math.imul(l,z)|0,t=(t+Math.imul(l,T)|0)+Math.imul(s,z)|0,I=I+Math.imul(s,T)|0,(R+(e+Math.imul(a,H)|0)|0)+((8191&(t=(t+Math.imul(a,j)|0)+Math.imul(o,H)|0))<<13)|0),Q=(R=((I+Math.imul(o,j)|0)+(t>>>13)|0)+(X>>>26)|0,X&=67108863,e=Math.imul(w,M),t=Math.imul(w,x)+Math.imul(y,M)|0,I=Math.imul(y,x),e=e+Math.imul(v,k)|0,t=(t+Math.imul(v,S)|0)+Math.imul(b,k)|0,I=I+Math.imul(b,S)|0,e=e+Math.imul(g,E)|0,t=(t+Math.imul(g,C)|0)+Math.imul(m,E)|0,I=I+Math.imul(m,C)|0,e=e+Math.imul(p,$)|0,t=(t+Math.imul(p,P)|0)+Math.imul(f,$)|0,I=I+Math.imul(f,P)|0,e=e+Math.imul(d,U)|0,t=(t+Math.imul(d,A)|0)+Math.imul(h,U)|0,I=I+Math.imul(h,A)|0,e=e+Math.imul(u,z)|0,t=(t+Math.imul(u,T)|0)+Math.imul(c,z)|0,I=I+Math.imul(c,T)|0,e=e+Math.imul(l,H)|0,t=(t+Math.imul(l,j)|0)+Math.imul(s,H)|0,I=I+Math.imul(s,j)|0,(R+(e+Math.imul(a,q)|0)|0)+((8191&(t=(t+Math.imul(a,L)|0)+Math.imul(o,q)|0))<<13)|0),tt=(R=((I+Math.imul(o,L)|0)+(t>>>13)|0)+(Q>>>26)|0,Q&=67108863,e=Math.imul(N,M),t=Math.imul(N,x)+Math.imul(_,M)|0,I=Math.imul(_,x),e=e+Math.imul(w,k)|0,t=(t+Math.imul(w,S)|0)+Math.imul(y,k)|0,I=I+Math.imul(y,S)|0,e=e+Math.imul(v,E)|0,t=(t+Math.imul(v,C)|0)+Math.imul(b,E)|0,I=I+Math.imul(b,C)|0,e=e+Math.imul(g,$)|0,t=(t+Math.imul(g,P)|0)+Math.imul(m,$)|0,I=I+Math.imul(m,P)|0,e=e+Math.imul(p,U)|0,t=(t+Math.imul(p,A)|0)+Math.imul(f,U)|0,I=I+Math.imul(f,A)|0,e=e+Math.imul(d,z)|0,t=(t+Math.imul(d,T)|0)+Math.imul(h,z)|0,I=I+Math.imul(h,T)|0,e=e+Math.imul(u,H)|0,t=(t+Math.imul(u,j)|0)+Math.imul(c,H)|0,I=I+Math.imul(c,j)|0,e=e+Math.imul(l,q)|0,t=(t+Math.imul(l,L)|0)+Math.imul(s,q)|0,I=I+Math.imul(s,L)|0,(R+(e+Math.imul(a,W)|0)|0)+((8191&(t=(t+Math.imul(a,O)|0)+Math.imul(o,W)|0))<<13)|0),M=(R=((I+Math.imul(o,O)|0)+(t>>>13)|0)+(tt>>>26)|0,tt&=67108863,e=Math.imul(F,M),t=Math.imul(F,x)+Math.imul(n,M)|0,I=Math.imul(n,x),e=e+Math.imul(N,k)|0,t=(t+Math.imul(N,S)|0)+Math.imul(_,k)|0,I=I+Math.imul(_,S)|0,e=e+Math.imul(w,E)|0,t=(t+Math.imul(w,C)|0)+Math.imul(y,E)|0,I=I+Math.imul(y,C)|0,e=e+Math.imul(v,$)|0,t=(t+Math.imul(v,P)|0)+Math.imul(b,$)|0,I=I+Math.imul(b,P)|0,e=e+Math.imul(g,U)|0,t=(t+Math.imul(g,A)|0)+Math.imul(m,U)|0,I=I+Math.imul(m,A)|0,e=e+Math.imul(p,z)|0,t=(t+Math.imul(p,T)|0)+Math.imul(f,z)|0,I=I+Math.imul(f,T)|0,e=e+Math.imul(d,H)|0,t=(t+Math.imul(d,j)|0)+Math.imul(h,H)|0,I=I+Math.imul(h,j)|0,e=e+Math.imul(u,q)|0,t=(t+Math.imul(u,L)|0)+Math.imul(c,q)|0,I=I+Math.imul(c,L)|0,e=e+Math.imul(l,W)|0,t=(t+Math.imul(l,O)|0)+Math.imul(s,W)|0,I=I+Math.imul(s,O)|0,(R+(e+Math.imul(a,V)|0)|0)+((8191&(t=(t+Math.imul(a,i)|0)+Math.imul(o,V)|0))<<13)|0),x=(R=((I+Math.imul(o,i)|0)+(t>>>13)|0)+(M>>>26)|0,M&=67108863,e=Math.imul(F,k),t=Math.imul(F,S)+Math.imul(n,k)|0,I=Math.imul(n,S),e=e+Math.imul(N,E)|0,t=(t+Math.imul(N,C)|0)+Math.imul(_,E)|0,I=I+Math.imul(_,C)|0,e=e+Math.imul(w,$)|0,t=(t+Math.imul(w,P)|0)+Math.imul(y,$)|0,I=I+Math.imul(y,P)|0,e=e+Math.imul(v,U)|0,t=(t+Math.imul(v,A)|0)+Math.imul(b,U)|0,I=I+Math.imul(b,A)|0,e=e+Math.imul(g,z)|0,t=(t+Math.imul(g,T)|0)+Math.imul(m,z)|0,I=I+Math.imul(m,T)|0,e=e+Math.imul(p,H)|0,t=(t+Math.imul(p,j)|0)+Math.imul(f,H)|0,I=I+Math.imul(f,j)|0,e=e+Math.imul(d,q)|0,t=(t+Math.imul(d,L)|0)+Math.imul(h,q)|0,I=I+Math.imul(h,L)|0,e=e+Math.imul(u,W)|0,t=(t+Math.imul(u,O)|0)+Math.imul(c,W)|0,I=I+Math.imul(c,O)|0,(R+(e+Math.imul(l,V)|0)|0)+((8191&(t=(t+Math.imul(l,i)|0)+Math.imul(s,V)|0))<<13)|0),a=(R=((I+Math.imul(s,i)|0)+(t>>>13)|0)+(x>>>26)|0,x&=67108863,e=Math.imul(F,E),t=Math.imul(F,C)+Math.imul(n,E)|0,I=Math.imul(n,C),e=e+Math.imul(N,$)|0,t=(t+Math.imul(N,P)|0)+Math.imul(_,$)|0,I=I+Math.imul(_,P)|0,e=e+Math.imul(w,U)|0,t=(t+Math.imul(w,A)|0)+Math.imul(y,U)|0,I=I+Math.imul(y,A)|0,e=e+Math.imul(v,z)|0,t=(t+Math.imul(v,T)|0)+Math.imul(b,z)|0,I=I+Math.imul(b,T)|0,e=e+Math.imul(g,H)|0,t=(t+Math.imul(g,j)|0)+Math.imul(m,H)|0,I=I+Math.imul(m,j)|0,e=e+Math.imul(p,q)|0,t=(t+Math.imul(p,L)|0)+Math.imul(f,q)|0,I=I+Math.imul(f,L)|0,e=e+Math.imul(d,W)|0,t=(t+Math.imul(d,O)|0)+Math.imul(h,W)|0,I=I+Math.imul(h,O)|0,(R+(e+Math.imul(u,V)|0)|0)+((8191&(t=(t+Math.imul(u,i)|0)+Math.imul(c,V)|0))<<13)|0),o=(R=((I+Math.imul(c,i)|0)+(t>>>13)|0)+(a>>>26)|0,a&=67108863,e=Math.imul(F,$),t=Math.imul(F,P)+Math.imul(n,$)|0,I=Math.imul(n,P),e=e+Math.imul(N,U)|0,t=(t+Math.imul(N,A)|0)+Math.imul(_,U)|0,I=I+Math.imul(_,A)|0,e=e+Math.imul(w,z)|0,t=(t+Math.imul(w,T)|0)+Math.imul(y,z)|0,I=I+Math.imul(y,T)|0,e=e+Math.imul(v,H)|0,t=(t+Math.imul(v,j)|0)+Math.imul(b,H)|0,I=I+Math.imul(b,j)|0,e=e+Math.imul(g,q)|0,t=(t+Math.imul(g,L)|0)+Math.imul(m,q)|0,I=I+Math.imul(m,L)|0,e=e+Math.imul(p,W)|0,t=(t+Math.imul(p,O)|0)+Math.imul(f,W)|0,I=I+Math.imul(f,O)|0,(R+(e+Math.imul(d,V)|0)|0)+((8191&(t=(t+Math.imul(d,i)|0)+Math.imul(h,V)|0))<<13)|0),k=(R=((I+Math.imul(h,i)|0)+(t>>>13)|0)+(o>>>26)|0,o&=67108863,e=Math.imul(F,U),t=Math.imul(F,A)+Math.imul(n,U)|0,I=Math.imul(n,A),e=e+Math.imul(N,z)|0,t=(t+Math.imul(N,T)|0)+Math.imul(_,z)|0,I=I+Math.imul(_,T)|0,e=e+Math.imul(w,H)|0,t=(t+Math.imul(w,j)|0)+Math.imul(y,H)|0,I=I+Math.imul(y,j)|0,e=e+Math.imul(v,q)|0,t=(t+Math.imul(v,L)|0)+Math.imul(b,q)|0,I=I+Math.imul(b,L)|0,e=e+Math.imul(g,W)|0,t=(t+Math.imul(g,O)|0)+Math.imul(m,W)|0,I=I+Math.imul(m,O)|0,(R+(e+Math.imul(p,V)|0)|0)+((8191&(t=(t+Math.imul(p,i)|0)+Math.imul(f,V)|0))<<13)|0),S=(R=((I+Math.imul(f,i)|0)+(t>>>13)|0)+(k>>>26)|0,k&=67108863,e=Math.imul(F,z),t=Math.imul(F,T)+Math.imul(n,z)|0,I=Math.imul(n,T),e=e+Math.imul(N,H)|0,t=(t+Math.imul(N,j)|0)+Math.imul(_,H)|0,I=I+Math.imul(_,j)|0,e=e+Math.imul(w,q)|0,t=(t+Math.imul(w,L)|0)+Math.imul(y,q)|0,I=I+Math.imul(y,L)|0,e=e+Math.imul(v,W)|0,t=(t+Math.imul(v,O)|0)+Math.imul(b,W)|0,I=I+Math.imul(b,O)|0,(R+(e+Math.imul(g,V)|0)|0)+((8191&(t=(t+Math.imul(g,i)|0)+Math.imul(m,V)|0))<<13)|0),l=(R=((I+Math.imul(m,i)|0)+(t>>>13)|0)+(S>>>26)|0,S&=67108863,e=Math.imul(F,H),t=Math.imul(F,j)+Math.imul(n,H)|0,I=Math.imul(n,j),e=e+Math.imul(N,q)|0,t=(t+Math.imul(N,L)|0)+Math.imul(_,q)|0,I=I+Math.imul(_,L)|0,e=e+Math.imul(w,W)|0,t=(t+Math.imul(w,O)|0)+Math.imul(y,W)|0,I=I+Math.imul(y,O)|0,(R+(e+Math.imul(v,V)|0)|0)+((8191&(t=(t+Math.imul(v,i)|0)+Math.imul(b,V)|0))<<13)|0),s=(R=((I+Math.imul(b,i)|0)+(t>>>13)|0)+(l>>>26)|0,l&=67108863,e=Math.imul(F,q),t=Math.imul(F,L)+Math.imul(n,q)|0,I=Math.imul(n,L),e=e+Math.imul(N,W)|0,t=(t+Math.imul(N,O)|0)+Math.imul(_,W)|0,I=I+Math.imul(_,O)|0,(R+(e+Math.imul(w,V)|0)|0)+((8191&(t=(t+Math.imul(w,i)|0)+Math.imul(y,V)|0))<<13)|0),E=(R=((I+Math.imul(y,i)|0)+(t>>>13)|0)+(s>>>26)|0,s&=67108863,e=Math.imul(F,W),t=Math.imul(F,O)+Math.imul(n,W)|0,I=Math.imul(n,O),(R+(e+Math.imul(N,V)|0)|0)+((8191&(t=(t+Math.imul(N,i)|0)+Math.imul(_,V)|0))<<13)|0),C=(R=((I+Math.imul(_,i)|0)+(t>>>13)|0)+(E>>>26)|0,E&=67108863,(R+Math.imul(F,V)|0)+((8191&(t=Math.imul(F,i)+Math.imul(n,V)|0))<<13)|0);return R=(Math.imul(n,i)+(t>>>13)|0)+(C>>>26)|0,C&=67108863,r[0]=D,r[1]=K,r[2]=Z,r[3]=G,r[4]=J,r[5]=Y,r[6]=X,r[7]=Q,r[8]=tt,r[9]=M,r[10]=x,r[11]=a,r[12]=o,r[13]=k,r[14]=S,r[15]=l,r[16]=s,r[17]=E,r[18]=C,0!=R&&(r[19]=R,B.length++),B};function l(t,e,n){return(new c).mulp(t,e,n)}function c(t,e){this.x=t,this.y=e}Math.imul||(a=o),g.prototype.mulTo=function(t,e){var n=this.length+t.length,n=(10===this.length&&10===t.length?a:n<63?o:n<1024?function(t,e,n){n.negative=e.negative^t.negative,n.length=t.length+e.length;for(var i=0,r=0,o=0;o<n.length-1;o++){for(var a=r,r=0,s=67108863&i,l=Math.min(o,e.length-1),c=Math.max(0,o-t.length+1);c<=l;c++){var u,h=(0|t.words[o-c])*(0|e.words[c]),s=67108863&(u=(67108863&h)+s|0);r+=(a=(a=a+(h/67108864|0)|0)+(u>>>26)|0)>>>26,a&=67108863}n.words[o]=s,i=a,a=r}return 0!==i?n.words[o]=i:n.length--,n.strip()}:l)(this,t,e);return n},c.prototype.makeRBT=function(t){for(var e=new Array(t),n=g.prototype._countBits(t)-1,i=0;i<t;i++)e[i]=this.revBin(i,n,t);return e},c.prototype.revBin=function(t,e,n){if(0===t||t===n-1)return t;for(var i=0,r=0;r<e;r++)i|=(1&t)<<e-r-1,t>>=1;return i},c.prototype.permute=function(t,e,n,i,r,o){for(var a=0;a<o;a++)i[a]=e[t[a]],r[a]=n[t[a]]},c.prototype.transform=function(t,e,n,i,r,o){this.permute(o,t,e,n,i,r);for(var a=1;a<r;a<<=1)for(var s=a<<1,l=Math.cos(2*Math.PI/s),c=Math.sin(2*Math.PI/s),u=0;u<r;u+=s)for(var h=l,d=c,f=0;f<a;f++){var p=n[u+f],m=i[u+f],g=n[u+f+a],b=h*g-d*(v=i[u+f+a]),v=h*v+d*g;n[u+f]=p+(g=b),i[u+f]=m+v,n[u+f+a]=p-g,i[u+f+a]=m-v,f!==s&&(b=l*h-c*d,d=l*d+c*h,h=b)}},c.prototype.guessLen13b=function(t,e){for(var e=1&(i=1|Math.max(e,t)),n=0,i=i/2|0;i;i>>>=1)n++;return 1<<n+1+e},c.prototype.conjugate=function(t,e,n){if(!(n<=1))for(var i=0;i<n/2;i++){var r=t[i];t[i]=t[n-i-1],t[n-i-1]=r,r=e[i],e[i]=-e[n-i-1],e[n-i-1]=-r}},c.prototype.normalize13b=function(t,e){for(var n=0,i=0;i<e/2;i++){var r=8192*Math.round(t[2*i+1]/e)+Math.round(t[2*i]/e)+n;t[i]=67108863&r,n=r<67108864?0:r/67108864|0}return t},c.prototype.convert13b=function(t,e,n,i){for(var r=0,o=0;o<e;o++)r+=0|t[o],n[2*o]=8191&r,n[2*o+1]=8191&(r>>>=13),r>>>=13;for(o=2*e;o<i;++o)n[o]=0;m(0===r),m(0==(-8192&r))},c.prototype.stub=function(t){for(var e=new Array(t),n=0;n<t;n++)e[n]=0;return e},c.prototype.mulp=function(t,e,n){var i=2*this.guessLen13b(t.length,e.length),r=this.makeRBT(i),o=this.stub(i),a=new Array(i),s=new Array(i),l=new Array(i),c=new Array(i),u=new Array(i),h=new Array(i),d=n.words;d.length=i,this.convert13b(t.words,t.length,a,i),this.convert13b(e.words,e.length,c,i),this.transform(a,o,s,l,i,r),this.transform(c,o,u,h,i,r);for(var f=0;f<i;f++){var p=s[f]*u[f]-l[f]*h[f];l[f]=s[f]*h[f]+l[f]*u[f],s[f]=p}return this.conjugate(s,l,i),this.transform(s,l,d,o,i,r),this.conjugate(d,o,i),this.normalize13b(d,i),n.negative=t.negative^e.negative,n.length=t.length+e.length,n.strip()},g.prototype.mul=function(t){var e=new g(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},g.prototype.mulf=function(t){var e=new g(null);return e.words=new Array(this.length+t.length),l(this,t,e)},g.prototype.imul=function(t){return this.clone().mulTo(t,this)},g.prototype.imuln=function(t){m("number"==typeof t),m(t<67108864);for(var e=0,n=0;n<this.length;n++){var i=(0|this.words[n])*t,r=(67108863&i)+(67108863&e),e=(e>>=26)+(i/67108864|0)+(r>>>26);this.words[n]=67108863&r}return 0!==e&&(this.words[n]=e,this.length++),this},g.prototype.muln=function(t){return this.clone().imuln(t)},g.prototype.sqr=function(){return this.mul(this)},g.prototype.isqr=function(){return this.imul(this.clone())},g.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),n=0;n<e.length;n++){var i=n%26;e[n]=(t.words[n/26|0]&1<<i)>>>i}return e}(t);if(0===e.length)return new g(1);for(var n=this,i=0;i<e.length&&0===e[i];i++,n=n.sqr());if(++i<e.length)for(var r=n.sqr();i<e.length;i++,r=r.sqr())0!==e[i]&&(n=n.mul(r));return n},g.prototype.iushln=function(t){m("number"==typeof t&&0<=t);var e=t%26,n=(t-e)/26,i=67108863>>>26-e<<26-e;if(0!=e){for(var r=0,o=0;o<this.length;o++){var a=this.words[o]&i,s=(0|this.words[o])-a<<e;this.words[o]=s|r,r=a>>>26-e}r&&(this.words[o]=r,this.length++)}if(0!=n){for(o=this.length-1;0<=o;o--)this.words[o+n]=this.words[o];for(o=0;o<n;o++)this.words[o]=0;this.length+=n}return this.strip()},g.prototype.ishln=function(t){return m(0===this.negative),this.iushln(t)},g.prototype.iushrn=function(t,e,n){m("number"==typeof t&&0<=t),i=e?(e-e%26)/26:0;var i,r=t%26,o=Math.min((t-r)/26,this.length),a=67108863^67108863>>>r<<r,s=n;if(i-=o,i=Math.max(0,i),s){for(var l=0;l<o;l++)s.words[l]=this.words[l];s.length=o}if(0!==o)if(this.length>o)for(this.length-=o,l=0;l<this.length;l++)this.words[l]=this.words[l+o];else this.words[0]=0,this.length=1;for(var c=0,l=this.length-1;0<=l&&(0!==c||i<=l);l--){var u=0|this.words[l];this.words[l]=c<<26-r|u>>>r,c=u&a}return s&&0!==c&&(s.words[s.length++]=c),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},g.prototype.ishrn=function(t,e,n){return m(0===this.negative),this.iushrn(t,e,n)},g.prototype.shln=function(t){return this.clone().ishln(t)},g.prototype.ushln=function(t){return this.clone().iushln(t)},g.prototype.shrn=function(t){return this.clone().ishrn(t)},g.prototype.ushrn=function(t){return this.clone().iushrn(t)},g.prototype.testn=function(t){m("number"==typeof t&&0<=t);var e=t%26,t=(t-e)/26;return!(this.length<=t||!(this.words[t]&1<<e))},g.prototype.imaskn=function(t){m("number"==typeof t&&0<=t);var e=t%26,t=(t-e)/26;return m(0===this.negative,"imaskn works only with positive numbers"),this.length<=t?this:(0!=e&&t++,this.length=Math.min(t,this.length),0!=e&&(this.words[this.length-1]&=67108863^67108863>>>e<<e),this.strip())},g.prototype.maskn=function(t){return this.clone().imaskn(t)},g.prototype.iaddn=function(t){return m("number"==typeof t),m(t<67108864),t<0?this.isubn(-t):0!==this.negative?(1===this.length&&(0|this.words[0])<t?(this.words[0]=t-(0|this.words[0]),this.negative=0):(this.negative=0,this.isubn(t),this.negative=1),this):this._iaddn(t)},g.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&67108864<=this.words[e];e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},g.prototype.isubn=function(t){if(m("number"==typeof t),m(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,--this.words[e+1];return this.strip()},g.prototype.addn=function(t){return this.clone().iaddn(t)},g.prototype.subn=function(t){return this.clone().isubn(t)},g.prototype.iabs=function(){return this.negative=0,this},g.prototype.abs=function(){return this.clone().iabs()},g.prototype._ishlnsubmul=function(t,e,n){for(var i=t.length+n,r=(this._expand(i),0),o=0;o<t.length;o++){var a=(0|this.words[o+n])+r,s=(0|t.words[o])*e,r=((a-=67108863&s)>>26)-(s/67108864|0);this.words[o+n]=67108863&a}for(;o<this.length-n;o++)r=(a=(0|this.words[o+n])+r)>>26,this.words[o+n]=67108863&a;if(0!==r){for(m(-1===r),o=r=0;o<this.length;o++)r=(a=-(0|this.words[o])+r)>>26,this.words[o]=67108863&a;this.negative=1}return this.strip()},g.prototype._wordDiv=function(t,e){this.length,t.length;var n,i=this.clone(),r=t,o=0|r.words[r.length-1],a=(0!=(t=26-this._countBits(o))&&(r=r.ushln(t),i.iushln(t),o=0|r.words[r.length-1]),i.length-r.length);if("mod"!==e){(n=new g(null)).length=1+a,n.words=new Array(n.length);for(var s=0;s<n.length;s++)n.words[s]=0}var l=i.clone()._ishlnsubmul(r,1,a);0===l.negative&&(i=l,n)&&(n.words[a]=1);for(var c=a-1;0<=c;c--){var u=67108864*(0|i.words[r.length+c])+(0|i.words[r.length+c-1]),u=Math.min(u/o|0,67108863);for(i._ishlnsubmul(r,u,c);0!==i.negative;)u--,i.negative=0,i._ishlnsubmul(r,1,c),i.isZero()||(i.negative^=1);n&&(n.words[c]=u)}return n&&n.strip(),i.strip(),"div"!==e&&0!=t&&i.iushrn(t),{div:n||null,mod:i}},g.prototype.divmod=function(t,e,n){var i,r,o;return m(!t.isZero()),this.isZero()?{div:new g(0),mod:new g(0)}:0!==this.negative&&0===t.negative?(o=this.neg().divmod(t,e),"mod"!==e&&(i=o.div.neg()),"div"!==e&&(r=o.mod.neg(),n)&&0!==r.negative&&r.iadd(t),{div:i,mod:r}):0===this.negative&&0!==t.negative?(o=this.divmod(t.neg(),e),{div:i="mod"!==e?o.div.neg():i,mod:o.mod}):0!=(this.negative&t.negative)?(o=this.neg().divmod(t.neg(),e),"div"!==e&&(r=o.mod.neg(),n)&&0!==r.negative&&r.isub(t),{div:o.div,mod:r}):t.length>this.length||this.cmp(t)<0?{div:new g(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new g(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new g(this.modn(t.words[0]))}:this._wordDiv(t,e)},g.prototype.div=function(t){return this.divmod(t,"div",!1).div},g.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},g.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},g.prototype.divRound=function(t){var e,n,i=this.divmod(t);return i.mod.isZero()||(n=0!==i.div.negative?i.mod.isub(t):i.mod,e=t.ushrn(1),t=t.andln(1),(n=n.cmp(e))<0)||1===t&&0===n?i.div:0!==i.div.negative?i.div.isubn(1):i.div.iaddn(1)},g.prototype.modn=function(t){m(t<=67108863);for(var e=(1<<26)%t,n=0,i=this.length-1;0<=i;i--)n=(e*n+(0|this.words[i]))%t;return n},g.prototype.idivn=function(t){m(t<=67108863);for(var e=0,n=this.length-1;0<=n;n--){var i=(0|this.words[n])+67108864*e;this.words[n]=i/t|0,e=i%t}return this.strip()},g.prototype.divn=function(t){return this.clone().idivn(t)},g.prototype.egcd=function(t){m(0===t.negative),m(!t.isZero());for(var e=this,n=t.clone(),e=0!==e.negative?e.umod(t):e.clone(),i=new g(1),r=new g(0),o=new g(0),a=new g(1),s=0;e.isEven()&&n.isEven();)e.iushrn(1),n.iushrn(1),++s;for(var l=n.clone(),c=e.clone();!e.isZero();){for(var u=0,h=1;0==(e.words[0]&h)&&u<26;++u,h<<=1);if(0<u)for(e.iushrn(u);0<u--;)(i.isOdd()||r.isOdd())&&(i.iadd(l),r.isub(c)),i.iushrn(1),r.iushrn(1);for(var d=0,f=1;0==(n.words[0]&f)&&d<26;++d,f<<=1);if(0<d)for(n.iushrn(d);0<d--;)(o.isOdd()||a.isOdd())&&(o.iadd(l),a.isub(c)),o.iushrn(1),a.iushrn(1);0<=e.cmp(n)?(e.isub(n),i.isub(o),r.isub(a)):(n.isub(e),o.isub(i),a.isub(r))}return{a:o,b:a,gcd:n.iushln(s)}},g.prototype._invmp=function(t){m(0===t.negative),m(!t.isZero());for(var e,n=this,i=t.clone(),n=0!==n.negative?n.umod(t):n.clone(),r=new g(1),o=new g(0),a=i.clone();0<n.cmpn(1)&&0<i.cmpn(1);){for(var s=0,l=1;0==(n.words[0]&l)&&s<26;++s,l<<=1);if(0<s)for(n.iushrn(s);0<s--;)r.isOdd()&&r.iadd(a),r.iushrn(1);for(var c=0,u=1;0==(i.words[0]&u)&&c<26;++c,u<<=1);if(0<c)for(i.iushrn(c);0<c--;)o.isOdd()&&o.iadd(a),o.iushrn(1);0<=n.cmp(i)?(n.isub(i),r.isub(o)):(i.isub(n),o.isub(r))}return(e=0===n.cmpn(1)?r:o).cmpn(0)<0&&e.iadd(t),e},g.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),n=t.clone();e.negative=0;for(var i=n.negative=0;e.isEven()&&n.isEven();i++)e.iushrn(1),n.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;n.isEven();)n.iushrn(1);var r=e.cmp(n);if(r<0)var o=e,e=n,n=o;else if(0===r||0===n.cmpn(1))break;e.isub(n)}return n.iushln(i)},g.prototype.invm=function(t){return this.egcd(t).a.umod(t)},g.prototype.isEven=function(){return 0==(1&this.words[0])},g.prototype.isOdd=function(){return 1==(1&this.words[0])},g.prototype.andln=function(t){return this.words[0]&t},g.prototype.bincn=function(t){m("number"==typeof t);var e=t%26,t=(t-e)/26,e=1<<e;if(this.length<=t)this._expand(1+t),this.words[t]|=e;else{for(var n=e,i=t;0!==n&&i<this.length;i++){var r=0|this.words[i],n=(r+=n)>>>26;r&=67108863,this.words[i]=r}0!==n&&(this.words[i]=n,this.length++)}return this},g.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},g.prototype.cmpn=function(t){var e=t<0;return 0===this.negative||e?0===this.negative&&e?1:(this.strip(),e=1<this.length?1:(m((t=e?-t:t)<=67108863,"Number is too big"),(e=0|this.words[0])===t?0:e<t?-1:1),0!==this.negative?0|-e:e):-1},g.prototype.cmp=function(t){return 0!==this.negative&&0===t.negative?-1:0===this.negative&&0!==t.negative?1:(t=this.ucmp(t),0!==this.negative?0|-t:t)},g.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,n=this.length-1;0<=n;n--){var i=0|this.words[n],r=0|t.words[n];if(i!=r){i<r?e=-1:r<i&&(e=1);break}}return e},g.prototype.gtn=function(t){return 1===this.cmpn(t)},g.prototype.gt=function(t){return 1===this.cmp(t)},g.prototype.gten=function(t){return 0<=this.cmpn(t)},g.prototype.gte=function(t){return 0<=this.cmp(t)},g.prototype.ltn=function(t){return-1===this.cmpn(t)},g.prototype.lt=function(t){return-1===this.cmp(t)},g.prototype.lten=function(t){return this.cmpn(t)<=0},g.prototype.lte=function(t){return this.cmp(t)<=0},g.prototype.eqn=function(t){return 0===this.cmpn(t)},g.prototype.eq=function(t){return 0===this.cmp(t)},g.red=function(t){return new x(t)},g.prototype.toRed=function(t){return m(!this.red,"Already a number in reduction context"),m(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},g.prototype.fromRed=function(){return m(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},g.prototype._forceRed=function(t){return this.red=t,this},g.prototype.forceRed=function(t){return m(!this.red,"Already a number in reduction context"),this._forceRed(t)},g.prototype.redAdd=function(t){return m(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},g.prototype.redIAdd=function(t){return m(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},g.prototype.redSub=function(t){return m(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},g.prototype.redISub=function(t){return m(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},g.prototype.redShl=function(t){return m(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},g.prototype.redMul=function(t){return m(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},g.prototype.redIMul=function(t){return m(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},g.prototype.redSqr=function(){return m(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},g.prototype.redISqr=function(){return m(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},g.prototype.redSqrt=function(){return m(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},g.prototype.redInvm=function(){return m(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},g.prototype.redNeg=function(){return m(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},g.prototype.redPow=function(t){return m(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var u={k256:null,p224:null,p192:null,p25519:null};function b(t,e){this.name=t,this.p=new g(e,16),this.n=this.p.bitLength(),this.k=new g(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function v(){b.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function y(){b.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function w(){b.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function _(){b.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function x(t){var e;"string"==typeof t?(e=g._prime(t),this.m=e.p,this.prime=e):(m(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null)}function M(t){x.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new g(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}b.prototype._tmp=function(){var t=new g(null);return t.words=new Array(Math.ceil(this.n/13)),t},b.prototype.ireduce=function(t){for(var e,n=t;this.split(n,this.tmp),(e=(n=(n=this.imulK(n)).iadd(this.tmp)).bitLength())>this.n;);t=e<this.n?-1:n.ucmp(this.p);return 0===t?(n.words[0]=0,n.length=1):0<t?n.isub(this.p):void 0!==n.strip?n.strip():n._strip(),n},b.prototype.split=function(t,e){t.iushrn(this.n,0,e)},b.prototype.imulK=function(t){return t.imul(this.k)},n(v,b),v.prototype.split=function(t,e){for(var n=Math.min(t.length,9),i=0;i<n;i++)e.words[i]=t.words[i];if(e.length=n,t.length<=9)t.words[0]=0,t.length=1;else{var r=t.words[9];for(e.words[e.length++]=4194303&r,i=10;i<t.length;i++){var o=0|t.words[i];t.words[i-10]=(4194303&o)<<4|r>>>22,r=o}0===(t.words[i-10]=r>>>=22)&&10<t.length?t.length-=10:t.length-=9}},v.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,n=0;n<t.length;n++){var i=0|t.words[n];e+=977*i,t.words[n]=67108863&e,e=64*i+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1])&&t.length--,t},n(y,b),n(w,b),n(_,b),_.prototype.imulK=function(t){for(var e=0,n=0;n<t.length;n++){var i=19*(0|t.words[n])+e,r=67108863&i;i>>>=26,t.words[n]=r,e=i}return 0!==e&&(t.words[t.length++]=e),t},g._prime=function(t){if(u[t])return u[t];var e;if("k256"===t)e=new v;else if("p224"===t)e=new y;else if("p192"===t)e=new w;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new _}return u[t]=e},x.prototype._verify1=function(t){m(0===t.negative,"red works only with positives"),m(t.red,"red works only with red numbers")},x.prototype._verify2=function(t,e){m(0==(t.negative|e.negative),"red works only with positives"),m(t.red&&t.red===e.red,"red works only with red numbers")},x.prototype.imod=function(t){return(this.prime?this.prime.ireduce(t):t.umod(this.m))._forceRed(this)},x.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},x.prototype.add=function(t,e){this._verify2(t,e);t=t.add(e);return 0<=t.cmp(this.m)&&t.isub(this.m),t._forceRed(this)},x.prototype.iadd=function(t,e){this._verify2(t,e);t=t.iadd(e);return 0<=t.cmp(this.m)&&t.isub(this.m),t},x.prototype.sub=function(t,e){this._verify2(t,e);t=t.sub(e);return t.cmpn(0)<0&&t.iadd(this.m),t._forceRed(this)},x.prototype.isub=function(t,e){this._verify2(t,e);t=t.isub(e);return t.cmpn(0)<0&&t.iadd(this.m),t},x.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},x.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},x.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},x.prototype.isqr=function(t){return this.imul(t,t.clone())},x.prototype.sqr=function(t){return this.mul(t,t)},x.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(m(e%2==1),3===e)return e=this.m.add(new g(1)).iushrn(2),this.pow(t,e);for(var n=this.m.subn(1),i=0;!n.isZero()&&0===n.andln(1);)i++,n.iushrn(1);m(!n.isZero());for(var r=new g(1).toRed(this),o=r.redNeg(),a=this.m.subn(1).iushrn(1),s=new g(2*(s=this.m.bitLength())*s).toRed(this);0!==this.pow(s,a).cmp(o);)s.redIAdd(o);for(var l=this.pow(s,n),c=this.pow(t,n.addn(1).iushrn(1)),u=this.pow(t,n),h=i;0!==u.cmp(r);){for(var d=u,f=0;0!==d.cmp(r);f++)d=d.redSqr();m(f<h);var p=this.pow(l,new g(1).iushln(h-f-1)),c=c.redMul(p),l=p.redSqr(),u=u.redMul(l),h=f}return c},x.prototype.invm=function(t){t=t._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},x.prototype.pow=function(t,e){if(e.isZero())return new g(1).toRed(this);if(0===e.cmpn(1))return t.clone();var n=new Array(16);n[0]=new g(1).toRed(this),n[1]=t;for(var i=2;i<n.length;i++)n[i]=this.mul(n[i-1],t);var r=n[0],o=0,a=0,s=e.bitLength()%26;for(0===s&&(s=26),i=e.length-1;0<=i;i--){for(var l=e.words[i],c=s-1;0<=c;c--){var u=l>>c&1;r!==n[0]&&(r=this.sqr(r)),0==u&&0===o?a=0:(o=o<<1|u,(4===++a||0===i&&0===c)&&(r=this.mul(r,n[o]),o=a=0))}s=26}return r},x.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},x.prototype.convertFrom=function(t){t=t.clone();return t.red=null,t},g.mont=function(t){return new M(t)},n(M,x),M.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},M.prototype.convertFrom=function(t){t=this.imod(t.mul(this.rinv));return t.red=null,t},M.prototype.imul=function(t,e){return t.isZero()||e.isZero()?(t.words[0]=0,t.length=1,t):(e=(t=t.imul(e)).maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),0<=(e=t=t.isub(e).iushrn(this.shift)).cmp(this.m)?e=t.isub(this.m):t.cmpn(0)<0&&(e=t.iadd(this.m)),e._forceRed(this))},M.prototype.mul=function(t,e){return(t.isZero()||e.isZero()?new g(0):(e=(t=t.mul(e)).maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),0<=(e=t=t.isub(e).iushrn(this.shift)).cmp(this.m)?e=t.isub(this.m):t.cmpn(0)<0&&(e=t.iadd(this.m)),e))._forceRed(this)},M.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t,this)}.call(this,S(146)(t))},function(t,e,n){var f=n(528),i=n(396);function r(t){this.rand=t||new i.Rand}(t.exports=r).create=function(t){return new r(t)},r.prototype._randbelow=function(t){var e=t.bitLength(),n=Math.ceil(e/8);do{var i=new f(this.rand.generate(n))}while(0<=i.cmp(t));return i},r.prototype._randrange=function(t,e){e=e.sub(t);return t.add(this._randbelow(e))},r.prototype.test=function(t,e,n){for(var i=t.bitLength(),r=f.mont(t),o=new f(1).toRed(r),a=(e=e||Math.max(1,i/48|0),t.subn(1)),s=0;!a.testn(s);s++);for(var l=t.shrn(s),c=a.toRed(r);0<e;e--){var u=this._randrange(new f(2),a),h=(n&&n(u),u.toRed(r).redPow(l));if(0!==h.cmp(o)&&0!==h.cmp(c)){for(var d=1;d<s;d++){if(0===(h=h.redSqr()).cmp(o))return!1;if(0===h.cmp(c))break}if(d===s)return!1}}return!0},r.prototype.getDivisor=function(t,e){for(var n=t.bitLength(),i=f.mont(t),r=new f(1).toRed(i),o=(e=e||Math.max(1,n/48|0),t.subn(1)),a=0;!o.testn(a);a++);for(var s=t.shrn(a),l=o.toRed(i);0<e;e--){var c=this._randrange(new f(2),o),u=t.gcd(c);if(0!==u.cmpn(1))return u;var h=c.toRed(i).redPow(s);if(0!==h.cmp(r)&&0!==h.cmp(l)){for(var d=1;d<a;d++){if(0===(h=h.redSqr()).cmp(r))return h.fromRed().subn(1).gcd(t);if(0===h.cmp(l))break}if(d===a)return(h=h.redSqr()).fromRed().subn(1).gcd(t)}}return!1}},function(N,t,F){"use strict";!function(t,p){function m(t,e){return t.listeners(e).length}(N.exports=_).ReadableState=w,F(147).EventEmitter;var i,r=F(454),u=F(48).Buffer,h=(void 0!==t?t:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){};var o,e,n,t=F(535),g=t&&t.debuglog?t.debuglog("stream"):function(){},a=F(536),t=F(455),s=F(456).getHighWaterMark,l=F(158).codes,d=l.ERR_INVALID_ARG_TYPE,f=l.ERR_STREAM_PUSH_AFTER_EOF,c=l.ERR_METHOD_NOT_IMPLEMENTED,b=l.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,v=(F(10)(_,r),t.errorOrDestroy),y=["error","close","destroy","pause","resume"];function w(t,e,n){i=i||F(159),t=t||{},"boolean"!=typeof n&&(n=e instanceof i),this.objectMode=!!t.objectMode,n&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=s(this,t,"readableHighWaterMark",n),this.buffer=new a,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(o=o||F(148).StringDecoder,this.decoder=new o(t.encoding),this.encoding=t.encoding)}function _(t){if(i=i||F(159),!(this instanceof _))return new _(t);var e=this instanceof i;this._readableState=new w(t,this,e),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy)&&(this._destroy=t.destroy),r.call(this)}function x(t,e,n,i,r){g("readableAddChunk",e);var o,a,s,l,c=t._readableState;if(null===e)c.reading=!1,a=t,s=c,g("onEofChunk"),s.ended||(s.decoder&&(l=s.decoder.end())&&l.length&&(s.buffer.push(l),s.length+=s.objectMode?1:l.length),s.ended=!0,s.sync?C(a):(s.needReadable=!1,s.emittedReadable||(s.emittedReadable=!0,E(a))));else if(o=r?o:function(t,e){var n;!function(t){return u.isBuffer(t)||t instanceof h}(e)&&"string"!=typeof e&&void 0!==e&&!t.objectMode&&(n=new d("chunk",["string","Buffer","Uint8Array"],e));return n}(c,e))v(t,o);else if(c.objectMode||e&&0<e.length)if("string"==typeof e||c.objectMode||Object.getPrototypeOf(e)===u.prototype||(l=e,e=u.from(l)),i)c.endEmitted?v(t,new b):M(t,c,e,!0);else if(c.ended)v(t,new f);else{if(c.destroyed)return!1;c.reading=!1,!c.decoder||n||(e=c.decoder.write(e),c.objectMode)||0!==e.length?M(t,c,e,!1):P(t,c)}else i||(c.reading=!1,P(t,c));return!c.ended&&(c.length<c.highWaterMark||0===c.length)}function M(t,e,n,i){e.flowing&&0===e.length&&!e.sync?(e.awaitDrain=0,t.emit("data",n)):(e.length+=e.objectMode?1:n.length,i?e.buffer.unshift(n):e.buffer.push(n),e.needReadable&&C(t)),P(t,e)}Object.defineProperty(_.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}}),_.prototype.destroy=t.destroy,_.prototype._undestroy=t.undestroy,_.prototype._destroy=function(t,e){e(t)},_.prototype.push=function(t,e){var n,i=this._readableState;return i.objectMode?n=!0:"string"==typeof t&&((e=e||i.defaultEncoding)!==i.encoding&&(t=u.from(t,e),e=""),n=!0),x(this,t,e,!1,n)},_.prototype.unshift=function(t){return x(this,t,null,!0,!1)},_.prototype.isPaused=function(){return!1===this._readableState.flowing},_.prototype.setEncoding=function(t){for(var e=new(o=o||F(148).StringDecoder)(t),n=(this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding,this._readableState.buffer.head),i="";null!==n;)i+=e.write(n.data),n=n.next;return this._readableState.buffer.clear(),""!==i&&this._readableState.buffer.push(i),this._readableState.length=i.length,this};var S=1073741824;function k(t,e){var n;return t<=0||0===e.length&&e.ended?0:e.objectMode?1:t!=t?(e.flowing&&e.length?e.buffer.head.data:e).length:(t>e.highWaterMark&&(e.highWaterMark=(S<=(n=t)?n=S:(n--,n=(n=(n=(n=(n|=n>>>1)|n>>>2)|n>>>4)|n>>>8)|n>>>16,n++),n)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}function C(t){var e=t._readableState;g("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(g("emitReadable",e.flowing),e.emittedReadable=!0,p.nextTick(E,t))}function E(t){var e=t._readableState;g("emitReadable_",e.destroyed,e.length,e.ended),e.destroyed||!e.length&&!e.ended||(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,L(t)}function P(t,e){e.readingMore||(e.readingMore=!0,p.nextTick(A,t,e))}function A(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&0===e.length);){var n=e.length;if(g("maybeReadMore read 0"),t.read(0),n===e.length)break}e.readingMore=!1}function T(t){var e=t._readableState;e.readableListening=0<t.listenerCount("readable"),e.resumeScheduled&&!e.paused?e.flowing=!0:0<t.listenerCount("data")&&t.resume()}function j(t){g("readable nexttick read 0"),t.read(0)}function D(t,e){g("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),L(t),e.flowing&&!e.reading&&t.read(0)}function L(t){var e=t._readableState;for(g("flow",e.flowing);e.flowing&&null!==t.read(););}function O(t,e){var n;return 0===e.length?null:(e.objectMode?n=e.buffer.shift():!t||t>=e.length?(n=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.first():e.buffer.concat(e.length),e.buffer.clear()):n=e.buffer.consume(t,e.decoder),n)}function R(t){var e=t._readableState;g("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,p.nextTick(B,e,t))}function B(t,e){g("endReadableNT",t.endEmitted,t.length),t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"),t.autoDestroy&&(!(t=e._writableState)||t.autoDestroy&&t.finished)&&e.destroy())}function I(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1}_.prototype.read=function(t){g("read",t),t=parseInt(t,10);var e,n=this._readableState,i=t;return 0!==t&&(n.emittedReadable=!1),0===t&&n.needReadable&&((0!==n.highWaterMark?n.length>=n.highWaterMark:0<n.length)||n.ended)?(g("read: emitReadable",n.length,n.ended),(0===n.length&&n.ended?R:C)(this),null):0===(t=k(t,n))&&n.ended?(0===n.length&&R(this),null):(e=n.needReadable,g("need readable",e),(0===n.length||n.length-t<n.highWaterMark)&&g("length less than watermark",e=!0),n.ended||n.reading?g("reading or ended",e=!1):e&&(g("do read"),n.reading=!0,n.sync=!0,0===n.length&&(n.needReadable=!0),this._read(n.highWaterMark),n.sync=!1,n.reading||(t=k(i,n))),null===(e=0<t?O(t,n):null)?(n.needReadable=n.length<=n.highWaterMark,t=0):(n.length-=t,n.awaitDrain=0),0===n.length&&(n.ended||(n.needReadable=!0),i!==t)&&n.ended&&R(this),null!==e&&this.emit("data",e),e)},_.prototype._read=function(t){v(this,new c("_read()"))},_.prototype.pipe=function(n,t){var i=this,r=this._readableState;switch(r.pipesCount){case 0:r.pipes=n;break;case 1:r.pipes=[r.pipes,n];break;default:r.pipes.push(n)}r.pipesCount+=1,g("pipe count=%d opts=%j",r.pipesCount,t);t=(!t||!1!==t.end)&&n!==p.stdout&&n!==p.stderr?a:f;function o(t,e){g("onunpipe"),t===i&&e&&!1===e.hasUnpiped&&(e.hasUnpiped=!0,g("cleanup"),n.removeListener("close",h),n.removeListener("finish",d),n.removeListener("drain",s),n.removeListener("error",u),n.removeListener("unpipe",o),i.removeListener("end",a),i.removeListener("end",f),i.removeListener("data",c),l=!0,!r.awaitDrain||n._writableState&&!n._writableState.needDrain||s())}function a(){g("onend"),n.end()}r.endEmitted?p.nextTick(t):i.once("end",t),n.on("unpipe",o);e=i;var e,s=function(){var t=e._readableState;g("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&m(e,"data")&&(t.flowing=!0,L(e))},l=(n.on("drain",s),!1);function c(t){g("ondata");t=n.write(t);g("dest.write",t),!1===t&&((1===r.pipesCount&&r.pipes===n||1<r.pipesCount&&-1!==I(r.pipes,n))&&!l&&(g("false write response, pause",r.awaitDrain),r.awaitDrain++),i.pause())}function u(t){g("onerror",t),f(),n.removeListener("error",u),0===m(n,"error")&&v(n,t)}function h(){n.removeListener("finish",d),f()}function d(){g("onfinish"),n.removeListener("close",h),f()}function f(){g("unpipe"),i.unpipe(n)}return i.on("data",c),function(t,e,n){if("function"==typeof t.prependListener)return t.prependListener(e,n);t._events&&t._events[e]?Array.isArray(t._events[e])?t._events[e].unshift(n):t._events[e]=[n,t._events[e]]:t.on(e,n)}(n,"error",u),n.once("close",h),n.once("finish",d),n.emit("pipe",i),r.flowing||(g("pipe resume"),i.resume()),n},_.prototype.unpipe=function(t){var e=this._readableState,n={hasUnpiped:!1};if(0!==e.pipesCount)if(1===e.pipesCount)t&&t!==e.pipes||(t=t||e.pipes,e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,n));else if(t){var i=I(e.pipes,t);-1!==i&&(e.pipes.splice(i,1),--e.pipesCount,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,n))}else{var r=e.pipes,o=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var a=0;a<o;a++)r[a].emit("unpipe",this,{hasUnpiped:!1})}return this},_.prototype.addListener=_.prototype.on=function(t,e){var e=r.prototype.on.call(this,t,e),n=this._readableState;return"data"===t?(n.readableListening=0<this.listenerCount("readable"),!1!==n.flowing&&this.resume()):"readable"!==t||n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,g("on readable",n.length,n.reading),n.length?C(this):n.reading||p.nextTick(j,this)),e},_.prototype.removeListener=function(t,e){e=r.prototype.removeListener.call(this,t,e);return"readable"===t&&p.nextTick(T,this),e},_.prototype.removeAllListeners=function(t){var e=r.prototype.removeAllListeners.apply(this,arguments);return"readable"!==t&&void 0!==t||p.nextTick(T,this),e},_.prototype.resume=function(){var t,e,n=this._readableState;return n.flowing||(g("resume"),n.flowing=!n.readableListening,t=this,(e=n).resumeScheduled)||(e.resumeScheduled=!0,p.nextTick(D,t,e)),n.paused=!1,this},_.prototype.pause=function(){return g("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(g("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},_.prototype.wrap=function(e){var t,n=this,i=this._readableState,r=!1;for(t in e.on("end",function(){var t;g("wrapped end"),i.decoder&&!i.ended&&(t=i.decoder.end())&&t.length&&n.push(t),n.push(null)}),e.on("data",function(t){g("wrapped data"),i.decoder&&(t=i.decoder.write(t)),i.objectMode&&null==t||(i.objectMode||t&&t.length)&&!n.push(t)&&(r=!0,e.pause())}),e)void 0===this[t]&&"function"==typeof e[t]&&(this[t]=function(t){return function(){return e[t].apply(e,arguments)}}(t));for(var o=0;o<y.length;o++)e.on(y[o],this.emit.bind(this,y[o]));return this._read=function(t){g("wrapped _read",t),r&&(r=!1,e.resume())},this},"function"==typeof Symbol&&(_.prototype[Symbol.asyncIterator]=function(){return(e=void 0===e?F(538):e)(this)}),Object.defineProperty(_.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(_.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(_.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(t){this._readableState&&(this._readableState.flowing=t)}}),_._fromList=O,Object.defineProperty(_.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(_.from=function(t,e){return(n=void 0===n?F(539):n)(_,t,e)})}.call(this,F(26),F(36))},function(t,e,n){t.exports=n(147).EventEmitter},function(t,e,n){"use strict";!function(o){function a(t,e){l(t,e),s(t)}function s(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function l(t,e){t.emit("error",e)}t.exports={destroy:function(t,e){var n=this,i=this._readableState&&this._readableState.destroyed,r=this._writableState&&this._writableState.destroyed;return i||r?e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,o.nextTick(l,this,t)):o.nextTick(l,this,t)):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(t){!e&&t?n._writableState?n._writableState.errorEmitted?o.nextTick(s,n):(n._writableState.errorEmitted=!0,o.nextTick(a,n,t)):o.nextTick(a,n,t):e?(o.nextTick(s,n),e(t)):o.nextTick(s,n)})),this},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(t,e){var n=t._readableState,i=t._writableState;n&&n.autoDestroy||i&&i.autoDestroy?t.destroy(e):t.emit("error",e)}}}.call(this,n(36))},function(t,e,n){"use strict";var a=n(158).codes.ERR_INVALID_OPT_VALUE;t.exports={getHighWaterMark:function(t,e,n,i){o=i,r=n;var r,o=null!=(e=e).highWaterMark?e.highWaterMark:o?e[r]:null;if(null==o)return t.objectMode?16:16384;if(!isFinite(o)||Math.floor(o)!==o||o<0)throw new a(i?n:"highWaterMark",o);return Math.floor(o)}}},function(A,t,T){"use strict";!function(t,h){function d(o){var a=this;this.next=null,this.entry=null,this.finish=function(){var t=a,e=o,n=void 0,i=t.entry;for(t.entry=null;i;){var r=i.callback;e.pendingcb--,r(n),i=i.next}e.corkedRequestsFree.next=t}}(A.exports=x).WritableState=_;var n,e={deprecate:T(387)},i=T(454),c=T(48).Buffer,u=(void 0!==t?t:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){};var r,t=T(455),o=T(456).getHighWaterMark,a=T(158).codes,f=a.ERR_INVALID_ARG_TYPE,s=a.ERR_METHOD_NOT_IMPLEMENTED,p=a.ERR_MULTIPLE_CALLBACK,l=a.ERR_STREAM_CANNOT_PIPE,m=a.ERR_STREAM_DESTROYED,g=a.ERR_STREAM_NULL_VALUES,b=a.ERR_STREAM_WRITE_AFTER_END,v=a.ERR_UNKNOWN_ENCODING,y=t.errorOrDestroy;function w(){}function _(t,u,e){n=n||T(159),t=t||{},"boolean"!=typeof e&&(e=u instanceof n),this.objectMode=!!t.objectMode,e&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=o(this,t,"writableHighWaterMark",e),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;e=(this.destroyed=!1)===t.decodeStrings;this.decodeStrings=!e,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){var e=u,n=e._writableState,i=n.sync,r=n.writecb;if("function"!=typeof r)throw new p;var o,a,s,l,c=n;c.writing=!1,c.writecb=null,c.length-=c.writelen,c.writelen=0,t?(c=e,a=i,s=t,l=r,--(o=n).pendingcb,a?(h.nextTick(l,s),h.nextTick(P,c,o),c._writableState.errorEmitted=!0,y(c,s)):(l(s),c._writableState.errorEmitted=!0,y(c,s),P(c,o))):((t=C(n)||e.destroyed)||n.corked||n.bufferProcessing||!n.bufferedRequest||k(e,n),i?h.nextTick(S,e,n,t,r):S(e,n,t,r))},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new d(this)}T(10)(x,i),_.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e};try{Object.defineProperty(_.prototype,"buffer",{get:e.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(t){}function x(t){var e=this instanceof(n=n||T(159));if(!e&&!r.call(x,this))return new x(t);this._writableState=new _(t,this,e),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final)&&(this._final=t.final),i.call(this)}function M(t,e,n,i,r,o,a){e.writelen=i,e.writecb=a,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new m("write")):n?t._writev(r,e.onwrite):t._write(r,o,e.onwrite),e.sync=!1}function S(t,e,n,i){var r;n||(n=t,0===(r=e).length&&r.needDrain&&(r.needDrain=!1,n.emit("drain"))),e.pendingcb--,i(),P(t,e)}function k(t,e){e.bufferProcessing=!0;var n=e.bufferedRequest;if(t._writev&&n&&n.next){for(var i=e.bufferedRequestCount,r=new Array(i),i=e.corkedRequestsFree,o=(i.entry=n,0),a=!0;n;)(r[o]=n).isBuf||(a=!1),n=n.next,o+=1;r.allBuffers=a,M(t,e,!0,e.length,r,"",i.finish),e.pendingcb++,e.lastBufferedRequest=null,i.next?(e.corkedRequestsFree=i.next,i.next=null):e.corkedRequestsFree=new d(e),e.bufferedRequestCount=0}else{for(;n;){var s=n.chunk,l=n.encoding,c=n.callback;if(M(t,e,!1,e.objectMode?1:s.length,s,l,c),n=n.next,e.bufferedRequestCount--,e.writing)break}null===n&&(e.lastBufferedRequest=null)}e.bufferedRequest=n,e.bufferProcessing=!1}function C(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function E(e,n){e._final(function(t){n.pendingcb--,t&&y(e,t),n.prefinished=!0,e.emit("prefinish"),P(e,n)})}function P(t,e){var n,i,r=C(e);return r&&(n=t,(i=e).prefinished||i.finalCalled||("function"!=typeof n._final||i.destroyed?(i.prefinished=!0,n.emit("prefinish")):(i.pendingcb++,i.finalCalled=!0,h.nextTick(E,n,i))),0===e.pendingcb)&&(e.finished=!0,t.emit("finish"),e.autoDestroy)&&(!(n=t._readableState)||n.autoDestroy&&n.endEmitted)&&t.destroy(),r}"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(r=Function.prototype[Symbol.hasInstance],Object.defineProperty(x,Symbol.hasInstance,{value:function(t){return!!r.call(this,t)||this===x&&t&&t._writableState instanceof _}})):r=function(t){return t instanceof this},x.prototype.pipe=function(){y(this,new l)},x.prototype.write=function(t,e,n){var i,r,o,a=this._writableState,s=!1,l=!a.objectMode&&(l=t,c.isBuffer(l)||l instanceof u);return l&&!c.isBuffer(t)&&(i=t,t=c.from(i)),"function"==typeof e&&(n=e,e=null),e=l?"buffer":e||a.defaultEncoding,"function"!=typeof n&&(n=w),a.ending?(i=this,r=n,o=new b,y(i,o),h.nextTick(r,o)):(l||function(t,e,n,i){var r;if(null===n?r=new g:"string"==typeof n||e.objectMode||(r=new f("chunk",["string","Buffer"],n)),!r)return 1;y(t,r),h.nextTick(i,r)}(this,a,t,n))&&(a.pendingcb++,s=function(t,e,n,i,r,o){n||(a=function(t,e,n){t.objectMode||!1===t.decodeStrings||"string"!=typeof e||(e=c.from(e,n));return e}(e,i,r),i!==a&&(n=!0,r="buffer",i=a));var a=e.objectMode?1:i.length,s=(e.length+=a,e.length<e.highWaterMark);s||(e.needDrain=!0);{var l;e.writing||e.corked?(l=e.lastBufferedRequest,e.lastBufferedRequest={chunk:i,encoding:r,isBuf:n,callback:o,next:null},l?l.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1):M(t,e,!1,a,i,r,o)}return s}(this,a,l,t,e,n)),s},x.prototype.cork=function(){this._writableState.corked++},x.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.bufferProcessing||!t.bufferedRequest||k(this,t))},x.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=t.toLowerCase()),-1<["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase()))return this._writableState.defaultEncoding=t,this;throw new v(t)},Object.defineProperty(x.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(x.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),x.prototype._write=function(t,e,n){n(new s("_write()"))},x.prototype._writev=null,x.prototype.end=function(t,e,n){var i=this._writableState;if("function"==typeof t?(n=t,e=t=null):"function"==typeof e&&(n=e,e=null),null!=t&&this.write(t,e),i.corked&&(i.corked=1,this.uncork()),!i.ending){t=this,e=i,i=n;e.ending=!0,P(t,e),i&&(e.finished?h.nextTick(i):t.once("finish",i)),e.ended=!0,t.writable=!1}return this},Object.defineProperty(x.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(x.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}}),x.prototype.destroy=t.destroy,x.prototype._undestroy=t.undestroy,x.prototype._destroy=function(t,e){e(t)}}.call(this,T(26),T(36))},function(t,e,n){"use strict";t.exports=l;var t=n(158).codes,i=t.ERR_METHOD_NOT_IMPLEMENTED,r=t.ERR_MULTIPLE_CALLBACK,o=t.ERR_TRANSFORM_ALREADY_TRANSFORMING,a=t.ERR_TRANSFORM_WITH_LENGTH_0,s=n(159);function l(t){if(!(this instanceof l))return new l(t);s.call(this,t),this._transformState={afterTransform:function(t,e){var n=this._transformState,i=(n.transforming=!1,n.writecb);if(null===i)return this.emit("error",new r);n.writechunk=null,(n.writecb=null)!=e&&this.push(e),i(t),(n=this._readableState).reading=!1,(n.needReadable||n.length<n.highWaterMark)&&this._read(n.highWaterMark)}.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush)&&(this._flush=t.flush),this.on("prefinish",c)}function c(){var n=this;"function"!=typeof this._flush||this._readableState.destroyed?u(this,null,null):this._flush(function(t,e){u(n,t,e)})}function u(t,e,n){if(e)return t.emit("error",e);if(null!=n&&t.push(n),t._writableState.length)throw new a;if(t._transformState.transforming)throw new o;t.push(null)}n(10)(l,s),l.prototype.push=function(t,e){return this._transformState.needTransform=!1,s.prototype.push.call(this,t,e)},l.prototype._transform=function(t,e,n){n(new i("_transform()"))},l.prototype._write=function(t,e,n){var i=this._transformState;i.writecb=n,i.writechunk=t,i.writeencoding=e,!i.transforming&&(n=this._readableState,i.needTransform||n.needReadable||n.length<n.highWaterMark)&&this._read(n.highWaterMark)},l.prototype._read=function(t){var e=this._transformState;null===e.writechunk||e.transforming?e.needTransform=!0:(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform))},l.prototype._destroy=function(t,e){s.prototype._destroy.call(this,t,function(t){e(t)})}},function(t,e,n){"use strict";function i(t){return 1===t.length?"0"+t:t}function r(t){for(var e="",n=0;n<t.length;n++)e+=i(t[n].toString(16));return e}e.toArray=function(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var n=[];if("string"!=typeof t)for(var i=0;i<t.length;i++)n[i]=0|t[i];else if("hex"===e){(t=t.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(t="0"+t);for(i=0;i<t.length;i+=2)n.push(parseInt(t[i]+t[i+1],16))}else for(i=0;i<t.length;i++){var r=t.charCodeAt(i),o=r>>8,r=255&r;o?n.push(o,r):n.push(r)}return n},e.zero2=i,e.toHex=r,e.encode=function(t,e){return"hex"===e?r(t):t}},function(t,e,n){"use strict";e.base=n(378),e.short=n(546),e.mont=n(547),e.edwards=n(548)},function(t,e,n){"use strict";var i=n(105).rotr32;function r(t,e,n){return t&e^~t&n}function o(t,e,n){return t&e^t&n^e&n}function a(t,e,n){return t^e^n}e.ft_1=function(t,e,n,i){return 0===t?r(e,n,i):1===t||3===t?e^n^i:2===t?o(e,n,i):void 0},e.ch32=r,e.maj32=o,e.p32=a,e.s0_256=function(t){return i(t,2)^i(t,13)^i(t,22)},e.s1_256=function(t){return i(t,6)^i(t,11)^i(t,25)},e.g0_256=function(t){return i(t,7)^i(t,18)^t>>>3},e.g1_256=function(t){return i(t,17)^i(t,19)^t>>>10}},function(t,e,n){"use strict";var i=n(105),r=n(164),o=n(461),p=n(74),m=i.sum32,g=i.sum32_4,b=i.sum32_5,v=o.ch32,y=o.maj32,w=o.s0_256,_=o.s1_256,x=o.g0_256,M=o.g1_256,a=r.BlockHash,s=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function l(){if(!(this instanceof l))return new l;a.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=s,this.W=new Array(64)}i.inherits(l,a),(t.exports=l).blockSize=512,l.outSize=256,l.hmacStrength=192,l.padLength=64,l.prototype._update=function(t,e){for(var n=this.W,i=0;i<16;i++)n[i]=t[e+i];for(;i<n.length;i++)n[i]=g(M(n[i-2]),n[i-7],x(n[i-15]),n[i-16]);var r=this.h[0],o=this.h[1],a=this.h[2],s=this.h[3],l=this.h[4],c=this.h[5],u=this.h[6],h=this.h[7];for(p(this.k.length===n.length),i=0;i<n.length;i++)var d=b(h,_(l),v(l,c,u),this.k[i],n[i]),f=m(w(r),y(r,o,a)),h=u,u=c,c=l,l=m(s,d),s=a,a=o,o=r,r=m(d,f);this.h[0]=m(this.h[0],r),this.h[1]=m(this.h[1],o),this.h[2]=m(this.h[2],a),this.h[3]=m(this.h[3],s),this.h[4]=m(this.h[4],l),this.h[5]=m(this.h[5],c),this.h[6]=m(this.h[6],u),this.h[7]=m(this.h[7],h)},l.prototype._digest=function(t){return"hex"===t?i.toHex32(this.h,"big"):i.split32(this.h,"big")}},function(t,e,n){"use strict";var i=n(105),r=n(164),j=n(74),L=i.rotr64_hi,O=i.rotr64_lo,d=i.shr64_hi,f=i.shr64_lo,R=i.sum64,I=i.sum64_hi,D=i.sum64_lo,p=i.sum64_4_hi,m=i.sum64_4_lo,B=i.sum64_5_hi,N=i.sum64_5_lo,o=r.BlockHash,a=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function s(){if(!(this instanceof s))return new s;o.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=a,this.W=new Array(160)}i.inherits(s,o),(t.exports=s).blockSize=1024,s.outSize=512,s.hmacStrength=192,s.padLength=128,s.prototype._prepareBlock=function(t,e){for(var n=this.W,i=0;i<32;i++)n[i]=t[e+i];for(;i<n.length;i+=2){var r=function(t,e){var n=L(t,e,19),i=L(e,t,29),t=d(t,e,6),e=n^i^t;e<0&&(e+=4294967296);return e}(n[i-4],n[i-3]),o=function(t,e){var n=O(t,e,19),i=O(e,t,29),t=f(t,e,6),e=n^i^t;e<0&&(e+=4294967296);return e}(n[i-4],n[i-3]),a=n[i-14],s=n[i-13],l=function(t,e){var n=L(t,e,1),i=L(t,e,8),t=d(t,e,7),e=n^i^t;e<0&&(e+=4294967296);return e}(n[i-30],n[i-29]),c=function(t,e){var n=O(t,e,1),i=O(t,e,8),t=f(t,e,7),e=n^i^t;e<0&&(e+=4294967296);return e}(n[i-30],n[i-29]),u=n[i-32],h=n[i-31];n[i]=p(r,o,a,s,l,c,u,h),n[i+1]=m(r,o,a,s,l,c,u,h)}},s.prototype._update=function(t,e){this._prepareBlock(t,e);var n=this.W,i=this.h[0],r=this.h[1],o=this.h[2],a=this.h[3],s=this.h[4],l=this.h[5],c=this.h[6],u=this.h[7],h=this.h[8],d=this.h[9],f=this.h[10],p=this.h[11],m=this.h[12],g=this.h[13],b=this.h[14],v=this.h[15];j(this.k.length===n.length);for(var y=0;y<n.length;y+=2)var w=b,_=v,x=function(t,e){var n=L(t,e,14),i=L(t,e,18),e=L(e,t,9),t=n^i^e;t<0&&(t+=4294967296);return t}(h,d),M=function(t,e){var n=O(t,e,14),i=O(t,e,18),e=O(e,t,9),t=n^i^e;t<0&&(t+=4294967296);return t}(h,d),S=function(t,e,n){e=t&e^~t&n;e<0&&(e+=4294967296);return e}(h,f,m),k=function(t,e,n){e=t&e^~t&n;e<0&&(e+=4294967296);return e}(d,p,g),C=this.k[y],E=this.k[y+1],P=n[y],A=n[y+1],T=B(w,_,x,M,S,k,C,E,P,A),S=N(w,_,x,M,S,k,C,E,P,A),w=function(t,e){var n=L(t,e,28),i=L(e,t,2),e=L(e,t,7),t=n^i^e;t<0&&(t+=4294967296);return t}(i,r),_=function(t,e){var n=O(t,e,28),i=O(e,t,2),e=O(e,t,7),t=n^i^e;t<0&&(t+=4294967296);return t}(i,r),x=function(t,e,n){t=t&e^t&n^e&n;t<0&&(t+=4294967296);return t}(i,o,s),M=function(t,e,n){t=t&e^t&n^e&n;t<0&&(t+=4294967296);return t}(r,a,l),k=I(w,_,x,M),C=D(w,_,x,M),b=m,v=g,m=f,g=p,f=h,p=d,h=I(c,u,T,S),d=D(u,u,T,S),c=s,u=l,s=o,l=a,o=i,a=r,i=I(T,S,k,C),r=D(T,S,k,C);R(this.h,0,i,r),R(this.h,2,o,a),R(this.h,4,s,l),R(this.h,6,c,u),R(this.h,8,h,d),R(this.h,10,f,p),R(this.h,12,m,g),R(this.h,14,b,v)},s.prototype._digest=function(t){return"hex"===t?i.toHex32(this.h,"big"):i.split32(this.h,"big")}},function(t,e,n){"use strict";e.bignum=n(465),e.define=n(565).define,e.base=n(568),e.constants=n(569),e.decoders=n(468),e.encoders=n(466)},function(t,e,S){!function(t){!function(t,e){"use strict";function m(t,e){if(!t)throw new Error(e||"Assertion failed")}function n(t,e){t.super_=e;function n(){}n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}function g(t,e,n){if(g.isBN(t))return t;this.negative=0,this.words=null,this.length=0,(this.red=null)!==t&&("le"!==e&&"be"!==e||(n=e,e=10),this._init(t||0,e||10,n||"be"))}var i;"object"==typeof t?t.exports=g:e.BN=g,(g.BN=g).wordSize=26;try{i=("undefined"!=typeof window&&void 0!==window.Buffer?window:S(564)).Buffer}catch(t){}function r(t,e){t=t.charCodeAt(e);return 65<=t&&t<=70?t-55:97<=t&&t<=102?t-87:t-48&15}function s(t,e,n){var i=r(t,n);return e<=n-1&&(i|=r(t,n-1)<<4),i}function h(t,e,n,i){for(var r=0,o=Math.min(t.length,n),a=e;a<o;a++)var s=t.charCodeAt(a)-48,r=r*i+(49<=s?s-49+10:17<=s?s-17+10:s);return r}g.isBN=function(t){return t instanceof g||null!==t&&"object"==typeof t&&t.constructor.wordSize===g.wordSize&&Array.isArray(t.words)},g.max=function(t,e){return 0<t.cmp(e)?t:e},g.min=function(t,e){return t.cmp(e)<0?t:e},g.prototype._init=function(t,e,n){if("number"==typeof t)return this._initNumber(t,e,n);if("object"==typeof t)return this._initArray(t,e,n);m((e="hex"===e?16:e)===(0|e)&&2<=e&&e<=36);var i=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<t.length&&(16===e?this._parseHex(t,i,n):(this._parseBase(t,e,i),"le"===n&&this._initArray(this.toArray(),e,n)))},g.prototype._initNumber=function(t,e,n){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(m(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),e,n)},g.prototype._initArray=function(t,e,n){if(m("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i,r,o=0;o<this.length;o++)this.words[o]=0;var a=0;if("be"===n)for(o=t.length-1,i=0;0<=o;o-=3)r=t[o]|t[o-1]<<8|t[o-2]<<16,this.words[i]|=r<<a&67108863,this.words[i+1]=r>>>26-a&67108863,26<=(a+=24)&&(a-=26,i++);else if("le"===n)for(i=o=0;o<t.length;o+=3)r=t[o]|t[o+1]<<8|t[o+2]<<16,this.words[i]|=r<<a&67108863,this.words[i+1]=r>>>26-a&67108863,26<=(a+=24)&&(a-=26,i++);return this.strip()},g.prototype._parseHex=function(t,e,n){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var r,o=0,a=0;if("be"===n)for(i=t.length-1;e<=i;i-=2)r=s(t,e,i)<<o,this.words[a]|=67108863&r,18<=o?(o-=18,this.words[a+=1]|=r>>>26):o+=8;else for(i=(t.length-e)%2==0?e+1:e;i<t.length;i+=2)r=s(t,e,i)<<o,this.words[a]|=67108863&r,18<=o?(o-=18,this.words[a+=1]|=r>>>26):o+=8;this.strip()},g.prototype._parseBase=function(t,e,n){this.words=[0];for(var i=0,r=this.length=1;r<=67108863;r*=e)i++;for(var r=r/e|0,o=t.length-n,a=o%--i,s=Math.min(o,o-a)+n,l=0,c=n;c<s;c+=i)l=h(t,c,c+i,e),this.imuln(r),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l);if(0!=a){for(var u=1,l=h(t,c,t.length,e),c=0;c<a;c++)u*=e;this.imuln(u),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l)}this.strip()},g.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},g.prototype.clone=function(){var t=new g(null);return this.copy(t),t},g.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},g.prototype.strip=function(){for(;1<this.length&&0===this.words[this.length-1];)this.length--;return this._normSign()},g.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},g.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var d=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],f=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function o(t,e,n){n.negative=e.negative^t.negative;var i=t.length+e.length|0,i=(n.length=i)-1|0,r=(a=(0|t.words[0])*(0|e.words[0]))/67108864|0;n.words[0]=67108863&a;for(var o=1;o<i;o++){for(var a,s=r>>>26,l=67108863&r,c=Math.min(o,e.length-1),u=Math.max(0,o-t.length+1);u<=c;u++)s+=(a=(0|t.words[o-u|0])*(0|e.words[u])+l)/67108864|0,l=67108863&a;n.words[o]=0|l,r=0|s}return 0!==r?n.words[o]=0|r:n.length--,n.strip()}g.prototype.toString=function(t,e){if(e=0|e||1,16===(t=t||10)||"hex"===t){s="";for(var n=0,i=0,r=0;r<this.length;r++){var o=this.words[r],a=(16777215&(o<<n|i)).toString(16),s=0!==(i=o>>>24-n&16777215)||r!==this.length-1?d[6-a.length]+a+s:a+s;26<=(n+=2)&&(n-=26,r--)}for(0!==i&&(s=i.toString(16)+s);s.length%e!=0;)s="0"+s;return s=0!==this.negative?"-"+s:s}if(t===(0|t)&&2<=t&&t<=36){var l=f[t],c=p[t];for(s="",(u=this.clone()).negative=0;!u.isZero();){var u,h=u.modn(c).toString(t);s=(u=u.idivn(c)).isZero()?h+s:d[l-h.length]+h+s}for(this.isZero()&&(s="0"+s);s.length%e!=0;)s="0"+s;return s=0!==this.negative?"-"+s:s}m(!1,"Base should be between 2 and 36")},g.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:2<this.length&&m(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},g.prototype.toJSON=function(){return this.toString(16)},g.prototype.toBuffer=function(t,e){return m(void 0!==i),this.toArrayLike(i,t,e)},g.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},g.prototype.toArrayLike=function(t,e,n){var i,r,o=this.byteLength(),a=n||Math.max(1,o),n=(m(o<=a,"byte array longer than desired length"),m(0<a,"Requested array length <= 0"),this.strip(),"le"===e),s=new t(a),l=this.clone();if(n){for(r=0;!l.isZero();r++)i=l.andln(255),l.iushrn(8),s[r]=i;for(;r<a;r++)s[r]=0}else{for(r=0;r<a-o;r++)s[r]=0;for(r=0;!l.isZero();r++)i=l.andln(255),l.iushrn(8),s[a-r-1]=i}return s},Math.clz32?g.prototype._countBits=function(t){return 32-Math.clz32(t)}:g.prototype._countBits=function(t){var e=0;return 4096<=t&&(e+=13,t>>>=13),64<=t&&(e+=7,t>>>=7),8<=t&&(e+=4,t>>>=4),2<=t&&(e+=2,t>>>=2),e+t},g.prototype._zeroBits=function(t){var e;return 0===t?26:((e=0)==(8191&(t=t))&&(e+=13,t>>>=13),0==(127&t)&&(e+=7,t>>>=7),0==(15&t)&&(e+=4,t>>>=4),0==(3&t)&&(e+=2,t>>>=2),0==(1&t)&&e++,e)},g.prototype.bitLength=function(){var t=this.words[this.length-1],t=this._countBits(t);return 26*(this.length-1)+t},g.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var n=this._zeroBits(this.words[e]);if(t+=n,26!==n)break}return t},g.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},g.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},g.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},g.prototype.isNeg=function(){return 0!==this.negative},g.prototype.neg=function(){return this.clone().ineg()},g.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},g.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this.strip()},g.prototype.ior=function(t){return m(0==(this.negative|t.negative)),this.iuor(t)},g.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},g.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},g.prototype.iuand=function(t){for(var e=this.length>t.length?t:this,n=0;n<e.length;n++)this.words[n]=this.words[n]&t.words[n];return this.length=e.length,this.strip()},g.prototype.iand=function(t){return m(0==(this.negative|t.negative)),this.iuand(t)},g.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},g.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},g.prototype.iuxor=function(t){for(var e,n=this.length>t.length?(e=this,t):(e=t,this),i=0;i<n.length;i++)this.words[i]=e.words[i]^n.words[i];if(this!==e)for(;i<e.length;i++)this.words[i]=e.words[i];return this.length=e.length,this.strip()},g.prototype.ixor=function(t){return m(0==(this.negative|t.negative)),this.iuxor(t)},g.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},g.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},g.prototype.inotn=function(t){m("number"==typeof t&&0<=t);var e=0|Math.ceil(t/26),t=t%26;this._expand(e),0<t&&e--;for(var n=0;n<e;n++)this.words[n]=67108863&~this.words[n];return 0<t&&(this.words[n]=~this.words[n]&67108863>>26-t),this.strip()},g.prototype.notn=function(t){return this.clone().inotn(t)},g.prototype.setn=function(t,e){m("number"==typeof t&&0<=t);var n=t/26|0,t=t%26;return this._expand(1+n),this.words[n]=e?this.words[n]|1<<t:this.words[n]&~(1<<t),this.strip()},g.prototype.iadd=function(t){var e,n;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();for(var i=this.length>t.length?(n=this,t):(n=t,this),r=0,o=0;o<i.length;o++)e=(0|n.words[o])+(0|i.words[o])+r,this.words[o]=67108863&e,r=e>>>26;for(;0!==r&&o<n.length;o++)e=(0|n.words[o])+r,this.words[o]=67108863&e,r=e>>>26;if(this.length=n.length,0!==r)this.words[this.length]=r,this.length++;else if(n!==this)for(;o<n.length;o++)this.words[o]=n.words[o];return this},g.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},g.prototype.isub=function(t){var e;if(0!==t.negative)return t.negative=0,e=this.iadd(t),t.negative=1,e._normSign();if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var n,i=this.cmp(t);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;for(var r=0<i?(n=this,t):(n=t,this),o=0,a=0;a<r.length;a++)o=(e=(0|n.words[a])-(0|r.words[a])+o)>>26,this.words[a]=67108863&e;for(;0!==o&&a<n.length;a++)o=(e=(0|n.words[a])+o)>>26,this.words[a]=67108863&e;if(0===o&&a<n.length&&n!==this)for(;a<n.length;a++)this.words[a]=n.words[a];return this.length=Math.max(this.length,a),n!==this&&(this.negative=1),this.strip()},g.prototype.sub=function(t){return this.clone().isub(t)};var a=function(t,D,B){var e,n=t.words,i=D.words,r=B.words,o=0|n[0],a=8191&o,o=o>>>13,s=0|n[1],l=8191&s,s=s>>>13,c=0|n[2],u=8191&c,c=c>>>13,h=0|n[3],d=8191&h,h=h>>>13,f=0|n[4],p=8191&f,f=f>>>13,m=0|n[5],g=8191&m,m=m>>>13,b=0|n[6],v=8191&b,b=b>>>13,y=0|n[7],w=8191&y,y=y>>>13,_=0|n[8],N=8191&_,_=_>>>13,n=0|n[9],F=8191&n,n=n>>>13,x=0|i[0],M=8191&x,x=x>>>13,S=0|i[1],k=8191&S,S=S>>>13,C=0|i[2],E=8191&C,C=C>>>13,P=0|i[3],$=8191&P,P=P>>>13,A=0|i[4],U=8191&A,A=A>>>13,T=0|i[5],z=8191&T,T=T>>>13,j=0|i[6],H=8191&j,j=j>>>13,L=0|i[7],q=8191&L,L=L>>>13,O=0|i[8],W=8191&O,O=O>>>13,i=0|i[9],V=8191&i,i=i>>>13,D=(B.negative=t.negative^D.negative,B.length=19,(0+Math.imul(a,M)|0)+((8191&(t=Math.imul(a,x)+Math.imul(o,M)|0))<<13)|0),R=(Math.imul(o,x)+(t>>>13)|0)+(D>>>26)|0;D&=67108863,e=Math.imul(l,M),t=Math.imul(l,x)+Math.imul(s,M)|0,I=Math.imul(s,x);var I,K=(R+(e+Math.imul(a,k)|0)|0)+((8191&(t=(t+Math.imul(a,S)|0)+Math.imul(o,k)|0))<<13)|0,Z=(R=((I+Math.imul(o,S)|0)+(t>>>13)|0)+(K>>>26)|0,K&=67108863,e=Math.imul(u,M),t=Math.imul(u,x)+Math.imul(c,M)|0,I=Math.imul(c,x),e=e+Math.imul(l,k)|0,t=(t+Math.imul(l,S)|0)+Math.imul(s,k)|0,I=I+Math.imul(s,S)|0,(R+(e+Math.imul(a,E)|0)|0)+((8191&(t=(t+Math.imul(a,C)|0)+Math.imul(o,E)|0))<<13)|0),G=(R=((I+Math.imul(o,C)|0)+(t>>>13)|0)+(Z>>>26)|0,Z&=67108863,e=Math.imul(d,M),t=Math.imul(d,x)+Math.imul(h,M)|0,I=Math.imul(h,x),e=e+Math.imul(u,k)|0,t=(t+Math.imul(u,S)|0)+Math.imul(c,k)|0,I=I+Math.imul(c,S)|0,e=e+Math.imul(l,E)|0,t=(t+Math.imul(l,C)|0)+Math.imul(s,E)|0,I=I+Math.imul(s,C)|0,(R+(e+Math.imul(a,$)|0)|0)+((8191&(t=(t+Math.imul(a,P)|0)+Math.imul(o,$)|0))<<13)|0),J=(R=((I+Math.imul(o,P)|0)+(t>>>13)|0)+(G>>>26)|0,G&=67108863,e=Math.imul(p,M),t=Math.imul(p,x)+Math.imul(f,M)|0,I=Math.imul(f,x),e=e+Math.imul(d,k)|0,t=(t+Math.imul(d,S)|0)+Math.imul(h,k)|0,I=I+Math.imul(h,S)|0,e=e+Math.imul(u,E)|0,t=(t+Math.imul(u,C)|0)+Math.imul(c,E)|0,I=I+Math.imul(c,C)|0,e=e+Math.imul(l,$)|0,t=(t+Math.imul(l,P)|0)+Math.imul(s,$)|0,I=I+Math.imul(s,P)|0,(R+(e+Math.imul(a,U)|0)|0)+((8191&(t=(t+Math.imul(a,A)|0)+Math.imul(o,U)|0))<<13)|0),Y=(R=((I+Math.imul(o,A)|0)+(t>>>13)|0)+(J>>>26)|0,J&=67108863,e=Math.imul(g,M),t=Math.imul(g,x)+Math.imul(m,M)|0,I=Math.imul(m,x),e=e+Math.imul(p,k)|0,t=(t+Math.imul(p,S)|0)+Math.imul(f,k)|0,I=I+Math.imul(f,S)|0,e=e+Math.imul(d,E)|0,t=(t+Math.imul(d,C)|0)+Math.imul(h,E)|0,I=I+Math.imul(h,C)|0,e=e+Math.imul(u,$)|0,t=(t+Math.imul(u,P)|0)+Math.imul(c,$)|0,I=I+Math.imul(c,P)|0,e=e+Math.imul(l,U)|0,t=(t+Math.imul(l,A)|0)+Math.imul(s,U)|0,I=I+Math.imul(s,A)|0,(R+(e+Math.imul(a,z)|0)|0)+((8191&(t=(t+Math.imul(a,T)|0)+Math.imul(o,z)|0))<<13)|0),X=(R=((I+Math.imul(o,T)|0)+(t>>>13)|0)+(Y>>>26)|0,Y&=67108863,e=Math.imul(v,M),t=Math.imul(v,x)+Math.imul(b,M)|0,I=Math.imul(b,x),e=e+Math.imul(g,k)|0,t=(t+Math.imul(g,S)|0)+Math.imul(m,k)|0,I=I+Math.imul(m,S)|0,e=e+Math.imul(p,E)|0,t=(t+Math.imul(p,C)|0)+Math.imul(f,E)|0,I=I+Math.imul(f,C)|0,e=e+Math.imul(d,$)|0,t=(t+Math.imul(d,P)|0)+Math.imul(h,$)|0,I=I+Math.imul(h,P)|0,e=e+Math.imul(u,U)|0,t=(t+Math.imul(u,A)|0)+Math.imul(c,U)|0,I=I+Math.imul(c,A)|0,e=e+Math.imul(l,z)|0,t=(t+Math.imul(l,T)|0)+Math.imul(s,z)|0,I=I+Math.imul(s,T)|0,(R+(e+Math.imul(a,H)|0)|0)+((8191&(t=(t+Math.imul(a,j)|0)+Math.imul(o,H)|0))<<13)|0),Q=(R=((I+Math.imul(o,j)|0)+(t>>>13)|0)+(X>>>26)|0,X&=67108863,e=Math.imul(w,M),t=Math.imul(w,x)+Math.imul(y,M)|0,I=Math.imul(y,x),e=e+Math.imul(v,k)|0,t=(t+Math.imul(v,S)|0)+Math.imul(b,k)|0,I=I+Math.imul(b,S)|0,e=e+Math.imul(g,E)|0,t=(t+Math.imul(g,C)|0)+Math.imul(m,E)|0,I=I+Math.imul(m,C)|0,e=e+Math.imul(p,$)|0,t=(t+Math.imul(p,P)|0)+Math.imul(f,$)|0,I=I+Math.imul(f,P)|0,e=e+Math.imul(d,U)|0,t=(t+Math.imul(d,A)|0)+Math.imul(h,U)|0,I=I+Math.imul(h,A)|0,e=e+Math.imul(u,z)|0,t=(t+Math.imul(u,T)|0)+Math.imul(c,z)|0,I=I+Math.imul(c,T)|0,e=e+Math.imul(l,H)|0,t=(t+Math.imul(l,j)|0)+Math.imul(s,H)|0,I=I+Math.imul(s,j)|0,(R+(e+Math.imul(a,q)|0)|0)+((8191&(t=(t+Math.imul(a,L)|0)+Math.imul(o,q)|0))<<13)|0),tt=(R=((I+Math.imul(o,L)|0)+(t>>>13)|0)+(Q>>>26)|0,Q&=67108863,e=Math.imul(N,M),t=Math.imul(N,x)+Math.imul(_,M)|0,I=Math.imul(_,x),e=e+Math.imul(w,k)|0,t=(t+Math.imul(w,S)|0)+Math.imul(y,k)|0,I=I+Math.imul(y,S)|0,e=e+Math.imul(v,E)|0,t=(t+Math.imul(v,C)|0)+Math.imul(b,E)|0,I=I+Math.imul(b,C)|0,e=e+Math.imul(g,$)|0,t=(t+Math.imul(g,P)|0)+Math.imul(m,$)|0,I=I+Math.imul(m,P)|0,e=e+Math.imul(p,U)|0,t=(t+Math.imul(p,A)|0)+Math.imul(f,U)|0,I=I+Math.imul(f,A)|0,e=e+Math.imul(d,z)|0,t=(t+Math.imul(d,T)|0)+Math.imul(h,z)|0,I=I+Math.imul(h,T)|0,e=e+Math.imul(u,H)|0,t=(t+Math.imul(u,j)|0)+Math.imul(c,H)|0,I=I+Math.imul(c,j)|0,e=e+Math.imul(l,q)|0,t=(t+Math.imul(l,L)|0)+Math.imul(s,q)|0,I=I+Math.imul(s,L)|0,(R+(e+Math.imul(a,W)|0)|0)+((8191&(t=(t+Math.imul(a,O)|0)+Math.imul(o,W)|0))<<13)|0),M=(R=((I+Math.imul(o,O)|0)+(t>>>13)|0)+(tt>>>26)|0,tt&=67108863,e=Math.imul(F,M),t=Math.imul(F,x)+Math.imul(n,M)|0,I=Math.imul(n,x),e=e+Math.imul(N,k)|0,t=(t+Math.imul(N,S)|0)+Math.imul(_,k)|0,I=I+Math.imul(_,S)|0,e=e+Math.imul(w,E)|0,t=(t+Math.imul(w,C)|0)+Math.imul(y,E)|0,I=I+Math.imul(y,C)|0,e=e+Math.imul(v,$)|0,t=(t+Math.imul(v,P)|0)+Math.imul(b,$)|0,I=I+Math.imul(b,P)|0,e=e+Math.imul(g,U)|0,t=(t+Math.imul(g,A)|0)+Math.imul(m,U)|0,I=I+Math.imul(m,A)|0,e=e+Math.imul(p,z)|0,t=(t+Math.imul(p,T)|0)+Math.imul(f,z)|0,I=I+Math.imul(f,T)|0,e=e+Math.imul(d,H)|0,t=(t+Math.imul(d,j)|0)+Math.imul(h,H)|0,I=I+Math.imul(h,j)|0,e=e+Math.imul(u,q)|0,t=(t+Math.imul(u,L)|0)+Math.imul(c,q)|0,I=I+Math.imul(c,L)|0,e=e+Math.imul(l,W)|0,t=(t+Math.imul(l,O)|0)+Math.imul(s,W)|0,I=I+Math.imul(s,O)|0,(R+(e+Math.imul(a,V)|0)|0)+((8191&(t=(t+Math.imul(a,i)|0)+Math.imul(o,V)|0))<<13)|0),x=(R=((I+Math.imul(o,i)|0)+(t>>>13)|0)+(M>>>26)|0,M&=67108863,e=Math.imul(F,k),t=Math.imul(F,S)+Math.imul(n,k)|0,I=Math.imul(n,S),e=e+Math.imul(N,E)|0,t=(t+Math.imul(N,C)|0)+Math.imul(_,E)|0,I=I+Math.imul(_,C)|0,e=e+Math.imul(w,$)|0,t=(t+Math.imul(w,P)|0)+Math.imul(y,$)|0,I=I+Math.imul(y,P)|0,e=e+Math.imul(v,U)|0,t=(t+Math.imul(v,A)|0)+Math.imul(b,U)|0,I=I+Math.imul(b,A)|0,e=e+Math.imul(g,z)|0,t=(t+Math.imul(g,T)|0)+Math.imul(m,z)|0,I=I+Math.imul(m,T)|0,e=e+Math.imul(p,H)|0,t=(t+Math.imul(p,j)|0)+Math.imul(f,H)|0,I=I+Math.imul(f,j)|0,e=e+Math.imul(d,q)|0,t=(t+Math.imul(d,L)|0)+Math.imul(h,q)|0,I=I+Math.imul(h,L)|0,e=e+Math.imul(u,W)|0,t=(t+Math.imul(u,O)|0)+Math.imul(c,W)|0,I=I+Math.imul(c,O)|0,(R+(e+Math.imul(l,V)|0)|0)+((8191&(t=(t+Math.imul(l,i)|0)+Math.imul(s,V)|0))<<13)|0),a=(R=((I+Math.imul(s,i)|0)+(t>>>13)|0)+(x>>>26)|0,x&=67108863,e=Math.imul(F,E),t=Math.imul(F,C)+Math.imul(n,E)|0,I=Math.imul(n,C),e=e+Math.imul(N,$)|0,t=(t+Math.imul(N,P)|0)+Math.imul(_,$)|0,I=I+Math.imul(_,P)|0,e=e+Math.imul(w,U)|0,t=(t+Math.imul(w,A)|0)+Math.imul(y,U)|0,I=I+Math.imul(y,A)|0,e=e+Math.imul(v,z)|0,t=(t+Math.imul(v,T)|0)+Math.imul(b,z)|0,I=I+Math.imul(b,T)|0,e=e+Math.imul(g,H)|0,t=(t+Math.imul(g,j)|0)+Math.imul(m,H)|0,I=I+Math.imul(m,j)|0,e=e+Math.imul(p,q)|0,t=(t+Math.imul(p,L)|0)+Math.imul(f,q)|0,I=I+Math.imul(f,L)|0,e=e+Math.imul(d,W)|0,t=(t+Math.imul(d,O)|0)+Math.imul(h,W)|0,I=I+Math.imul(h,O)|0,(R+(e+Math.imul(u,V)|0)|0)+((8191&(t=(t+Math.imul(u,i)|0)+Math.imul(c,V)|0))<<13)|0),o=(R=((I+Math.imul(c,i)|0)+(t>>>13)|0)+(a>>>26)|0,a&=67108863,e=Math.imul(F,$),t=Math.imul(F,P)+Math.imul(n,$)|0,I=Math.imul(n,P),e=e+Math.imul(N,U)|0,t=(t+Math.imul(N,A)|0)+Math.imul(_,U)|0,I=I+Math.imul(_,A)|0,e=e+Math.imul(w,z)|0,t=(t+Math.imul(w,T)|0)+Math.imul(y,z)|0,I=I+Math.imul(y,T)|0,e=e+Math.imul(v,H)|0,t=(t+Math.imul(v,j)|0)+Math.imul(b,H)|0,I=I+Math.imul(b,j)|0,e=e+Math.imul(g,q)|0,t=(t+Math.imul(g,L)|0)+Math.imul(m,q)|0,I=I+Math.imul(m,L)|0,e=e+Math.imul(p,W)|0,t=(t+Math.imul(p,O)|0)+Math.imul(f,W)|0,I=I+Math.imul(f,O)|0,(R+(e+Math.imul(d,V)|0)|0)+((8191&(t=(t+Math.imul(d,i)|0)+Math.imul(h,V)|0))<<13)|0),k=(R=((I+Math.imul(h,i)|0)+(t>>>13)|0)+(o>>>26)|0,o&=67108863,e=Math.imul(F,U),t=Math.imul(F,A)+Math.imul(n,U)|0,I=Math.imul(n,A),e=e+Math.imul(N,z)|0,t=(t+Math.imul(N,T)|0)+Math.imul(_,z)|0,I=I+Math.imul(_,T)|0,e=e+Math.imul(w,H)|0,t=(t+Math.imul(w,j)|0)+Math.imul(y,H)|0,I=I+Math.imul(y,j)|0,e=e+Math.imul(v,q)|0,t=(t+Math.imul(v,L)|0)+Math.imul(b,q)|0,I=I+Math.imul(b,L)|0,e=e+Math.imul(g,W)|0,t=(t+Math.imul(g,O)|0)+Math.imul(m,W)|0,I=I+Math.imul(m,O)|0,(R+(e+Math.imul(p,V)|0)|0)+((8191&(t=(t+Math.imul(p,i)|0)+Math.imul(f,V)|0))<<13)|0),S=(R=((I+Math.imul(f,i)|0)+(t>>>13)|0)+(k>>>26)|0,k&=67108863,e=Math.imul(F,z),t=Math.imul(F,T)+Math.imul(n,z)|0,I=Math.imul(n,T),e=e+Math.imul(N,H)|0,t=(t+Math.imul(N,j)|0)+Math.imul(_,H)|0,I=I+Math.imul(_,j)|0,e=e+Math.imul(w,q)|0,t=(t+Math.imul(w,L)|0)+Math.imul(y,q)|0,I=I+Math.imul(y,L)|0,e=e+Math.imul(v,W)|0,t=(t+Math.imul(v,O)|0)+Math.imul(b,W)|0,I=I+Math.imul(b,O)|0,(R+(e+Math.imul(g,V)|0)|0)+((8191&(t=(t+Math.imul(g,i)|0)+Math.imul(m,V)|0))<<13)|0),l=(R=((I+Math.imul(m,i)|0)+(t>>>13)|0)+(S>>>26)|0,S&=67108863,e=Math.imul(F,H),t=Math.imul(F,j)+Math.imul(n,H)|0,I=Math.imul(n,j),e=e+Math.imul(N,q)|0,t=(t+Math.imul(N,L)|0)+Math.imul(_,q)|0,I=I+Math.imul(_,L)|0,e=e+Math.imul(w,W)|0,t=(t+Math.imul(w,O)|0)+Math.imul(y,W)|0,I=I+Math.imul(y,O)|0,(R+(e+Math.imul(v,V)|0)|0)+((8191&(t=(t+Math.imul(v,i)|0)+Math.imul(b,V)|0))<<13)|0),s=(R=((I+Math.imul(b,i)|0)+(t>>>13)|0)+(l>>>26)|0,l&=67108863,e=Math.imul(F,q),t=Math.imul(F,L)+Math.imul(n,q)|0,I=Math.imul(n,L),e=e+Math.imul(N,W)|0,t=(t+Math.imul(N,O)|0)+Math.imul(_,W)|0,I=I+Math.imul(_,O)|0,(R+(e+Math.imul(w,V)|0)|0)+((8191&(t=(t+Math.imul(w,i)|0)+Math.imul(y,V)|0))<<13)|0),E=(R=((I+Math.imul(y,i)|0)+(t>>>13)|0)+(s>>>26)|0,s&=67108863,e=Math.imul(F,W),t=Math.imul(F,O)+Math.imul(n,W)|0,I=Math.imul(n,O),(R+(e+Math.imul(N,V)|0)|0)+((8191&(t=(t+Math.imul(N,i)|0)+Math.imul(_,V)|0))<<13)|0),C=(R=((I+Math.imul(_,i)|0)+(t>>>13)|0)+(E>>>26)|0,E&=67108863,(R+Math.imul(F,V)|0)+((8191&(t=Math.imul(F,i)+Math.imul(n,V)|0))<<13)|0);return R=(Math.imul(n,i)+(t>>>13)|0)+(C>>>26)|0,C&=67108863,r[0]=D,r[1]=K,r[2]=Z,r[3]=G,r[4]=J,r[5]=Y,r[6]=X,r[7]=Q,r[8]=tt,r[9]=M,r[10]=x,r[11]=a,r[12]=o,r[13]=k,r[14]=S,r[15]=l,r[16]=s,r[17]=E,r[18]=C,0!=R&&(r[19]=R,B.length++),B};function l(t,e,n){return(new c).mulp(t,e,n)}function c(t,e){this.x=t,this.y=e}Math.imul||(a=o),g.prototype.mulTo=function(t,e){var n=this.length+t.length,n=(10===this.length&&10===t.length?a:n<63?o:n<1024?function(t,e,n){n.negative=e.negative^t.negative,n.length=t.length+e.length;for(var i=0,r=0,o=0;o<n.length-1;o++){for(var a=r,r=0,s=67108863&i,l=Math.min(o,e.length-1),c=Math.max(0,o-t.length+1);c<=l;c++){var u,h=(0|t.words[o-c])*(0|e.words[c]),s=67108863&(u=(67108863&h)+s|0);r+=(a=(a=a+(h/67108864|0)|0)+(u>>>26)|0)>>>26,a&=67108863}n.words[o]=s,i=a,a=r}return 0!==i?n.words[o]=i:n.length--,n.strip()}:l)(this,t,e);return n},c.prototype.makeRBT=function(t){for(var e=new Array(t),n=g.prototype._countBits(t)-1,i=0;i<t;i++)e[i]=this.revBin(i,n,t);return e},c.prototype.revBin=function(t,e,n){if(0===t||t===n-1)return t;for(var i=0,r=0;r<e;r++)i|=(1&t)<<e-r-1,t>>=1;return i},c.prototype.permute=function(t,e,n,i,r,o){for(var a=0;a<o;a++)i[a]=e[t[a]],r[a]=n[t[a]]},c.prototype.transform=function(t,e,n,i,r,o){this.permute(o,t,e,n,i,r);for(var a=1;a<r;a<<=1)for(var s=a<<1,l=Math.cos(2*Math.PI/s),c=Math.sin(2*Math.PI/s),u=0;u<r;u+=s)for(var h=l,d=c,f=0;f<a;f++){var p=n[u+f],m=i[u+f],g=n[u+f+a],b=h*g-d*(v=i[u+f+a]),v=h*v+d*g;n[u+f]=p+(g=b),i[u+f]=m+v,n[u+f+a]=p-g,i[u+f+a]=m-v,f!==s&&(b=l*h-c*d,d=l*d+c*h,h=b)}},c.prototype.guessLen13b=function(t,e){for(var e=1&(i=1|Math.max(e,t)),n=0,i=i/2|0;i;i>>>=1)n++;return 1<<n+1+e},c.prototype.conjugate=function(t,e,n){if(!(n<=1))for(var i=0;i<n/2;i++){var r=t[i];t[i]=t[n-i-1],t[n-i-1]=r,r=e[i],e[i]=-e[n-i-1],e[n-i-1]=-r}},c.prototype.normalize13b=function(t,e){for(var n=0,i=0;i<e/2;i++){var r=8192*Math.round(t[2*i+1]/e)+Math.round(t[2*i]/e)+n;t[i]=67108863&r,n=r<67108864?0:r/67108864|0}return t},c.prototype.convert13b=function(t,e,n,i){for(var r=0,o=0;o<e;o++)r+=0|t[o],n[2*o]=8191&r,n[2*o+1]=8191&(r>>>=13),r>>>=13;for(o=2*e;o<i;++o)n[o]=0;m(0===r),m(0==(-8192&r))},c.prototype.stub=function(t){for(var e=new Array(t),n=0;n<t;n++)e[n]=0;return e},c.prototype.mulp=function(t,e,n){var i=2*this.guessLen13b(t.length,e.length),r=this.makeRBT(i),o=this.stub(i),a=new Array(i),s=new Array(i),l=new Array(i),c=new Array(i),u=new Array(i),h=new Array(i),d=n.words;d.length=i,this.convert13b(t.words,t.length,a,i),this.convert13b(e.words,e.length,c,i),this.transform(a,o,s,l,i,r),this.transform(c,o,u,h,i,r);for(var f=0;f<i;f++){var p=s[f]*u[f]-l[f]*h[f];l[f]=s[f]*h[f]+l[f]*u[f],s[f]=p}return this.conjugate(s,l,i),this.transform(s,l,d,o,i,r),this.conjugate(d,o,i),this.normalize13b(d,i),n.negative=t.negative^e.negative,n.length=t.length+e.length,n.strip()},g.prototype.mul=function(t){var e=new g(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},g.prototype.mulf=function(t){var e=new g(null);return e.words=new Array(this.length+t.length),l(this,t,e)},g.prototype.imul=function(t){return this.clone().mulTo(t,this)},g.prototype.imuln=function(t){m("number"==typeof t),m(t<67108864);for(var e=0,n=0;n<this.length;n++){var i=(0|this.words[n])*t,r=(67108863&i)+(67108863&e),e=(e>>=26)+(i/67108864|0)+(r>>>26);this.words[n]=67108863&r}return 0!==e&&(this.words[n]=e,this.length++),this},g.prototype.muln=function(t){return this.clone().imuln(t)},g.prototype.sqr=function(){return this.mul(this)},g.prototype.isqr=function(){return this.imul(this.clone())},g.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),n=0;n<e.length;n++){var i=n%26;e[n]=(t.words[n/26|0]&1<<i)>>>i}return e}(t);if(0===e.length)return new g(1);for(var n=this,i=0;i<e.length&&0===e[i];i++,n=n.sqr());if(++i<e.length)for(var r=n.sqr();i<e.length;i++,r=r.sqr())0!==e[i]&&(n=n.mul(r));return n},g.prototype.iushln=function(t){m("number"==typeof t&&0<=t);var e=t%26,n=(t-e)/26,i=67108863>>>26-e<<26-e;if(0!=e){for(var r=0,o=0;o<this.length;o++){var a=this.words[o]&i,s=(0|this.words[o])-a<<e;this.words[o]=s|r,r=a>>>26-e}r&&(this.words[o]=r,this.length++)}if(0!=n){for(o=this.length-1;0<=o;o--)this.words[o+n]=this.words[o];for(o=0;o<n;o++)this.words[o]=0;this.length+=n}return this.strip()},g.prototype.ishln=function(t){return m(0===this.negative),this.iushln(t)},g.prototype.iushrn=function(t,e,n){m("number"==typeof t&&0<=t),i=e?(e-e%26)/26:0;var i,r=t%26,o=Math.min((t-r)/26,this.length),a=67108863^67108863>>>r<<r,s=n;if(i-=o,i=Math.max(0,i),s){for(var l=0;l<o;l++)s.words[l]=this.words[l];s.length=o}if(0!==o)if(this.length>o)for(this.length-=o,l=0;l<this.length;l++)this.words[l]=this.words[l+o];else this.words[0]=0,this.length=1;for(var c=0,l=this.length-1;0<=l&&(0!==c||i<=l);l--){var u=0|this.words[l];this.words[l]=c<<26-r|u>>>r,c=u&a}return s&&0!==c&&(s.words[s.length++]=c),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},g.prototype.ishrn=function(t,e,n){return m(0===this.negative),this.iushrn(t,e,n)},g.prototype.shln=function(t){return this.clone().ishln(t)},g.prototype.ushln=function(t){return this.clone().iushln(t)},g.prototype.shrn=function(t){return this.clone().ishrn(t)},g.prototype.ushrn=function(t){return this.clone().iushrn(t)},g.prototype.testn=function(t){m("number"==typeof t&&0<=t);var e=t%26,t=(t-e)/26;return!(this.length<=t||!(this.words[t]&1<<e))},g.prototype.imaskn=function(t){m("number"==typeof t&&0<=t);var e=t%26,t=(t-e)/26;return m(0===this.negative,"imaskn works only with positive numbers"),this.length<=t?this:(0!=e&&t++,this.length=Math.min(t,this.length),0!=e&&(this.words[this.length-1]&=67108863^67108863>>>e<<e),this.strip())},g.prototype.maskn=function(t){return this.clone().imaskn(t)},g.prototype.iaddn=function(t){return m("number"==typeof t),m(t<67108864),t<0?this.isubn(-t):0!==this.negative?(1===this.length&&(0|this.words[0])<t?(this.words[0]=t-(0|this.words[0]),this.negative=0):(this.negative=0,this.isubn(t),this.negative=1),this):this._iaddn(t)},g.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&67108864<=this.words[e];e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},g.prototype.isubn=function(t){if(m("number"==typeof t),m(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,--this.words[e+1];return this.strip()},g.prototype.addn=function(t){return this.clone().iaddn(t)},g.prototype.subn=function(t){return this.clone().isubn(t)},g.prototype.iabs=function(){return this.negative=0,this},g.prototype.abs=function(){return this.clone().iabs()},g.prototype._ishlnsubmul=function(t,e,n){for(var i=t.length+n,r=(this._expand(i),0),o=0;o<t.length;o++){var a=(0|this.words[o+n])+r,s=(0|t.words[o])*e,r=((a-=67108863&s)>>26)-(s/67108864|0);this.words[o+n]=67108863&a}for(;o<this.length-n;o++)r=(a=(0|this.words[o+n])+r)>>26,this.words[o+n]=67108863&a;if(0!==r){for(m(-1===r),o=r=0;o<this.length;o++)r=(a=-(0|this.words[o])+r)>>26,this.words[o]=67108863&a;this.negative=1}return this.strip()},g.prototype._wordDiv=function(t,e){this.length,t.length;var n,i=this.clone(),r=t,o=0|r.words[r.length-1],a=(0!=(t=26-this._countBits(o))&&(r=r.ushln(t),i.iushln(t),o=0|r.words[r.length-1]),i.length-r.length);if("mod"!==e){(n=new g(null)).length=1+a,n.words=new Array(n.length);for(var s=0;s<n.length;s++)n.words[s]=0}var l=i.clone()._ishlnsubmul(r,1,a);0===l.negative&&(i=l,n)&&(n.words[a]=1);for(var c=a-1;0<=c;c--){var u=67108864*(0|i.words[r.length+c])+(0|i.words[r.length+c-1]),u=Math.min(u/o|0,67108863);for(i._ishlnsubmul(r,u,c);0!==i.negative;)u--,i.negative=0,i._ishlnsubmul(r,1,c),i.isZero()||(i.negative^=1);n&&(n.words[c]=u)}return n&&n.strip(),i.strip(),"div"!==e&&0!=t&&i.iushrn(t),{div:n||null,mod:i}},g.prototype.divmod=function(t,e,n){var i,r,o;return m(!t.isZero()),this.isZero()?{div:new g(0),mod:new g(0)}:0!==this.negative&&0===t.negative?(o=this.neg().divmod(t,e),"mod"!==e&&(i=o.div.neg()),"div"!==e&&(r=o.mod.neg(),n)&&0!==r.negative&&r.iadd(t),{div:i,mod:r}):0===this.negative&&0!==t.negative?(o=this.divmod(t.neg(),e),{div:i="mod"!==e?o.div.neg():i,mod:o.mod}):0!=(this.negative&t.negative)?(o=this.neg().divmod(t.neg(),e),"div"!==e&&(r=o.mod.neg(),n)&&0!==r.negative&&r.isub(t),{div:o.div,mod:r}):t.length>this.length||this.cmp(t)<0?{div:new g(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new g(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new g(this.modn(t.words[0]))}:this._wordDiv(t,e)},g.prototype.div=function(t){return this.divmod(t,"div",!1).div},g.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},g.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},g.prototype.divRound=function(t){var e,n,i=this.divmod(t);return i.mod.isZero()||(n=0!==i.div.negative?i.mod.isub(t):i.mod,e=t.ushrn(1),t=t.andln(1),(n=n.cmp(e))<0)||1===t&&0===n?i.div:0!==i.div.negative?i.div.isubn(1):i.div.iaddn(1)},g.prototype.modn=function(t){m(t<=67108863);for(var e=(1<<26)%t,n=0,i=this.length-1;0<=i;i--)n=(e*n+(0|this.words[i]))%t;return n},g.prototype.idivn=function(t){m(t<=67108863);for(var e=0,n=this.length-1;0<=n;n--){var i=(0|this.words[n])+67108864*e;this.words[n]=i/t|0,e=i%t}return this.strip()},g.prototype.divn=function(t){return this.clone().idivn(t)},g.prototype.egcd=function(t){m(0===t.negative),m(!t.isZero());for(var e=this,n=t.clone(),e=0!==e.negative?e.umod(t):e.clone(),i=new g(1),r=new g(0),o=new g(0),a=new g(1),s=0;e.isEven()&&n.isEven();)e.iushrn(1),n.iushrn(1),++s;for(var l=n.clone(),c=e.clone();!e.isZero();){for(var u=0,h=1;0==(e.words[0]&h)&&u<26;++u,h<<=1);if(0<u)for(e.iushrn(u);0<u--;)(i.isOdd()||r.isOdd())&&(i.iadd(l),r.isub(c)),i.iushrn(1),r.iushrn(1);for(var d=0,f=1;0==(n.words[0]&f)&&d<26;++d,f<<=1);if(0<d)for(n.iushrn(d);0<d--;)(o.isOdd()||a.isOdd())&&(o.iadd(l),a.isub(c)),o.iushrn(1),a.iushrn(1);0<=e.cmp(n)?(e.isub(n),i.isub(o),r.isub(a)):(n.isub(e),o.isub(i),a.isub(r))}return{a:o,b:a,gcd:n.iushln(s)}},g.prototype._invmp=function(t){m(0===t.negative),m(!t.isZero());for(var e,n=this,i=t.clone(),n=0!==n.negative?n.umod(t):n.clone(),r=new g(1),o=new g(0),a=i.clone();0<n.cmpn(1)&&0<i.cmpn(1);){for(var s=0,l=1;0==(n.words[0]&l)&&s<26;++s,l<<=1);if(0<s)for(n.iushrn(s);0<s--;)r.isOdd()&&r.iadd(a),r.iushrn(1);for(var c=0,u=1;0==(i.words[0]&u)&&c<26;++c,u<<=1);if(0<c)for(i.iushrn(c);0<c--;)o.isOdd()&&o.iadd(a),o.iushrn(1);0<=n.cmp(i)?(n.isub(i),r.isub(o)):(i.isub(n),o.isub(r))}return(e=0===n.cmpn(1)?r:o).cmpn(0)<0&&e.iadd(t),e},g.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),n=t.clone();e.negative=0;for(var i=n.negative=0;e.isEven()&&n.isEven();i++)e.iushrn(1),n.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;n.isEven();)n.iushrn(1);var r=e.cmp(n);if(r<0)var o=e,e=n,n=o;else if(0===r||0===n.cmpn(1))break;e.isub(n)}return n.iushln(i)},g.prototype.invm=function(t){return this.egcd(t).a.umod(t)},g.prototype.isEven=function(){return 0==(1&this.words[0])},g.prototype.isOdd=function(){return 1==(1&this.words[0])},g.prototype.andln=function(t){return this.words[0]&t},g.prototype.bincn=function(t){m("number"==typeof t);var e=t%26,t=(t-e)/26,e=1<<e;if(this.length<=t)this._expand(1+t),this.words[t]|=e;else{for(var n=e,i=t;0!==n&&i<this.length;i++){var r=0|this.words[i],n=(r+=n)>>>26;r&=67108863,this.words[i]=r}0!==n&&(this.words[i]=n,this.length++)}return this},g.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},g.prototype.cmpn=function(t){var e=t<0;return 0===this.negative||e?0===this.negative&&e?1:(this.strip(),e=1<this.length?1:(m((t=e?-t:t)<=67108863,"Number is too big"),(e=0|this.words[0])===t?0:e<t?-1:1),0!==this.negative?0|-e:e):-1},g.prototype.cmp=function(t){return 0!==this.negative&&0===t.negative?-1:0===this.negative&&0!==t.negative?1:(t=this.ucmp(t),0!==this.negative?0|-t:t)},g.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,n=this.length-1;0<=n;n--){var i=0|this.words[n],r=0|t.words[n];if(i!=r){i<r?e=-1:r<i&&(e=1);break}}return e},g.prototype.gtn=function(t){return 1===this.cmpn(t)},g.prototype.gt=function(t){return 1===this.cmp(t)},g.prototype.gten=function(t){return 0<=this.cmpn(t)},g.prototype.gte=function(t){return 0<=this.cmp(t)},g.prototype.ltn=function(t){return-1===this.cmpn(t)},g.prototype.lt=function(t){return-1===this.cmp(t)},g.prototype.lten=function(t){return this.cmpn(t)<=0},g.prototype.lte=function(t){return this.cmp(t)<=0},g.prototype.eqn=function(t){return 0===this.cmpn(t)},g.prototype.eq=function(t){return 0===this.cmp(t)},g.red=function(t){return new x(t)},g.prototype.toRed=function(t){return m(!this.red,"Already a number in reduction context"),m(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},g.prototype.fromRed=function(){return m(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},g.prototype._forceRed=function(t){return this.red=t,this},g.prototype.forceRed=function(t){return m(!this.red,"Already a number in reduction context"),this._forceRed(t)},g.prototype.redAdd=function(t){return m(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},g.prototype.redIAdd=function(t){return m(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},g.prototype.redSub=function(t){return m(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},g.prototype.redISub=function(t){return m(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},g.prototype.redShl=function(t){return m(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},g.prototype.redMul=function(t){return m(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},g.prototype.redIMul=function(t){return m(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},g.prototype.redSqr=function(){return m(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},g.prototype.redISqr=function(){return m(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},g.prototype.redSqrt=function(){return m(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},g.prototype.redInvm=function(){return m(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},g.prototype.redNeg=function(){return m(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},g.prototype.redPow=function(t){return m(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var u={k256:null,p224:null,p192:null,p25519:null};function b(t,e){this.name=t,this.p=new g(e,16),this.n=this.p.bitLength(),this.k=new g(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function v(){b.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function y(){b.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function w(){b.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function _(){b.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function x(t){var e;"string"==typeof t?(e=g._prime(t),this.m=e.p,this.prime=e):(m(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null)}function M(t){x.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new g(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}b.prototype._tmp=function(){var t=new g(null);return t.words=new Array(Math.ceil(this.n/13)),t},b.prototype.ireduce=function(t){for(var e,n=t;this.split(n,this.tmp),(e=(n=(n=this.imulK(n)).iadd(this.tmp)).bitLength())>this.n;);t=e<this.n?-1:n.ucmp(this.p);return 0===t?(n.words[0]=0,n.length=1):0<t?n.isub(this.p):void 0!==n.strip?n.strip():n._strip(),n},b.prototype.split=function(t,e){t.iushrn(this.n,0,e)},b.prototype.imulK=function(t){return t.imul(this.k)},n(v,b),v.prototype.split=function(t,e){for(var n=Math.min(t.length,9),i=0;i<n;i++)e.words[i]=t.words[i];if(e.length=n,t.length<=9)t.words[0]=0,t.length=1;else{var r=t.words[9];for(e.words[e.length++]=4194303&r,i=10;i<t.length;i++){var o=0|t.words[i];t.words[i-10]=(4194303&o)<<4|r>>>22,r=o}0===(t.words[i-10]=r>>>=22)&&10<t.length?t.length-=10:t.length-=9}},v.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,n=0;n<t.length;n++){var i=0|t.words[n];e+=977*i,t.words[n]=67108863&e,e=64*i+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1])&&t.length--,t},n(y,b),n(w,b),n(_,b),_.prototype.imulK=function(t){for(var e=0,n=0;n<t.length;n++){var i=19*(0|t.words[n])+e,r=67108863&i;i>>>=26,t.words[n]=r,e=i}return 0!==e&&(t.words[t.length++]=e),t},g._prime=function(t){if(u[t])return u[t];var e;if("k256"===t)e=new v;else if("p224"===t)e=new y;else if("p192"===t)e=new w;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new _}return u[t]=e},x.prototype._verify1=function(t){m(0===t.negative,"red works only with positives"),m(t.red,"red works only with red numbers")},x.prototype._verify2=function(t,e){m(0==(t.negative|e.negative),"red works only with positives"),m(t.red&&t.red===e.red,"red works only with red numbers")},x.prototype.imod=function(t){return(this.prime?this.prime.ireduce(t):t.umod(this.m))._forceRed(this)},x.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},x.prototype.add=function(t,e){this._verify2(t,e);t=t.add(e);return 0<=t.cmp(this.m)&&t.isub(this.m),t._forceRed(this)},x.prototype.iadd=function(t,e){this._verify2(t,e);t=t.iadd(e);return 0<=t.cmp(this.m)&&t.isub(this.m),t},x.prototype.sub=function(t,e){this._verify2(t,e);t=t.sub(e);return t.cmpn(0)<0&&t.iadd(this.m),t._forceRed(this)},x.prototype.isub=function(t,e){this._verify2(t,e);t=t.isub(e);return t.cmpn(0)<0&&t.iadd(this.m),t},x.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},x.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},x.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},x.prototype.isqr=function(t){return this.imul(t,t.clone())},x.prototype.sqr=function(t){return this.mul(t,t)},x.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(m(e%2==1),3===e)return e=this.m.add(new g(1)).iushrn(2),this.pow(t,e);for(var n=this.m.subn(1),i=0;!n.isZero()&&0===n.andln(1);)i++,n.iushrn(1);m(!n.isZero());for(var r=new g(1).toRed(this),o=r.redNeg(),a=this.m.subn(1).iushrn(1),s=new g(2*(s=this.m.bitLength())*s).toRed(this);0!==this.pow(s,a).cmp(o);)s.redIAdd(o);for(var l=this.pow(s,n),c=this.pow(t,n.addn(1).iushrn(1)),u=this.pow(t,n),h=i;0!==u.cmp(r);){for(var d=u,f=0;0!==d.cmp(r);f++)d=d.redSqr();m(f<h);var p=this.pow(l,new g(1).iushln(h-f-1)),c=c.redMul(p),l=p.redSqr(),u=u.redMul(l),h=f}return c},x.prototype.invm=function(t){t=t._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},x.prototype.pow=function(t,e){if(e.isZero())return new g(1).toRed(this);if(0===e.cmpn(1))return t.clone();var n=new Array(16);n[0]=new g(1).toRed(this),n[1]=t;for(var i=2;i<n.length;i++)n[i]=this.mul(n[i-1],t);var r=n[0],o=0,a=0,s=e.bitLength()%26;for(0===s&&(s=26),i=e.length-1;0<=i;i--){for(var l=e.words[i],c=s-1;0<=c;c--){var u=l>>c&1;r!==n[0]&&(r=this.sqr(r)),0==u&&0===o?a=0:(o=o<<1|u,(4===++a||0===i&&0===c)&&(r=this.mul(r,n[o]),o=a=0))}s=26}return r},x.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},x.prototype.convertFrom=function(t){t=t.clone();return t.red=null,t},g.mont=function(t){return new M(t)},n(M,x),M.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},M.prototype.convertFrom=function(t){t=this.imod(t.mul(this.rinv));return t.red=null,t},M.prototype.imul=function(t,e){return t.isZero()||e.isZero()?(t.words[0]=0,t.length=1,t):(e=(t=t.imul(e)).maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),0<=(e=t=t.isub(e).iushrn(this.shift)).cmp(this.m)?e=t.isub(this.m):t.cmpn(0)<0&&(e=t.iadd(this.m)),e._forceRed(this))},M.prototype.mul=function(t,e){return(t.isZero()||e.isZero()?new g(0):(e=(t=t.mul(e)).maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),0<=(e=t=t.isub(e).iushrn(this.shift)).cmp(this.m)?e=t.isub(this.m):t.cmpn(0)<0&&(e=t.iadd(this.m)),e))._forceRed(this)},M.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t,this)}.call(this,S(146)(t))},function(t,e,n){"use strict";e.der=n(467),e.pem=n(566)},function(t,e,n){"use strict";var i=n(10);const a=n(404).Buffer,r=n(405),s=n(407);function o(t){this.enc="der",this.name=t.name,this.entity=t,this.tree=new l,this.tree._init(t.body)}function l(t){r.call(this,"der",t)}function c(t){return t<10?"0"+t:t}(t.exports=o).prototype.encode=function(t,e){return this.tree._encode(t,e).join()},i(l,r),l.prototype._encodeComposite=function(t,e,n,i){t=function(t,e,n,i){let r;"seqof"===t?t="seq":"setof"===t&&(t="set");if(s.tagByName.hasOwnProperty(t))r=s.tagByName[t];else{if("number"!=typeof t||(0|t)!==t)return i.error("Unknown tag: "+t);r=t}if(31<=r)return i.error("Multi-octet tag encoding unsupported");e||(r|=32);return r|=s.tagClassByName[n||"universal"]<<6}(t,e,n,this.reporter);if(i.length<128){const o=a.alloc(2);return o[0]=t,o[1]=i.length,this._createEncoderBuffer([o,i])}let r=1;for(let t=i.length;256<=t;t>>=8)r++;const o=a.alloc(2+r);o[0]=t,o[1]=128|r;for(let t=1+r,e=i.length;0<e;t--,e>>=8)o[t]=255&e;return this._createEncoderBuffer([o,i])},l.prototype._encodeStr=function(e,t){if("bitstr"===t)return this._createEncoderBuffer([0|e.unused,e.data]);if("bmpstr"!==t)return"numstr"===t?this._isNumstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: numstr supports only digits and space"):"printstr"===t?this._isPrintstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(t)||"objDesc"===t?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: "+t+" unsupported");var n=a.alloc(2*e.length);for(let t=0;t<e.length;t++)n.writeUInt16BE(e.charCodeAt(t),2*t);return this._createEncoderBuffer(n)},l.prototype._encodeObjid=function(n,t,e){if("string"==typeof n){if(!t)return this.reporter.error("string objid given, but no values map found");if(!t.hasOwnProperty(n))return this.reporter.error("objid not found in values map");n=t[n].split(/[\s.]+/g);for(let t=0;t<n.length;t++)n[t]|=0}else if(Array.isArray(n)){n=n.slice();for(let t=0;t<n.length;t++)n[t]|=0}if(!Array.isArray(n))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(n));if(!e){if(40<=n[1])return this.reporter.error("Second objid identifier OOB");n.splice(0,2,40*n[0]+n[1])}let i=0;for(let e=0;e<n.length;e++){let t=n[e];for(i++;128<=t;t>>=7)i++}var r=a.alloc(i);let o=r.length-1;for(let e=n.length-1;0<=e;e--){let t=n[e];for(r[o--]=127&t;0<(t>>=7);)r[o--]=128|127&t}return this._createEncoderBuffer(r)},l.prototype._encodeTime=function(t,e){let n;t=new Date(t);return"gentime"===e?n=[c(t.getUTCFullYear()),c(t.getUTCMonth()+1),c(t.getUTCDate()),c(t.getUTCHours()),c(t.getUTCMinutes()),c(t.getUTCSeconds()),"Z"].join(""):"utctime"===e?n=[c(t.getUTCFullYear()%100),c(t.getUTCMonth()+1),c(t.getUTCDate()),c(t.getUTCHours()),c(t.getUTCMinutes()),c(t.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+e+" time is not supported yet"),this._encodeStr(n,"octstr")},l.prototype._encodeNull=function(){return this._createEncoderBuffer("")},l.prototype._encodeInt=function(e,t){if("string"==typeof e){if(!t)return this.reporter.error("String int or enum given, but no values map");if(!t.hasOwnProperty(e))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(e));e=t[e]}if("number"==typeof e||a.isBuffer(e)||(t=e.toArray(),!e.sign&&128&t[0]&&t.unshift(0),e=a.from(t)),a.isBuffer(e)){let t=e.length;0===e.length&&t++;const i=a.alloc(t);return e.copy(i),0===e.length&&(i[0]=0),this._createEncoderBuffer(i)}if(e<128)return this._createEncoderBuffer(e);if(e<256)return this._createEncoderBuffer([0,e]);let n=1;for(let t=e;256<=t;t>>=8)n++;const i=new Array(n);for(let t=i.length-1;0<=t;t--)i[t]=255&e,e>>=8;return 128&i[0]&&i.unshift(0),this._createEncoderBuffer(a.from(i))},l.prototype._encodeBool=function(t){return this._createEncoderBuffer(t?255:0)},l.prototype._use=function(t,e){return(t="function"==typeof t?t(e):t)._getEncoder("der").tree},l.prototype._skipDefault=function(t,e,n){var i=this._baseState;let r;if(null===i.default)return!1;var o=t.join();if(void 0===i.defaultBuffer&&(i.defaultBuffer=this._encodeValue(i.default,e,n).join()),o.length!==i.defaultBuffer.length)return!1;for(r=0;r<o.length;r++)if(o[r]!==i.defaultBuffer[r])return!1;return!0}},function(t,e,n){"use strict";e.der=n(469),e.pem=n(567)},function(t,e,n){"use strict";var i=n(10);const r=n(465),o=n(165).DecoderBuffer,a=n(405),s=n(407);function l(t){this.enc="der",this.name=t.name,this.entity=t,this.tree=new c,this.tree._init(t.body)}function c(t){a.call(this,"der",t)}function u(e,n){let i=e.readUInt8(n);if(e.isError(i))return i;var t=s.tagClass[i>>6],r=0==(32&i);if(31==(31&i)){let t=i;for(i=0;128==(128&t);){if(t=e.readUInt8(n),e.isError(t))return t;i=(i<<=7)|127&t}}else i&=31;var o=s.tag[i];return{cls:t,primitive:r,tag:i,tagStr:o}}function h(e,t,n){let i=e.readUInt8(n);if(!e.isError(i)){if(!t&&128===i)return null;if(0!=(128&i)){var r=127&i;if(4<r)return e.error("length octect is too long");for(let t=i=0;t<r;t++){i<<=8;var o=e.readUInt8(n);if(e.isError(o))return o;i|=o}}}return i}(t.exports=l).prototype.decode=function(t,e){return o.isDecoderBuffer(t)||(t=new o(t,e)),this.tree._decode(t,e)},i(c,a),c.prototype._peekTag=function(t,e,n){var i,r;return!t.isEmpty()&&(i=t.save(),r=u(t,'Failed to peek tag: "'+e+'"'),t.isError(r)?r:(t.restore(i),r.tag===e||r.tagStr===e||r.tagStr+"of"===e||n))},c.prototype._decodeTag=function(t,e,n){var i=u(t,'Failed to decode tag of "'+e+'"');if(t.isError(i))return i;var r=h(t,i.primitive,'Failed to get length of "'+e+'"');if(t.isError(r))return r;if(!n&&i.tag!==e&&i.tagStr!==e&&i.tagStr+"of"!==e)return t.error('Failed to match tag: "'+e+'"');if(!i.primitive&&null===r){n=t.save(),i=this._skipUntilEnd(t,'Failed to skip indefinite length body: "'+this.tag+'"');if(t.isError(i))return i;r=t.offset-n.offset,t.restore(n)}return t.skip(r,'Failed to match body of: "'+e+'"')},c.prototype._skipUntilEnd=function(e,n){for(;;){var i=u(e,n);if(e.isError(i))return i;var r=h(e,i.primitive,n);if(e.isError(r))return r;let t;if(t=i.primitive||null!==r?e.skip(r):this._skipUntilEnd(e,n),e.isError(t))return t;if("end"===i.tagStr)break}},c.prototype._decodeList=function(t,e,n,i){for(var r=[];!t.isEmpty();){var o=this._peekTag(t,"end");if(t.isError(o))return o;var a=n.decode(t,"der",i);if(t.isError(a)&&o)break;r.push(a)}return r},c.prototype._decodeStr=function(t,e){var n;if("bitstr"===e)return n=t.readUInt8(),t.isError(n)?n:{unused:n,data:t.raw()};if("bmpstr"!==e)return"numstr"===e?(n=t.raw().toString("ascii"),this._isNumstr(n)?n:t.error("Decoding of string type: numstr unsupported characters")):"octstr"===e||"objDesc"===e?t.raw():"printstr"===e?(n=t.raw().toString("ascii"),this._isPrintstr(n)?n:t.error("Decoding of string type: printstr unsupported characters")):/str$/.test(e)?t.raw().toString():t.error("Decoding of string type: "+e+" unsupported");{var i=t.raw();if(i.length%2==1)return t.error("Decoding of string type: bmpstr length mismatch");let e="";for(let t=0;t<i.length/2;t++)e+=String.fromCharCode(i.readUInt16BE(2*t));return e}},c.prototype._decodeObjid=function(t,e,n){let i;var r=[];let o=0,a=0;for(;!t.isEmpty();)a=t.readUInt8(),o=(o<<=7)|127&a,0==(128&a)&&(r.push(o),o=0);if(128&a&&r.push(o),i=n?r:[r[0]/40|0,r[0]%40].concat(r.slice(1)),e){let t=e[i.join(" ")];void 0!==(t=void 0===t?e[i.join(".")]:t)&&(i=t)}return i},c.prototype._decodeTime=function(t,e){var n=t.raw().toString();let i,r,o,a,s,l;if("gentime"===e)i=0|n.slice(0,4),r=0|n.slice(4,6),o=0|n.slice(6,8),a=0|n.slice(8,10),s=0|n.slice(10,12),l=0|n.slice(12,14);else{if("utctime"!==e)return t.error("Decoding "+e+" time is not supported yet");i=0|n.slice(0,2),r=0|n.slice(2,4),o=0|n.slice(4,6),a=0|n.slice(6,8),s=0|n.slice(8,10),l=0|n.slice(10,12),i=i<70?2e3+i:1900+i}return Date.UTC(i,r-1,o,a,s,l,0)},c.prototype._decodeNull=function(){return null},c.prototype._decodeBool=function(t){var e=t.readUInt8();return t.isError(e)?e:0!==e},c.prototype._decodeInt=function(t,e){t=t.raw();let n=new r(t);return n=e?e[n.toString(10)]||n:n},c.prototype._use=function(t,e){return(t="function"==typeof t?t(e):t)._getDecoder("der").tree}},function(t){t.exports=JSON.parse('{"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}')},function(t,e,n){var a=n(161),s=n(15).Buffer;t.exports=function(t,e){for(var n,i,r=s.alloc(0),o=0;r.length<e;)n=o++,i=void 0,(i=s.allocUnsafe(4)).writeUInt32BE(n,0),n=i,r=s.concat([r,a("sha1").update(t).update(n).digest()]);return r.slice(0,e)}},function(t,e){t.exports=function(t,e){for(var n=t.length,i=-1;++i<n;)t[i]^=e[i];return t}},function(t,e,n){var i=n(408),r=n(15).Buffer;t.exports=function(t,e){return r.from(t.toRed(i.mont(e.modulus)).redPow(new i(e.publicExponent)).fromRed().toArray())}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var u=i(n(166)),h=i(n(76));function i(t){return t&&t.__esModule?t:{default:t}}function r(t){return function(){var s=t.apply(this,arguments);return new Promise(function(o,a){return function e(t,n){try{var i=s[t](n),r=i.value}catch(t){return void a(t)}if(!i.done)return Promise.resolve(r).then(function(t){e("next",t)},function(t){e("throw",t)});o(r)}("next")})}}function o(t){"pageId"==t.data.type&&$(".ai-choosing-theme-modal").find('input[type="radio"][name="ai-theme"][id="'+t.data.value+'"]').prop("checked",!0)}function a(){return l.apply(this,arguments)}s=r(regeneratorRuntime.mark(function t(o){var a,s,l,c;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h.default.request("/v2/themes",{method:"GET"});case 2:return a=t.sent,s=function(e){return a.some(function(t){return t.name===e&&"ACTIVE"===t.status&&t.isAvailable})},o.filter(function(t){return s((t.props||t).meta.theme)}).length,t.next=7,u.default.isPremiumUser();case 7:l=t.sent,r=i=n=e=void 0;for(var e=o,n=e.length;0!=n;){var i=Math.floor(Math.random()*n),r=(n--,[e[i],e[n]]);e[n]=r[0],e[i]=r[1]}return o.sort(function(t,e){return s((e.props||e).meta.theme)-s((t.props||t).meta.theme)}),c=o.reduce(function(t,e,n){return t+('<div class="ai-themes-preview">\n            <input type="radio" id="'+(e.id||e.meta.id)+'" value="'+(e.id||e.meta.id)+'" data-theme="'+(l?(e.props||e).meta.theme:(e.props||e).meta.theme+"-free")+'" name="ai-theme" '+(0===n?"checked":"")+'>\n            <label for="'+(e.id||e.meta.id)+'" '+(s((e.props||e).meta.theme)?"":'class="unavailable"')+'>\n                <iframe src="'+e.urls.public+(e.seed?"?seed="+e.seed:"")+'" frameborder="0"></iframe>\n                <span class="premium">premium</span>\n                <button type="button" class="btn" onclick="window.open(\''+e.urls.public+(e.seed?"?seed="+e.seed:""))+"', '_blank')\">Preview</button>\n            </label>\n         </div>"},""),t.abrupt("return",'<fieldset>\n                <div class="ai-themes-wrapper">\n                    '+c+'\n                </div>\n            </fieldset>\n            <span class="scroll-hint">Scroll to view a full page</span>');case 12:case"end":return t.stop()}},t,void 0)}));var s,l,c=function(t){return s.apply(this,arguments)};l=r(regeneratorRuntime.mark(function t(){var e,n,i,r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=r.data,n=r.callback,i=r.onError,t.t0=u.default,t.next=4,c(e.pages);case 4:return t.t1=t.sent,t.t2={regenerate:{label:" Regenerate Fast",className:"btn-info",callback:function(){var t=new Error("RandomizeReload");return t.code="RandomizeReload",i(t)}},success:{label:"Continue",className:"btn-primary ai-multiselect-button",callback:n}},t.t3=function(){h.default.loader.hide(),window.addEventListener("message",o)},t.t4=function(){window.removeEventListener("message",o)},t.t5={title:"Choose your favorite layout",size:"large",className:"ai-choosing-theme-modal",body:t.t1,buttons:t.t2,show:t.t3,hide:t.t4},t.abrupt("return",t.t0.showDialog.call(t.t0,t.t5));case 10:case"end":return t.stop()}},t,void 0)}));e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n,i=arguments[e];for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},i=function(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t};function r(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var c=o(n(166)),u=o(n(167)),h=o(n(380)),d=o(n(76)),f=o(n(411)),p=n(107);function o(t){return t&&t.__esModule?t:{default:t}}function m(t){return function(){var s=t.apply(this,arguments);return new Promise(function(o,a){return function e(t,n){try{var i=s[t](n),r=i.value}catch(t){return void a(t)}if(!i.done)return Promise.resolve(r).then(function(t){e("next",t)},function(t){e("throw",t)});o(r)}("next")})}}i(s,null,[{key:"start",value:(a=m(regeneratorRuntime.mark(function t(){var e,n,i,r,o,a=this,s=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i={prompt:s.prompt||"",options:l({useGptStructure:!0,multipleGeneration:!1,theme:(0,p.convertNameToAi)(c.default.getActiveTheme().name),strategy:"DEFAULT",structureMatchingStrategy:"GPT",structureOptimizationStrategy:"EASY"},s.options)},e=function(){var e=m(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:throw d.default.loader.hide(),e;case 2:case"end":return t.stop()}},t,a)}));return function(t){return e.apply(this,arguments)}}(),h.default.start("app load","page generate"),t.prev=3,d.default.loader.create(),d.default.loader.show("Generating Page..."),t.next=8,u.default.create(i);case 8:return n=t.sent,t.next=11,n.waitUntilIsReady();case 11:return h.default.end("page fill"),h.default.start("page generate project.mobirise"),i=c.default.getProjectSettings(),r=i.id,t.next=16,n.publishTo(new f.default({id:r}));case 16:return r=t.sent,t.next=19,r.waitUntilIsComplete();case 19:return t.next=21,n.getMobiriseProject();case 21:return o=t.sent,d.default.loader.hide(),h.default.end("page generate"),t.abrupt("return",o);case 27:return t.prev=27,t.t0=t.catch(3),t.next=31,e(t.t0);case 31:return t.next=33,(0,p.forever)();case 33:case"end":return t.stop()}},t,this,[[3,27]])})),function(){return a.apply(this,arguments)})}]);var a,n=s;function s(){if(!(this instanceof s))throw new TypeError("Cannot call a class as a function")}e.default=n},,function(t,e,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.afterBridgeInit=void 0;var c=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n,i=arguments[e];for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},n=r(l(478)),i=r(l(479)),u=l(77),h=l(25),d=l(480);function r(t){return t&&t.__esModule?t:{default:t}}l(481),l(482);function f(){return Promise.all(o.map(function(t){return t()}))}var p={"web/app/interface/kw.template.js":n.default,"web/app/interface/kw.txt":i.default},o=[];e.afterBridgeInit=function(t){return o.push(t)};function a(){var r="https://e.mobirise.com",o=Math.floor(Date.now()/6e5).toString(36);function a(t){if(t&&t.startsWith(h.Bridge.projectsLocation))return{id:(t=t.substring(h.Bridge.projectsLocation.length+1).split("/")).shift(),path:t.join("/")}}var n,i,t,s={dataLocation:"@DATA@",tempLocation:"@TEMP@",publicTempLocation:"@PUBLICTEMP@",docLocation:"@DOCUMENTS@",imgLocation:"@DOCUMENTS@/images",projectsLocation:"@SITES@",openUrl:function(t){var e=a(t);e?h.Bridge.getRecentSettings(t,function(t){t=t.publicUrl.replace(/^https:/,document.location.protocol);window.open(t+e.path,"_blank")}):window.open(t,"_blank")},runFileDialog:function(t,e,n,r,o){r=r||function(){};var a=document.createElement("input"),i=(a.setAttribute("type","file"),[]);(n||"").replace(/\*\.[\w]+/g,function(t){return i.push(t.substr(1))}),i.length?a.setAttribute("accept",i.join(",")):a.removeAttribute("accept"),o&&a.setAttribute("multiple",!0),a.onchange=function(){for(var t=[],e=0;e<this.files.length;e++){var n=this.files[e],i="@LOCAL@/"+h.Bridge._selNum+++"/"+n.name;h.Bridge._selFiles[i]=n,t.push(i)}r(o?t:t[0]),a.onchange=0},a.click()},_selFiles:{},_selNum:0,_addLocal:function(t,e){t="@LOCAL@/"+h.Bridge._selNum+++"/"+t;return h.Bridge._selFiles[t]=e,t},saveLocalFile:function(t,e,n){n=n||function(){};var i=a(t);if(i&&i.id&&i.path)return 3e6<e.length?(console.error("File size limit exceeded, max=3000000, current="+e.length),void n(!1)):void this._REST("sites/"+i.id+"/files/"+i.path,{method:"POST",data:e,headers:{}}).then(function(t){return n(t&&t.success)}).catch(function(t){return n(!1)});console.warn('call saveLocalFile("'+t+'", String['+e.length+"])"),n&&n(!1)},saveLocalBase64:function(t,e,n){n=n||function(){};var i=a(t);if(i&&i.id&&i.path)return 45e5<e.length?(console.error("File size limit exceeded, max=3000000, current about "+e.length/1.5),void n(!1)):void this._REST("sites/"+i.id+"/files/"+i.path,{method:"POST",data:e,headers:{"X-Payload-Encoding":"base64"}}).then(function(t){return n(t&&t.success)}).catch(function(t){console.error(t),n(!1)});console.warn('call saveLocalBase64("'+t+'", String['+e.length+"])"),n&&n(!1)},initProject:function(n,t){var i=this;this._REST("sites",{method:"POST",data:JSON.stringify({title:t})}).then(function(t){if(!t||!t.id)throw new Error("Wrong server responce");var e=h.Bridge.projectsLocation+"/"+t.id;t.path=t.path||e,i.addRecent(t),n(0,t)}).catch(function(t){return n(t)})},getRecentsList:function(r,o){var e=this;r&&this._REST("me/sites").then(function(t){var i=(t&&t.items||[]).map(function(t){return c(t||{},{path:h.Bridge.projectsLocation+"/"+t.id,name:t.title||t.name})});e.getSettings("_recent",function(t){if(t){for(var e=-1,n=0;n<i.length;n++)if(i[n].path==t){e=n;break}0<e&&i.unshift(i.splice(e,1)[0])}o?r(null,i):r(i)})}).catch(function(t){r(o?t:[])})},_getSiteInfo:function(n,i){i=i||function(){},this.getRecentsList(function(t){for(var e=0;e<t.length;e++)if(t[e].id==n)return i(t[e]);i()})},addRecent:function(t,e){t&&t.path?this.setSettings("_recent",t.path,e):(console.warn("addRecent data is empty"),e&&e(!1))},getRecentSettings:function(t,e){var n=this,i=a(t);if(i&&i.id){if(i.id in this._SitesSettings)return e(this._SitesSettings[i.id]);h.Bridge._REST("sites/"+i.id).then(function(t){t=c(t||{},{path:h.Bridge.projectsLocation+"/"+t.id});t.name=t.title||t.name,n._SitesSettings[i.id]=t,e(t)}).catch(function(t){return e()})}},_SitesSettings:{},path2app:function(t){var e;return!t||/^(\w*\:)?\/\//.test(t)?t:(e=a(t))&&e.id&&e.id in this._SitesSettings?this._SitesSettings[e.id].resourcesUrl+e.path:t&&t.startsWith("web/")?t.replace("web/",h.Bridge.base):h.Bridge.base+t},rmRecent:function(t,e){t=a(t);t.id?this._REST("sites/"+t.id,{method:"DELETE"}).then(function(t){return e(!0)}):e(!0)},changeRecentSettings:function(t,e,n){var i,r=this,o=(n=n||function(){},a(t));o&&o.id?(i={},e&&(e.title=e.name||e.title),"title".split(",").forEach(function(t){t in e&&(i[t]=e[t])}),h.Bridge._REST("sites/"+o.id,{method:"PUT",data:JSON.stringify(i)}).then(function(t){r._SitesSettings[o.id]&&c(r._SitesSettings[o.id],i),n(!0)}).catch(function(t){console.error(t),n(!1)})):n(!1)},saveAllRecents:function(t,e){console.error("Error to saveAllRecents"),e(!1)},loadLocalFile:function(t,n){n=n||function(){},t.endsWith("addons/list.json")?n(""):t in p?n(p[t]):this._loadFile(t).then(function(t){var e=new FileReader;e.onload=function(){n(e.result||"")},e.onerror=function(){n("")},e.readAsText(t)}).catch(function(t){n("")})},loadLocalBase64:function(t,n){n=n||function(){},this._loadFile(t).then(function(t){var e=new FileReader;e.onload=function(){n(e.result.replace(/^[^,]*,?/,""))},e.onerror=function(){n("")},e.readAsDataURL(t)}).catch(function(t){n("")})},loadLocalBlob:function(t,e){this._loadFile(t).then(e).catch(function(t){e(new Blob)})},_uploadBuildIn_init:function(t,e){t.startsWith(this.projectsLocation)?e():(console.log("Emulate Bridge.uploadBuilding()..."),console.log("Upload to url =",t),setTimeout(function(){e&&e("")},1))},_uploadBuildIn_done:function(t,e){setTimeout(function(){e&&e("")},1)},_uploadBuildIn_file:function(e,r,t,n){if(n=n||function(){},t.startsWith(this.projectsLocation)){var i,o=t+"/"+e.dest;if(1!=e.srcList.length||e.srcList[0].filter){for(var a=new Promise(function(t){return t("")}),s=0;s<e.srcList.length;s++)!function(t){var i=e.srcList[t];a=a.then(function(n){return new Promise(function(e){n=n||"",i.filter?e(n+r(i.src,i.filter)):h.Bridge.loadLocalFile(i.src,function(t){e(n+(t||""))})})})}(s);a.then(function(t){h.Bridge.saveLocalFile(o,t,function(t){n(t?"":"Error to save file "+e.dest)})}).catch(function(t){n(t&&t.message||"Publish file error "+e.dest)})}else i=e.srcList[0],h.Bridge.copyLocal(i.src,o,function(t){n(t?"":"Unable to copy file "+i.src+" to "+o)})}else console.warn("Unsupporting publish destination for "+e.dest),setTimeout(function(){n("")},100)},registerPreviewPath:function(t){return t||h.Bridge.publicTempLocation},reload:function(){console.warn("reload..."),window.onbeforeunload=null,window.location.reload()},_loadFile:function(n){var t,e;return n instanceof Blob?Promise.resolve(n):n in h.Bridge._selFiles?Promise.resolve(h.Bridge._selFiles[n]):-1<n.indexOf("component.json")?Promise.reject():(t=a(n))?(e=h.Bridge.splitPath(t.path).ext,h.Bridge.args.external||"html|xml|css|map|less|js|json|mobirise|svg|".split("|").includes(e)?this._REST("sites/"+t.id+"/files/"+t.path,{method:"GET",row:!0}):i(Date.now().toString(36))):/^@\w+@/.test(n)?(console.warn('call _loadFile("'+n+'")'),Promise.resolve(new Blob)):i(o);function i(t){var e=h.Bridge.path2app(n),t=(e.includes("?")||(e+="?ts="+t),{method:"GET",mode:"cors"});return 0===n.indexOf(r)&&(t.credentials="include"),fetch(e,t).then(function(t){return 200!=t.status?new Blob:t.blob()}).catch(function(t){return new Blob})}},removeLocal:function(e,n){n=n||function(){};var t=a(e);return t?t.path.startsWith("fonts/")?n(!0):void this._REST("sites/"+t.id+"/files/"+t.path,{method:"DELETE"}).then(function(t){t&&t.success||console.warn("Error while removeLocal",t,e),n(t&&t.success)}).catch(function(t){console.error(t,e),n(!1)}):e in h.Bridge._selFiles?(h.Bridge._selFiles[e]=0,n(!0)):(console.warn('call removeLocal("'+e+'")'),void n(!1))},copyLocal:function(t,e,n){var i=this;n=n||function(){},this.loadLocalBase64(t,function(t){i.saveLocalBase64(e,t,function(t){return n(t?e:"")})})},moveLocal:function(e,t,n){var i=this;this.copyLocal(e,t,function(t){i.removeLocal(e,n)})},dirList:function(t,e,n){console.warn("call dirList is deprecated");var i=a(t);i?this._getDirList(i.id,i.path,n||{}).then(e).catch(function(t){return e([])}):(console.warn("call AwsBridge.dirList("+t+")"),e&&e([]))},isExistsLocal:function(t,e){!t||t.endsWith("/assets/images/hashes.json")?e(!1):t in h.Bridge._selFiles?e(!0):this._loadFile(t).then(function(t){e(!!t.size)}).catch(function(t){throw t})},setSettings:function(t,e,n){(0,d.setLocalStorageData)(t,e),n&&n(!0)},getSettings:function(t,e){e&&e((0,d.getLocalStorageData)(t))},transformImage:function(e,a,n){var i,t;e?(t=i=void 0,t="string"==typeof e?(i=h.Bridge.splitPath(e).name,h.Bridge.splitPath(e).ext.toLowerCase()):(i=h.Bridge.splitPath(e.name||"image").name,h.Bridge.splitPath(e.name||"").ext.toLowerCase()||e.type.replace("image/","")),(a=c({width:-1,height:-1,shrinkLarge:!1,stretchSmall:!1,keepAspectRatio:!0,quality:100,format:/jpg|jpeg/.test(t)?"jpg":"png",fillColor:"transparent"},a||{})).width=parseInt(a.width)<0?0:parseInt(a.width),a.height=parseInt(a.height)<0?0:parseInt(a.height),/(gif|svg|ico)/i.test(a.format)?n(e):this._loadFile(e).then(function(t){var e=new FileReader;return e.readAsDataURL(t),new Promise(function(t){e.onload=function(){return t(e.result)}})}).then(function(t){var e=new Image;return e.src=t,new Promise(function(t){e.onload=function(){return t(e)}})}).then(function(t){var e=function(t){var e=t.width,n=t.height,i=document.createElement("canvas"),r=i.getContext("2d"),o=1;0<a.width||0<a.height?!a.keepAspectRatio||a.shrinkLarge?(o=Math.max(a.width/e,a.height/n),!a.stretchSmall&&a.keepAspectRatio&&(o=Math.min(o,1)),a.width=Math.min(a.width||Number.MAX_VALUE,e*o),a.height=Math.min(a.height||Number.MAX_VALUE,n*o)):(o=Math.min(a.width/e||Number.MAX_VALUE,a.height/n||Number.MAX_VALUE),a.stretchSmall||(o=Math.min(o,1)),a.width=e*o,a.height=n*o):(a.width=e,a.height=n);a.width=Math.floor(a.width),a.height=Math.floor(a.height),i.width=a.width,i.height=a.height,a.fillColor&&(r.beginPath(),r.rect(0,0,a.width,a.height),r.fillStyle=a.fillColor,r.fill());return r.drawImage(t,0<=(e-a.width/o)/2?(e-a.width/o)/2:0,0<=(n-a.height/o)/2?(n-a.height/o)/2:0,a.width/o>e?e:a.width/o,a.height/o>n?n:a.height/o,0,0,a.width,a.height),i}(t);return new Promise(function(t){e.toBlob(t,"image/"+("jpg"===a.format?"jpeg":"png"),0<a.quality?a.quality/100:1)})}).then(function(t){i=h.Bridge.splitPath(i).name+"-"+a.width+"x"+a.height+"."+a.format,n(h.Bridge._addLocal(i,t))}).catch(function(t){return n(e)})):console.error("Bridge.transformImage: invalid input file.")},getPlatform:function(){return"aws"},_getAuthToken:function(n){var i=this;return new Promise(function(e,t){!i._authToken||n?u.mbrServer.getAuthToken().then(function(t){e(i._authToken=t.access_token)}).catch(t):e(i._authToken)})},_getDirList:(n=/[-\/\\^$*+?.()|[\]{}]/g,i=function(t){return"*"==t?".*":"?"==t?".":"\\"+t},function(e,_,x){return new Promise(function(m,g){(x=x||{}).names=x.names||["*"],x.filter=x.filter||1,"recursive"in x||(x.recursive=!0),"/"!=_.substr(-1)&&(_+="/"),"/"!=_[0]&&(_="/"+_);t=x.names,Array.isArray(t)||(t=[t]);var t,b=(t=new RegExp("^("+t.map(function(t){return t.replace(n,i)}).join("|")+")$","i")).test.bind(t),v=_,y=[];function w(t){return s._REST("sites/"+e+"/files"+_+"?delimiter="+(x.recursive?"":"/")+"&continuationToken="+encodeURIComponent(t||""))}w().then(function t(e){var n=[],i=e.contents.filter(function(t){return"/"!=t.substr(-1)||(n.push(t.slice(0,-1)),!1)});if(x.recursive){if(1<x.filter)for(var r=0;r<i.length;r++){h=u=c=l=s=a=o=void 0;for(var o=n,a=v,s=v=i[r],l=0,c=0,u=s.lastIndexOf("/");l<u;l++){if(s[l]!==a[l]){for(;0<=(c=s.indexOf("/",c+1));){var h=s.substr(0,c);o.indexOf(h)<0&&o.push(h)}break}"/"===s[l]&&(c=l)}}}else n=e.commonPrefixes.map(function(t){return t.Prefix.slice(0,-1)});3==x.filter?i.push.apply(i,n):2==x.filter&&(i=n);for(var d,f="/"==_?0:_.length-1,p=0;p<i.length;p++)b(i[p].split("/").pop())&&(d=i[p].substr(f))&&y.push(d);e.isTruncated?w(e.nextContinuationToken).then(t).catch(g):m(y)}).catch(g)})}),_REST:function(r){var o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},a=2<arguments.length&&void 0!==arguments[2]&&arguments[2],s=this;return new Promise(function(n,i){s._getAuthToken(a).then(function(t){o.headers=o.headers||{},o.headers[h.Bridge.args.external?"X-Authorization":"Authorization"]="Bearer "+t;var e,t={method:(o.method||"GET").toUpperCase(),headers:o.headers,mode:"cors"};o.data&&(t.body=o.data),fetch((e=r,h.Bridge.args.external?h.Bridge.args.url.replace(/\?.*$/,"")+"?page=api/v1/"+e.replace("?","&"):e.includes("/v1/")||e.includes("/v2/")?e:"https://api.mobirisesite.com/v2/"+e),t).then(function(n){return 200<=n.status&&n.status<300?o.row?n.blob():n.json():n.json().then(function(t){var e=t&&t.message||"The request to the server could not be completed.";if(403==n.status){if(console.warn(e),!a)return s._REST(r,o,!0);h.Bridge.emit("auth-error",e)}return i($.extend(new Error(e),{code:n.status,type:t.type}))})}).then(n).catch(i)}).catch(function(t){console.error(t),h.Bridge.emit("auth-error",t.message),i(t)})})},_signout:function(){u.mbrServer.signout().then(function(){document.cookie="XSRF-TOKEN=; Max-Age=-99999999;",h.Bridge._authToken="",console.log("logout")}).catch(console.error)},_clean:function(){u.mbrServer.isAuthorized().then(function(){return console.log(JSON.stringify(arguments)),console.log("Bridge._REST('sites')()"),h.Bridge._REST("me/sites")}).then(function(t){console.log(JSON.stringify(arguments));for(var e=0;e<t.items.length;e++)console.log("Bridge._REST('sites/' + siteId, {method: 'DELETE'}):"+t.items[e].id),h.Bridge._REST("sites/"+t.items[e].id,{method:"DELETE"}).then(function(){console.log(JSON.stringify(arguments))})})},isDev:"https:"!==location.protocol,isValid:function(){return!1},goLogin:function(){console.log("go to login..."),setTimeout(function(t){var e=location.origin+"/login.html"+(location.search||"");h.Bridge.getArgs().external||h.Bridge.getArgs().embedded?window.top.location.href=("http:"===document.location.protocol?"http:":"https:")+"//c.ybnz.com/login.html"+(location.search||""):window.location.href=e},1e3)},getAddonsDir:function(){return r},verify:function(t,e,n){var i,r=void 0;try{(i=l(483).createVerify("SHA256")).write(t),i.end(),r=i.verify(publicKey,e,"base64")}catch(t){return void(n&&n(!1))}n&&n(r)}};for(t in u.WEB_URL&&(s.base=u.WEB_URL),s.onlineUrl=u.ONLINE_URL,s)h.Bridge[t]=s[t];var e=setInterval(function(){clearInterval(e),u.mbrServer.isAuthorized().then(function(t){if(!t)throw new Error("Unauthorized!")}).then(f).then(function(){h.Bridge.isValid=function(){return!0}}).catch(function(t){console.error(t),console.warn("catch, reload..."),h.Bridge.goLogin()})})}window.TextDecoder?a(window.TextDecoder):l.e(6).then(function(t){a(l(476).TextDecoder)}.bind(null,l)).catch(l.oe),e.default=h.Bridge},function(t,e){t.exports="'use strict';\n\n!function () {\n    try {\n        document.getElementsById('top-1')[0].getElementsByTagName('a')[0].removeAttribute('rel');\n    } catch (err) {}\n    if (!document.getElementById('top-1')) {\n        var e = document.createElement(\"section\");\n        e.id = \"top-1\";\n        e.style = \"display: none\";\n        e.innerHTML = '<a href=\"$FIRST_LINK$\">$FIRST_TEXT$</a> Mobirise v$VERSION$ <a href=\"$SECOND_LINK$\">$SECOND_TEXT$</a>';\n        document.body.insertBefore(e, document.body.childNodes[0]);\n    }\n}();"},function(t,e){t.exports="website builder\r\nfree website builder\r\nbest website builder\r\nwebsite creator\r\nwebsite maker\r\nweb design software\r\nbest free website builder\r\nfree website maker\r\nfree website creator\r\nwebsite design software\r\nwebsite builder free\r\nwebsite builder software\r\neasy website builder\r\nbest web design software\r\nwebsite building software\r\nmobile website builder\r\nfree web design software\r\nfree website builder software\r\ndrag and drop website builder\r\nwebsite creator free\r\nweb page design software\r\neasiest website builder\r\nwebsite generator\r\nbest website builder software\r\nwebsite maker free\r\nweb development software\r\nweb page creator\r\nfree website design software\r\nhtml website builder\r\nwebsite creation software\r\nbest website design software\r\nbest website creator\r\nopen source website builder\r\nfree web page builder\r\nsimple website builder\r\nweb building software\r\nresponsive website builder\r\nmac website builder\r\nweb design software mac\r\nweb page software\r\nwhat is the best website builder\r\nwebsite creator software\r\nmac web design software\r\nbest website maker\r\nfree mobile website builder\r\nweb builder software\r\nhtml5 website builder\r\nbest website builder for mac\r\nwebsite maker for free\r\nbootstrap layout builder\r\nfree easy website builder\r\nbest web development software\r\nmobile site builder\r\nbest free web design software\r\neasy free website builder\r\nbest site builder\r\nweb site maker\r\nweb design software free\r\nbest free website creator\r\nwebsite builder for mac\r\nsite creator\r\nbest free website maker\r\nresponsive web design software\r\nwebsite builder software free\r\none page website builder\r\nmobile website creator\r\nbest web design software for mac\r\ndrag and drop website builder software\r\neasy website creator\r\nweb site creator\r\nmobile friendly website template\r\nwebsite builder mac\r\nwebsite layout maker\r\nfree website creator software\r\nbest drag and drop website builder\r\nbest mobile website builder\r\nweb page builder software\r\nwebsite software for mac\r\nhtml page builder\r\nbest website builder free\r\nweb creation software\r\nthe best free website builder\r\nweb page development software\r\nwebsite design software mac\r\noffline website builder\r\neasy web design software\r\nresponsive layout maker\r\nmac website software\r\nfree website generator\r\nresponsive website builder software\r\nsite builder software\r\nwebsite making software\r\nmobile website builder software\r\nhtml page creator\r\nbest free website builder software\r\neasy website maker\r\nwebsite maker software\r\nfree web page creator\r\nweb page creator software\r\nmobile website maker\r\nmobile website software\r\nmac website creator\r\nhtml website creator\r\nhtml site builder\r\nfree web site maker\r\nsoftware to create website\r\neasy website builder software\r\ndrag and drop web design\r\nfree html website builder\r\ntop free website builder\r\nhtml website maker\r\nhtml5 site builder\r\nmobile site creator\r\nresponsive website software\r\nwindows website builder\r\nfree site maker\r\nfree mobile site builder\r\ndrag and drop site builder\r\nhtml5 website builder software\r\nmobile website generator\r\nmobile website builder free\r\nbest responsive website builder\r\nfree website maker software\r\noffline website builder software\r\nfree site creator"},function(t,e,n){"use strict";function i(){return void 0!==window.localStorage||void console.warn("LocalStorage is not available in this browser!")}Object.defineProperty(e,"__esModule",{value:!0}),e.getLocalStorageData=function(t){if(i())return localStorage.getItem(t)},e.setLocalStorageData=function(t,e){i()&&localStorage.setItem(t,e)}},function(t,e){
/*! @source http://purl.eligrey.com/github/canvas-toBlob.js/blob/master/canvas-toBlob.js */
!function(t){"use strict";var u,h=t.Uint8Array,t=t.HTMLCanvasElement,e=t&&t.prototype,a=/\s*;\s*base64\s*(?:;|$)/i,s="toDataURL";h&&(u=new h([62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,0,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51])),!t||e.toBlob&&e.toBlobHD||(e.toBlob||(e.toBlob=function(t,e){var n,i,r,o;e=e||"image/png",this.mozGetAsFile?t(this.mozGetAsFile("canvas",e)):this.msToBlob&&/^\s*image\/png\s*(?:$|;)/i.test(e)?t(this.msToBlob()):(r=Array.prototype.slice.call(arguments,1),n=(r=this[s].apply(this,r)).indexOf(","),i=r.substring(n+1),r=a.test(r.substring(0,n)),Blob.fake?((o=new Blob).encoding=r?"base64":"URI",o.data=i,o.size=i.length):h&&(o=r?new Blob([function(t){for(var e,n,i=t.length,r=new h(i/4*3|0),o=0,a=0,s=[0,0],l=0,c=0;i--;)n=t.charCodeAt(o++),255!==(e=u[n-43])&&void 0!==e&&(s[1]=s[0],s[0]=n,c=c<<6|e,4===++l)&&(r[a++]=c>>>16,61!==s[1]&&(r[a++]=c>>>8),61!==s[0]&&(r[a++]=c),l=0);return r}(i)],{type:e}):new Blob([decodeURIComponent(i)],{type:e})),t(o))}),!e.toBlobHD&&e.toDataURLHD?e.toBlobHD=function(){s="toDataURLHD";var t=this.toBlob();return s="toDataURL",t}:e.toBlobHD=e.toBlob)}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content||this)},function(t,e){"createImageBitmap"in window||(window.createImageBitmap=async function(o){return new Promise((t,e)=>{let n;if(o instanceof Blob)n=URL.createObjectURL(o);else{if(!(o instanceof ImageData))throw new Error("createImageBitmap does not handle the provided image source type");var i=document.createElement("canvas"),r=i.getContext("2d");i.width=o.width,i.height=o.height,r.putImageData(o,0,0),n=i.toDataURL()}r=document.createElement("img");r.addEventListener("load",function(){t(this)}),r.src=n})})},function(t,e,n){"use strict";e.randomBytes=e.rng=e.pseudoRandomBytes=e.prng=n(154),e.createHash=e.Hash=n(161),e.createHmac=e.Hmac=n(435);var i=n(509),i=Object.keys(i),r=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(i),i=(e.getHashes=function(){return r},n(438)),i=(e.pbkdf2=i.pbkdf2,e.pbkdf2Sync=i.pbkdf2Sync,n(511)),i=(e.Cipher=i.Cipher,e.createCipher=i.createCipher,e.Cipheriv=i.Cipheriv,e.createCipheriv=i.createCipheriv,e.Decipher=i.Decipher,e.createDecipher=i.createDecipher,e.Decipheriv=i.Decipheriv,e.createDecipheriv=i.createDecipheriv,e.getCiphers=i.getCiphers,e.listCiphers=i.listCiphers,n(526)),i=(e.DiffieHellmanGroup=i.DiffieHellmanGroup,e.createDiffieHellmanGroup=i.createDiffieHellmanGroup,e.getDiffieHellman=i.getDiffieHellman,e.createDiffieHellman=i.createDiffieHellman,e.DiffieHellman=i.DiffieHellman,n(533)),i=(e.createSign=i.createSign,e.Sign=i.Sign,e.createVerify=i.createVerify,e.Verify=i.Verify,e.createECDH=n(574),n(577)),i=(e.publicEncrypt=i.publicEncrypt,e.privateEncrypt=i.privateEncrypt,e.publicDecrypt=i.publicDecrypt,e.privateDecrypt=i.privateDecrypt,n(581));e.randomFill=i.randomFill,e.randomFillSync=i.randomFillSync,e.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join("\n"))},e.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},function(t,e,n){"use strict";e.byteLength=function(t){var t=u(t),e=t[0],t=t[1];return 3*(e+t)/4-t},e.toByteArray=function(t){var e,n,i=u(t),r=i[0],i=i[1],o=new c(function(t,e){return 3*(t+e)/4-e}(r,i)),a=0,s=0<i?r-4:r;for(n=0;n<s;n+=4)e=l[t.charCodeAt(n)]<<18|l[t.charCodeAt(n+1)]<<12|l[t.charCodeAt(n+2)]<<6|l[t.charCodeAt(n+3)],o[a++]=e>>16&255,o[a++]=e>>8&255,o[a++]=255&e;2===i&&(e=l[t.charCodeAt(n)]<<2|l[t.charCodeAt(n+1)]>>4,o[a++]=255&e);1===i&&(e=l[t.charCodeAt(n)]<<10|l[t.charCodeAt(n+1)]<<4|l[t.charCodeAt(n+2)]>>2,o[a++]=e>>8&255,o[a++]=255&e);return o},e.fromByteArray=function(t){for(var e,n=t.length,i=n%3,r=[],o=0,a=n-i;o<a;o+=16383)r.push(function(t,e,n){for(var i,r=[],o=e;o<n;o+=3)i=(t[o]<<16&16711680)+(t[o+1]<<8&65280)+(255&t[o+2]),r.push(function(t){return s[t>>18&63]+s[t>>12&63]+s[t>>6&63]+s[63&t]}(i));return r.join("")}(t,o,a<o+16383?a:o+16383));1==i?(e=t[n-1],r.push(s[e>>2]+s[e<<4&63]+"==")):2==i&&(e=(t[n-2]<<8)+t[n-1],r.push(s[e>>10]+s[e>>4&63]+s[e<<2&63]+"="));return r.join("")};for(var s=[],l=[],c="undefined"!=typeof Uint8Array?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=0,o=i.length;r<o;++r)s[r]=i[r],l[i.charCodeAt(r)]=r;function u(t){var e=t.length;if(0<e%4)throw new Error("Invalid string. Length must be a multiple of 4");t=t.indexOf("="),e=(t=-1===t?e:t)===e?0:4-t%4;return[t,e]}l["-".charCodeAt(0)]=62,l["_".charCodeAt(0)]=63},function(t,e){e.read=function(t,e,n,i,r){var o,a,s=8*r-i-1,l=(1<<s)-1,c=l>>1,u=-7,h=n?r-1:0,d=n?-1:1,r=t[e+h];for(h+=d,o=r&(1<<-u)-1,r>>=-u,u+=s;0<u;o=256*o+t[e+h],h+=d,u-=8);for(a=o&(1<<-u)-1,o>>=-u,u+=i;0<u;a=256*a+t[e+h],h+=d,u-=8);if(0===o)o=1-c;else{if(o===l)return a?NaN:1/0*(r?-1:1);a+=Math.pow(2,i),o-=c}return(r?-1:1)*a*Math.pow(2,o-i)},e.write=function(t,e,n,i,r,o){var a,s,l=8*o-r-1,c=(1<<l)-1,u=c>>1,h=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,d=i?0:o-1,f=i?1:-1,o=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=c):(a=Math.floor(Math.log(e)/Math.LN2),e*(i=Math.pow(2,-a))<1&&(a--,i*=2),2<=(e+=1<=a+u?h/i:h*Math.pow(2,1-u))*i&&(a++,i/=2),c<=a+u?(s=0,a=c):1<=a+u?(s=(e*i-1)*Math.pow(2,r),a+=u):(s=e*Math.pow(2,u-1)*Math.pow(2,r),a=0));8<=r;t[n+d]=255&s,d+=f,s/=256,r-=8);for(a=a<<r|s,l+=r;0<l;t[n+d]=255&a,d+=f,a/=256,l-=8);t[n+d-f]|=128*o}},function(t,e,n){
/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
var i=n(48),r=i.Buffer;function o(t,e){for(var n in t)e[n]=t[n]}function a(t,e,n){return r(t,e,n)}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?t.exports=i:(o(i,e),e.Buffer=a),a.prototype=Object.create(r.prototype),o(r,a),a.from=function(t,e,n){if("number"==typeof t)throw new TypeError("Argument must not be a number");return r(t,e,n)},a.alloc=function(t,e,n){if("number"!=typeof t)throw new TypeError("Argument must be a number");t=r(t);return void 0!==e?"string"==typeof n?t.fill(e,n):t.fill(e):t.fill(0),t},a.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return r(t)},a.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return i.SlowBuffer(t)}},function(t,e,n){(((e=t.exports=n(423)).Stream=e).Readable=e).Writable=n(427),e.Duplex=n(156),e.Transform=n(428),e.PassThrough=n(493),e.finished=n(388),e.pipeline=n(494)},function(t,e){},function(t,e,n){"use strict";function o(e,t){var n,i=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,n)),i}function r(i){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach(function(t){var e,n;e=i,n=r[t=t],(t=s(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach(function(t){Object.defineProperty(i,t,Object.getOwnPropertyDescriptor(r,t))})}return i}function a(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,s(i.key),i)}}function s(t){t=function(t,e){if("object"!=typeof t||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0===n)return("string"===e?String:Number)(t);n=n.call(t,e||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string");return"symbol"==typeof t?t:String(t)}var l=n(48).Buffer,c=n(490).inspect,u=c&&c.custom||"inspect";t.exports=function(){function t(){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this.head=null,this.tail=null,this.length=0}var e,n,i;return e=t,(n=[{key:"push",value:function(t){t={data:t,next:null};0<this.length?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(t){t={data:t,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){var t;if(0!==this.length)return t=this.head.data,1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(t){if(0===this.length)return"";for(var e=this.head,n=""+e.data;e=e.next;)n+=t+e.data;return n}},{key:"concat",value:function(t){if(0===this.length)return l.alloc(0);for(var e,n,i=l.allocUnsafe(t>>>0),r=this.head,o=0;r;)e=r.data,n=o,l.prototype.copy.call(e,i,n),o+=r.data.length,r=r.next;return i}},{key:"consume",value:function(t,e){var n;return t<this.head.data.length?(n=this.head.data.slice(0,t),this.head.data=this.head.data.slice(t)):n=t===this.head.data.length?this.shift():e?this._getString(t):this._getBuffer(t),n}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(t){var e=this.head,n=1,i=e.data;for(t-=i.length;e=e.next;){var r=e.data,o=t>r.length?r.length:t;if(o===r.length?i+=r:i+=r.slice(0,t),0===(t-=o)){o===r.length?(++n,e.next?this.head=e.next:this.head=this.tail=null):(this.head=e).data=r.slice(o);break}++n}return this.length-=n,i}},{key:"_getBuffer",value:function(t){var e=l.allocUnsafe(t),n=this.head,i=1;for(n.data.copy(e),t-=n.data.length;n=n.next;){var r=n.data,o=t>r.length?r.length:t;if(r.copy(e,e.length-t,0,o),0===(t-=o)){o===r.length?(++i,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n).data=r.slice(o);break}++i}return this.length-=i,e}},{key:u,value:function(t,e){return c(this,r(r({},e),{},{depth:0,customInspect:!1}))}}])&&a(e.prototype,n),i&&a(e,i),Object.defineProperty(e,"prototype",{writable:!1}),t}()},function(t,e){},function(i,t,g){"use strict";!function(o){var t;function n(t,e,n){(e=function(t){t=function(t,e){if("object"!=typeof t||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0===n)return("string"===e?String:Number)(t);n=n.call(t,e||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string");return"symbol"==typeof t?t:String(t)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}var r=g(388),a=Symbol("lastResolve"),s=Symbol("lastReject"),l=Symbol("error"),c=Symbol("ended"),u=Symbol("lastPromise"),h=Symbol("handlePromise"),d=Symbol("stream");function f(t,e){return{value:t,done:e}}function p(t){var e,n=t[a];null!==n&&null!==(e=t[d].read())&&(t[u]=null,t[a]=null,t[s]=null,n(f(e,!1)))}var e=Object.getPrototypeOf(function(){}),m=Object.setPrototypeOf((n(t={get stream(){return this[d]},next:function(){var n=this,t=this[l];if(null!==t)return Promise.reject(t);if(this[c])return Promise.resolve(f(void 0,!0));if(this[d].destroyed)return new Promise(function(t,e){o.nextTick(function(){n[l]?e(n[l]):t(f(void 0,!0))})});var e,i,r,t=this[u];if(t)e=new Promise((i=t,r=this,function(t,e){i.then(function(){r[c]?t(f(void 0,!0)):r[h](t,e)},e)}));else{t=this[d].read();if(null!==t)return Promise.resolve(f(t,!1));e=new Promise(this[h])}return this[u]=e}},Symbol.asyncIterator,function(){return this}),n(t,"return",function(){var t=this;return new Promise(function(e,n){t[d].destroy(null,function(t){t?n(t):e(f(void 0,!0))})})}),t),e);i.exports=function(t){var e,i=Object.create(m,(n(e={},d,{value:t,writable:!0}),n(e,a,{value:null,writable:!0}),n(e,s,{value:null,writable:!0}),n(e,l,{value:null,writable:!0}),n(e,c,{value:t._readableState.endEmitted,writable:!0}),n(e,h,{value:function(t,e){var n=i[d].read();n?(i[u]=null,i[a]=null,i[s]=null,t(f(n,!1))):(i[a]=t,i[s]=e)},writable:!0}),e));return i[u]=null,r(t,function(t){var e;t&&"ERR_STREAM_PREMATURE_CLOSE"!==t.code?(null!==(e=i[s])&&(i[u]=null,i[a]=null,i[s]=null,e(t)),i[l]=t):(null!==(e=i[a])&&(i[u]=null,i[a]=null,e(f(void 0,!(i[s]=null)))),i[c]=!0)}),t.on("readable",function(t){o.nextTick(p,t)}.bind(null,i)),i}}.call(this,g(36))},function(t,e){t.exports=function(){throw new Error("Readable.from is not available in the browser")}},function(t,e,n){"use strict";t.exports=r;var i=n(428);function r(t){if(!(this instanceof r))return new r(t);i.call(this,t)}n(10)(r,i),r.prototype._transform=function(t,e,n){n(null,t)}},function(t,e,l){"use strict";var c;var n=l(155).codes,s=n.ERR_MISSING_ARGS,u=n.ERR_STREAM_DESTROYED;function h(t){if(t)throw t}function d(n,t,e,i){r=i,o=!1;var r,o,a=!(i=function(){o||(o=!0,r.apply(void 0,arguments))}),s=(n.on("close",function(){a=!0}),(c=void 0===c?l(388):c)(n,{readable:t,writable:e},function(t){if(t)return i(t);a=!0,i()}),!1);return function(t){var e;if(!a&&!s)return s=!0,(e=n).setHeader&&"function"==typeof e.abort?n.abort():"function"==typeof n.destroy?n.destroy():void i(t||new u("pipe"))}}function f(t){t()}function p(t,e){return t.pipe(e)}t.exports=function(){for(var t=arguments.length,i=new Array(t),e=0;e<t;e++)i[e]=arguments[e];var n,r,o=!(n=i).length||"function"!=typeof n[n.length-1]?h:n.pop();if((i=Array.isArray(i[0])?i[0]:i).length<2)throw new s("streams");var a=i.map(function(t,e){var n=e<i.length-1;return d(t,n,0<e,function(t){r=r||t,t&&a.forEach(f),n||(a.forEach(f),o(r))})});return i.reduce(p)}},function(t,e,n){var i=n(10),r=n(157),o=n(15).Buffer,p=[1518500249,1859775393,-1894007588,-899497514],a=new Array(80);function s(){this.init(),this._w=a,r.call(this,64,56)}i(s,r),s.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},s.prototype._update=function(t){for(var e=this._w,n=0|this._a,i=0|this._b,r=0|this._c,o=0|this._d,a=0|this._e,s=0;s<16;++s)e[s]=t.readInt32BE(4*s);for(;s<80;++s)e[s]=e[s-3]^e[s-8]^e[s-14]^e[s-16];for(var l,c,u,h=0;h<80;++h)var d=~~(h/20),f=0|(n<<5|n>>>27)+(l=i,c=r,u=o,0===(f=d)?l&c|~l&u:2===f?l&c|l&u|c&u:l^c^u)+a+e[h]+p[d],a=o,o=r,r=i<<30|i>>>2,i=n,n=f;this._a=n+this._a|0,this._b=i+this._b|0,this._c=r+this._c|0,this._d=o+this._d|0,this._e=a+this._e|0},s.prototype._hash=function(){var t=o.allocUnsafe(20);return t.writeInt32BE(0|this._a,0),t.writeInt32BE(0|this._b,4),t.writeInt32BE(0|this._c,8),t.writeInt32BE(0|this._d,12),t.writeInt32BE(0|this._e,16),t},t.exports=s},function(t,e,n){var i=n(10),r=n(157),o=n(15).Buffer,m=[1518500249,1859775393,-1894007588,-899497514],a=new Array(80);function s(){this.init(),this._w=a,r.call(this,64,56)}i(s,r),s.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},s.prototype._update=function(t){for(var e,n=this._w,i=0|this._a,r=0|this._b,o=0|this._c,a=0|this._d,s=0|this._e,l=0;l<16;++l)n[l]=t.readInt32BE(4*l);for(;l<80;++l)n[l]=(e=n[l-3]^n[l-8]^n[l-14]^n[l-16])<<1|e>>>31;for(var c,u,h,d=0;d<80;++d)var f=~~(d/20),p=0|(i<<5|i>>>27)+(c=r,u=o,h=a,0===(p=f)?c&u|~c&h:2===p?c&u|c&h|u&h:c^u^h)+s+n[d]+m[f],s=a,a=o,o=r<<30|r>>>2,r=i,i=p;this._a=i+this._a|0,this._b=r+this._b|0,this._c=o+this._c|0,this._d=a+this._d|0,this._e=s+this._e|0},s.prototype._hash=function(){var t=o.allocUnsafe(20);return t.writeInt32BE(0|this._a,0),t.writeInt32BE(0|this._b,4),t.writeInt32BE(0|this._c,8),t.writeInt32BE(0|this._d,12),t.writeInt32BE(0|this._e,16),t},t.exports=s},function(t,e,n){var i=n(10),r=n(429),o=n(157),a=n(15).Buffer,s=new Array(64);function l(){this.init(),this._w=s,o.call(this,64,56)}i(l,r),l.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},l.prototype._hash=function(){var t=a.allocUnsafe(28);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t},t.exports=l},function(t,e,n){var i=n(10),r=n(430),o=n(157),a=n(15).Buffer,s=new Array(160);function l(){this.init(),this._w=s,o.call(this,128,112)}i(l,r),l.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},l.prototype._hash=function(){var i=a.allocUnsafe(48);function t(t,e,n){i.writeInt32BE(t,n),i.writeInt32BE(e,n+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),i},t.exports=l},function(t,e,n){t.exports=i;var u=n(147).EventEmitter;function i(){u.call(this)}n(10)(i,u),i.Readable=n(391),i.Writable=n(504),i.Duplex=n(505),i.Transform=n(506),i.PassThrough=n(507),(i.Stream=i).prototype.pipe=function(e,t){var n=this;function i(t){e.writable&&!1===e.write(t)&&n.pause&&n.pause()}function r(){n.readable&&n.resume&&n.resume()}n.on("data",i),e.on("drain",r),e._isStdio||t&&!1===t.end||(n.on("end",a),n.on("close",s));var o=!1;function a(){o||(o=!0,e.end())}function s(){o||(o=!0,"function"==typeof e.destroy&&e.destroy())}function l(t){if(c(),0===u.listenerCount(this,"error"))throw t}function c(){n.removeListener("data",i),e.removeListener("drain",r),n.removeListener("end",a),n.removeListener("close",s),n.removeListener("error",l),e.removeListener("error",l),n.removeListener("end",c),n.removeListener("close",c),e.removeListener("close",c)}return n.on("error",l),e.on("error",l),n.on("end",c),n.on("close",c),e.on("close",c),e.emit("pipe",n),e}},function(t,e){},function(t,e,n){"use strict";var a=n(15).Buffer,i=n(502);function r(){if(!(this instanceof r))throw new TypeError("Cannot call a class as a function");this.head=null,this.tail=null,this.length=0}t.exports=(r.prototype.push=function(t){t={data:t,next:null};0<this.length?this.tail.next=t:this.head=t,this.tail=t,++this.length},r.prototype.unshift=function(t){t={data:t,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},r.prototype.shift=function(){var t;if(0!==this.length)return t=this.head.data,1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t},r.prototype.clear=function(){this.head=this.tail=null,this.length=0},r.prototype.join=function(t){if(0===this.length)return"";for(var e=this.head,n=""+e.data;e=e.next;)n+=t+e.data;return n},r.prototype.concat=function(t){if(0===this.length)return a.alloc(0);for(var e,n,i=a.allocUnsafe(t>>>0),r=this.head,o=0;r;)e=r.data,n=o,e.copy(i,n),o+=r.data.length,r=r.next;return i},r),i&&i.inspect&&i.inspect.custom&&(t.exports.prototype[i.inspect.custom]=function(){var t=i.inspect({length:this.length});return this.constructor.name+" "+t})},function(t,e){},function(t,e,n){"use strict";t.exports=r;var i=n(434),t=Object.create(n(162));function r(t){if(!(this instanceof r))return new r(t);i.call(this,t)}t.inherits=n(10),t.inherits(r,i),r.prototype._transform=function(t,e,n){n(null,t)}},function(t,e,n){t.exports=n(392)},function(t,e,n){t.exports=n(149)},function(t,e,n){t.exports=n(391).Transform},function(t,e,n){t.exports=n(391).PassThrough},function(t,e,n){"use strict";var i=n(10),o=n(15).Buffer,a=n(109),s=o.alloc(128);function r(t,e){a.call(this,"digest"),"string"==typeof e&&(e=o.from(e)),this._alg=t,64<(this._key=e).length?e=t(e):e.length<64&&(e=o.concat([e,s],64));for(var n=this._ipad=o.allocUnsafe(64),i=this._opad=o.allocUnsafe(64),r=0;r<64;r++)n[r]=54^e[r],i[r]=92^e[r];this._hash=[n]}i(r,a),r.prototype._update=function(t){this._hash.push(t)},r.prototype._final=function(){var t=this._alg(o.concat(this._hash));return this._alg(o.concat([this._opad,t]))},t.exports=r},function(t,e,n){t.exports=n(437)},function(e,t,n){!function(u){var h,t,d=n(15).Buffer,f=n(439),p=n(440),m=n(441),g=n(442),b=u.crypto&&u.crypto.subtle,v={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},y=[];function w(){return t=t||(u.process&&u.process.nextTick?u.process.nextTick:u.queueMicrotask||u.setImmediate||u.setTimeout)}function _(t,e,n,i,r){return b.importKey("raw",t,{name:"PBKDF2"},!1,["deriveBits"]).then(function(t){return b.deriveBits({name:"PBKDF2",salt:e,iterations:n,hash:{name:r}},t,i<<3)}).then(function(t){return d.from(t)})}e.exports=function(e,n,i,r,o,a){"function"==typeof o&&(a=o,o=void 0);var s,t,l,c=v[(o=o||"sha1").toLowerCase()];if(c&&"function"==typeof u.Promise){if(f(i,r),e=g(e,p,"Password"),n=g(n,p,"Salt"),"function"!=typeof a)throw new Error("No callback provided to pbkdf2");t=c,t=((!u.process||u.process.browser)&&b&&b.importKey&&b.deriveBits?void 0!==y[t]?y[t]:(l=_(h=h||d.alloc(8),h,10,128,t).then(function(){return!0}).catch(function(){return!1}),y[t]=l):Promise.resolve(!1)).then(function(t){return t?_(e,n,i,r,c):m(e,n,i,r,o)}),s=a,t.then(function(t){w()(function(){s(null,t)})},function(t){w()(function(){s(t)})})}else w()(function(){var t;try{t=m(e,n,i,r,o)}catch(t){return a(t)}a(null,t)})}}.call(this,n(26))},function(t,e,n){var i=n(512),r=n(394),o=n(395),a=n(525),s=n(377);function l(t,e,n){if(t=t.toLowerCase(),o[t])return r.createCipheriv(t,e,n);if(a[t])return new i({key:e,iv:n,mode:t});throw new TypeError("invalid suite type")}function c(t,e,n){if(t=t.toLowerCase(),o[t])return r.createDecipheriv(t,e,n);if(a[t])return new i({key:e,iv:n,mode:t,decrypt:!0});throw new TypeError("invalid suite type")}e.createCipher=e.Cipher=function(t,e){var n,i;if(t=t.toLowerCase(),o[t])n=o[t].key,i=o[t].iv;else{if(!a[t])throw new TypeError("invalid suite type");n=8*a[t].key,i=a[t].iv}return e=s(e,!1,n,i),l(t,e.key,e.iv)},e.createCipheriv=e.Cipheriv=l,e.createDecipher=e.Decipher=function(t,e){var n,i;if(t=t.toLowerCase(),o[t])n=o[t].key,i=o[t].iv;else{if(!a[t])throw new TypeError("invalid suite type");n=8*a[t].key,i=a[t].iv}return e=s(e,!1,n,i),c(t,e.key,e.iv)},e.createDecipheriv=e.Decipheriv=c,e.listCiphers=e.getCiphers=function(){return Object.keys(a).concat(r.getCiphers())}},function(t,e,n){var o=n(109),i=n(513),r=n(10),a=n(15).Buffer,s={"des-ede3-cbc":i.CBC.instantiate(i.EDE),"des-ede3":i.EDE,"des-ede-cbc":i.CBC.instantiate(i.EDE),"des-ede":i.EDE,"des-cbc":i.CBC.instantiate(i.DES),"des-ecb":i.DES};function l(t){o.call(this);var e=t.mode.toLowerCase(),n=s[e],i=t.decrypt?"decrypt":"encrypt",r=t.key,e=(a.isBuffer(r)||(r=a.from(r)),"des-ede"!==e&&"des-ede-cbc"!==e||(r=a.concat([r,r.slice(0,8)])),t.iv);a.isBuffer(e)||(e=a.from(e)),this._des=n.create({key:r,iv:e,type:i})}s.des=s["des-cbc"],s.des3=s["des-ede3-cbc"],r(t.exports=l,o),l.prototype._update=function(t){return a.from(this._des.update(t))},l.prototype._final=function(){return a.from(this._des.final())}},function(t,e,n){"use strict";e.utils=n(443),e.Cipher=n(393),e.DES=n(444),e.CBC=n(514),e.EDE=n(515)},function(t,e,n){"use strict";var i=n(74),o=n(10),a={};function r(t){i.equal(t.length,8,"Invalid IV length"),this.iv=new Array(8);for(var e=0;e<this.iv.length;e++)this.iv[e]=t[e]}e.instantiate=function(e){function n(t){e.call(this,t),this._cbcInit()}o(n,e);for(var t=Object.keys(a),i=0;i<t.length;i++){var r=t[i];n.prototype[r]=a[r]}return n.create=function(t){return new n(t)},n},a._cbcInit=function(){var t=new r(this.options.iv);this._cbcState=t},a._update=function(t,e,n,i){var r=this._cbcState,o=this.constructor.super_.prototype,a=r.iv;if("encrypt"===this.type){for(var s=0;s<this.blockSize;s++)a[s]^=t[e+s];o._update.call(this,a,0,n,i);for(s=0;s<this.blockSize;s++)a[s]=n[i+s]}else{o._update.call(this,t,e,n,i);for(s=0;s<this.blockSize;s++)n[i+s]^=a[s];for(s=0;s<this.blockSize;s++)a[s]=t[e+s]}}},function(t,e,n){"use strict";var r=n(74),i=n(10),o=n(393),a=n(444);function s(t,e){r.equal(e.length,24,"Invalid key length");var n=e.slice(0,8),i=e.slice(8,16),e=e.slice(16,24);this.ciphers="encrypt"===t?[a.create({type:"encrypt",key:n}),a.create({type:"decrypt",key:i}),a.create({type:"encrypt",key:e})]:[a.create({type:"decrypt",key:e}),a.create({type:"encrypt",key:i}),a.create({type:"decrypt",key:n})]}function l(t){o.call(this,t);t=new s(this.type,this.options.key);this._edeState=t}i(l,o),(t.exports=l).create=function(t){return new l(t)},l.prototype._update=function(t,e,n,i){var r=this._edeState;r.ciphers[0]._update(t,e,n,i),r.ciphers[1]._update(n,i,n,i),r.ciphers[2]._update(n,i,n,i)},l.prototype._pad=a.prototype._pad,l.prototype._unpad=a.prototype._unpad},function(t,e,n){var i=n(395),r=n(448),o=n(15).Buffer,a=n(449),s=n(109),l=n(376),c=n(377);function u(t,e,n){s.call(this),this._cache=new d,this._cipher=new l.AES(e),this._prev=o.from(n),this._mode=t,this._autopadding=!0}n(10)(u,s),u.prototype._update=function(t){this._cache.add(t);for(var e,n=[];e=this._cache.get();)e=this._mode.encrypt(this,e),n.push(e);return o.concat(n)};var h=o.alloc(16,16);function d(){this.cache=o.allocUnsafe(0)}function f(t,e,n){t=i[t.toLowerCase()];if(!t)throw new TypeError("invalid suite type");if((e="string"==typeof e?o.from(e):e).length!==t.key/8)throw new TypeError("invalid key length "+e.length);if("string"==typeof n&&(n=o.from(n)),"GCM"!==t.mode&&n.length!==t.iv)throw new TypeError("invalid iv length "+n.length);return new("stream"===t.type?a:"auth"===t.type?r:u)(t.module,e,n)}u.prototype._final=function(){var t=this._cache.flush();if(this._autopadding)return t=this._mode.encrypt(this,t),this._cipher.scrub(),t;if(!t.equals(h))throw this._cipher.scrub(),new Error("data not multiple of block length")},u.prototype.setAutoPadding=function(t){return this._autopadding=!!t,this},d.prototype.add=function(t){this.cache=o.concat([this.cache,t])},d.prototype.get=function(){var t;return 15<this.cache.length?(t=this.cache.slice(0,16),this.cache=this.cache.slice(16),t):null},d.prototype.flush=function(){for(var t=16-this.cache.length,e=o.allocUnsafe(t),n=-1;++n<t;)e.writeUInt8(t,n);return o.concat([this.cache,e])},e.createCipheriv=f,e.createCipher=function(t,e){var n=i[t.toLowerCase()];if(n)return f(t,(t=c(e,!1,n.key,n.iv)).key,t.iv);throw new TypeError("invalid suite type")}},function(t,e){e.encrypt=function(t,e){return t._cipher.encryptBlock(e)},e.decrypt=function(t,e){return t._cipher.decryptBlock(e)}},function(t,e,n){var i=n(163);e.encrypt=function(t,e){e=i(e,t._prev);return t._prev=t._cipher.encryptBlock(e),t._prev},e.decrypt=function(t,e){var n=t._prev,t=(t._prev=e,t._cipher.decryptBlock(e));return i(t,n)}},function(t,e,n){var o=n(15).Buffer,a=n(163);function s(t,e,n){var i=e.length,r=a(e,t._cache);return t._cache=t._cache.slice(i),t._prev=o.concat([t._prev,n?e:r]),r}e.encrypt=function(t,e,n){for(var i,r=o.allocUnsafe(0);e.length;){if(0===t._cache.length&&(t._cache=t._cipher.encryptBlock(t._prev),t._prev=o.allocUnsafe(0)),!(t._cache.length<=e.length)){r=o.concat([r,s(t,e,n)]);break}i=t._cache.length,r=o.concat([r,s(t,e.slice(0,i),n)]),e=e.slice(i)}return r}},function(t,e,n){var u=n(15).Buffer;e.encrypt=function(t,e,n){for(var i,r,o,a,s=e.length,l=u.allocUnsafe(s),c=-1;++c<s;)l[c]=(i=t,r=e[c],o=n,a=void 0,a=i._cipher.encryptBlock(i._prev)[0]^r,i._prev=u.concat([i._prev.slice(1),u.from([o?r:a])]),a);return l}},function(t,e,n){var s=n(15).Buffer;function a(t,e,n){for(var i,r,o=-1,a=0;++o<8;)a+=(128&(r=t._cipher.encryptBlock(t._prev)[0]^(i=e&1<<7-o?128:0)))>>o%8,t._prev=function(t,e){var n=t.length,i=-1,r=s.allocUnsafe(t.length);t=s.concat([t,s.from([e])]);for(;++i<n;)r[i]=t[i]<<1|t[i+1]>>7;return r}(t._prev,n?i:r);return a}e.encrypt=function(t,e,n){for(var i=e.length,r=s.allocUnsafe(i),o=-1;++o<i;)r[o]=a(t,e[o],n);return r}},function(t,e,n){!function(r){var o=n(163);e.encrypt=function(t,e){for(;t._cache.length<e.length;)t._cache=r.concat([t._cache,((n=t)._prev=n._cipher.encryptBlock(n._prev),n._prev)]);var n,i=t._cache.slice(0,e.length);return t._cache=t._cache.slice(e.length),o(e,i)}}.call(this,n(48).Buffer)},function(t,e,n){var i=n(15).Buffer,r=i.alloc(16,0);function a(t){var e=i.allocUnsafe(16);return e.writeUInt32BE(t[0]>>>0,0),e.writeUInt32BE(t[1]>>>0,4),e.writeUInt32BE(t[2]>>>0,8),e.writeUInt32BE(t[3]>>>0,12),e}function o(t){this.h=t,this.state=i.alloc(16,0),this.cache=i.allocUnsafe(0)}o.prototype.ghash=function(t){for(var e=-1;++e<t.length;)this.state[e]^=t[e];this._multiply()},o.prototype._multiply=function(){for(var t,e,n,i=[(t=this.h).readUInt32BE(0),t.readUInt32BE(4),t.readUInt32BE(8),t.readUInt32BE(12)],r=[0,0,0,0],o=-1;++o<128;){for(0!=(this.state[~~(o/8)]&1<<7-o%8)&&(r[0]^=i[0],r[1]^=i[1],r[2]^=i[2],r[3]^=i[3]),n=0!=(1&i[3]),e=3;0<e;e--)i[e]=i[e]>>>1|(1&i[e-1])<<31;i[0]=i[0]>>>1,n&&(i[0]=i[0]^225<<24)}this.state=a(r)},o.prototype.update=function(t){var e;for(this.cache=i.concat([this.cache,t]);16<=this.cache.length;)e=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(e)},o.prototype.final=function(t,e){return this.cache.length&&this.ghash(i.concat([this.cache,r],16)),this.ghash(a([0,t,0,e])),this.state},t.exports=o},function(t,e,n){var i=n(448),r=n(15).Buffer,o=n(395),a=n(449),s=n(109),l=n(376),c=n(377);function u(t,e,n){s.call(this),this._cache=new h,this._last=void 0,this._cipher=new l.AES(e),this._prev=r.from(n),this._mode=t,this._autopadding=!0}function h(){this.cache=r.allocUnsafe(0)}function d(t,e,n){t=o[t.toLowerCase()];if(!t)throw new TypeError("invalid suite type");if("string"==typeof n&&(n=r.from(n)),"GCM"!==t.mode&&n.length!==t.iv)throw new TypeError("invalid iv length "+n.length);if((e="string"==typeof e?r.from(e):e).length!==t.key/8)throw new TypeError("invalid key length "+e.length);return"stream"===t.type?new a(t.module,e,n,!0):"auth"===t.type?new i(t.module,e,n,!0):new u(t.module,e,n)}n(10)(u,s),u.prototype._update=function(t){this._cache.add(t);for(var e,n=[];e=this._cache.get(this._autopadding);)e=this._mode.decrypt(this,e),n.push(e);return r.concat(n)},u.prototype._final=function(){var t=this._cache.flush();if(this._autopadding){var e=this._mode.decrypt(this,t),n=e[15];if(n<1||16<n)throw new Error("unable to decrypt data");for(var i=-1;++i<n;)if(e[i+(16-n)]!==n)throw new Error("unable to decrypt data");if(16!==n)return e.slice(0,16-n)}else if(t)throw new Error("data not multiple of block length")},u.prototype.setAutoPadding=function(t){return this._autopadding=!!t,this},h.prototype.add=function(t){this.cache=r.concat([this.cache,t])},h.prototype.get=function(t){var e;if(t){if(16<this.cache.length)return e=this.cache.slice(0,16),this.cache=this.cache.slice(16),e}else if(16<=this.cache.length)return e=this.cache.slice(0,16),this.cache=this.cache.slice(16),e;return null},h.prototype.flush=function(){if(this.cache.length)return this.cache},e.createDecipher=function(t,e){var n=o[t.toLowerCase()];if(n)return d(t,(t=c(e,!1,n.key,n.iv)).key,t.iv);throw new TypeError("invalid suite type")},e.createDecipheriv=d},function(t,e){e["des-ecb"]={key:8,iv:0},e["des-cbc"]=e.des={key:8,iv:8},e["des-ede3-cbc"]=e.des3={key:24,iv:8},e["des-ede3"]={key:24,iv:0},e["des-ede-cbc"]={key:16,iv:8},e["des-ede"]={key:16,iv:0}},function(t,e,i){!function(o){var a=i(450),n=i(531),s=i(532);var l={binary:!0,hex:!0,base64:!0};e.DiffieHellmanGroup=e.createDiffieHellmanGroup=e.getDiffieHellman=function(t){var e=new o(n[t].prime,"hex"),t=new o(n[t].gen,"hex");return new s(e,t)},e.createDiffieHellman=e.DiffieHellman=function t(e,n,i,r){return o.isBuffer(n)||void 0===l[n]?t(e,"binary",n,i):(n=n||"binary",r=r||"binary",i=i||new o([2]),o.isBuffer(i)||(i=new o(i,r)),"number"==typeof e?new s(a(e,i),i,!0):(o.isBuffer(e)||(e=new o(e,n)),new s(e,i,!0)))}}.call(this,i(48).Buffer)},function(t,e){},function(t,e,S){!function(t){!function(t,e){"use strict";function m(t,e){if(!t)throw new Error(e||"Assertion failed")}function n(t,e){t.super_=e;function n(){}n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}function g(t,e,n){if(g.isBN(t))return t;this.negative=0,this.words=null,this.length=0,(this.red=null)!==t&&("le"!==e&&"be"!==e||(n=e,e=10),this._init(t||0,e||10,n||"be"))}var i;"object"==typeof t?t.exports=g:e.BN=g,(g.BN=g).wordSize=26;try{i=("undefined"!=typeof window&&void 0!==window.Buffer?window:S(529)).Buffer}catch(t){}function r(t,e){t=t.charCodeAt(e);return 65<=t&&t<=70?t-55:97<=t&&t<=102?t-87:t-48&15}function s(t,e,n){var i=r(t,n);return e<=n-1&&(i|=r(t,n-1)<<4),i}function h(t,e,n,i){for(var r=0,o=Math.min(t.length,n),a=e;a<o;a++)var s=t.charCodeAt(a)-48,r=r*i+(49<=s?s-49+10:17<=s?s-17+10:s);return r}g.isBN=function(t){return t instanceof g||null!==t&&"object"==typeof t&&t.constructor.wordSize===g.wordSize&&Array.isArray(t.words)},g.max=function(t,e){return 0<t.cmp(e)?t:e},g.min=function(t,e){return t.cmp(e)<0?t:e},g.prototype._init=function(t,e,n){if("number"==typeof t)return this._initNumber(t,e,n);if("object"==typeof t)return this._initArray(t,e,n);m((e="hex"===e?16:e)===(0|e)&&2<=e&&e<=36);var i=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<t.length&&(16===e?this._parseHex(t,i,n):(this._parseBase(t,e,i),"le"===n&&this._initArray(this.toArray(),e,n)))},g.prototype._initNumber=function(t,e,n){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(m(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),e,n)},g.prototype._initArray=function(t,e,n){if(m("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i,r,o=0;o<this.length;o++)this.words[o]=0;var a=0;if("be"===n)for(o=t.length-1,i=0;0<=o;o-=3)r=t[o]|t[o-1]<<8|t[o-2]<<16,this.words[i]|=r<<a&67108863,this.words[i+1]=r>>>26-a&67108863,26<=(a+=24)&&(a-=26,i++);else if("le"===n)for(i=o=0;o<t.length;o+=3)r=t[o]|t[o+1]<<8|t[o+2]<<16,this.words[i]|=r<<a&67108863,this.words[i+1]=r>>>26-a&67108863,26<=(a+=24)&&(a-=26,i++);return this.strip()},g.prototype._parseHex=function(t,e,n){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var r,o=0,a=0;if("be"===n)for(i=t.length-1;e<=i;i-=2)r=s(t,e,i)<<o,this.words[a]|=67108863&r,18<=o?(o-=18,this.words[a+=1]|=r>>>26):o+=8;else for(i=(t.length-e)%2==0?e+1:e;i<t.length;i+=2)r=s(t,e,i)<<o,this.words[a]|=67108863&r,18<=o?(o-=18,this.words[a+=1]|=r>>>26):o+=8;this.strip()},g.prototype._parseBase=function(t,e,n){this.words=[0];for(var i=0,r=this.length=1;r<=67108863;r*=e)i++;for(var r=r/e|0,o=t.length-n,a=o%--i,s=Math.min(o,o-a)+n,l=0,c=n;c<s;c+=i)l=h(t,c,c+i,e),this.imuln(r),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l);if(0!=a){for(var u=1,l=h(t,c,t.length,e),c=0;c<a;c++)u*=e;this.imuln(u),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l)}this.strip()},g.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},g.prototype.clone=function(){var t=new g(null);return this.copy(t),t},g.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},g.prototype.strip=function(){for(;1<this.length&&0===this.words[this.length-1];)this.length--;return this._normSign()},g.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},g.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var d=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],f=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function o(t,e,n){n.negative=e.negative^t.negative;var i=t.length+e.length|0,i=(n.length=i)-1|0,r=(a=(0|t.words[0])*(0|e.words[0]))/67108864|0;n.words[0]=67108863&a;for(var o=1;o<i;o++){for(var a,s=r>>>26,l=67108863&r,c=Math.min(o,e.length-1),u=Math.max(0,o-t.length+1);u<=c;u++)s+=(a=(0|t.words[o-u|0])*(0|e.words[u])+l)/67108864|0,l=67108863&a;n.words[o]=0|l,r=0|s}return 0!==r?n.words[o]=0|r:n.length--,n.strip()}g.prototype.toString=function(t,e){if(e=0|e||1,16===(t=t||10)||"hex"===t){s="";for(var n=0,i=0,r=0;r<this.length;r++){var o=this.words[r],a=(16777215&(o<<n|i)).toString(16),s=0!==(i=o>>>24-n&16777215)||r!==this.length-1?d[6-a.length]+a+s:a+s;26<=(n+=2)&&(n-=26,r--)}for(0!==i&&(s=i.toString(16)+s);s.length%e!=0;)s="0"+s;return s=0!==this.negative?"-"+s:s}if(t===(0|t)&&2<=t&&t<=36){var l=f[t],c=p[t];for(s="",(u=this.clone()).negative=0;!u.isZero();){var u,h=u.modn(c).toString(t);s=(u=u.idivn(c)).isZero()?h+s:d[l-h.length]+h+s}for(this.isZero()&&(s="0"+s);s.length%e!=0;)s="0"+s;return s=0!==this.negative?"-"+s:s}m(!1,"Base should be between 2 and 36")},g.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:2<this.length&&m(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},g.prototype.toJSON=function(){return this.toString(16)},g.prototype.toBuffer=function(t,e){return m(void 0!==i),this.toArrayLike(i,t,e)},g.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},g.prototype.toArrayLike=function(t,e,n){var i,r,o=this.byteLength(),a=n||Math.max(1,o),n=(m(o<=a,"byte array longer than desired length"),m(0<a,"Requested array length <= 0"),this.strip(),"le"===e),s=new t(a),l=this.clone();if(n){for(r=0;!l.isZero();r++)i=l.andln(255),l.iushrn(8),s[r]=i;for(;r<a;r++)s[r]=0}else{for(r=0;r<a-o;r++)s[r]=0;for(r=0;!l.isZero();r++)i=l.andln(255),l.iushrn(8),s[a-r-1]=i}return s},Math.clz32?g.prototype._countBits=function(t){return 32-Math.clz32(t)}:g.prototype._countBits=function(t){var e=0;return 4096<=t&&(e+=13,t>>>=13),64<=t&&(e+=7,t>>>=7),8<=t&&(e+=4,t>>>=4),2<=t&&(e+=2,t>>>=2),e+t},g.prototype._zeroBits=function(t){var e;return 0===t?26:((e=0)==(8191&(t=t))&&(e+=13,t>>>=13),0==(127&t)&&(e+=7,t>>>=7),0==(15&t)&&(e+=4,t>>>=4),0==(3&t)&&(e+=2,t>>>=2),0==(1&t)&&e++,e)},g.prototype.bitLength=function(){var t=this.words[this.length-1],t=this._countBits(t);return 26*(this.length-1)+t},g.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var n=this._zeroBits(this.words[e]);if(t+=n,26!==n)break}return t},g.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},g.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},g.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},g.prototype.isNeg=function(){return 0!==this.negative},g.prototype.neg=function(){return this.clone().ineg()},g.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},g.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this.strip()},g.prototype.ior=function(t){return m(0==(this.negative|t.negative)),this.iuor(t)},g.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},g.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},g.prototype.iuand=function(t){for(var e=this.length>t.length?t:this,n=0;n<e.length;n++)this.words[n]=this.words[n]&t.words[n];return this.length=e.length,this.strip()},g.prototype.iand=function(t){return m(0==(this.negative|t.negative)),this.iuand(t)},g.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},g.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},g.prototype.iuxor=function(t){for(var e,n=this.length>t.length?(e=this,t):(e=t,this),i=0;i<n.length;i++)this.words[i]=e.words[i]^n.words[i];if(this!==e)for(;i<e.length;i++)this.words[i]=e.words[i];return this.length=e.length,this.strip()},g.prototype.ixor=function(t){return m(0==(this.negative|t.negative)),this.iuxor(t)},g.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},g.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},g.prototype.inotn=function(t){m("number"==typeof t&&0<=t);var e=0|Math.ceil(t/26),t=t%26;this._expand(e),0<t&&e--;for(var n=0;n<e;n++)this.words[n]=67108863&~this.words[n];return 0<t&&(this.words[n]=~this.words[n]&67108863>>26-t),this.strip()},g.prototype.notn=function(t){return this.clone().inotn(t)},g.prototype.setn=function(t,e){m("number"==typeof t&&0<=t);var n=t/26|0,t=t%26;return this._expand(1+n),this.words[n]=e?this.words[n]|1<<t:this.words[n]&~(1<<t),this.strip()},g.prototype.iadd=function(t){var e,n;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();for(var i=this.length>t.length?(n=this,t):(n=t,this),r=0,o=0;o<i.length;o++)e=(0|n.words[o])+(0|i.words[o])+r,this.words[o]=67108863&e,r=e>>>26;for(;0!==r&&o<n.length;o++)e=(0|n.words[o])+r,this.words[o]=67108863&e,r=e>>>26;if(this.length=n.length,0!==r)this.words[this.length]=r,this.length++;else if(n!==this)for(;o<n.length;o++)this.words[o]=n.words[o];return this},g.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},g.prototype.isub=function(t){var e;if(0!==t.negative)return t.negative=0,e=this.iadd(t),t.negative=1,e._normSign();if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var n,i=this.cmp(t);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;for(var r=0<i?(n=this,t):(n=t,this),o=0,a=0;a<r.length;a++)o=(e=(0|n.words[a])-(0|r.words[a])+o)>>26,this.words[a]=67108863&e;for(;0!==o&&a<n.length;a++)o=(e=(0|n.words[a])+o)>>26,this.words[a]=67108863&e;if(0===o&&a<n.length&&n!==this)for(;a<n.length;a++)this.words[a]=n.words[a];return this.length=Math.max(this.length,a),n!==this&&(this.negative=1),this.strip()},g.prototype.sub=function(t){return this.clone().isub(t)};var a=function(t,D,B){var e,n=t.words,i=D.words,r=B.words,o=0|n[0],a=8191&o,o=o>>>13,s=0|n[1],l=8191&s,s=s>>>13,c=0|n[2],u=8191&c,c=c>>>13,h=0|n[3],d=8191&h,h=h>>>13,f=0|n[4],p=8191&f,f=f>>>13,m=0|n[5],g=8191&m,m=m>>>13,b=0|n[6],v=8191&b,b=b>>>13,y=0|n[7],w=8191&y,y=y>>>13,_=0|n[8],N=8191&_,_=_>>>13,n=0|n[9],F=8191&n,n=n>>>13,x=0|i[0],M=8191&x,x=x>>>13,S=0|i[1],k=8191&S,S=S>>>13,C=0|i[2],E=8191&C,C=C>>>13,P=0|i[3],$=8191&P,P=P>>>13,A=0|i[4],U=8191&A,A=A>>>13,T=0|i[5],z=8191&T,T=T>>>13,j=0|i[6],H=8191&j,j=j>>>13,L=0|i[7],q=8191&L,L=L>>>13,O=0|i[8],W=8191&O,O=O>>>13,i=0|i[9],V=8191&i,i=i>>>13,D=(B.negative=t.negative^D.negative,B.length=19,(0+Math.imul(a,M)|0)+((8191&(t=Math.imul(a,x)+Math.imul(o,M)|0))<<13)|0),R=(Math.imul(o,x)+(t>>>13)|0)+(D>>>26)|0;D&=67108863,e=Math.imul(l,M),t=Math.imul(l,x)+Math.imul(s,M)|0,I=Math.imul(s,x);var I,K=(R+(e+Math.imul(a,k)|0)|0)+((8191&(t=(t+Math.imul(a,S)|0)+Math.imul(o,k)|0))<<13)|0,Z=(R=((I+Math.imul(o,S)|0)+(t>>>13)|0)+(K>>>26)|0,K&=67108863,e=Math.imul(u,M),t=Math.imul(u,x)+Math.imul(c,M)|0,I=Math.imul(c,x),e=e+Math.imul(l,k)|0,t=(t+Math.imul(l,S)|0)+Math.imul(s,k)|0,I=I+Math.imul(s,S)|0,(R+(e+Math.imul(a,E)|0)|0)+((8191&(t=(t+Math.imul(a,C)|0)+Math.imul(o,E)|0))<<13)|0),G=(R=((I+Math.imul(o,C)|0)+(t>>>13)|0)+(Z>>>26)|0,Z&=67108863,e=Math.imul(d,M),t=Math.imul(d,x)+Math.imul(h,M)|0,I=Math.imul(h,x),e=e+Math.imul(u,k)|0,t=(t+Math.imul(u,S)|0)+Math.imul(c,k)|0,I=I+Math.imul(c,S)|0,e=e+Math.imul(l,E)|0,t=(t+Math.imul(l,C)|0)+Math.imul(s,E)|0,I=I+Math.imul(s,C)|0,(R+(e+Math.imul(a,$)|0)|0)+((8191&(t=(t+Math.imul(a,P)|0)+Math.imul(o,$)|0))<<13)|0),J=(R=((I+Math.imul(o,P)|0)+(t>>>13)|0)+(G>>>26)|0,G&=67108863,e=Math.imul(p,M),t=Math.imul(p,x)+Math.imul(f,M)|0,I=Math.imul(f,x),e=e+Math.imul(d,k)|0,t=(t+Math.imul(d,S)|0)+Math.imul(h,k)|0,I=I+Math.imul(h,S)|0,e=e+Math.imul(u,E)|0,t=(t+Math.imul(u,C)|0)+Math.imul(c,E)|0,I=I+Math.imul(c,C)|0,e=e+Math.imul(l,$)|0,t=(t+Math.imul(l,P)|0)+Math.imul(s,$)|0,I=I+Math.imul(s,P)|0,(R+(e+Math.imul(a,U)|0)|0)+((8191&(t=(t+Math.imul(a,A)|0)+Math.imul(o,U)|0))<<13)|0),Y=(R=((I+Math.imul(o,A)|0)+(t>>>13)|0)+(J>>>26)|0,J&=67108863,e=Math.imul(g,M),t=Math.imul(g,x)+Math.imul(m,M)|0,I=Math.imul(m,x),e=e+Math.imul(p,k)|0,t=(t+Math.imul(p,S)|0)+Math.imul(f,k)|0,I=I+Math.imul(f,S)|0,e=e+Math.imul(d,E)|0,t=(t+Math.imul(d,C)|0)+Math.imul(h,E)|0,I=I+Math.imul(h,C)|0,e=e+Math.imul(u,$)|0,t=(t+Math.imul(u,P)|0)+Math.imul(c,$)|0,I=I+Math.imul(c,P)|0,e=e+Math.imul(l,U)|0,t=(t+Math.imul(l,A)|0)+Math.imul(s,U)|0,I=I+Math.imul(s,A)|0,(R+(e+Math.imul(a,z)|0)|0)+((8191&(t=(t+Math.imul(a,T)|0)+Math.imul(o,z)|0))<<13)|0),X=(R=((I+Math.imul(o,T)|0)+(t>>>13)|0)+(Y>>>26)|0,Y&=67108863,e=Math.imul(v,M),t=Math.imul(v,x)+Math.imul(b,M)|0,I=Math.imul(b,x),e=e+Math.imul(g,k)|0,t=(t+Math.imul(g,S)|0)+Math.imul(m,k)|0,I=I+Math.imul(m,S)|0,e=e+Math.imul(p,E)|0,t=(t+Math.imul(p,C)|0)+Math.imul(f,E)|0,I=I+Math.imul(f,C)|0,e=e+Math.imul(d,$)|0,t=(t+Math.imul(d,P)|0)+Math.imul(h,$)|0,I=I+Math.imul(h,P)|0,e=e+Math.imul(u,U)|0,t=(t+Math.imul(u,A)|0)+Math.imul(c,U)|0,I=I+Math.imul(c,A)|0,e=e+Math.imul(l,z)|0,t=(t+Math.imul(l,T)|0)+Math.imul(s,z)|0,I=I+Math.imul(s,T)|0,(R+(e+Math.imul(a,H)|0)|0)+((8191&(t=(t+Math.imul(a,j)|0)+Math.imul(o,H)|0))<<13)|0),Q=(R=((I+Math.imul(o,j)|0)+(t>>>13)|0)+(X>>>26)|0,X&=67108863,e=Math.imul(w,M),t=Math.imul(w,x)+Math.imul(y,M)|0,I=Math.imul(y,x),e=e+Math.imul(v,k)|0,t=(t+Math.imul(v,S)|0)+Math.imul(b,k)|0,I=I+Math.imul(b,S)|0,e=e+Math.imul(g,E)|0,t=(t+Math.imul(g,C)|0)+Math.imul(m,E)|0,I=I+Math.imul(m,C)|0,e=e+Math.imul(p,$)|0,t=(t+Math.imul(p,P)|0)+Math.imul(f,$)|0,I=I+Math.imul(f,P)|0,e=e+Math.imul(d,U)|0,t=(t+Math.imul(d,A)|0)+Math.imul(h,U)|0,I=I+Math.imul(h,A)|0,e=e+Math.imul(u,z)|0,t=(t+Math.imul(u,T)|0)+Math.imul(c,z)|0,I=I+Math.imul(c,T)|0,e=e+Math.imul(l,H)|0,t=(t+Math.imul(l,j)|0)+Math.imul(s,H)|0,I=I+Math.imul(s,j)|0,(R+(e+Math.imul(a,q)|0)|0)+((8191&(t=(t+Math.imul(a,L)|0)+Math.imul(o,q)|0))<<13)|0),tt=(R=((I+Math.imul(o,L)|0)+(t>>>13)|0)+(Q>>>26)|0,Q&=67108863,e=Math.imul(N,M),t=Math.imul(N,x)+Math.imul(_,M)|0,I=Math.imul(_,x),e=e+Math.imul(w,k)|0,t=(t+Math.imul(w,S)|0)+Math.imul(y,k)|0,I=I+Math.imul(y,S)|0,e=e+Math.imul(v,E)|0,t=(t+Math.imul(v,C)|0)+Math.imul(b,E)|0,I=I+Math.imul(b,C)|0,e=e+Math.imul(g,$)|0,t=(t+Math.imul(g,P)|0)+Math.imul(m,$)|0,I=I+Math.imul(m,P)|0,e=e+Math.imul(p,U)|0,t=(t+Math.imul(p,A)|0)+Math.imul(f,U)|0,I=I+Math.imul(f,A)|0,e=e+Math.imul(d,z)|0,t=(t+Math.imul(d,T)|0)+Math.imul(h,z)|0,I=I+Math.imul(h,T)|0,e=e+Math.imul(u,H)|0,t=(t+Math.imul(u,j)|0)+Math.imul(c,H)|0,I=I+Math.imul(c,j)|0,e=e+Math.imul(l,q)|0,t=(t+Math.imul(l,L)|0)+Math.imul(s,q)|0,I=I+Math.imul(s,L)|0,(R+(e+Math.imul(a,W)|0)|0)+((8191&(t=(t+Math.imul(a,O)|0)+Math.imul(o,W)|0))<<13)|0),M=(R=((I+Math.imul(o,O)|0)+(t>>>13)|0)+(tt>>>26)|0,tt&=67108863,e=Math.imul(F,M),t=Math.imul(F,x)+Math.imul(n,M)|0,I=Math.imul(n,x),e=e+Math.imul(N,k)|0,t=(t+Math.imul(N,S)|0)+Math.imul(_,k)|0,I=I+Math.imul(_,S)|0,e=e+Math.imul(w,E)|0,t=(t+Math.imul(w,C)|0)+Math.imul(y,E)|0,I=I+Math.imul(y,C)|0,e=e+Math.imul(v,$)|0,t=(t+Math.imul(v,P)|0)+Math.imul(b,$)|0,I=I+Math.imul(b,P)|0,e=e+Math.imul(g,U)|0,t=(t+Math.imul(g,A)|0)+Math.imul(m,U)|0,I=I+Math.imul(m,A)|0,e=e+Math.imul(p,z)|0,t=(t+Math.imul(p,T)|0)+Math.imul(f,z)|0,I=I+Math.imul(f,T)|0,e=e+Math.imul(d,H)|0,t=(t+Math.imul(d,j)|0)+Math.imul(h,H)|0,I=I+Math.imul(h,j)|0,e=e+Math.imul(u,q)|0,t=(t+Math.imul(u,L)|0)+Math.imul(c,q)|0,I=I+Math.imul(c,L)|0,e=e+Math.imul(l,W)|0,t=(t+Math.imul(l,O)|0)+Math.imul(s,W)|0,I=I+Math.imul(s,O)|0,(R+(e+Math.imul(a,V)|0)|0)+((8191&(t=(t+Math.imul(a,i)|0)+Math.imul(o,V)|0))<<13)|0),x=(R=((I+Math.imul(o,i)|0)+(t>>>13)|0)+(M>>>26)|0,M&=67108863,e=Math.imul(F,k),t=Math.imul(F,S)+Math.imul(n,k)|0,I=Math.imul(n,S),e=e+Math.imul(N,E)|0,t=(t+Math.imul(N,C)|0)+Math.imul(_,E)|0,I=I+Math.imul(_,C)|0,e=e+Math.imul(w,$)|0,t=(t+Math.imul(w,P)|0)+Math.imul(y,$)|0,I=I+Math.imul(y,P)|0,e=e+Math.imul(v,U)|0,t=(t+Math.imul(v,A)|0)+Math.imul(b,U)|0,I=I+Math.imul(b,A)|0,e=e+Math.imul(g,z)|0,t=(t+Math.imul(g,T)|0)+Math.imul(m,z)|0,I=I+Math.imul(m,T)|0,e=e+Math.imul(p,H)|0,t=(t+Math.imul(p,j)|0)+Math.imul(f,H)|0,I=I+Math.imul(f,j)|0,e=e+Math.imul(d,q)|0,t=(t+Math.imul(d,L)|0)+Math.imul(h,q)|0,I=I+Math.imul(h,L)|0,e=e+Math.imul(u,W)|0,t=(t+Math.imul(u,O)|0)+Math.imul(c,W)|0,I=I+Math.imul(c,O)|0,(R+(e+Math.imul(l,V)|0)|0)+((8191&(t=(t+Math.imul(l,i)|0)+Math.imul(s,V)|0))<<13)|0),a=(R=((I+Math.imul(s,i)|0)+(t>>>13)|0)+(x>>>26)|0,x&=67108863,e=Math.imul(F,E),t=Math.imul(F,C)+Math.imul(n,E)|0,I=Math.imul(n,C),e=e+Math.imul(N,$)|0,t=(t+Math.imul(N,P)|0)+Math.imul(_,$)|0,I=I+Math.imul(_,P)|0,e=e+Math.imul(w,U)|0,t=(t+Math.imul(w,A)|0)+Math.imul(y,U)|0,I=I+Math.imul(y,A)|0,e=e+Math.imul(v,z)|0,t=(t+Math.imul(v,T)|0)+Math.imul(b,z)|0,I=I+Math.imul(b,T)|0,e=e+Math.imul(g,H)|0,t=(t+Math.imul(g,j)|0)+Math.imul(m,H)|0,I=I+Math.imul(m,j)|0,e=e+Math.imul(p,q)|0,t=(t+Math.imul(p,L)|0)+Math.imul(f,q)|0,I=I+Math.imul(f,L)|0,e=e+Math.imul(d,W)|0,t=(t+Math.imul(d,O)|0)+Math.imul(h,W)|0,I=I+Math.imul(h,O)|0,(R+(e+Math.imul(u,V)|0)|0)+((8191&(t=(t+Math.imul(u,i)|0)+Math.imul(c,V)|0))<<13)|0),o=(R=((I+Math.imul(c,i)|0)+(t>>>13)|0)+(a>>>26)|0,a&=67108863,e=Math.imul(F,$),t=Math.imul(F,P)+Math.imul(n,$)|0,I=Math.imul(n,P),e=e+Math.imul(N,U)|0,t=(t+Math.imul(N,A)|0)+Math.imul(_,U)|0,I=I+Math.imul(_,A)|0,e=e+Math.imul(w,z)|0,t=(t+Math.imul(w,T)|0)+Math.imul(y,z)|0,I=I+Math.imul(y,T)|0,e=e+Math.imul(v,H)|0,t=(t+Math.imul(v,j)|0)+Math.imul(b,H)|0,I=I+Math.imul(b,j)|0,e=e+Math.imul(g,q)|0,t=(t+Math.imul(g,L)|0)+Math.imul(m,q)|0,I=I+Math.imul(m,L)|0,e=e+Math.imul(p,W)|0,t=(t+Math.imul(p,O)|0)+Math.imul(f,W)|0,I=I+Math.imul(f,O)|0,(R+(e+Math.imul(d,V)|0)|0)+((8191&(t=(t+Math.imul(d,i)|0)+Math.imul(h,V)|0))<<13)|0),k=(R=((I+Math.imul(h,i)|0)+(t>>>13)|0)+(o>>>26)|0,o&=67108863,e=Math.imul(F,U),t=Math.imul(F,A)+Math.imul(n,U)|0,I=Math.imul(n,A),e=e+Math.imul(N,z)|0,t=(t+Math.imul(N,T)|0)+Math.imul(_,z)|0,I=I+Math.imul(_,T)|0,e=e+Math.imul(w,H)|0,t=(t+Math.imul(w,j)|0)+Math.imul(y,H)|0,I=I+Math.imul(y,j)|0,e=e+Math.imul(v,q)|0,t=(t+Math.imul(v,L)|0)+Math.imul(b,q)|0,I=I+Math.imul(b,L)|0,e=e+Math.imul(g,W)|0,t=(t+Math.imul(g,O)|0)+Math.imul(m,W)|0,I=I+Math.imul(m,O)|0,(R+(e+Math.imul(p,V)|0)|0)+((8191&(t=(t+Math.imul(p,i)|0)+Math.imul(f,V)|0))<<13)|0),S=(R=((I+Math.imul(f,i)|0)+(t>>>13)|0)+(k>>>26)|0,k&=67108863,e=Math.imul(F,z),t=Math.imul(F,T)+Math.imul(n,z)|0,I=Math.imul(n,T),e=e+Math.imul(N,H)|0,t=(t+Math.imul(N,j)|0)+Math.imul(_,H)|0,I=I+Math.imul(_,j)|0,e=e+Math.imul(w,q)|0,t=(t+Math.imul(w,L)|0)+Math.imul(y,q)|0,I=I+Math.imul(y,L)|0,e=e+Math.imul(v,W)|0,t=(t+Math.imul(v,O)|0)+Math.imul(b,W)|0,I=I+Math.imul(b,O)|0,(R+(e+Math.imul(g,V)|0)|0)+((8191&(t=(t+Math.imul(g,i)|0)+Math.imul(m,V)|0))<<13)|0),l=(R=((I+Math.imul(m,i)|0)+(t>>>13)|0)+(S>>>26)|0,S&=67108863,e=Math.imul(F,H),t=Math.imul(F,j)+Math.imul(n,H)|0,I=Math.imul(n,j),e=e+Math.imul(N,q)|0,t=(t+Math.imul(N,L)|0)+Math.imul(_,q)|0,I=I+Math.imul(_,L)|0,e=e+Math.imul(w,W)|0,t=(t+Math.imul(w,O)|0)+Math.imul(y,W)|0,I=I+Math.imul(y,O)|0,(R+(e+Math.imul(v,V)|0)|0)+((8191&(t=(t+Math.imul(v,i)|0)+Math.imul(b,V)|0))<<13)|0),s=(R=((I+Math.imul(b,i)|0)+(t>>>13)|0)+(l>>>26)|0,l&=67108863,e=Math.imul(F,q),t=Math.imul(F,L)+Math.imul(n,q)|0,I=Math.imul(n,L),e=e+Math.imul(N,W)|0,t=(t+Math.imul(N,O)|0)+Math.imul(_,W)|0,I=I+Math.imul(_,O)|0,(R+(e+Math.imul(w,V)|0)|0)+((8191&(t=(t+Math.imul(w,i)|0)+Math.imul(y,V)|0))<<13)|0),E=(R=((I+Math.imul(y,i)|0)+(t>>>13)|0)+(s>>>26)|0,s&=67108863,e=Math.imul(F,W),t=Math.imul(F,O)+Math.imul(n,W)|0,I=Math.imul(n,O),(R+(e+Math.imul(N,V)|0)|0)+((8191&(t=(t+Math.imul(N,i)|0)+Math.imul(_,V)|0))<<13)|0),C=(R=((I+Math.imul(_,i)|0)+(t>>>13)|0)+(E>>>26)|0,E&=67108863,(R+Math.imul(F,V)|0)+((8191&(t=Math.imul(F,i)+Math.imul(n,V)|0))<<13)|0);return R=(Math.imul(n,i)+(t>>>13)|0)+(C>>>26)|0,C&=67108863,r[0]=D,r[1]=K,r[2]=Z,r[3]=G,r[4]=J,r[5]=Y,r[6]=X,r[7]=Q,r[8]=tt,r[9]=M,r[10]=x,r[11]=a,r[12]=o,r[13]=k,r[14]=S,r[15]=l,r[16]=s,r[17]=E,r[18]=C,0!=R&&(r[19]=R,B.length++),B};function l(t,e,n){return(new c).mulp(t,e,n)}function c(t,e){this.x=t,this.y=e}Math.imul||(a=o),g.prototype.mulTo=function(t,e){var n=this.length+t.length,n=(10===this.length&&10===t.length?a:n<63?o:n<1024?function(t,e,n){n.negative=e.negative^t.negative,n.length=t.length+e.length;for(var i=0,r=0,o=0;o<n.length-1;o++){for(var a=r,r=0,s=67108863&i,l=Math.min(o,e.length-1),c=Math.max(0,o-t.length+1);c<=l;c++){var u,h=(0|t.words[o-c])*(0|e.words[c]),s=67108863&(u=(67108863&h)+s|0);r+=(a=(a=a+(h/67108864|0)|0)+(u>>>26)|0)>>>26,a&=67108863}n.words[o]=s,i=a,a=r}return 0!==i?n.words[o]=i:n.length--,n.strip()}:l)(this,t,e);return n},c.prototype.makeRBT=function(t){for(var e=new Array(t),n=g.prototype._countBits(t)-1,i=0;i<t;i++)e[i]=this.revBin(i,n,t);return e},c.prototype.revBin=function(t,e,n){if(0===t||t===n-1)return t;for(var i=0,r=0;r<e;r++)i|=(1&t)<<e-r-1,t>>=1;return i},c.prototype.permute=function(t,e,n,i,r,o){for(var a=0;a<o;a++)i[a]=e[t[a]],r[a]=n[t[a]]},c.prototype.transform=function(t,e,n,i,r,o){this.permute(o,t,e,n,i,r);for(var a=1;a<r;a<<=1)for(var s=a<<1,l=Math.cos(2*Math.PI/s),c=Math.sin(2*Math.PI/s),u=0;u<r;u+=s)for(var h=l,d=c,f=0;f<a;f++){var p=n[u+f],m=i[u+f],g=n[u+f+a],b=h*g-d*(v=i[u+f+a]),v=h*v+d*g;n[u+f]=p+(g=b),i[u+f]=m+v,n[u+f+a]=p-g,i[u+f+a]=m-v,f!==s&&(b=l*h-c*d,d=l*d+c*h,h=b)}},c.prototype.guessLen13b=function(t,e){for(var e=1&(i=1|Math.max(e,t)),n=0,i=i/2|0;i;i>>>=1)n++;return 1<<n+1+e},c.prototype.conjugate=function(t,e,n){if(!(n<=1))for(var i=0;i<n/2;i++){var r=t[i];t[i]=t[n-i-1],t[n-i-1]=r,r=e[i],e[i]=-e[n-i-1],e[n-i-1]=-r}},c.prototype.normalize13b=function(t,e){for(var n=0,i=0;i<e/2;i++){var r=8192*Math.round(t[2*i+1]/e)+Math.round(t[2*i]/e)+n;t[i]=67108863&r,n=r<67108864?0:r/67108864|0}return t},c.prototype.convert13b=function(t,e,n,i){for(var r=0,o=0;o<e;o++)r+=0|t[o],n[2*o]=8191&r,n[2*o+1]=8191&(r>>>=13),r>>>=13;for(o=2*e;o<i;++o)n[o]=0;m(0===r),m(0==(-8192&r))},c.prototype.stub=function(t){for(var e=new Array(t),n=0;n<t;n++)e[n]=0;return e},c.prototype.mulp=function(t,e,n){var i=2*this.guessLen13b(t.length,e.length),r=this.makeRBT(i),o=this.stub(i),a=new Array(i),s=new Array(i),l=new Array(i),c=new Array(i),u=new Array(i),h=new Array(i),d=n.words;d.length=i,this.convert13b(t.words,t.length,a,i),this.convert13b(e.words,e.length,c,i),this.transform(a,o,s,l,i,r),this.transform(c,o,u,h,i,r);for(var f=0;f<i;f++){var p=s[f]*u[f]-l[f]*h[f];l[f]=s[f]*h[f]+l[f]*u[f],s[f]=p}return this.conjugate(s,l,i),this.transform(s,l,d,o,i,r),this.conjugate(d,o,i),this.normalize13b(d,i),n.negative=t.negative^e.negative,n.length=t.length+e.length,n.strip()},g.prototype.mul=function(t){var e=new g(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},g.prototype.mulf=function(t){var e=new g(null);return e.words=new Array(this.length+t.length),l(this,t,e)},g.prototype.imul=function(t){return this.clone().mulTo(t,this)},g.prototype.imuln=function(t){m("number"==typeof t),m(t<67108864);for(var e=0,n=0;n<this.length;n++){var i=(0|this.words[n])*t,r=(67108863&i)+(67108863&e),e=(e>>=26)+(i/67108864|0)+(r>>>26);this.words[n]=67108863&r}return 0!==e&&(this.words[n]=e,this.length++),this},g.prototype.muln=function(t){return this.clone().imuln(t)},g.prototype.sqr=function(){return this.mul(this)},g.prototype.isqr=function(){return this.imul(this.clone())},g.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),n=0;n<e.length;n++){var i=n%26;e[n]=(t.words[n/26|0]&1<<i)>>>i}return e}(t);if(0===e.length)return new g(1);for(var n=this,i=0;i<e.length&&0===e[i];i++,n=n.sqr());if(++i<e.length)for(var r=n.sqr();i<e.length;i++,r=r.sqr())0!==e[i]&&(n=n.mul(r));return n},g.prototype.iushln=function(t){m("number"==typeof t&&0<=t);var e=t%26,n=(t-e)/26,i=67108863>>>26-e<<26-e;if(0!=e){for(var r=0,o=0;o<this.length;o++){var a=this.words[o]&i,s=(0|this.words[o])-a<<e;this.words[o]=s|r,r=a>>>26-e}r&&(this.words[o]=r,this.length++)}if(0!=n){for(o=this.length-1;0<=o;o--)this.words[o+n]=this.words[o];for(o=0;o<n;o++)this.words[o]=0;this.length+=n}return this.strip()},g.prototype.ishln=function(t){return m(0===this.negative),this.iushln(t)},g.prototype.iushrn=function(t,e,n){m("number"==typeof t&&0<=t),i=e?(e-e%26)/26:0;var i,r=t%26,o=Math.min((t-r)/26,this.length),a=67108863^67108863>>>r<<r,s=n;if(i-=o,i=Math.max(0,i),s){for(var l=0;l<o;l++)s.words[l]=this.words[l];s.length=o}if(0!==o)if(this.length>o)for(this.length-=o,l=0;l<this.length;l++)this.words[l]=this.words[l+o];else this.words[0]=0,this.length=1;for(var c=0,l=this.length-1;0<=l&&(0!==c||i<=l);l--){var u=0|this.words[l];this.words[l]=c<<26-r|u>>>r,c=u&a}return s&&0!==c&&(s.words[s.length++]=c),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},g.prototype.ishrn=function(t,e,n){return m(0===this.negative),this.iushrn(t,e,n)},g.prototype.shln=function(t){return this.clone().ishln(t)},g.prototype.ushln=function(t){return this.clone().iushln(t)},g.prototype.shrn=function(t){return this.clone().ishrn(t)},g.prototype.ushrn=function(t){return this.clone().iushrn(t)},g.prototype.testn=function(t){m("number"==typeof t&&0<=t);var e=t%26,t=(t-e)/26;return!(this.length<=t||!(this.words[t]&1<<e))},g.prototype.imaskn=function(t){m("number"==typeof t&&0<=t);var e=t%26,t=(t-e)/26;return m(0===this.negative,"imaskn works only with positive numbers"),this.length<=t?this:(0!=e&&t++,this.length=Math.min(t,this.length),0!=e&&(this.words[this.length-1]&=67108863^67108863>>>e<<e),this.strip())},g.prototype.maskn=function(t){return this.clone().imaskn(t)},g.prototype.iaddn=function(t){return m("number"==typeof t),m(t<67108864),t<0?this.isubn(-t):0!==this.negative?(1===this.length&&(0|this.words[0])<t?(this.words[0]=t-(0|this.words[0]),this.negative=0):(this.negative=0,this.isubn(t),this.negative=1),this):this._iaddn(t)},g.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&67108864<=this.words[e];e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},g.prototype.isubn=function(t){if(m("number"==typeof t),m(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,--this.words[e+1];return this.strip()},g.prototype.addn=function(t){return this.clone().iaddn(t)},g.prototype.subn=function(t){return this.clone().isubn(t)},g.prototype.iabs=function(){return this.negative=0,this},g.prototype.abs=function(){return this.clone().iabs()},g.prototype._ishlnsubmul=function(t,e,n){for(var i=t.length+n,r=(this._expand(i),0),o=0;o<t.length;o++){var a=(0|this.words[o+n])+r,s=(0|t.words[o])*e,r=((a-=67108863&s)>>26)-(s/67108864|0);this.words[o+n]=67108863&a}for(;o<this.length-n;o++)r=(a=(0|this.words[o+n])+r)>>26,this.words[o+n]=67108863&a;if(0!==r){for(m(-1===r),o=r=0;o<this.length;o++)r=(a=-(0|this.words[o])+r)>>26,this.words[o]=67108863&a;this.negative=1}return this.strip()},g.prototype._wordDiv=function(t,e){this.length,t.length;var n,i=this.clone(),r=t,o=0|r.words[r.length-1],a=(0!=(t=26-this._countBits(o))&&(r=r.ushln(t),i.iushln(t),o=0|r.words[r.length-1]),i.length-r.length);if("mod"!==e){(n=new g(null)).length=1+a,n.words=new Array(n.length);for(var s=0;s<n.length;s++)n.words[s]=0}var l=i.clone()._ishlnsubmul(r,1,a);0===l.negative&&(i=l,n)&&(n.words[a]=1);for(var c=a-1;0<=c;c--){var u=67108864*(0|i.words[r.length+c])+(0|i.words[r.length+c-1]),u=Math.min(u/o|0,67108863);for(i._ishlnsubmul(r,u,c);0!==i.negative;)u--,i.negative=0,i._ishlnsubmul(r,1,c),i.isZero()||(i.negative^=1);n&&(n.words[c]=u)}return n&&n.strip(),i.strip(),"div"!==e&&0!=t&&i.iushrn(t),{div:n||null,mod:i}},g.prototype.divmod=function(t,e,n){var i,r,o;return m(!t.isZero()),this.isZero()?{div:new g(0),mod:new g(0)}:0!==this.negative&&0===t.negative?(o=this.neg().divmod(t,e),"mod"!==e&&(i=o.div.neg()),"div"!==e&&(r=o.mod.neg(),n)&&0!==r.negative&&r.iadd(t),{div:i,mod:r}):0===this.negative&&0!==t.negative?(o=this.divmod(t.neg(),e),{div:i="mod"!==e?o.div.neg():i,mod:o.mod}):0!=(this.negative&t.negative)?(o=this.neg().divmod(t.neg(),e),"div"!==e&&(r=o.mod.neg(),n)&&0!==r.negative&&r.isub(t),{div:o.div,mod:r}):t.length>this.length||this.cmp(t)<0?{div:new g(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new g(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new g(this.modn(t.words[0]))}:this._wordDiv(t,e)},g.prototype.div=function(t){return this.divmod(t,"div",!1).div},g.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},g.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},g.prototype.divRound=function(t){var e,n,i=this.divmod(t);return i.mod.isZero()||(n=0!==i.div.negative?i.mod.isub(t):i.mod,e=t.ushrn(1),t=t.andln(1),(n=n.cmp(e))<0)||1===t&&0===n?i.div:0!==i.div.negative?i.div.isubn(1):i.div.iaddn(1)},g.prototype.modn=function(t){m(t<=67108863);for(var e=(1<<26)%t,n=0,i=this.length-1;0<=i;i--)n=(e*n+(0|this.words[i]))%t;return n},g.prototype.idivn=function(t){m(t<=67108863);for(var e=0,n=this.length-1;0<=n;n--){var i=(0|this.words[n])+67108864*e;this.words[n]=i/t|0,e=i%t}return this.strip()},g.prototype.divn=function(t){return this.clone().idivn(t)},g.prototype.egcd=function(t){m(0===t.negative),m(!t.isZero());for(var e=this,n=t.clone(),e=0!==e.negative?e.umod(t):e.clone(),i=new g(1),r=new g(0),o=new g(0),a=new g(1),s=0;e.isEven()&&n.isEven();)e.iushrn(1),n.iushrn(1),++s;for(var l=n.clone(),c=e.clone();!e.isZero();){for(var u=0,h=1;0==(e.words[0]&h)&&u<26;++u,h<<=1);if(0<u)for(e.iushrn(u);0<u--;)(i.isOdd()||r.isOdd())&&(i.iadd(l),r.isub(c)),i.iushrn(1),r.iushrn(1);for(var d=0,f=1;0==(n.words[0]&f)&&d<26;++d,f<<=1);if(0<d)for(n.iushrn(d);0<d--;)(o.isOdd()||a.isOdd())&&(o.iadd(l),a.isub(c)),o.iushrn(1),a.iushrn(1);0<=e.cmp(n)?(e.isub(n),i.isub(o),r.isub(a)):(n.isub(e),o.isub(i),a.isub(r))}return{a:o,b:a,gcd:n.iushln(s)}},g.prototype._invmp=function(t){m(0===t.negative),m(!t.isZero());for(var e,n=this,i=t.clone(),n=0!==n.negative?n.umod(t):n.clone(),r=new g(1),o=new g(0),a=i.clone();0<n.cmpn(1)&&0<i.cmpn(1);){for(var s=0,l=1;0==(n.words[0]&l)&&s<26;++s,l<<=1);if(0<s)for(n.iushrn(s);0<s--;)r.isOdd()&&r.iadd(a),r.iushrn(1);for(var c=0,u=1;0==(i.words[0]&u)&&c<26;++c,u<<=1);if(0<c)for(i.iushrn(c);0<c--;)o.isOdd()&&o.iadd(a),o.iushrn(1);0<=n.cmp(i)?(n.isub(i),r.isub(o)):(i.isub(n),o.isub(r))}return(e=0===n.cmpn(1)?r:o).cmpn(0)<0&&e.iadd(t),e},g.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),n=t.clone();e.negative=0;for(var i=n.negative=0;e.isEven()&&n.isEven();i++)e.iushrn(1),n.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;n.isEven();)n.iushrn(1);var r=e.cmp(n);if(r<0)var o=e,e=n,n=o;else if(0===r||0===n.cmpn(1))break;e.isub(n)}return n.iushln(i)},g.prototype.invm=function(t){return this.egcd(t).a.umod(t)},g.prototype.isEven=function(){return 0==(1&this.words[0])},g.prototype.isOdd=function(){return 1==(1&this.words[0])},g.prototype.andln=function(t){return this.words[0]&t},g.prototype.bincn=function(t){m("number"==typeof t);var e=t%26,t=(t-e)/26,e=1<<e;if(this.length<=t)this._expand(1+t),this.words[t]|=e;else{for(var n=e,i=t;0!==n&&i<this.length;i++){var r=0|this.words[i],n=(r+=n)>>>26;r&=67108863,this.words[i]=r}0!==n&&(this.words[i]=n,this.length++)}return this},g.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},g.prototype.cmpn=function(t){var e=t<0;return 0===this.negative||e?0===this.negative&&e?1:(this.strip(),e=1<this.length?1:(m((t=e?-t:t)<=67108863,"Number is too big"),(e=0|this.words[0])===t?0:e<t?-1:1),0!==this.negative?0|-e:e):-1},g.prototype.cmp=function(t){return 0!==this.negative&&0===t.negative?-1:0===this.negative&&0!==t.negative?1:(t=this.ucmp(t),0!==this.negative?0|-t:t)},g.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,n=this.length-1;0<=n;n--){var i=0|this.words[n],r=0|t.words[n];if(i!=r){i<r?e=-1:r<i&&(e=1);break}}return e},g.prototype.gtn=function(t){return 1===this.cmpn(t)},g.prototype.gt=function(t){return 1===this.cmp(t)},g.prototype.gten=function(t){return 0<=this.cmpn(t)},g.prototype.gte=function(t){return 0<=this.cmp(t)},g.prototype.ltn=function(t){return-1===this.cmpn(t)},g.prototype.lt=function(t){return-1===this.cmp(t)},g.prototype.lten=function(t){return this.cmpn(t)<=0},g.prototype.lte=function(t){return this.cmp(t)<=0},g.prototype.eqn=function(t){return 0===this.cmpn(t)},g.prototype.eq=function(t){return 0===this.cmp(t)},g.red=function(t){return new x(t)},g.prototype.toRed=function(t){return m(!this.red,"Already a number in reduction context"),m(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},g.prototype.fromRed=function(){return m(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},g.prototype._forceRed=function(t){return this.red=t,this},g.prototype.forceRed=function(t){return m(!this.red,"Already a number in reduction context"),this._forceRed(t)},g.prototype.redAdd=function(t){return m(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},g.prototype.redIAdd=function(t){return m(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},g.prototype.redSub=function(t){return m(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},g.prototype.redISub=function(t){return m(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},g.prototype.redShl=function(t){return m(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},g.prototype.redMul=function(t){return m(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},g.prototype.redIMul=function(t){return m(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},g.prototype.redSqr=function(){return m(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},g.prototype.redISqr=function(){return m(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},g.prototype.redSqrt=function(){return m(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},g.prototype.redInvm=function(){return m(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},g.prototype.redNeg=function(){return m(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},g.prototype.redPow=function(t){return m(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var u={k256:null,p224:null,p192:null,p25519:null};function b(t,e){this.name=t,this.p=new g(e,16),this.n=this.p.bitLength(),this.k=new g(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function v(){b.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function y(){b.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function w(){b.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function _(){b.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function x(t){var e;"string"==typeof t?(e=g._prime(t),this.m=e.p,this.prime=e):(m(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null)}function M(t){x.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new g(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}b.prototype._tmp=function(){var t=new g(null);return t.words=new Array(Math.ceil(this.n/13)),t},b.prototype.ireduce=function(t){for(var e,n=t;this.split(n,this.tmp),(e=(n=(n=this.imulK(n)).iadd(this.tmp)).bitLength())>this.n;);t=e<this.n?-1:n.ucmp(this.p);return 0===t?(n.words[0]=0,n.length=1):0<t?n.isub(this.p):void 0!==n.strip?n.strip():n._strip(),n},b.prototype.split=function(t,e){t.iushrn(this.n,0,e)},b.prototype.imulK=function(t){return t.imul(this.k)},n(v,b),v.prototype.split=function(t,e){for(var n=Math.min(t.length,9),i=0;i<n;i++)e.words[i]=t.words[i];if(e.length=n,t.length<=9)t.words[0]=0,t.length=1;else{var r=t.words[9];for(e.words[e.length++]=4194303&r,i=10;i<t.length;i++){var o=0|t.words[i];t.words[i-10]=(4194303&o)<<4|r>>>22,r=o}0===(t.words[i-10]=r>>>=22)&&10<t.length?t.length-=10:t.length-=9}},v.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,n=0;n<t.length;n++){var i=0|t.words[n];e+=977*i,t.words[n]=67108863&e,e=64*i+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1])&&t.length--,t},n(y,b),n(w,b),n(_,b),_.prototype.imulK=function(t){for(var e=0,n=0;n<t.length;n++){var i=19*(0|t.words[n])+e,r=67108863&i;i>>>=26,t.words[n]=r,e=i}return 0!==e&&(t.words[t.length++]=e),t},g._prime=function(t){if(u[t])return u[t];var e;if("k256"===t)e=new v;else if("p224"===t)e=new y;else if("p192"===t)e=new w;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new _}return u[t]=e},x.prototype._verify1=function(t){m(0===t.negative,"red works only with positives"),m(t.red,"red works only with red numbers")},x.prototype._verify2=function(t,e){m(0==(t.negative|e.negative),"red works only with positives"),m(t.red&&t.red===e.red,"red works only with red numbers")},x.prototype.imod=function(t){return(this.prime?this.prime.ireduce(t):t.umod(this.m))._forceRed(this)},x.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},x.prototype.add=function(t,e){this._verify2(t,e);t=t.add(e);return 0<=t.cmp(this.m)&&t.isub(this.m),t._forceRed(this)},x.prototype.iadd=function(t,e){this._verify2(t,e);t=t.iadd(e);return 0<=t.cmp(this.m)&&t.isub(this.m),t},x.prototype.sub=function(t,e){this._verify2(t,e);t=t.sub(e);return t.cmpn(0)<0&&t.iadd(this.m),t._forceRed(this)},x.prototype.isub=function(t,e){this._verify2(t,e);t=t.isub(e);return t.cmpn(0)<0&&t.iadd(this.m),t},x.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},x.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},x.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},x.prototype.isqr=function(t){return this.imul(t,t.clone())},x.prototype.sqr=function(t){return this.mul(t,t)},x.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(m(e%2==1),3===e)return e=this.m.add(new g(1)).iushrn(2),this.pow(t,e);for(var n=this.m.subn(1),i=0;!n.isZero()&&0===n.andln(1);)i++,n.iushrn(1);m(!n.isZero());for(var r=new g(1).toRed(this),o=r.redNeg(),a=this.m.subn(1).iushrn(1),s=new g(2*(s=this.m.bitLength())*s).toRed(this);0!==this.pow(s,a).cmp(o);)s.redIAdd(o);for(var l=this.pow(s,n),c=this.pow(t,n.addn(1).iushrn(1)),u=this.pow(t,n),h=i;0!==u.cmp(r);){for(var d=u,f=0;0!==d.cmp(r);f++)d=d.redSqr();m(f<h);var p=this.pow(l,new g(1).iushln(h-f-1)),c=c.redMul(p),l=p.redSqr(),u=u.redMul(l),h=f}return c},x.prototype.invm=function(t){t=t._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},x.prototype.pow=function(t,e){if(e.isZero())return new g(1).toRed(this);if(0===e.cmpn(1))return t.clone();var n=new Array(16);n[0]=new g(1).toRed(this),n[1]=t;for(var i=2;i<n.length;i++)n[i]=this.mul(n[i-1],t);var r=n[0],o=0,a=0,s=e.bitLength()%26;for(0===s&&(s=26),i=e.length-1;0<=i;i--){for(var l=e.words[i],c=s-1;0<=c;c--){var u=l>>c&1;r!==n[0]&&(r=this.sqr(r)),0==u&&0===o?a=0:(o=o<<1|u,(4===++a||0===i&&0===c)&&(r=this.mul(r,n[o]),o=a=0))}s=26}return r},x.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},x.prototype.convertFrom=function(t){t=t.clone();return t.red=null,t},g.mont=function(t){return new M(t)},n(M,x),M.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},M.prototype.convertFrom=function(t){t=this.imod(t.mul(this.rinv));return t.red=null,t},M.prototype.imul=function(t,e){return t.isZero()||e.isZero()?(t.words[0]=0,t.length=1,t):(e=(t=t.imul(e)).maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),0<=(e=t=t.isub(e).iushrn(this.shift)).cmp(this.m)?e=t.isub(this.m):t.cmpn(0)<0&&(e=t.iadd(this.m)),e._forceRed(this))},M.prototype.mul=function(t,e){return(t.isZero()||e.isZero()?new g(0):(e=(t=t.mul(e)).maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),0<=(e=t=t.isub(e).iushrn(this.shift)).cmp(this.m)?e=t.isub(this.m):t.cmpn(0)<0&&(e=t.iadd(this.m)),e))._forceRed(this)},M.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t,this)}.call(this,S(146)(t))},function(t,e){},function(t,e){},function(t){t.exports=JSON.parse('{"modp1":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},"modp2":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},"modp5":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},"modp14":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},"modp15":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},"modp16":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},"modp17":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},"modp18":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}')},function(m,t,g){!function(n){var i=g(451),o=new(g(452)),a=new i(24),s=new i(11),l=new i(10),c=new i(3),u=new i(7),h=g(450),t=g(154);function r(t,e){return e=e||"utf8",n.isBuffer(t)||(t=new n(t,e)),this._pub=new i(t),this}function d(t,e){return e=e||"utf8",n.isBuffer(t)||(t=new n(t,e)),this._priv=new i(t),this}m.exports=e;var f={};function e(t,e,n){this.setGenerator(e),this.__prime=new i(t),this._prime=i.mont(this.__prime),this._primeLen=t.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,n?(this.setPublicKey=r,this.setPrivateKey=d):this._primeCode=8}function p(t,e){t=new n(t.toArray());return e?t.toString(e):t}Object.defineProperty(e.prototype,"verifyError",{enumerable:!0,get:function(){return"number"!=typeof this._primeCode&&(this._primeCode=function(t,e){var n=[e=e.toString("hex"),t.toString(16)].join("_");if(n in f)return f[n];var i,r=0;if(t.isEven()||!h.simpleSieve||!h.fermatTest(t)||!o.test(t))return f[n]=r=r+1+("02"===e||"05"===e?8:4);switch(o.test(t.shrn(1))||(r+=2),e){case"02":t.mod(a).cmp(s)&&(r+=8);break;case"05":(i=t.mod(l)).cmp(c)&&i.cmp(u)&&(r+=8);break;default:r+=4}return f[n]=r}(this.__prime,this.__gen)),this._primeCode}}),e.prototype.generateKeys=function(){return this._priv||(this._priv=new i(t(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},e.prototype.computeSecret=function(t){var t=(t=(t=new i(t)).toRed(this._prime)).redPow(this._priv).fromRed(),t=new n(t.toArray()),e=this.getPrime();return t.length<e.length&&((e=new n(e.length-t.length)).fill(0),t=n.concat([e,t])),t},e.prototype.getPublicKey=function(t){return p(this._pub,t)},e.prototype.getPrivateKey=function(t){return p(this._priv,t)},e.prototype.getPrime=function(t){return p(this.__prime,t)},e.prototype.getGenerator=function(t){return p(this._gen,t)},e.prototype.setGenerator=function(t,e){return e=e||"utf8",n.isBuffer(t)||(t=new n(t,e)),this.__gen=t,this._gen=new i(t),this}}.call(this,g(48).Buffer)},function(t,e,n){var i=n(397).Buffer,r=n(161),o=n(534),a=n(10),s=n(542),l=n(573),c=n(437);function u(t){o.Writable.call(this);t=c[t];if(!t)throw new Error("Unknown message digest");this._hashType=t.hash,this._hash=r(t.hash),this._tag=t.id,this._signType=t.sign}function h(t){o.Writable.call(this);t=c[t];if(!t)throw new Error("Unknown message digest");this._hash=r(t.hash),this._tag=t.id,this._signType=t.sign}function d(t){return new u(t)}function f(t){return new h(t)}Object.keys(c).forEach(function(t){c[t].id=i.from(c[t].id,"hex"),c[t.toLowerCase()]=c[t]}),a(u,o.Writable),u.prototype._write=function(t,e,n){this._hash.update(t),n()},u.prototype.update=function(t,e){return"string"==typeof t&&(t=i.from(t,e)),this._hash.update(t),this},u.prototype.sign=function(t,e){this.end();var n=this._hash.digest(),n=s(n,t,this._hashType,this._signType,this._tag);return e?n.toString(e):n},a(h,o.Writable),h.prototype._write=function(t,e,n){this._hash.update(t),n()},h.prototype.update=function(t,e){return"string"==typeof t&&(t=i.from(t,e)),this._hash.update(t),this},h.prototype.verify=function(t,e,n){"string"==typeof e&&(e=i.from(e,n)),this.end();n=this._hash.digest();return l(e,n,t,this._signType,this._tag)},t.exports={Sign:d,Verify:f,createSign:d,createVerify:f}},function(t,e,n){(((e=t.exports=n(453)).Stream=e).Readable=e).Writable=n(457),e.Duplex=n(159),e.Transform=n(458),e.PassThrough=n(540),e.finished=n(398),e.pipeline=n(541)},function(t,e){},function(t,e,n){"use strict";function o(e,t){var n,i=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,n)),i}function r(i){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach(function(t){var e,n;e=i,n=r[t=t],(t=s(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach(function(t){Object.defineProperty(i,t,Object.getOwnPropertyDescriptor(r,t))})}return i}function a(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,s(i.key),i)}}function s(t){t=function(t,e){if("object"!=typeof t||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0===n)return("string"===e?String:Number)(t);n=n.call(t,e||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string");return"symbol"==typeof t?t:String(t)}var l=n(48).Buffer,c=n(537).inspect,u=c&&c.custom||"inspect";t.exports=function(){function t(){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this.head=null,this.tail=null,this.length=0}var e,n,i;return e=t,(n=[{key:"push",value:function(t){t={data:t,next:null};0<this.length?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(t){t={data:t,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){var t;if(0!==this.length)return t=this.head.data,1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(t){if(0===this.length)return"";for(var e=this.head,n=""+e.data;e=e.next;)n+=t+e.data;return n}},{key:"concat",value:function(t){if(0===this.length)return l.alloc(0);for(var e,n,i=l.allocUnsafe(t>>>0),r=this.head,o=0;r;)e=r.data,n=o,l.prototype.copy.call(e,i,n),o+=r.data.length,r=r.next;return i}},{key:"consume",value:function(t,e){var n;return t<this.head.data.length?(n=this.head.data.slice(0,t),this.head.data=this.head.data.slice(t)):n=t===this.head.data.length?this.shift():e?this._getString(t):this._getBuffer(t),n}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(t){var e=this.head,n=1,i=e.data;for(t-=i.length;e=e.next;){var r=e.data,o=t>r.length?r.length:t;if(o===r.length?i+=r:i+=r.slice(0,t),0===(t-=o)){o===r.length?(++n,e.next?this.head=e.next:this.head=this.tail=null):(this.head=e).data=r.slice(o);break}++n}return this.length-=n,i}},{key:"_getBuffer",value:function(t){var e=l.allocUnsafe(t),n=this.head,i=1;for(n.data.copy(e),t-=n.data.length;n=n.next;){var r=n.data,o=t>r.length?r.length:t;if(r.copy(e,e.length-t,0,o),0===(t-=o)){o===r.length?(++i,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n).data=r.slice(o);break}++i}return this.length-=i,e}},{key:u,value:function(t,e){return c(this,r(r({},e),{},{depth:0,customInspect:!1}))}}])&&a(e.prototype,n),i&&a(e,i),Object.defineProperty(e,"prototype",{writable:!1}),t}()},function(t,e){},function(i,t,g){"use strict";!function(o){var t;function n(t,e,n){(e=function(t){t=function(t,e){if("object"!=typeof t||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0===n)return("string"===e?String:Number)(t);n=n.call(t,e||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string");return"symbol"==typeof t?t:String(t)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}var r=g(398),a=Symbol("lastResolve"),s=Symbol("lastReject"),l=Symbol("error"),c=Symbol("ended"),u=Symbol("lastPromise"),h=Symbol("handlePromise"),d=Symbol("stream");function f(t,e){return{value:t,done:e}}function p(t){var e,n=t[a];null!==n&&null!==(e=t[d].read())&&(t[u]=null,t[a]=null,t[s]=null,n(f(e,!1)))}var e=Object.getPrototypeOf(function(){}),m=Object.setPrototypeOf((n(t={get stream(){return this[d]},next:function(){var n=this,t=this[l];if(null!==t)return Promise.reject(t);if(this[c])return Promise.resolve(f(void 0,!0));if(this[d].destroyed)return new Promise(function(t,e){o.nextTick(function(){n[l]?e(n[l]):t(f(void 0,!0))})});var e,i,r,t=this[u];if(t)e=new Promise((i=t,r=this,function(t,e){i.then(function(){r[c]?t(f(void 0,!0)):r[h](t,e)},e)}));else{t=this[d].read();if(null!==t)return Promise.resolve(f(t,!1));e=new Promise(this[h])}return this[u]=e}},Symbol.asyncIterator,function(){return this}),n(t,"return",function(){var t=this;return new Promise(function(e,n){t[d].destroy(null,function(t){t?n(t):e(f(void 0,!0))})})}),t),e);i.exports=function(t){var e,i=Object.create(m,(n(e={},d,{value:t,writable:!0}),n(e,a,{value:null,writable:!0}),n(e,s,{value:null,writable:!0}),n(e,l,{value:null,writable:!0}),n(e,c,{value:t._readableState.endEmitted,writable:!0}),n(e,h,{value:function(t,e){var n=i[d].read();n?(i[u]=null,i[a]=null,i[s]=null,t(f(n,!1))):(i[a]=t,i[s]=e)},writable:!0}),e));return i[u]=null,r(t,function(t){var e;t&&"ERR_STREAM_PREMATURE_CLOSE"!==t.code?(null!==(e=i[s])&&(i[u]=null,i[a]=null,i[s]=null,e(t)),i[l]=t):(null!==(e=i[a])&&(i[u]=null,i[a]=null,e(f(void 0,!(i[s]=null)))),i[c]=!0)}),t.on("readable",function(t){o.nextTick(p,t)}.bind(null,i)),i}}.call(this,g(36))},function(t,e){t.exports=function(){throw new Error("Readable.from is not available in the browser")}},function(t,e,n){"use strict";t.exports=r;var i=n(458);function r(t){if(!(this instanceof r))return new r(t);i.call(this,t)}n(10)(r,i),r.prototype._transform=function(t,e,n){n(null,t)}},function(t,e,l){"use strict";var c;var n=l(158).codes,s=n.ERR_MISSING_ARGS,u=n.ERR_STREAM_DESTROYED;function h(t){if(t)throw t}function d(n,t,e,i){r=i,o=!1;var r,o,a=!(i=function(){o||(o=!0,r.apply(void 0,arguments))}),s=(n.on("close",function(){a=!0}),(c=void 0===c?l(398):c)(n,{readable:t,writable:e},function(t){if(t)return i(t);a=!0,i()}),!1);return function(t){var e;if(!a&&!s)return s=!0,(e=n).setHeader&&"function"==typeof e.abort?n.abort():"function"==typeof n.destroy?n.destroy():void i(t||new u("pipe"))}}function f(t){t()}function p(t,e){return t.pipe(e)}t.exports=function(){for(var t=arguments.length,i=new Array(t),e=0;e<t;e++)i[e]=arguments[e];var n,r,o=!(n=i).length||"function"!=typeof n[n.length-1]?h:n.pop();if((i=Array.isArray(i[0])?i[0]:i).length<2)throw new s("streams");var a=i.map(function(t,e){var n=e<i.length-1;return d(t,n,0<e,function(t){r=r||t,t&&a.forEach(f),n||(a.forEach(f),o(r))})});return i.reduce(p)}},function(t,e,n){var x=n(397).Buffer,o=n(435),M=n(399),S=n(401).ec,k=n(400),C=n(379),E=n(470);function P(t,e,n,i){(t=x.from(t.toArray())).length<e.byteLength()&&(r=x.alloc(e.byteLength()-t.length),t=x.concat([r,t]));var r=n.length,n=function(t,e){t=(t=A(t,e)).mod(e);t=x.from(t.toArray());t.length<e.byteLength()&&(e=x.alloc(e.byteLength()-t.length),t=x.concat([e,t]));return t}(n,e),r=((e=x.alloc(r)).fill(1),x.alloc(r)),r=o(i,r).update(e).update(x.from([0])).update(t).update(n).digest(),e=o(i,r).update(e).digest();return{k:r=o(i,r).update(e).update(x.from([1])).update(t).update(n).digest(),v:e=o(i,r).update(e).digest()}}function A(t,e){var n=new k(t),t=(t.length<<3)-e.bitLength();return 0<t&&n.ishrn(t),n}function T(t,e,n){var i,r;do{for(i=x.alloc(0);8*i.length<t.bitLength();)e.v=o(n,e.k).update(e.v).digest(),i=x.concat([i,e.v])}while(r=A(i,t),e.k=o(n,e.k).update(e.v).update(x.from([0])).digest(),e.v=o(n,e.k).update(e.v).digest(),-1!==r.cmp(t));return r}t.exports=function(t,e,n,i,r){if((e=C(e)).curve){if("ecdsa"!==i&&"ecdsa/rsa"!==i)throw new Error("wrong private key type");var o=t,a=e,s=E[a.curve.join(".")];if(s)return s=new S(s).keyFromPrivate(a.privateKey).sign(o),x.from(s.toDER());throw new Error("unknown curve "+a.curve.join("."))}if("dsa"===e.type){if("dsa"!==i)throw new Error("wrong private key type");for(var l,o=t,s=e,c=n,u=s.params.priv_key,h=s.params.p,d=s.params.q,f=s.params.g,p=new k(0),m=A(o,d).mod(d),g=!1,b=P(u,d,o,c);!1===g;)l=T(d,b,c),p=function(t,e,n,i){return t.toRed(k.mont(n)).redPow(e).fromRed().mod(i)}(f,l,h,d),0===(g=l.invm(d).imul(m.add(u.mul(p))).mod(d)).cmpn(0)&&(g=!1,p=new k(0));var a=p,n=g,v=(a=a.toArray(),n=n.toArray(),128&a[0]&&(a=[0].concat(a)),128&n[0]&&(n=[0].concat(n)),[48,a.length+n.length+4,2,a.length]);return v=v.concat(a,[2,n.length],n),x.from(v)}if("rsa"!==i&&"ecdsa/rsa"!==i)throw new Error("wrong private key type");t=x.concat([r,t]);for(var y=e.modulus.byteLength(),w=[0,1];t.length+w.length+1<y;)w.push(255);w.push(0);for(var _=-1;++_<t.length;)w.push(t[_]);return M(w,e)},t.exports.getKey=P,t.exports.makeKey=T},function(t,e){},function(t){t.exports=JSON.parse('{"name":"elliptic","version":"6.5.4","description":"EC cryptography","main":"lib/elliptic.js","files":["lib"],"scripts":{"lint":"eslint lib test","lint:fix":"npm run lint -- --fix","unit":"istanbul test _mocha --reporter=spec test/index.js","test":"npm run lint && npm run unit","version":"grunt dist && git add dist/"},"repository":{"type":"git","url":"git@github.com:indutny/elliptic"},"keywords":["EC","Elliptic","curve","Cryptography"],"author":"Fedor Indutny <fedor@indutny.com>","license":"MIT","bugs":{"url":"https://github.com/indutny/elliptic/issues"},"homepage":"https://github.com/indutny/elliptic","devDependencies":{"brfs":"^2.0.2","coveralls":"^3.1.0","eslint":"^7.6.0","grunt":"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1","istanbul":"^0.4.5","mocha":"^8.0.1"},"dependencies":{"bn.js":"^4.11.9","brorand":"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1","inherits":"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"}}')},function(t,e){},function(t,e,n){"use strict";var i=n(75),y=n(106),r=n(10),o=n(378),a=i.assert;function s(t){o.call(this,"short",t),this.a=new y(t.a,16).toRed(this.red),this.b=new y(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function l(t,e,n,i){o.BasePoint.call(this,t,"affine"),null===e&&null===n?(this.x=null,this.y=null,this.inf=!0):(this.x=new y(e,16),this.y=new y(n,16),i&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function c(t,e,n,i){o.BasePoint.call(this,t,"jacobian"),null===e&&null===n&&null===i?(this.x=this.curve.one,this.y=this.curve.one,this.z=new y(0)):(this.x=new y(e,16),this.y=new y(n,16),this.z=new y(i,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}r(s,o),(t.exports=s).prototype._getEndomorphism=function(t){var e,n,i;if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3))return n=(t.beta?new y(t.beta,16):n=(n=this._getEndoRoots(this.p))[0].cmp(n[1])<0?n[0]:n[1]).toRed(this.red),t.lambda?e=new y(t.lambda,16):(i=this._getEndoRoots(this.n),0===this.g.mul(i[0]).x.cmp(this.g.x.redMul(n))?e=i[0]:(e=i[1],a(0===this.g.mul(e).x.cmp(this.g.x.redMul(n))))),{beta:n,lambda:e,basis:t.basis?t.basis.map(function(t){return{a:new y(t.a,16),b:new y(t.b,16)}}):this._getEndoBasis(e)}},s.prototype._getEndoRoots=function(t){var t=t===this.p?this.red:y.mont(t),e=new y(2).toRed(t).redInvm(),n=e.redNeg(),t=new y(3).toRed(t).redNeg().redSqrt().redMul(e);return[n.redAdd(t).fromRed(),n.redSub(t).fromRed()]},s.prototype._getEndoBasis=function(t){for(var e,n,i,r,o,a=this.n.ushrn(Math.floor(this.n.bitLength()/2)),s=t,l=this.n.clone(),c=new y(1),u=new y(0),h=new y(0),d=new y(1),f=0;0!==s.cmpn(0);){var p=l.div(s),m=l.sub(p.mul(s)),g=h.sub(p.mul(c)),p=d.sub(p.mul(u));if(!i&&m.cmp(a)<0)e=o.neg(),n=c,i=m.neg(),r=g;else if(i&&2==++f)break;l=s,s=o=m,h=c,c=g,d=u,u=p}var t=m.neg(),b=g,v=i.sqr().add(r.sqr());return 0<=t.sqr().add(b.sqr()).cmp(v)&&(t=e,b=n),i.negative&&(i=i.neg(),r=r.neg()),t.negative&&(t=t.neg(),b=b.neg()),[{a:i,b:r},{a:t,b:b}]},s.prototype._endoSplit=function(t){var e=this.endo.basis,n=e[0],e=e[1],i=e.b.mul(t).divRound(this.n),r=n.b.neg().mul(t).divRound(this.n),o=i.mul(n.a),a=r.mul(e.a),i=i.mul(n.b),n=r.mul(e.b);return{k1:t.sub(o).sub(a),k2:i.add(n).neg()}},s.prototype.pointFromX=function(t,e){var n=(t=(t=new y(t,16)).red?t:t.toRed(this.red)).redSqr().redMul(t).redIAdd(t.redMul(this.a)).redIAdd(this.b),i=n.redSqrt();if(0!==i.redSqr().redSub(n).cmp(this.zero))throw new Error("invalid point");n=i.fromRed().isOdd();return(e&&!n||!e&&n)&&(i=i.redNeg()),this.point(t,i)},s.prototype.validate=function(t){var e,n;return!!t.inf||(n=t.x,t=t.y,e=this.a.redMul(n),n=n.redSqr().redMul(n).redIAdd(e).redIAdd(this.b),0===t.redSqr().redISub(n).cmpn(0))},s.prototype._endoWnafMulAdd=function(t,e,n){for(var i=this._endoWnafT1,r=this._endoWnafT2,o=0;o<t.length;o++){var a=this._endoSplit(e[o]),s=t[o],l=s._getBeta();a.k1.negative&&(a.k1.ineg(),s=s.neg(!0)),a.k2.negative&&(a.k2.ineg(),l=l.neg(!0)),i[2*o]=s,i[2*o+1]=l,r[2*o]=a.k1,r[2*o+1]=a.k2}for(var n=this._wnafMulAdd(1,i,r,2*o,n),c=0;c<2*o;c++)i[c]=null,r[c]=null;return n},r(l,o.BasePoint),s.prototype.point=function(t,e,n){return new l(this,t,e,n)},s.prototype.pointFromJSON=function(t,e){return l.fromJSON(this,t,e)},l.prototype._getBeta=function(){var t,e,n,i;if(this.curve.endo)return(t=this.precomputed)&&t.beta?t.beta:(e=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y),t&&(n=this.curve,i=function(t){return n.point(t.x.redMul(n.endo.beta),t.y)},(t.beta=e).precomputed={beta:null,naf:t.naf&&{wnd:t.naf.wnd,points:t.naf.points.map(i)},doubles:t.doubles&&{step:t.doubles.step,points:t.doubles.points.map(i)}}),e)},l.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},l.fromJSON=function(e,t,n){"string"==typeof t&&(t=JSON.parse(t));var i=e.point(t[0],t[1],n);return t[2]&&(t=t[2],i.precomputed={beta:null,doubles:t.doubles&&{step:t.doubles.step,points:[i].concat(t.doubles.points.map(r))},naf:t.naf&&{wnd:t.naf.wnd,points:[i].concat(t.naf.points.map(r))}}),i;function r(t){return e.point(t[0],t[1],n)}},l.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},l.prototype.isInfinity=function(){return this.inf},l.prototype.add=function(t){var e;return this.inf?t:t.inf?this:this.eq(t)?this.dbl():this.neg().eq(t)||0===this.x.cmp(t.x)?this.curve.point(null,null):(t=(e=0!==(e=this.y.redSub(t.y)).cmpn(0)?e.redMul(this.x.redSub(t.x).redInvm()):e).redSqr().redISub(this.x).redISub(t.x),e=e.redMul(this.x.redSub(t)).redISub(this.y),this.curve.point(t,e))},l.prototype.dbl=function(){var t,e,n;return this.inf?this:0===(n=this.y.redAdd(this.y)).cmpn(0)?this.curve.point(null,null):(e=this.curve.a,t=this.x.redSqr(),n=n.redInvm(),e=(t=t.redAdd(t).redIAdd(t).redIAdd(e).redMul(n)).redSqr().redISub(this.x.redAdd(this.x)),n=t.redMul(this.x.redSub(e)).redISub(this.y),this.curve.point(e,n))},l.prototype.getX=function(){return this.x.fromRed()},l.prototype.getY=function(){return this.y.fromRed()},l.prototype.mul=function(t){return t=new y(t,16),this.isInfinity()?this:this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve.endo?this.curve._endoWnafMulAdd([this],[t]):this.curve._wnafMul(this,t)},l.prototype.mulAdd=function(t,e,n){e=[this,e],t=[t,n];return this.curve.endo?this.curve._endoWnafMulAdd(e,t):this.curve._wnafMulAdd(1,e,t,2)},l.prototype.jmulAdd=function(t,e,n){e=[this,e],t=[t,n];return this.curve.endo?this.curve._endoWnafMulAdd(e,t,!0):this.curve._wnafMulAdd(1,e,t,2,!0)},l.prototype.eq=function(t){return this===t||this.inf===t.inf&&(this.inf||0===this.x.cmp(t.x)&&0===this.y.cmp(t.y))},l.prototype.neg=function(t){var e,n;return this.inf?this:(e=this.curve.point(this.x,this.y.redNeg()),t&&this.precomputed&&(t=this.precomputed,n=function(t){return t.neg()},e.precomputed={naf:t.naf&&{wnd:t.naf.wnd,points:t.naf.points.map(n)},doubles:t.doubles&&{step:t.doubles.step,points:t.doubles.points.map(n)}}),e)},l.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},r(c,o.BasePoint),s.prototype.jpoint=function(t,e,n){return new c(this,t,e,n)},c.prototype.toP=function(){var t,e,n;return this.isInfinity()?this.curve.point(null,null):(n=(t=this.z.redInvm()).redSqr(),e=this.x.redMul(n),n=this.y.redMul(n).redMul(t),this.curve.point(e,n))},c.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},c.prototype.add=function(t){var e,n,i,r,o,a;return this.isInfinity()?t:t.isInfinity()?this:(e=t.z.redSqr(),o=this.z.redSqr(),a=this.x.redMul(e),n=t.x.redMul(o),e=this.y.redMul(e.redMul(t.z)),o=t.y.redMul(o.redMul(this.z)),n=a.redSub(n),o=e.redSub(o),0===n.cmpn(0)?0!==o.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl():(i=(r=n.redSqr()).redMul(n),a=a.redMul(r),r=o.redSqr().redIAdd(i).redISub(a).redISub(a),o=o.redMul(a.redISub(r)).redISub(e.redMul(i)),a=this.z.redMul(t.z).redMul(n),this.curve.jpoint(r,o,a)))},c.prototype.mixedAdd=function(t){var e,n,i,r,o;return this.isInfinity()?t.toJ():t.isInfinity()?this:(n=this.z.redSqr(),o=this.x,r=t.x.redMul(n),e=this.y,t=t.y.redMul(n).redMul(this.z),n=o.redSub(r),r=e.redSub(t),0===n.cmpn(0)?0!==r.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl():(i=(t=n.redSqr()).redMul(n),o=o.redMul(t),t=r.redSqr().redIAdd(i).redISub(o).redISub(o),r=r.redMul(o.redISub(t)).redISub(e.redMul(i)),o=this.z.redMul(n),this.curve.jpoint(t,r,o)))},c.prototype.dblp=function(t){if(0===t)return this;if(this.isInfinity())return this;if(!t)return this.dbl();if(this.curve.zeroA||this.curve.threeA){for(var e=this,n=0;n<t;n++)e=e.dbl();return e}var i=this.curve.a,r=this.curve.tinv,o=this.x,a=this.y,s=this.z,l=s.redSqr().redSqr(),c=a.redAdd(a);for(n=0;n<t;n++){var u=o.redSqr(),h=c.redSqr(),d=h.redSqr(),u=u.redAdd(u).redIAdd(u).redIAdd(i.redMul(l)),h=o.redMul(h),f=u.redSqr().redISub(h.redAdd(h)),h=h.redISub(f),u=(u=u.redMul(h)).redIAdd(u).redISub(d),h=c.redMul(s);n+1<t&&(l=l.redMul(d)),o=f,s=h,c=u}return this.curve.jpoint(o,c.redMul(r),s)},c.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},c.prototype._zeroDbl=function(){var t,e,n,i,r,o=this.zOne?(e=this.x.redSqr(),n=(t=this.y.redSqr()).redSqr(),t=(t=this.x.redAdd(t).redSqr().redISub(e).redISub(n)).redIAdd(t),i=(e=e.redAdd(e).redIAdd(e)).redSqr().redISub(t).redISub(t),n=(n=(n=n.redIAdd(n)).redIAdd(n)).redIAdd(n),t=e.redMul(t.redISub(e=i)).redISub(n),this.y.redAdd(this.y)):(i=this.x.redSqr(),r=(n=this.y.redSqr()).redSqr(),n=(n=this.x.redAdd(n).redSqr().redISub(i).redISub(r)).redIAdd(n),o=(i=i.redAdd(i).redIAdd(i)).redSqr(),r=(r=(r=r.redIAdd(r)).redIAdd(r)).redIAdd(r),e=o.redISub(n).redISub(n),t=i.redMul(n.redISub(e)).redISub(r),(o=this.y.redMul(this.z)).redIAdd(o));return this.curve.jpoint(e,t,o)},c.prototype._threeDbl=function(){var t,e,n,i,r,o,a,s;return this.zOne?(e=this.x.redSqr(),r=(t=this.y.redSqr()).redSqr(),t=(t=this.x.redAdd(t).redSqr().redISub(e).redISub(r)).redIAdd(t),n=i=(e=e.redAdd(e).redIAdd(e).redIAdd(this.curve.a)).redSqr().redISub(t).redISub(t),r=(r=(r=r.redIAdd(r)).redIAdd(r)).redIAdd(r),e=e.redMul(t.redISub(i)).redISub(r),t=this.y.redAdd(this.y)):(i=this.z.redSqr(),r=this.y.redSqr(),a=this.x.redMul(r),o=(o=this.x.redSub(i).redMul(this.x.redAdd(i))).redAdd(o).redIAdd(o),s=(a=(a=a.redIAdd(a)).redIAdd(a)).redAdd(a),n=o.redSqr().redISub(s),t=this.y.redAdd(this.z).redSqr().redISub(r).redISub(i),s=(s=(s=(s=r.redSqr()).redIAdd(s)).redIAdd(s)).redIAdd(s),e=o.redMul(a.redISub(n)).redISub(s)),this.curve.jpoint(n,e,t)},c.prototype._dbl=function(){var t=this.curve.a,e=this.x,n=this.y,i=this.z,r=i.redSqr().redSqr(),o=e.redSqr(),a=n.redSqr(),o=o.redAdd(o).redIAdd(o).redIAdd(t.redMul(r)),t=e.redAdd(e),r=(t=t.redIAdd(t)).redMul(a),e=o.redSqr().redISub(r.redAdd(r)),t=r.redISub(e),r=a.redSqr(),a=(r=(r=(r=r.redIAdd(r)).redIAdd(r)).redIAdd(r),o.redMul(t).redISub(r)),o=n.redAdd(n).redMul(i);return this.curve.jpoint(e,a,o)},c.prototype.trpl=function(){var t,e,n,i,r,o,a;return this.curve.zeroA?(e=this.x.redSqr(),r=this.y.redSqr(),t=this.z.redSqr(),a=r.redSqr(),o=(i=e.redAdd(e).redIAdd(e)).redSqr(),n=(e=(e=(e=(e=this.x.redAdd(r).redSqr().redISub(e).redISub(a)).redIAdd(e)).redAdd(e).redIAdd(e)).redISub(o)).redSqr(),a=(a=(a=(a=a.redIAdd(a)).redIAdd(a)).redIAdd(a)).redIAdd(a),i=i.redIAdd(e).redSqr().redISub(o).redISub(n).redISub(a),o=(o=(o=r.redMul(i)).redIAdd(o)).redIAdd(o),r=(r=(r=this.x.redMul(n).redISub(o)).redIAdd(r)).redIAdd(r),o=(o=(o=(o=this.y.redMul(i.redMul(a.redISub(i)).redISub(e.redMul(n)))).redIAdd(o)).redIAdd(o)).redIAdd(o),a=this.z.redAdd(e).redSqr().redISub(t).redISub(n),this.curve.jpoint(r,o,a)):this.dbl().add(this)},c.prototype.mul=function(t,e){return t=new y(t,e),this.curve._wnafMul(this,t)},c.prototype.eq=function(t){var e,n;return"affine"===t.type?this.eq(t.toJ()):this===t||(e=this.z.redSqr(),n=t.z.redSqr(),0===this.x.redMul(n).redISub(t.x.redMul(e)).cmpn(0)&&(e=e.redMul(this.z),n=n.redMul(t.z),0===this.y.redMul(n).redISub(t.y.redMul(e)).cmpn(0)))},c.prototype.eqXToP=function(t){var e=this.z.redSqr(),n=t.toRed(this.curve.red).redMul(e);if(0===this.x.cmp(n))return!0;for(var i=t.clone(),r=this.curve.redN.redMul(e);;){if(i.iadd(this.curve.n),0<=i.cmp(this.curve.p))return!1;if(n.redIAdd(r),0===this.x.cmp(n))return!0}},c.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},c.prototype.isInfinity=function(){return 0===this.z.cmpn(0)}},function(t,e,n){"use strict";var i=n(106),r=n(10),o=n(378),a=n(75);function s(t){o.call(this,"mont",t),this.a=new i(t.a,16).toRed(this.red),this.b=new i(t.b,16).toRed(this.red),this.i4=new i(4).toRed(this.red).redInvm(),this.two=new i(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function l(t,e,n){o.BasePoint.call(this,t,"projective"),null===e&&null===n?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new i(e,16),this.z=new i(n,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}r(s,o),(t.exports=s).prototype.validate=function(t){var t=t.normalize().x,e=t.redSqr(),e=e.redMul(t).redAdd(e.redMul(this.a)).redAdd(t);return 0===e.redSqrt().redSqr().cmp(e)},r(l,o.BasePoint),s.prototype.decodePoint=function(t,e){return this.point(a.toArray(t,e),1)},s.prototype.point=function(t,e){return new l(this,t,e)},s.prototype.pointFromJSON=function(t){return l.fromJSON(this,t)},l.prototype.precompute=function(){},l.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},l.fromJSON=function(t,e){return new l(t,e[0],e[1]||t.one)},l.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},l.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},l.prototype.dbl=function(){var t=this.x.redAdd(this.z).redSqr(),e=this.x.redSub(this.z).redSqr(),n=t.redSub(e),t=t.redMul(e),e=n.redMul(e.redAdd(this.curve.a24.redMul(n)));return this.curve.point(t,e)},l.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},l.prototype.diffAdd=function(t,e){var n=this.x.redAdd(this.z),i=this.x.redSub(this.z),r=t.x.redAdd(t.z),t=t.x.redSub(t.z).redMul(n),n=r.redMul(i),r=e.z.redMul(t.redAdd(n).redSqr()),i=e.x.redMul(t.redISub(n).redSqr());return this.curve.point(r,i)},l.prototype.mul=function(t){for(var e=t.clone(),n=this,i=this.curve.point(null,null),r=[];0!==e.cmpn(0);e.iushrn(1))r.push(e.andln(1));for(var o=r.length-1;0<=o;o--)0===r[o]?(n=n.diffAdd(i,this),i=i.dbl()):(i=n.diffAdd(i,this),n=n.dbl());return i},l.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},l.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},l.prototype.eq=function(t){return 0===this.getX().cmp(t.getX())},l.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},l.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},function(t,e,n){"use strict";var i=n(75),o=n(106),r=n(10),a=n(378),s=i.assert;function l(t){this.twisted=1!=(0|t.a),this.mOneA=this.twisted&&-1==(0|t.a),this.extended=this.mOneA,a.call(this,"edwards",t),this.a=new o(t.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new o(t.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new o(t.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),s(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1==(0|t.c)}function c(t,e,n,i,r){a.BasePoint.call(this,t,"projective"),null===e&&null===n&&null===i?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new o(e,16),this.y=new o(n,16),this.z=i?new o(i,16):this.curve.one,this.t=r&&new o(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}r(l,a),(t.exports=l).prototype._mulA=function(t){return this.mOneA?t.redNeg():this.a.redMul(t)},l.prototype._mulC=function(t){return this.oneC?t:this.c.redMul(t)},l.prototype.jpoint=function(t,e,n,i){return this.point(t,e,n,i)},l.prototype.pointFromX=function(t,e){var n=(t=(t=new o(t,16)).red?t:t.toRed(this.red)).redSqr(),i=this.c2.redSub(this.a.redMul(n)),n=this.one.redSub(this.c2.redMul(this.d).redMul(n)),i=i.redMul(n.redInvm()),n=i.redSqrt();if(0!==n.redSqr().redSub(i).cmp(this.zero))throw new Error("invalid point");i=n.fromRed().isOdd();return(e&&!i||!e&&i)&&(n=n.redNeg()),this.point(t,n)},l.prototype.pointFromY=function(t,e){var n=(t=(t=new o(t,16)).red?t:t.toRed(this.red)).redSqr(),i=n.redSub(this.c2),n=n.redMul(this.d).redMul(this.c2).redSub(this.a),i=i.redMul(n.redInvm());if(0===i.cmp(this.zero)){if(e)throw new Error("invalid point");return this.point(this.zero,t)}n=i.redSqrt();if(0!==n.redSqr().redSub(i).cmp(this.zero))throw new Error("invalid point");return n.fromRed().isOdd()!==e&&(n=n.redNeg()),this.point(n,t)},l.prototype.validate=function(t){if(t.isInfinity())return!0;t.normalize();var e=t.x.redSqr(),t=t.y.redSqr(),n=e.redMul(this.a).redAdd(t),e=this.c2.redMul(this.one.redAdd(this.d.redMul(e).redMul(t)));return 0===n.cmp(e)},r(c,a.BasePoint),l.prototype.pointFromJSON=function(t){return c.fromJSON(this,t)},l.prototype.point=function(t,e,n,i){return new c(this,t,e,n,i)},c.fromJSON=function(t,e){return new c(t,e[0],e[1],e[2])},c.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},c.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&(0===this.y.cmp(this.z)||this.zOne&&0===this.y.cmp(this.curve.c))},c.prototype._extDbl=function(){var t=this.x.redSqr(),e=this.y.redSqr(),n=(n=this.z.redSqr()).redIAdd(n),i=this.curve._mulA(t),t=this.x.redAdd(this.y).redSqr().redISub(t).redISub(e),r=i.redAdd(e),n=r.redSub(n),i=i.redSub(e),e=t.redMul(n),o=r.redMul(i),t=t.redMul(i),i=n.redMul(r);return this.curve.point(e,o,i,t)},c.prototype._projDbl=function(){var t,e,n,i,r,o,a=this.x.redAdd(this.y).redSqr(),s=this.x.redSqr(),l=this.y.redSqr();return o=this.curve.twisted?(o=(r=this.curve._mulA(s)).redAdd(l),this.zOne?(t=a.redSub(s).redSub(l).redMul(o.redSub(this.curve.two)),e=o.redMul(r.redSub(l)),o.redSqr().redSub(o).redSub(o)):(n=this.z.redSqr(),i=o.redSub(n).redISub(n),t=a.redSub(s).redISub(l).redMul(i),e=o.redMul(r.redSub(l)),o.redMul(i))):(r=s.redAdd(l),n=this.curve._mulC(this.z).redSqr(),i=r.redSub(n).redSub(n),t=this.curve._mulC(a.redISub(r)).redMul(i),e=this.curve._mulC(r).redMul(s.redISub(l)),r.redMul(i)),this.curve.point(t,e,o)},c.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},c.prototype._extAdd=function(t){var e=this.y.redSub(this.x).redMul(t.y.redSub(t.x)),n=this.y.redAdd(this.x).redMul(t.y.redAdd(t.x)),i=this.t.redMul(this.curve.dd).redMul(t.t),t=this.z.redMul(t.z.redAdd(t.z)),r=n.redSub(e),o=t.redSub(i),t=t.redAdd(i),i=n.redAdd(e),n=r.redMul(o),e=t.redMul(i),r=r.redMul(i),i=o.redMul(t);return this.curve.point(n,e,i,r)},c.prototype._projAdd=function(t){var e,n=this.z.redMul(t.z),i=n.redSqr(),r=this.x.redMul(t.x),o=this.y.redMul(t.y),a=this.curve.d.redMul(r).redMul(o),s=i.redSub(a),i=i.redAdd(a),a=this.x.redAdd(this.y).redMul(t.x.redAdd(t.y)).redISub(r).redISub(o),t=n.redMul(s).redMul(a),a=(this.curve.twisted?(e=n.redMul(i).redMul(o.redSub(this.curve._mulA(r))),s):(e=n.redMul(i).redMul(o.redSub(r)),this.curve._mulC(s))).redMul(i);return this.curve.point(t,e,a)},c.prototype.add=function(t){return this.isInfinity()?t:t.isInfinity()?this:this.curve.extended?this._extAdd(t):this._projAdd(t)},c.prototype.mul=function(t){return this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve._wnafMul(this,t)},c.prototype.mulAdd=function(t,e,n){return this.curve._wnafMulAdd(1,[this,e],[t,n],2,!1)},c.prototype.jmulAdd=function(t,e,n){return this.curve._wnafMulAdd(1,[this,e],[t,n],2,!0)},c.prototype.normalize=function(){var t;return this.zOne||(t=this.z.redInvm(),this.x=this.x.redMul(t),this.y=this.y.redMul(t),this.t&&(this.t=this.t.redMul(t)),this.z=this.curve.one,this.zOne=!0),this},c.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},c.prototype.getX=function(){return this.normalize(),this.x.fromRed()},c.prototype.getY=function(){return this.normalize(),this.y.fromRed()},c.prototype.eq=function(t){return this===t||0===this.getX().cmp(t.getX())&&0===this.getY().cmp(t.getY())},c.prototype.eqXToP=function(t){var e=t.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(e))return!0;for(var n=t.clone(),i=this.curve.redN.redMul(this.z);;){if(n.iadd(this.curve.n),0<=n.cmp(this.curve.p))return!1;if(e.redIAdd(i),0===this.x.cmp(e))return!0}},c.prototype.toP=c.prototype.normalize,c.prototype.mixedAdd=c.prototype.add},function(t,e,n){"use strict";e.sha1=n(550),e.sha224=n(551),e.sha256=n(462),e.sha384=n(552),e.sha512=n(463)},function(t,e,n){"use strict";var i=n(105),r=n(164),n=n(461),u=i.rotl32,h=i.sum32,d=i.sum32_5,f=n.ft_1,o=r.BlockHash,p=[1518500249,1859775393,2400959708,3395469782];function a(){if(!(this instanceof a))return new a;o.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}i.inherits(a,o),(t.exports=a).blockSize=512,a.outSize=160,a.hmacStrength=80,a.padLength=64,a.prototype._update=function(t,e){for(var n=this.W,i=0;i<16;i++)n[i]=t[e+i];for(;i<n.length;i++)n[i]=u(n[i-3]^n[i-8]^n[i-14]^n[i-16],1);for(var r=this.h[0],o=this.h[1],a=this.h[2],s=this.h[3],l=this.h[4],i=0;i<n.length;i++)var c=~~(i/20),c=d(u(r,5),f(c,o,a,s),l,n[i],p[c]),l=s,s=a,a=u(o,30),o=r,r=c;this.h[0]=h(this.h[0],r),this.h[1]=h(this.h[1],o),this.h[2]=h(this.h[2],a),this.h[3]=h(this.h[3],s),this.h[4]=h(this.h[4],l)},a.prototype._digest=function(t){return"hex"===t?i.toHex32(this.h,"big"):i.split32(this.h,"big")}},function(t,e,n){"use strict";var i=n(105),r=n(462);function o(){if(!(this instanceof o))return new o;r.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}i.inherits(o,r),(t.exports=o).blockSize=512,o.outSize=224,o.hmacStrength=192,o.padLength=64,o.prototype._digest=function(t){return"hex"===t?i.toHex32(this.h.slice(0,7),"big"):i.split32(this.h.slice(0,7),"big")}},function(t,e,n){"use strict";var i=n(105),r=n(463);function o(){if(!(this instanceof o))return new o;r.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}i.inherits(o,r),(t.exports=o).blockSize=1024,o.outSize=384,o.hmacStrength=192,o.padLength=128,o.prototype._digest=function(t){return"hex"===t?i.toHex32(this.h.slice(0,12),"big"):i.split32(this.h.slice(0,12),"big")}},function(t,e,n){"use strict";var i=n(105),n=n(164),m=i.rotl32,g=i.sum32,b=i.sum32_3,v=i.sum32_4,r=n.BlockHash;function o(){if(!(this instanceof o))return new o;r.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function y(t,e,n,i){return t<=15?e^n^i:t<=31?e&n|~e&i:t<=47?(e|~n)^i:t<=63?e&i|n&~i:e^(n|~i)}i.inherits(o,r),(e.ripemd160=o).blockSize=512,o.outSize=160,o.hmacStrength=192,o.padLength=64,o.prototype._update=function(t,e){for(var n,i=u=this.h[0],r=p=this.h[1],o=f=this.h[2],a=d=this.h[3],s=h=this.h[4],l=0;l<80;l++)var c=g(m(v(u,y(l,p,f,d),t[w[l]+e],(n=l)<=15?0:n<=31?1518500249:n<=47?1859775393:n<=63?2400959708:2840853838),x[l]),h),u=h,h=d,d=m(f,10),f=p,p=c,c=g(m(v(i,y(79-l,r,o,a),t[_[l]+e],(n=l)<=15?1352829926:n<=31?1548603684:n<=47?1836072691:n<=63?2053994217:0),M[l]),s),i=s,s=a,a=m(o,10),o=r,r=c;c=b(this.h[1],f,a),this.h[1]=b(this.h[2],d,s),this.h[2]=b(this.h[3],h,i),this.h[3]=b(this.h[4],u,r),this.h[4]=b(this.h[0],p,o),this.h[0]=c},o.prototype._digest=function(t){return"hex"===t?i.toHex32(this.h,"little"):i.split32(this.h,"little")};var w=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],_=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],x=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],M=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},function(t,e,n){"use strict";var i=n(105),r=n(74);function o(t,e,n){if(!(this instanceof o))return new o(t,e,n);this.Hash=t,this.blockSize=t.blockSize/8,this.outSize=t.outSize/8,this.inner=null,this.outer=null,this._init(i.toArray(e,n))}(t.exports=o).prototype._init=function(t){t.length>this.blockSize&&(t=(new this.Hash).update(t).digest()),r(t.length<=this.blockSize);for(var e=t.length;e<this.blockSize;e++)t.push(0);for(e=0;e<t.length;e++)t[e]^=54;for(this.inner=(new this.Hash).update(t),e=0;e<t.length;e++)t[e]^=106;this.outer=(new this.Hash).update(t)},o.prototype.update=function(t,e){return this.inner.update(t,e),this},o.prototype.digest=function(t){return this.outer.update(this.inner.digest()),this.outer.digest(t)}},function(t,e){t.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},function(t,e,n){"use strict";var d=n(106),f=n(557),i=n(75),r=n(402),o=n(396),s=i.assert,a=n(558),p=n(559);function l(t){if(!(this instanceof l))return new l(t);"string"==typeof t&&(s(Object.prototype.hasOwnProperty.call(r,t),"Unknown curve "+t),t=r[t]),t instanceof r.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}(t.exports=l).prototype.keyPair=function(t){return new a(this,t)},l.prototype.keyFromPrivate=function(t,e){return a.fromPrivate(this,t,e)},l.prototype.keyFromPublic=function(t,e){return a.fromPublic(this,t,e)},l.prototype.genKeyPair=function(t){for(var e=new f({hash:this.hash,pers:(t=t||{}).pers,persEnc:t.persEnc||"utf8",entropy:t.entropy||o(this.hash.hmacStrength),entropyEnc:t.entropy&&t.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),i=this.n.sub(new d(2));;){var r=new d(e.generate(n));if(!(0<r.cmp(i)))return r.iaddn(1),this.keyFromPrivate(r)}},l.prototype._truncateToN=function(t,e){var n=8*t.byteLength()-this.n.bitLength();return 0<n&&(t=t.ushrn(n)),!e&&0<=t.cmp(this.n)?t.sub(this.n):t},l.prototype.sign=function(t,e,n,i){"object"==typeof n&&(i=n,n=null),i=i||{},e=this.keyFromPrivate(e,n),t=this._truncateToN(new d(t,16));for(var n=this.n.byteLength(),r=e.getPrivate().toArray("be",n),n=t.toArray("be",n),o=new f({hash:this.hash,entropy:r,nonce:n,pers:i.pers,persEnc:i.persEnc||"utf8"}),a=this.n.sub(new d(1)),s=0;;s++){var l=i.k?i.k(s):new d(o.generate(this.n.byteLength())),l=this._truncateToN(l,!0);if(!(l.cmpn(1)<=0||0<=l.cmp(a))){var c=this.g.mul(l);if(!c.isInfinity()){var u=c.getX(),h=u.umod(this.n);if(0!==h.cmpn(0)){l=(l=l.invm(this.n).mul(h.mul(e.getPrivate()).iadd(t))).umod(this.n);if(0!==l.cmpn(0))return c=(c.getY().isOdd()?1:0)|(0!==u.cmp(h)?2:0),i.canonical&&0<l.cmp(this.nh)&&(l=this.n.sub(l),c^=1),new p({r:h,s:l,recoveryParam:c})}}}}},l.prototype.verify=function(t,e,n,i){t=this._truncateToN(new d(t,16)),n=this.keyFromPublic(n,i);var r,i=(e=new p(e,"hex")).r,e=e.s;return!(i.cmpn(1)<0||0<=i.cmp(this.n)||e.cmpn(1)<0||0<=e.cmp(this.n))&&(t=(e=e.invm(this.n)).mul(t).umod(this.n),e=e.mul(i).umod(this.n),this.curve._maxwellTrick?!(r=this.g.jmulAdd(t,n.getPublic(),e)).isInfinity()&&r.eqXToP(i):!(r=this.g.mulAdd(t,n.getPublic(),e)).isInfinity()&&0===r.getX().umod(this.n).cmp(i))},l.prototype.recoverPubKey=function(t,e,n,i){s((3&n)===n,"The recovery param is more than two bits"),e=new p(e,i);var i=this.n,t=new d(t),r=e.r,o=e.s,a=1&n,n=n>>1;if(0<=r.cmp(this.curve.p.umod(this.curve.n))&&n)throw new Error("Unable to find sencond key candinate");r=n?this.curve.pointFromX(r.add(this.curve.n),a):this.curve.pointFromX(r,a),n=e.r.invm(i),a=i.sub(t).mul(n).umod(i),e=o.mul(n).umod(i);return this.g.mulAdd(a,r,e)},l.prototype.getKeyRecoveryParam=function(t,e,n,i){if(null!==(e=new p(e,i)).recoveryParam)return e.recoveryParam;for(var r,o=0;o<4;o++){try{r=this.recoverPubKey(t,e,o)}catch(t){continue}if(r.eq(n))return o}throw new Error("Unable to find valid recovery factor")}},function(t,e,n){"use strict";var i=n(403),o=n(459),r=n(74);function a(t){if(!(this instanceof a))return new a(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=o.toArray(t.entropy,t.entropyEnc||"hex"),n=o.toArray(t.nonce,t.nonceEnc||"hex"),t=o.toArray(t.pers,t.persEnc||"hex");r(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,n,t)}(t.exports=a).prototype._init=function(t,e,n){t=t.concat(e).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(t),this._reseed=1,this.reseedInterval=281474976710656},a.prototype._hmac=function(){return new i.hmac(this.hash,this.K)},a.prototype._update=function(t){var e=this._hmac().update(this.V).update([0]);t&&(e=e.update(t)),this.K=e.digest(),this.V=this._hmac().update(this.V).digest(),t&&(this.K=this._hmac().update(this.V).update([1]).update(t).digest(),this.V=this._hmac().update(this.V).digest())},a.prototype.reseed=function(t,e,n,i){"string"!=typeof e&&(i=n,n=e,e=null),t=o.toArray(t,e),n=o.toArray(n,i),r(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(t.concat(n||[])),this._reseed=1},a.prototype.generate=function(t,e,n,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof e&&(i=n,n=e,e=null),n&&(n=o.toArray(n,i||"hex"),this._update(n));for(var r=[];r.length<t;)this.V=this._hmac().update(this.V).digest(),r=r.concat(this.V);i=r.slice(0,t);return this._update(n),this._reseed++,o.encode(i,e)}},function(t,e,n){"use strict";var i=n(106),r=n(75).assert;function o(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}(t.exports=o).fromPublic=function(t,e,n){return e instanceof o?e:new o(t,{pub:e,pubEnc:n})},o.fromPrivate=function(t,e,n){return e instanceof o?e:new o(t,{priv:e,privEnc:n})},o.prototype.validate=function(){var t=this.getPublic();return t.isInfinity()?{result:!1,reason:"Invalid public key"}:t.validate()?t.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},o.prototype.getPublic=function(t,e){return"string"==typeof t&&(e=t,t=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),e?this.pub.encode(e,t):this.pub},o.prototype.getPrivate=function(t){return"hex"===t?this.priv.toString(16,2):this.priv},o.prototype._importPrivate=function(t,e){this.priv=new i(t,e||16),this.priv=this.priv.umod(this.ec.curve.n)},o.prototype._importPublic=function(t,e){t.x||t.y?("mont"===this.ec.curve.type?r(t.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||r(t.x&&t.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(t.x,t.y)):this.pub=this.ec.curve.decodePoint(t,e)},o.prototype.derive=function(t){return t.validate()||r(t.validate(),"public point not validated"),t.mul(this.priv).getX()},o.prototype.sign=function(t,e,n){return this.ec.sign(t,this,e,n)},o.prototype.verify=function(t,e){return this.ec.verify(t,e,this)},o.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},function(t,e,n){"use strict";var r=n(106),o=n(75),i=o.assert;function a(t,e){if(t instanceof a)return t;this._importDER(t,e)||(i(t.r&&t.s,"Signature without r or s"),this.r=new r(t.r,16),this.s=new r(t.s,16),void 0===t.recoveryParam?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}function s(){this.place=0}function l(t,e){var n=t[e.place++];if(!(128&n))return n;var i=15&n;if(0==i||4<i)return!1;for(var r=0,o=0,a=e.place;o<i;o++,a++)r=((r<<=8)|t[a])>>>0;return!(r<=127)&&(e.place=a,r)}function c(t){for(var e=0,n=t.length-1;!t[e]&&!(128&t[e+1])&&e<n;)e++;return 0===e?t:t.slice(e)}function u(t,e){if(!(e<128)){var n=1+(Math.log(e)/Math.LN2>>>3);for(t.push(128|n);--n;)t.push(e>>>(n<<3)&255)}t.push(e)}(t.exports=a).prototype._importDER=function(t,e){t=o.toArray(t,e);e=new s;if(48!==t[e.place++])return!1;var n=l(t,e);if(!1===n)return!1;if(n+e.place!==t.length)return!1;if(2!==t[e.place++])return!1;n=l(t,e);if(!1===n)return!1;var i=t.slice(e.place,n+e.place);if(e.place+=n,2!==t[e.place++])return!1;n=l(t,e);if(!1===n)return!1;if(t.length!==n+e.place)return!1;t=t.slice(e.place,n+e.place);if(0===i[0]){if(!(128&i[1]))return!1;i=i.slice(1)}if(0===t[0]){if(!(128&t[1]))return!1;t=t.slice(1)}return this.r=new r(i),this.s=new r(t),!(this.recoveryParam=null)},a.prototype.toDER=function(t){var e=this.r.toArray(),n=this.s.toArray();for(128&e[0]&&(e=[0].concat(e)),128&n[0]&&(n=[0].concat(n)),e=c(e),n=c(n);!(n[0]||128&n[1]);)n=n.slice(1);var i=[2],e=(u(i,e.length),(i=i.concat(e)).push(2),u(i,n.length),i.concat(n)),i=[48];return u(i,e.length),i=i.concat(e),o.encode(i,t)}},function(t,e,n){"use strict";var i=n(403),r=n(402),o=n(75),a=o.assert,s=o.parseBytes,l=n(561),c=n(562);function u(t){if(a("ed25519"===t,"only tested with ed25519 so far"),!(this instanceof u))return new u(t);t=r[t].curve,this.curve=t,this.g=t.g,this.g.precompute(t.n.bitLength()+1),this.pointClass=t.point().constructor,this.encodingLength=Math.ceil(t.n.bitLength()/8),this.hash=i.sha512}(t.exports=u).prototype.sign=function(t,e){t=s(t);var e=this.keyFromSecret(e),n=this.hashInt(e.messagePrefix(),t),i=this.g.mul(n),r=this.encodePoint(i),t=this.hashInt(r,e.pubBytes(),t).mul(e.priv()),e=n.add(t).umod(this.curve.n);return this.makeSignature({R:i,S:e,Rencoded:r})},u.prototype.verify=function(t,e,n){t=s(t),e=this.makeSignature(e);var n=this.keyFromPublic(n),t=this.hashInt(e.Rencoded(),n.pubBytes(),t),i=this.g.mul(e.S());return e.R().add(n.pub().mul(t)).eq(i)},u.prototype.hashInt=function(){for(var t=this.hash(),e=0;e<arguments.length;e++)t.update(arguments[e]);return o.intFromLE(t.digest()).umod(this.curve.n)},u.prototype.keyFromPublic=function(t){return l.fromPublic(this,t)},u.prototype.keyFromSecret=function(t){return l.fromSecret(this,t)},u.prototype.makeSignature=function(t){return t instanceof c?t:new c(this,t)},u.prototype.encodePoint=function(t){var e=t.getY().toArray("le",this.encodingLength);return e[this.encodingLength-1]|=t.getX().isOdd()?128:0,e},u.prototype.decodePoint=function(t){var e=(t=o.parseBytes(t)).length-1,n=t.slice(0,e).concat(-129&t[e]),t=0!=(128&t[e]),e=o.intFromLE(n);return this.curve.pointFromY(e,t)},u.prototype.encodeInt=function(t){return t.toArray("le",this.encodingLength)},u.prototype.decodeInt=function(t){return o.intFromLE(t)},u.prototype.isPoint=function(t){return t instanceof this.pointClass}},function(t,e,n){"use strict";var i=n(75),r=i.assert,o=i.parseBytes,n=i.cachedProperty;function a(t,e){this.eddsa=t,this._secret=o(e.secret),t.isPoint(e.pub)?this._pub=e.pub:this._pubBytes=o(e.pub)}a.fromPublic=function(t,e){return e instanceof a?e:new a(t,{pub:e})},a.fromSecret=function(t,e){return e instanceof a?e:new a(t,{secret:e})},a.prototype.secret=function(){return this._secret},n(a,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),n(a,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),n(a,"privBytes",function(){var t=this.eddsa,e=this.hash(),n=t.encodingLength-1,e=e.slice(0,t.encodingLength);return e[0]&=248,e[n]&=127,e[n]|=64,e}),n(a,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),n(a,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),n(a,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),a.prototype.sign=function(t){return r(this._secret,"KeyPair can only verify"),this.eddsa.sign(t,this)},a.prototype.verify=function(t,e){return this.eddsa.verify(t,e,this)},a.prototype.getSecret=function(t){return r(this._secret,"KeyPair is public only"),i.encode(this.secret(),t)},a.prototype.getPublic=function(t){return i.encode(this.pubBytes(),t)},t.exports=a},function(t,e,n){"use strict";var i=n(106),r=n(75),o=r.assert,n=r.cachedProperty,a=r.parseBytes;function s(t,e){this.eddsa=t,"object"!=typeof e&&(e=a(e)),Array.isArray(e)&&(e={R:e.slice(0,t.encodingLength),S:e.slice(t.encodingLength)}),o(e.R&&e.S,"Signature without R or S"),t.isPoint(e.R)&&(this._R=e.R),e.S instanceof i&&(this._S=e.S),this._Rencoded=Array.isArray(e.R)?e.R:e.Rencoded,this._Sencoded=Array.isArray(e.S)?e.S:e.Sencoded}n(s,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),n(s,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),n(s,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),n(s,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),s.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},s.prototype.toHex=function(){return r.encode(this.toBytes(),"hex").toUpperCase()},t.exports=s},function(t,e,n){"use strict";var i=n(464),n=(e.certificate=n(570),i.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())})),n=(e.RSAPrivateKey=n,i.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())})),n=(e.RSAPublicKey=n,i.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(r),this.key("subjectPublicKey").bitstr())})),r=(e.PublicKey=n,i.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())})),n=i.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(r),this.key("subjectPrivateKey").octstr())}),n=(e.PrivateKey=n,i.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())})),n=(e.EncryptedPrivateKey=n,i.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())})),n=(e.DSAPrivateKey=n,e.DSAparam=i.define("DSAparam",function(){this.int()}),i.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(o),this.key("publicKey").optional().explicit(1).bitstr())})),o=(e.ECPrivateKey=n,i.define("ECParameters",function(){this.choice({namedCurve:this.objid()})}));e.signature=i.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())})},function(t,e){},function(t,e,n){"use strict";const i=n(466),r=n(468),o=n(10);function a(t,e){this.name=t,this.body=e,this.decoders={},this.encoders={}}e.define=function(t,e){return new a(t,e)},a.prototype._createNamed=function(n){const e=this.name;function t(t){this._initNamed(t,e)}return o(t,n),t.prototype._initNamed=function(t,e){n.call(this,t,e)},new t(this)},a.prototype._getDecoder=function(t){return this.decoders.hasOwnProperty(t=t||"der")||(this.decoders[t]=this._createNamed(r[t])),this.decoders[t]},a.prototype.decode=function(t,e,n){return this._getDecoder(e).decode(t,n)},a.prototype._getEncoder=function(t){return this.encoders.hasOwnProperty(t=t||"der")||(this.encoders[t]=this._createNamed(i[t])),this.encoders[t]},a.prototype.encode=function(t,e,n){return this._getEncoder(e).encode(t,n)}},function(t,e,n){"use strict";var i=n(10);const r=n(467);function o(t){r.call(this,t),this.enc="pem"}i(o,r),(t.exports=o).prototype.encode=function(t,e){var n=r.prototype.encode.call(this,t).toString("base64"),i=["-----BEGIN "+e.label+"-----"];for(let t=0;t<n.length;t+=64)i.push(n.slice(t,t+64));return i.push("-----END "+e.label+"-----"),i.join("\n")}},function(t,e,n){"use strict";var i=n(10);const l=n(404).Buffer,c=n(469);function r(t){c.call(this,t),this.enc="pem"}i(r,c),(t.exports=r).prototype.decode=function(t,e){var n=t.toString().split(/[\r\n]+/g),i=e.label.toUpperCase(),r=/^-----(BEGIN|END) ([^-]+)-----$/;let o=-1,a=-1;for(let t=0;t<n.length;t++){var s=n[t].match(r);if(null!==s&&s[2]===i){if(-1!==o){if("END"!==s[1])break;a=t;break}if("BEGIN"!==s[1])break;o=t}}if(-1===o||-1===a)throw new Error("PEM section not found for: "+i);t=n.slice(o+1,a).join(""),t.replace(/[^a-z0-9+/=]+/gi,""),t=l.from(t,"base64");return c.prototype.decode.call(this,t,e)}},function(t,e,n){"use strict";e.Reporter=n(406).Reporter,e.DecoderBuffer=n(165).DecoderBuffer,e.EncoderBuffer=n(165).EncoderBuffer,e.Node=n(405)},function(t,e,n){"use strict";e._reverse=function(n){const i={};return Object.keys(n).forEach(function(t){(0|t)==t&&(t|=0);var e=n[t];i[e]=t}),i},e.der=n(407)},function(t,e,n){"use strict";var n=n(464),i=n.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),r=n.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),o=n.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),a=n.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(o),this.key("subjectPublicKey").bitstr())}),s=n.define("RelativeDistinguishedName",function(){this.setof(r)}),l=n.define("RDNSequence",function(){this.seqof(s)}),c=n.define("Name",function(){this.choice({rdnSequence:this.use(l)})}),u=n.define("Validity",function(){this.seq().obj(this.key("notBefore").use(i),this.key("notAfter").use(i))}),h=n.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),d=n.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(o),this.key("issuer").use(c),this.key("validity").use(u),this.key("subject").use(c),this.key("subjectPublicKeyInfo").use(a),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(h).optional())}),n=n.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(d),this.key("signatureAlgorithm").use(o),this.key("signatureValue").bitstr())});t.exports=n},function(t){t.exports=JSON.parse('{"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}')},function(t,e,n){var a=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,s=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,l=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,c=n(377),u=n(394),h=n(15).Buffer;t.exports=function(t,e){var n,i,r,t=t.toString(),o=t.match(a);return r=o?(i="aes"+o[1],r=h.from(o[2],"hex"),n=h.from(o[3].replace(/[\r\n]/g,""),"base64"),e=c(e,r.slice(0,8),parseInt(o[1],10)).key,o=[],i=u.createDecipheriv(i,e,r),o.push(i.update(n)),o.push(i.final()),h.concat(o)):(e=t.match(l),h.from(e[2].replace(/[\r\n]/g,""),"base64")),{tag:t.match(s)[1],data:r}}},function(t,e,n){var v=n(397).Buffer,y=n(400),w=n(401).ec,_=n(379),x=n(470);function M(t,e){if(t.cmpn(0)<=0)throw new Error("invalid sig");if(t.cmp(e)>=e)throw new Error("invalid sig")}t.exports=function(t,e,n,i,r){var o,a;if("ec"===(n=_(n)).type){if("ecdsa"!==i&&"ecdsa/rsa"!==i)throw new Error("wrong public key type");var s,l=t,c=e,u=n,h=x[u.data.algorithm.curve.join(".")];if(h)return h=new w(h),s=u.data.subjectPrivateKey.data,h.verify(c,l,s);throw new Error("unknown curve "+u.data.algorithm.curve.join("."))}if("dsa"===n.type){if("dsa"!==i)throw new Error("wrong public key type");return h=t,c=e,s=(l=n).data.p,u=n.data.q,g=n.data.g,l=n.data.pub_key,h=_.signature.decode(h,"der"),o=h.s,h=h.r,M(o,u),M(h,u),a=y.mont(s),o=o.invm(u),0===g.toRed(a).redPow(new y(c).mul(o).mod(u)).fromRed().mul(l.toRed(a).redPow(h.mul(o).mod(u)).fromRed()).mod(s).mod(u).cmp(h)}if("rsa"!==i&&"ecdsa/rsa"!==i)throw new Error("wrong public key type");e=v.concat([r,e]);for(var d=n.modulus.byteLength(),f=[1],p=0;e.length+f.length+2<d;)f.push(255),p++;f.push(0);for(var m=-1;++m<e.length;)f.push(e[m]);var f=v.from(f),g=y.mont(n.modulus),b=(t=(t=new y(t).toRed(g)).redPow(new y(n.publicExponent)),t=v.from(t.fromRed().toArray()),p<8?1:0),d=Math.min(t.length,f.length);for(t.length!==f.length&&(b=1),m=-1;++m<d;)b|=t[m]^f[m];return 0===b}},function(t,e,s){!function(i){var e=s(401),n=s(575),r=(t.exports=function(t){return new o(t)},{secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}});function o(t){this.curveType=r[t],this.curveType||(this.curveType={name:t}),this.curve=new e.ec(this.curveType.name),this.keys=void 0}function a(t,e,n){Array.isArray(t)||(t=t.toArray());t=new i(t);return n&&t.length<n&&((n=new i(n-t.length)).fill(0),t=i.concat([n,t])),e?t.toString(e):t}r.p224=r.secp224r1,r.p256=r.secp256r1=r.prime256v1,r.p192=r.secp192r1=r.prime192v1,r.p384=r.secp384r1,r.p521=r.secp521r1,o.prototype.generateKeys=function(t,e){return this.keys=this.curve.genKeyPair(),this.getPublicKey(t,e)},o.prototype.computeSecret=function(t,e,n){return e=e||"utf8",i.isBuffer(t)||(t=new i(t,e)),a(this.curve.keyFromPublic(t).getPublic().mul(this.keys.getPrivate()).getX(),n,this.curveType.byteLength)},o.prototype.getPublicKey=function(t,e){var n=this.keys.getPublic("compressed"===e,!0);return"hybrid"===e&&(n[n.length-1]%2?n[0]=7:n[0]=6),a(n,t)},o.prototype.getPrivateKey=function(t){return a(this.keys.getPrivate(),t)},o.prototype.setPublicKey=function(t,e){return e=e||"utf8",i.isBuffer(t)||(t=new i(t,e)),this.keys._importPublic(t),this},o.prototype.setPrivateKey=function(t,e){e=e||"utf8",i.isBuffer(t)||(t=new i(t,e));e=(e=new n(t)).toString(16);return this.keys=this.curve.genKeyPair(),this.keys._importPrivate(e),this}}.call(this,s(48).Buffer)},function(t,e,S){!function(t){!function(t,e){"use strict";function m(t,e){if(!t)throw new Error(e||"Assertion failed")}function n(t,e){t.super_=e;function n(){}n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}function g(t,e,n){if(g.isBN(t))return t;this.negative=0,this.words=null,this.length=0,(this.red=null)!==t&&("le"!==e&&"be"!==e||(n=e,e=10),this._init(t||0,e||10,n||"be"))}var i;"object"==typeof t?t.exports=g:e.BN=g,(g.BN=g).wordSize=26;try{i=("undefined"!=typeof window&&void 0!==window.Buffer?window:S(576)).Buffer}catch(t){}function r(t,e){t=t.charCodeAt(e);return 65<=t&&t<=70?t-55:97<=t&&t<=102?t-87:t-48&15}function s(t,e,n){var i=r(t,n);return e<=n-1&&(i|=r(t,n-1)<<4),i}function h(t,e,n,i){for(var r=0,o=Math.min(t.length,n),a=e;a<o;a++)var s=t.charCodeAt(a)-48,r=r*i+(49<=s?s-49+10:17<=s?s-17+10:s);return r}g.isBN=function(t){return t instanceof g||null!==t&&"object"==typeof t&&t.constructor.wordSize===g.wordSize&&Array.isArray(t.words)},g.max=function(t,e){return 0<t.cmp(e)?t:e},g.min=function(t,e){return t.cmp(e)<0?t:e},g.prototype._init=function(t,e,n){if("number"==typeof t)return this._initNumber(t,e,n);if("object"==typeof t)return this._initArray(t,e,n);m((e="hex"===e?16:e)===(0|e)&&2<=e&&e<=36);var i=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<t.length&&(16===e?this._parseHex(t,i,n):(this._parseBase(t,e,i),"le"===n&&this._initArray(this.toArray(),e,n)))},g.prototype._initNumber=function(t,e,n){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(m(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),e,n)},g.prototype._initArray=function(t,e,n){if(m("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i,r,o=0;o<this.length;o++)this.words[o]=0;var a=0;if("be"===n)for(o=t.length-1,i=0;0<=o;o-=3)r=t[o]|t[o-1]<<8|t[o-2]<<16,this.words[i]|=r<<a&67108863,this.words[i+1]=r>>>26-a&67108863,26<=(a+=24)&&(a-=26,i++);else if("le"===n)for(i=o=0;o<t.length;o+=3)r=t[o]|t[o+1]<<8|t[o+2]<<16,this.words[i]|=r<<a&67108863,this.words[i+1]=r>>>26-a&67108863,26<=(a+=24)&&(a-=26,i++);return this.strip()},g.prototype._parseHex=function(t,e,n){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var r,o=0,a=0;if("be"===n)for(i=t.length-1;e<=i;i-=2)r=s(t,e,i)<<o,this.words[a]|=67108863&r,18<=o?(o-=18,this.words[a+=1]|=r>>>26):o+=8;else for(i=(t.length-e)%2==0?e+1:e;i<t.length;i+=2)r=s(t,e,i)<<o,this.words[a]|=67108863&r,18<=o?(o-=18,this.words[a+=1]|=r>>>26):o+=8;this.strip()},g.prototype._parseBase=function(t,e,n){this.words=[0];for(var i=0,r=this.length=1;r<=67108863;r*=e)i++;for(var r=r/e|0,o=t.length-n,a=o%--i,s=Math.min(o,o-a)+n,l=0,c=n;c<s;c+=i)l=h(t,c,c+i,e),this.imuln(r),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l);if(0!=a){for(var u=1,l=h(t,c,t.length,e),c=0;c<a;c++)u*=e;this.imuln(u),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l)}this.strip()},g.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},g.prototype.clone=function(){var t=new g(null);return this.copy(t),t},g.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},g.prototype.strip=function(){for(;1<this.length&&0===this.words[this.length-1];)this.length--;return this._normSign()},g.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},g.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var d=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],f=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function o(t,e,n){n.negative=e.negative^t.negative;var i=t.length+e.length|0,i=(n.length=i)-1|0,r=(a=(0|t.words[0])*(0|e.words[0]))/67108864|0;n.words[0]=67108863&a;for(var o=1;o<i;o++){for(var a,s=r>>>26,l=67108863&r,c=Math.min(o,e.length-1),u=Math.max(0,o-t.length+1);u<=c;u++)s+=(a=(0|t.words[o-u|0])*(0|e.words[u])+l)/67108864|0,l=67108863&a;n.words[o]=0|l,r=0|s}return 0!==r?n.words[o]=0|r:n.length--,n.strip()}g.prototype.toString=function(t,e){if(e=0|e||1,16===(t=t||10)||"hex"===t){s="";for(var n=0,i=0,r=0;r<this.length;r++){var o=this.words[r],a=(16777215&(o<<n|i)).toString(16),s=0!==(i=o>>>24-n&16777215)||r!==this.length-1?d[6-a.length]+a+s:a+s;26<=(n+=2)&&(n-=26,r--)}for(0!==i&&(s=i.toString(16)+s);s.length%e!=0;)s="0"+s;return s=0!==this.negative?"-"+s:s}if(t===(0|t)&&2<=t&&t<=36){var l=f[t],c=p[t];for(s="",(u=this.clone()).negative=0;!u.isZero();){var u,h=u.modn(c).toString(t);s=(u=u.idivn(c)).isZero()?h+s:d[l-h.length]+h+s}for(this.isZero()&&(s="0"+s);s.length%e!=0;)s="0"+s;return s=0!==this.negative?"-"+s:s}m(!1,"Base should be between 2 and 36")},g.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:2<this.length&&m(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},g.prototype.toJSON=function(){return this.toString(16)},g.prototype.toBuffer=function(t,e){return m(void 0!==i),this.toArrayLike(i,t,e)},g.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},g.prototype.toArrayLike=function(t,e,n){var i,r,o=this.byteLength(),a=n||Math.max(1,o),n=(m(o<=a,"byte array longer than desired length"),m(0<a,"Requested array length <= 0"),this.strip(),"le"===e),s=new t(a),l=this.clone();if(n){for(r=0;!l.isZero();r++)i=l.andln(255),l.iushrn(8),s[r]=i;for(;r<a;r++)s[r]=0}else{for(r=0;r<a-o;r++)s[r]=0;for(r=0;!l.isZero();r++)i=l.andln(255),l.iushrn(8),s[a-r-1]=i}return s},Math.clz32?g.prototype._countBits=function(t){return 32-Math.clz32(t)}:g.prototype._countBits=function(t){var e=0;return 4096<=t&&(e+=13,t>>>=13),64<=t&&(e+=7,t>>>=7),8<=t&&(e+=4,t>>>=4),2<=t&&(e+=2,t>>>=2),e+t},g.prototype._zeroBits=function(t){var e;return 0===t?26:((e=0)==(8191&(t=t))&&(e+=13,t>>>=13),0==(127&t)&&(e+=7,t>>>=7),0==(15&t)&&(e+=4,t>>>=4),0==(3&t)&&(e+=2,t>>>=2),0==(1&t)&&e++,e)},g.prototype.bitLength=function(){var t=this.words[this.length-1],t=this._countBits(t);return 26*(this.length-1)+t},g.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var n=this._zeroBits(this.words[e]);if(t+=n,26!==n)break}return t},g.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},g.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},g.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},g.prototype.isNeg=function(){return 0!==this.negative},g.prototype.neg=function(){return this.clone().ineg()},g.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},g.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this.strip()},g.prototype.ior=function(t){return m(0==(this.negative|t.negative)),this.iuor(t)},g.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},g.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},g.prototype.iuand=function(t){for(var e=this.length>t.length?t:this,n=0;n<e.length;n++)this.words[n]=this.words[n]&t.words[n];return this.length=e.length,this.strip()},g.prototype.iand=function(t){return m(0==(this.negative|t.negative)),this.iuand(t)},g.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},g.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},g.prototype.iuxor=function(t){for(var e,n=this.length>t.length?(e=this,t):(e=t,this),i=0;i<n.length;i++)this.words[i]=e.words[i]^n.words[i];if(this!==e)for(;i<e.length;i++)this.words[i]=e.words[i];return this.length=e.length,this.strip()},g.prototype.ixor=function(t){return m(0==(this.negative|t.negative)),this.iuxor(t)},g.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},g.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},g.prototype.inotn=function(t){m("number"==typeof t&&0<=t);var e=0|Math.ceil(t/26),t=t%26;this._expand(e),0<t&&e--;for(var n=0;n<e;n++)this.words[n]=67108863&~this.words[n];return 0<t&&(this.words[n]=~this.words[n]&67108863>>26-t),this.strip()},g.prototype.notn=function(t){return this.clone().inotn(t)},g.prototype.setn=function(t,e){m("number"==typeof t&&0<=t);var n=t/26|0,t=t%26;return this._expand(1+n),this.words[n]=e?this.words[n]|1<<t:this.words[n]&~(1<<t),this.strip()},g.prototype.iadd=function(t){var e,n;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();for(var i=this.length>t.length?(n=this,t):(n=t,this),r=0,o=0;o<i.length;o++)e=(0|n.words[o])+(0|i.words[o])+r,this.words[o]=67108863&e,r=e>>>26;for(;0!==r&&o<n.length;o++)e=(0|n.words[o])+r,this.words[o]=67108863&e,r=e>>>26;if(this.length=n.length,0!==r)this.words[this.length]=r,this.length++;else if(n!==this)for(;o<n.length;o++)this.words[o]=n.words[o];return this},g.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},g.prototype.isub=function(t){var e;if(0!==t.negative)return t.negative=0,e=this.iadd(t),t.negative=1,e._normSign();if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var n,i=this.cmp(t);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;for(var r=0<i?(n=this,t):(n=t,this),o=0,a=0;a<r.length;a++)o=(e=(0|n.words[a])-(0|r.words[a])+o)>>26,this.words[a]=67108863&e;for(;0!==o&&a<n.length;a++)o=(e=(0|n.words[a])+o)>>26,this.words[a]=67108863&e;if(0===o&&a<n.length&&n!==this)for(;a<n.length;a++)this.words[a]=n.words[a];return this.length=Math.max(this.length,a),n!==this&&(this.negative=1),this.strip()},g.prototype.sub=function(t){return this.clone().isub(t)};var a=function(t,D,B){var e,n=t.words,i=D.words,r=B.words,o=0|n[0],a=8191&o,o=o>>>13,s=0|n[1],l=8191&s,s=s>>>13,c=0|n[2],u=8191&c,c=c>>>13,h=0|n[3],d=8191&h,h=h>>>13,f=0|n[4],p=8191&f,f=f>>>13,m=0|n[5],g=8191&m,m=m>>>13,b=0|n[6],v=8191&b,b=b>>>13,y=0|n[7],w=8191&y,y=y>>>13,_=0|n[8],N=8191&_,_=_>>>13,n=0|n[9],F=8191&n,n=n>>>13,x=0|i[0],M=8191&x,x=x>>>13,S=0|i[1],k=8191&S,S=S>>>13,C=0|i[2],E=8191&C,C=C>>>13,P=0|i[3],$=8191&P,P=P>>>13,A=0|i[4],U=8191&A,A=A>>>13,T=0|i[5],z=8191&T,T=T>>>13,j=0|i[6],H=8191&j,j=j>>>13,L=0|i[7],q=8191&L,L=L>>>13,O=0|i[8],W=8191&O,O=O>>>13,i=0|i[9],V=8191&i,i=i>>>13,D=(B.negative=t.negative^D.negative,B.length=19,(0+Math.imul(a,M)|0)+((8191&(t=Math.imul(a,x)+Math.imul(o,M)|0))<<13)|0),R=(Math.imul(o,x)+(t>>>13)|0)+(D>>>26)|0;D&=67108863,e=Math.imul(l,M),t=Math.imul(l,x)+Math.imul(s,M)|0,I=Math.imul(s,x);var I,K=(R+(e+Math.imul(a,k)|0)|0)+((8191&(t=(t+Math.imul(a,S)|0)+Math.imul(o,k)|0))<<13)|0,Z=(R=((I+Math.imul(o,S)|0)+(t>>>13)|0)+(K>>>26)|0,K&=67108863,e=Math.imul(u,M),t=Math.imul(u,x)+Math.imul(c,M)|0,I=Math.imul(c,x),e=e+Math.imul(l,k)|0,t=(t+Math.imul(l,S)|0)+Math.imul(s,k)|0,I=I+Math.imul(s,S)|0,(R+(e+Math.imul(a,E)|0)|0)+((8191&(t=(t+Math.imul(a,C)|0)+Math.imul(o,E)|0))<<13)|0),G=(R=((I+Math.imul(o,C)|0)+(t>>>13)|0)+(Z>>>26)|0,Z&=67108863,e=Math.imul(d,M),t=Math.imul(d,x)+Math.imul(h,M)|0,I=Math.imul(h,x),e=e+Math.imul(u,k)|0,t=(t+Math.imul(u,S)|0)+Math.imul(c,k)|0,I=I+Math.imul(c,S)|0,e=e+Math.imul(l,E)|0,t=(t+Math.imul(l,C)|0)+Math.imul(s,E)|0,I=I+Math.imul(s,C)|0,(R+(e+Math.imul(a,$)|0)|0)+((8191&(t=(t+Math.imul(a,P)|0)+Math.imul(o,$)|0))<<13)|0),J=(R=((I+Math.imul(o,P)|0)+(t>>>13)|0)+(G>>>26)|0,G&=67108863,e=Math.imul(p,M),t=Math.imul(p,x)+Math.imul(f,M)|0,I=Math.imul(f,x),e=e+Math.imul(d,k)|0,t=(t+Math.imul(d,S)|0)+Math.imul(h,k)|0,I=I+Math.imul(h,S)|0,e=e+Math.imul(u,E)|0,t=(t+Math.imul(u,C)|0)+Math.imul(c,E)|0,I=I+Math.imul(c,C)|0,e=e+Math.imul(l,$)|0,t=(t+Math.imul(l,P)|0)+Math.imul(s,$)|0,I=I+Math.imul(s,P)|0,(R+(e+Math.imul(a,U)|0)|0)+((8191&(t=(t+Math.imul(a,A)|0)+Math.imul(o,U)|0))<<13)|0),Y=(R=((I+Math.imul(o,A)|0)+(t>>>13)|0)+(J>>>26)|0,J&=67108863,e=Math.imul(g,M),t=Math.imul(g,x)+Math.imul(m,M)|0,I=Math.imul(m,x),e=e+Math.imul(p,k)|0,t=(t+Math.imul(p,S)|0)+Math.imul(f,k)|0,I=I+Math.imul(f,S)|0,e=e+Math.imul(d,E)|0,t=(t+Math.imul(d,C)|0)+Math.imul(h,E)|0,I=I+Math.imul(h,C)|0,e=e+Math.imul(u,$)|0,t=(t+Math.imul(u,P)|0)+Math.imul(c,$)|0,I=I+Math.imul(c,P)|0,e=e+Math.imul(l,U)|0,t=(t+Math.imul(l,A)|0)+Math.imul(s,U)|0,I=I+Math.imul(s,A)|0,(R+(e+Math.imul(a,z)|0)|0)+((8191&(t=(t+Math.imul(a,T)|0)+Math.imul(o,z)|0))<<13)|0),X=(R=((I+Math.imul(o,T)|0)+(t>>>13)|0)+(Y>>>26)|0,Y&=67108863,e=Math.imul(v,M),t=Math.imul(v,x)+Math.imul(b,M)|0,I=Math.imul(b,x),e=e+Math.imul(g,k)|0,t=(t+Math.imul(g,S)|0)+Math.imul(m,k)|0,I=I+Math.imul(m,S)|0,e=e+Math.imul(p,E)|0,t=(t+Math.imul(p,C)|0)+Math.imul(f,E)|0,I=I+Math.imul(f,C)|0,e=e+Math.imul(d,$)|0,t=(t+Math.imul(d,P)|0)+Math.imul(h,$)|0,I=I+Math.imul(h,P)|0,e=e+Math.imul(u,U)|0,t=(t+Math.imul(u,A)|0)+Math.imul(c,U)|0,I=I+Math.imul(c,A)|0,e=e+Math.imul(l,z)|0,t=(t+Math.imul(l,T)|0)+Math.imul(s,z)|0,I=I+Math.imul(s,T)|0,(R+(e+Math.imul(a,H)|0)|0)+((8191&(t=(t+Math.imul(a,j)|0)+Math.imul(o,H)|0))<<13)|0),Q=(R=((I+Math.imul(o,j)|0)+(t>>>13)|0)+(X>>>26)|0,X&=67108863,e=Math.imul(w,M),t=Math.imul(w,x)+Math.imul(y,M)|0,I=Math.imul(y,x),e=e+Math.imul(v,k)|0,t=(t+Math.imul(v,S)|0)+Math.imul(b,k)|0,I=I+Math.imul(b,S)|0,e=e+Math.imul(g,E)|0,t=(t+Math.imul(g,C)|0)+Math.imul(m,E)|0,I=I+Math.imul(m,C)|0,e=e+Math.imul(p,$)|0,t=(t+Math.imul(p,P)|0)+Math.imul(f,$)|0,I=I+Math.imul(f,P)|0,e=e+Math.imul(d,U)|0,t=(t+Math.imul(d,A)|0)+Math.imul(h,U)|0,I=I+Math.imul(h,A)|0,e=e+Math.imul(u,z)|0,t=(t+Math.imul(u,T)|0)+Math.imul(c,z)|0,I=I+Math.imul(c,T)|0,e=e+Math.imul(l,H)|0,t=(t+Math.imul(l,j)|0)+Math.imul(s,H)|0,I=I+Math.imul(s,j)|0,(R+(e+Math.imul(a,q)|0)|0)+((8191&(t=(t+Math.imul(a,L)|0)+Math.imul(o,q)|0))<<13)|0),tt=(R=((I+Math.imul(o,L)|0)+(t>>>13)|0)+(Q>>>26)|0,Q&=67108863,e=Math.imul(N,M),t=Math.imul(N,x)+Math.imul(_,M)|0,I=Math.imul(_,x),e=e+Math.imul(w,k)|0,t=(t+Math.imul(w,S)|0)+Math.imul(y,k)|0,I=I+Math.imul(y,S)|0,e=e+Math.imul(v,E)|0,t=(t+Math.imul(v,C)|0)+Math.imul(b,E)|0,I=I+Math.imul(b,C)|0,e=e+Math.imul(g,$)|0,t=(t+Math.imul(g,P)|0)+Math.imul(m,$)|0,I=I+Math.imul(m,P)|0,e=e+Math.imul(p,U)|0,t=(t+Math.imul(p,A)|0)+Math.imul(f,U)|0,I=I+Math.imul(f,A)|0,e=e+Math.imul(d,z)|0,t=(t+Math.imul(d,T)|0)+Math.imul(h,z)|0,I=I+Math.imul(h,T)|0,e=e+Math.imul(u,H)|0,t=(t+Math.imul(u,j)|0)+Math.imul(c,H)|0,I=I+Math.imul(c,j)|0,e=e+Math.imul(l,q)|0,t=(t+Math.imul(l,L)|0)+Math.imul(s,q)|0,I=I+Math.imul(s,L)|0,(R+(e+Math.imul(a,W)|0)|0)+((8191&(t=(t+Math.imul(a,O)|0)+Math.imul(o,W)|0))<<13)|0),M=(R=((I+Math.imul(o,O)|0)+(t>>>13)|0)+(tt>>>26)|0,tt&=67108863,e=Math.imul(F,M),t=Math.imul(F,x)+Math.imul(n,M)|0,I=Math.imul(n,x),e=e+Math.imul(N,k)|0,t=(t+Math.imul(N,S)|0)+Math.imul(_,k)|0,I=I+Math.imul(_,S)|0,e=e+Math.imul(w,E)|0,t=(t+Math.imul(w,C)|0)+Math.imul(y,E)|0,I=I+Math.imul(y,C)|0,e=e+Math.imul(v,$)|0,t=(t+Math.imul(v,P)|0)+Math.imul(b,$)|0,I=I+Math.imul(b,P)|0,e=e+Math.imul(g,U)|0,t=(t+Math.imul(g,A)|0)+Math.imul(m,U)|0,I=I+Math.imul(m,A)|0,e=e+Math.imul(p,z)|0,t=(t+Math.imul(p,T)|0)+Math.imul(f,z)|0,I=I+Math.imul(f,T)|0,e=e+Math.imul(d,H)|0,t=(t+Math.imul(d,j)|0)+Math.imul(h,H)|0,I=I+Math.imul(h,j)|0,e=e+Math.imul(u,q)|0,t=(t+Math.imul(u,L)|0)+Math.imul(c,q)|0,I=I+Math.imul(c,L)|0,e=e+Math.imul(l,W)|0,t=(t+Math.imul(l,O)|0)+Math.imul(s,W)|0,I=I+Math.imul(s,O)|0,(R+(e+Math.imul(a,V)|0)|0)+((8191&(t=(t+Math.imul(a,i)|0)+Math.imul(o,V)|0))<<13)|0),x=(R=((I+Math.imul(o,i)|0)+(t>>>13)|0)+(M>>>26)|0,M&=67108863,e=Math.imul(F,k),t=Math.imul(F,S)+Math.imul(n,k)|0,I=Math.imul(n,S),e=e+Math.imul(N,E)|0,t=(t+Math.imul(N,C)|0)+Math.imul(_,E)|0,I=I+Math.imul(_,C)|0,e=e+Math.imul(w,$)|0,t=(t+Math.imul(w,P)|0)+Math.imul(y,$)|0,I=I+Math.imul(y,P)|0,e=e+Math.imul(v,U)|0,t=(t+Math.imul(v,A)|0)+Math.imul(b,U)|0,I=I+Math.imul(b,A)|0,e=e+Math.imul(g,z)|0,t=(t+Math.imul(g,T)|0)+Math.imul(m,z)|0,I=I+Math.imul(m,T)|0,e=e+Math.imul(p,H)|0,t=(t+Math.imul(p,j)|0)+Math.imul(f,H)|0,I=I+Math.imul(f,j)|0,e=e+Math.imul(d,q)|0,t=(t+Math.imul(d,L)|0)+Math.imul(h,q)|0,I=I+Math.imul(h,L)|0,e=e+Math.imul(u,W)|0,t=(t+Math.imul(u,O)|0)+Math.imul(c,W)|0,I=I+Math.imul(c,O)|0,(R+(e+Math.imul(l,V)|0)|0)+((8191&(t=(t+Math.imul(l,i)|0)+Math.imul(s,V)|0))<<13)|0),a=(R=((I+Math.imul(s,i)|0)+(t>>>13)|0)+(x>>>26)|0,x&=67108863,e=Math.imul(F,E),t=Math.imul(F,C)+Math.imul(n,E)|0,I=Math.imul(n,C),e=e+Math.imul(N,$)|0,t=(t+Math.imul(N,P)|0)+Math.imul(_,$)|0,I=I+Math.imul(_,P)|0,e=e+Math.imul(w,U)|0,t=(t+Math.imul(w,A)|0)+Math.imul(y,U)|0,I=I+Math.imul(y,A)|0,e=e+Math.imul(v,z)|0,t=(t+Math.imul(v,T)|0)+Math.imul(b,z)|0,I=I+Math.imul(b,T)|0,e=e+Math.imul(g,H)|0,t=(t+Math.imul(g,j)|0)+Math.imul(m,H)|0,I=I+Math.imul(m,j)|0,e=e+Math.imul(p,q)|0,t=(t+Math.imul(p,L)|0)+Math.imul(f,q)|0,I=I+Math.imul(f,L)|0,e=e+Math.imul(d,W)|0,t=(t+Math.imul(d,O)|0)+Math.imul(h,W)|0,I=I+Math.imul(h,O)|0,(R+(e+Math.imul(u,V)|0)|0)+((8191&(t=(t+Math.imul(u,i)|0)+Math.imul(c,V)|0))<<13)|0),o=(R=((I+Math.imul(c,i)|0)+(t>>>13)|0)+(a>>>26)|0,a&=67108863,e=Math.imul(F,$),t=Math.imul(F,P)+Math.imul(n,$)|0,I=Math.imul(n,P),e=e+Math.imul(N,U)|0,t=(t+Math.imul(N,A)|0)+Math.imul(_,U)|0,I=I+Math.imul(_,A)|0,e=e+Math.imul(w,z)|0,t=(t+Math.imul(w,T)|0)+Math.imul(y,z)|0,I=I+Math.imul(y,T)|0,e=e+Math.imul(v,H)|0,t=(t+Math.imul(v,j)|0)+Math.imul(b,H)|0,I=I+Math.imul(b,j)|0,e=e+Math.imul(g,q)|0,t=(t+Math.imul(g,L)|0)+Math.imul(m,q)|0,I=I+Math.imul(m,L)|0,e=e+Math.imul(p,W)|0,t=(t+Math.imul(p,O)|0)+Math.imul(f,W)|0,I=I+Math.imul(f,O)|0,(R+(e+Math.imul(d,V)|0)|0)+((8191&(t=(t+Math.imul(d,i)|0)+Math.imul(h,V)|0))<<13)|0),k=(R=((I+Math.imul(h,i)|0)+(t>>>13)|0)+(o>>>26)|0,o&=67108863,e=Math.imul(F,U),t=Math.imul(F,A)+Math.imul(n,U)|0,I=Math.imul(n,A),e=e+Math.imul(N,z)|0,t=(t+Math.imul(N,T)|0)+Math.imul(_,z)|0,I=I+Math.imul(_,T)|0,e=e+Math.imul(w,H)|0,t=(t+Math.imul(w,j)|0)+Math.imul(y,H)|0,I=I+Math.imul(y,j)|0,e=e+Math.imul(v,q)|0,t=(t+Math.imul(v,L)|0)+Math.imul(b,q)|0,I=I+Math.imul(b,L)|0,e=e+Math.imul(g,W)|0,t=(t+Math.imul(g,O)|0)+Math.imul(m,W)|0,I=I+Math.imul(m,O)|0,(R+(e+Math.imul(p,V)|0)|0)+((8191&(t=(t+Math.imul(p,i)|0)+Math.imul(f,V)|0))<<13)|0),S=(R=((I+Math.imul(f,i)|0)+(t>>>13)|0)+(k>>>26)|0,k&=67108863,e=Math.imul(F,z),t=Math.imul(F,T)+Math.imul(n,z)|0,I=Math.imul(n,T),e=e+Math.imul(N,H)|0,t=(t+Math.imul(N,j)|0)+Math.imul(_,H)|0,I=I+Math.imul(_,j)|0,e=e+Math.imul(w,q)|0,t=(t+Math.imul(w,L)|0)+Math.imul(y,q)|0,I=I+Math.imul(y,L)|0,e=e+Math.imul(v,W)|0,t=(t+Math.imul(v,O)|0)+Math.imul(b,W)|0,I=I+Math.imul(b,O)|0,(R+(e+Math.imul(g,V)|0)|0)+((8191&(t=(t+Math.imul(g,i)|0)+Math.imul(m,V)|0))<<13)|0),l=(R=((I+Math.imul(m,i)|0)+(t>>>13)|0)+(S>>>26)|0,S&=67108863,e=Math.imul(F,H),t=Math.imul(F,j)+Math.imul(n,H)|0,I=Math.imul(n,j),e=e+Math.imul(N,q)|0,t=(t+Math.imul(N,L)|0)+Math.imul(_,q)|0,I=I+Math.imul(_,L)|0,e=e+Math.imul(w,W)|0,t=(t+Math.imul(w,O)|0)+Math.imul(y,W)|0,I=I+Math.imul(y,O)|0,(R+(e+Math.imul(v,V)|0)|0)+((8191&(t=(t+Math.imul(v,i)|0)+Math.imul(b,V)|0))<<13)|0),s=(R=((I+Math.imul(b,i)|0)+(t>>>13)|0)+(l>>>26)|0,l&=67108863,e=Math.imul(F,q),t=Math.imul(F,L)+Math.imul(n,q)|0,I=Math.imul(n,L),e=e+Math.imul(N,W)|0,t=(t+Math.imul(N,O)|0)+Math.imul(_,W)|0,I=I+Math.imul(_,O)|0,(R+(e+Math.imul(w,V)|0)|0)+((8191&(t=(t+Math.imul(w,i)|0)+Math.imul(y,V)|0))<<13)|0),E=(R=((I+Math.imul(y,i)|0)+(t>>>13)|0)+(s>>>26)|0,s&=67108863,e=Math.imul(F,W),t=Math.imul(F,O)+Math.imul(n,W)|0,I=Math.imul(n,O),(R+(e+Math.imul(N,V)|0)|0)+((8191&(t=(t+Math.imul(N,i)|0)+Math.imul(_,V)|0))<<13)|0),C=(R=((I+Math.imul(_,i)|0)+(t>>>13)|0)+(E>>>26)|0,E&=67108863,(R+Math.imul(F,V)|0)+((8191&(t=Math.imul(F,i)+Math.imul(n,V)|0))<<13)|0);return R=(Math.imul(n,i)+(t>>>13)|0)+(C>>>26)|0,C&=67108863,r[0]=D,r[1]=K,r[2]=Z,r[3]=G,r[4]=J,r[5]=Y,r[6]=X,r[7]=Q,r[8]=tt,r[9]=M,r[10]=x,r[11]=a,r[12]=o,r[13]=k,r[14]=S,r[15]=l,r[16]=s,r[17]=E,r[18]=C,0!=R&&(r[19]=R,B.length++),B};function l(t,e,n){return(new c).mulp(t,e,n)}function c(t,e){this.x=t,this.y=e}Math.imul||(a=o),g.prototype.mulTo=function(t,e){var n=this.length+t.length,n=(10===this.length&&10===t.length?a:n<63?o:n<1024?function(t,e,n){n.negative=e.negative^t.negative,n.length=t.length+e.length;for(var i=0,r=0,o=0;o<n.length-1;o++){for(var a=r,r=0,s=67108863&i,l=Math.min(o,e.length-1),c=Math.max(0,o-t.length+1);c<=l;c++){var u,h=(0|t.words[o-c])*(0|e.words[c]),s=67108863&(u=(67108863&h)+s|0);r+=(a=(a=a+(h/67108864|0)|0)+(u>>>26)|0)>>>26,a&=67108863}n.words[o]=s,i=a,a=r}return 0!==i?n.words[o]=i:n.length--,n.strip()}:l)(this,t,e);return n},c.prototype.makeRBT=function(t){for(var e=new Array(t),n=g.prototype._countBits(t)-1,i=0;i<t;i++)e[i]=this.revBin(i,n,t);return e},c.prototype.revBin=function(t,e,n){if(0===t||t===n-1)return t;for(var i=0,r=0;r<e;r++)i|=(1&t)<<e-r-1,t>>=1;return i},c.prototype.permute=function(t,e,n,i,r,o){for(var a=0;a<o;a++)i[a]=e[t[a]],r[a]=n[t[a]]},c.prototype.transform=function(t,e,n,i,r,o){this.permute(o,t,e,n,i,r);for(var a=1;a<r;a<<=1)for(var s=a<<1,l=Math.cos(2*Math.PI/s),c=Math.sin(2*Math.PI/s),u=0;u<r;u+=s)for(var h=l,d=c,f=0;f<a;f++){var p=n[u+f],m=i[u+f],g=n[u+f+a],b=h*g-d*(v=i[u+f+a]),v=h*v+d*g;n[u+f]=p+(g=b),i[u+f]=m+v,n[u+f+a]=p-g,i[u+f+a]=m-v,f!==s&&(b=l*h-c*d,d=l*d+c*h,h=b)}},c.prototype.guessLen13b=function(t,e){for(var e=1&(i=1|Math.max(e,t)),n=0,i=i/2|0;i;i>>>=1)n++;return 1<<n+1+e},c.prototype.conjugate=function(t,e,n){if(!(n<=1))for(var i=0;i<n/2;i++){var r=t[i];t[i]=t[n-i-1],t[n-i-1]=r,r=e[i],e[i]=-e[n-i-1],e[n-i-1]=-r}},c.prototype.normalize13b=function(t,e){for(var n=0,i=0;i<e/2;i++){var r=8192*Math.round(t[2*i+1]/e)+Math.round(t[2*i]/e)+n;t[i]=67108863&r,n=r<67108864?0:r/67108864|0}return t},c.prototype.convert13b=function(t,e,n,i){for(var r=0,o=0;o<e;o++)r+=0|t[o],n[2*o]=8191&r,n[2*o+1]=8191&(r>>>=13),r>>>=13;for(o=2*e;o<i;++o)n[o]=0;m(0===r),m(0==(-8192&r))},c.prototype.stub=function(t){for(var e=new Array(t),n=0;n<t;n++)e[n]=0;return e},c.prototype.mulp=function(t,e,n){var i=2*this.guessLen13b(t.length,e.length),r=this.makeRBT(i),o=this.stub(i),a=new Array(i),s=new Array(i),l=new Array(i),c=new Array(i),u=new Array(i),h=new Array(i),d=n.words;d.length=i,this.convert13b(t.words,t.length,a,i),this.convert13b(e.words,e.length,c,i),this.transform(a,o,s,l,i,r),this.transform(c,o,u,h,i,r);for(var f=0;f<i;f++){var p=s[f]*u[f]-l[f]*h[f];l[f]=s[f]*h[f]+l[f]*u[f],s[f]=p}return this.conjugate(s,l,i),this.transform(s,l,d,o,i,r),this.conjugate(d,o,i),this.normalize13b(d,i),n.negative=t.negative^e.negative,n.length=t.length+e.length,n.strip()},g.prototype.mul=function(t){var e=new g(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},g.prototype.mulf=function(t){var e=new g(null);return e.words=new Array(this.length+t.length),l(this,t,e)},g.prototype.imul=function(t){return this.clone().mulTo(t,this)},g.prototype.imuln=function(t){m("number"==typeof t),m(t<67108864);for(var e=0,n=0;n<this.length;n++){var i=(0|this.words[n])*t,r=(67108863&i)+(67108863&e),e=(e>>=26)+(i/67108864|0)+(r>>>26);this.words[n]=67108863&r}return 0!==e&&(this.words[n]=e,this.length++),this},g.prototype.muln=function(t){return this.clone().imuln(t)},g.prototype.sqr=function(){return this.mul(this)},g.prototype.isqr=function(){return this.imul(this.clone())},g.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),n=0;n<e.length;n++){var i=n%26;e[n]=(t.words[n/26|0]&1<<i)>>>i}return e}(t);if(0===e.length)return new g(1);for(var n=this,i=0;i<e.length&&0===e[i];i++,n=n.sqr());if(++i<e.length)for(var r=n.sqr();i<e.length;i++,r=r.sqr())0!==e[i]&&(n=n.mul(r));return n},g.prototype.iushln=function(t){m("number"==typeof t&&0<=t);var e=t%26,n=(t-e)/26,i=67108863>>>26-e<<26-e;if(0!=e){for(var r=0,o=0;o<this.length;o++){var a=this.words[o]&i,s=(0|this.words[o])-a<<e;this.words[o]=s|r,r=a>>>26-e}r&&(this.words[o]=r,this.length++)}if(0!=n){for(o=this.length-1;0<=o;o--)this.words[o+n]=this.words[o];for(o=0;o<n;o++)this.words[o]=0;this.length+=n}return this.strip()},g.prototype.ishln=function(t){return m(0===this.negative),this.iushln(t)},g.prototype.iushrn=function(t,e,n){m("number"==typeof t&&0<=t),i=e?(e-e%26)/26:0;var i,r=t%26,o=Math.min((t-r)/26,this.length),a=67108863^67108863>>>r<<r,s=n;if(i-=o,i=Math.max(0,i),s){for(var l=0;l<o;l++)s.words[l]=this.words[l];s.length=o}if(0!==o)if(this.length>o)for(this.length-=o,l=0;l<this.length;l++)this.words[l]=this.words[l+o];else this.words[0]=0,this.length=1;for(var c=0,l=this.length-1;0<=l&&(0!==c||i<=l);l--){var u=0|this.words[l];this.words[l]=c<<26-r|u>>>r,c=u&a}return s&&0!==c&&(s.words[s.length++]=c),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},g.prototype.ishrn=function(t,e,n){return m(0===this.negative),this.iushrn(t,e,n)},g.prototype.shln=function(t){return this.clone().ishln(t)},g.prototype.ushln=function(t){return this.clone().iushln(t)},g.prototype.shrn=function(t){return this.clone().ishrn(t)},g.prototype.ushrn=function(t){return this.clone().iushrn(t)},g.prototype.testn=function(t){m("number"==typeof t&&0<=t);var e=t%26,t=(t-e)/26;return!(this.length<=t||!(this.words[t]&1<<e))},g.prototype.imaskn=function(t){m("number"==typeof t&&0<=t);var e=t%26,t=(t-e)/26;return m(0===this.negative,"imaskn works only with positive numbers"),this.length<=t?this:(0!=e&&t++,this.length=Math.min(t,this.length),0!=e&&(this.words[this.length-1]&=67108863^67108863>>>e<<e),this.strip())},g.prototype.maskn=function(t){return this.clone().imaskn(t)},g.prototype.iaddn=function(t){return m("number"==typeof t),m(t<67108864),t<0?this.isubn(-t):0!==this.negative?(1===this.length&&(0|this.words[0])<t?(this.words[0]=t-(0|this.words[0]),this.negative=0):(this.negative=0,this.isubn(t),this.negative=1),this):this._iaddn(t)},g.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&67108864<=this.words[e];e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},g.prototype.isubn=function(t){if(m("number"==typeof t),m(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,--this.words[e+1];return this.strip()},g.prototype.addn=function(t){return this.clone().iaddn(t)},g.prototype.subn=function(t){return this.clone().isubn(t)},g.prototype.iabs=function(){return this.negative=0,this},g.prototype.abs=function(){return this.clone().iabs()},g.prototype._ishlnsubmul=function(t,e,n){for(var i=t.length+n,r=(this._expand(i),0),o=0;o<t.length;o++){var a=(0|this.words[o+n])+r,s=(0|t.words[o])*e,r=((a-=67108863&s)>>26)-(s/67108864|0);this.words[o+n]=67108863&a}for(;o<this.length-n;o++)r=(a=(0|this.words[o+n])+r)>>26,this.words[o+n]=67108863&a;if(0!==r){for(m(-1===r),o=r=0;o<this.length;o++)r=(a=-(0|this.words[o])+r)>>26,this.words[o]=67108863&a;this.negative=1}return this.strip()},g.prototype._wordDiv=function(t,e){this.length,t.length;var n,i=this.clone(),r=t,o=0|r.words[r.length-1],a=(0!=(t=26-this._countBits(o))&&(r=r.ushln(t),i.iushln(t),o=0|r.words[r.length-1]),i.length-r.length);if("mod"!==e){(n=new g(null)).length=1+a,n.words=new Array(n.length);for(var s=0;s<n.length;s++)n.words[s]=0}var l=i.clone()._ishlnsubmul(r,1,a);0===l.negative&&(i=l,n)&&(n.words[a]=1);for(var c=a-1;0<=c;c--){var u=67108864*(0|i.words[r.length+c])+(0|i.words[r.length+c-1]),u=Math.min(u/o|0,67108863);for(i._ishlnsubmul(r,u,c);0!==i.negative;)u--,i.negative=0,i._ishlnsubmul(r,1,c),i.isZero()||(i.negative^=1);n&&(n.words[c]=u)}return n&&n.strip(),i.strip(),"div"!==e&&0!=t&&i.iushrn(t),{div:n||null,mod:i}},g.prototype.divmod=function(t,e,n){var i,r,o;return m(!t.isZero()),this.isZero()?{div:new g(0),mod:new g(0)}:0!==this.negative&&0===t.negative?(o=this.neg().divmod(t,e),"mod"!==e&&(i=o.div.neg()),"div"!==e&&(r=o.mod.neg(),n)&&0!==r.negative&&r.iadd(t),{div:i,mod:r}):0===this.negative&&0!==t.negative?(o=this.divmod(t.neg(),e),{div:i="mod"!==e?o.div.neg():i,mod:o.mod}):0!=(this.negative&t.negative)?(o=this.neg().divmod(t.neg(),e),"div"!==e&&(r=o.mod.neg(),n)&&0!==r.negative&&r.isub(t),{div:o.div,mod:r}):t.length>this.length||this.cmp(t)<0?{div:new g(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new g(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new g(this.modn(t.words[0]))}:this._wordDiv(t,e)},g.prototype.div=function(t){return this.divmod(t,"div",!1).div},g.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},g.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},g.prototype.divRound=function(t){var e,n,i=this.divmod(t);return i.mod.isZero()||(n=0!==i.div.negative?i.mod.isub(t):i.mod,e=t.ushrn(1),t=t.andln(1),(n=n.cmp(e))<0)||1===t&&0===n?i.div:0!==i.div.negative?i.div.isubn(1):i.div.iaddn(1)},g.prototype.modn=function(t){m(t<=67108863);for(var e=(1<<26)%t,n=0,i=this.length-1;0<=i;i--)n=(e*n+(0|this.words[i]))%t;return n},g.prototype.idivn=function(t){m(t<=67108863);for(var e=0,n=this.length-1;0<=n;n--){var i=(0|this.words[n])+67108864*e;this.words[n]=i/t|0,e=i%t}return this.strip()},g.prototype.divn=function(t){return this.clone().idivn(t)},g.prototype.egcd=function(t){m(0===t.negative),m(!t.isZero());for(var e=this,n=t.clone(),e=0!==e.negative?e.umod(t):e.clone(),i=new g(1),r=new g(0),o=new g(0),a=new g(1),s=0;e.isEven()&&n.isEven();)e.iushrn(1),n.iushrn(1),++s;for(var l=n.clone(),c=e.clone();!e.isZero();){for(var u=0,h=1;0==(e.words[0]&h)&&u<26;++u,h<<=1);if(0<u)for(e.iushrn(u);0<u--;)(i.isOdd()||r.isOdd())&&(i.iadd(l),r.isub(c)),i.iushrn(1),r.iushrn(1);for(var d=0,f=1;0==(n.words[0]&f)&&d<26;++d,f<<=1);if(0<d)for(n.iushrn(d);0<d--;)(o.isOdd()||a.isOdd())&&(o.iadd(l),a.isub(c)),o.iushrn(1),a.iushrn(1);0<=e.cmp(n)?(e.isub(n),i.isub(o),r.isub(a)):(n.isub(e),o.isub(i),a.isub(r))}return{a:o,b:a,gcd:n.iushln(s)}},g.prototype._invmp=function(t){m(0===t.negative),m(!t.isZero());for(var e,n=this,i=t.clone(),n=0!==n.negative?n.umod(t):n.clone(),r=new g(1),o=new g(0),a=i.clone();0<n.cmpn(1)&&0<i.cmpn(1);){for(var s=0,l=1;0==(n.words[0]&l)&&s<26;++s,l<<=1);if(0<s)for(n.iushrn(s);0<s--;)r.isOdd()&&r.iadd(a),r.iushrn(1);for(var c=0,u=1;0==(i.words[0]&u)&&c<26;++c,u<<=1);if(0<c)for(i.iushrn(c);0<c--;)o.isOdd()&&o.iadd(a),o.iushrn(1);0<=n.cmp(i)?(n.isub(i),r.isub(o)):(i.isub(n),o.isub(r))}return(e=0===n.cmpn(1)?r:o).cmpn(0)<0&&e.iadd(t),e},g.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),n=t.clone();e.negative=0;for(var i=n.negative=0;e.isEven()&&n.isEven();i++)e.iushrn(1),n.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;n.isEven();)n.iushrn(1);var r=e.cmp(n);if(r<0)var o=e,e=n,n=o;else if(0===r||0===n.cmpn(1))break;e.isub(n)}return n.iushln(i)},g.prototype.invm=function(t){return this.egcd(t).a.umod(t)},g.prototype.isEven=function(){return 0==(1&this.words[0])},g.prototype.isOdd=function(){return 1==(1&this.words[0])},g.prototype.andln=function(t){return this.words[0]&t},g.prototype.bincn=function(t){m("number"==typeof t);var e=t%26,t=(t-e)/26,e=1<<e;if(this.length<=t)this._expand(1+t),this.words[t]|=e;else{for(var n=e,i=t;0!==n&&i<this.length;i++){var r=0|this.words[i],n=(r+=n)>>>26;r&=67108863,this.words[i]=r}0!==n&&(this.words[i]=n,this.length++)}return this},g.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},g.prototype.cmpn=function(t){var e=t<0;return 0===this.negative||e?0===this.negative&&e?1:(this.strip(),e=1<this.length?1:(m((t=e?-t:t)<=67108863,"Number is too big"),(e=0|this.words[0])===t?0:e<t?-1:1),0!==this.negative?0|-e:e):-1},g.prototype.cmp=function(t){return 0!==this.negative&&0===t.negative?-1:0===this.negative&&0!==t.negative?1:(t=this.ucmp(t),0!==this.negative?0|-t:t)},g.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,n=this.length-1;0<=n;n--){var i=0|this.words[n],r=0|t.words[n];if(i!=r){i<r?e=-1:r<i&&(e=1);break}}return e},g.prototype.gtn=function(t){return 1===this.cmpn(t)},g.prototype.gt=function(t){return 1===this.cmp(t)},g.prototype.gten=function(t){return 0<=this.cmpn(t)},g.prototype.gte=function(t){return 0<=this.cmp(t)},g.prototype.ltn=function(t){return-1===this.cmpn(t)},g.prototype.lt=function(t){return-1===this.cmp(t)},g.prototype.lten=function(t){return this.cmpn(t)<=0},g.prototype.lte=function(t){return this.cmp(t)<=0},g.prototype.eqn=function(t){return 0===this.cmpn(t)},g.prototype.eq=function(t){return 0===this.cmp(t)},g.red=function(t){return new x(t)},g.prototype.toRed=function(t){return m(!this.red,"Already a number in reduction context"),m(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},g.prototype.fromRed=function(){return m(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},g.prototype._forceRed=function(t){return this.red=t,this},g.prototype.forceRed=function(t){return m(!this.red,"Already a number in reduction context"),this._forceRed(t)},g.prototype.redAdd=function(t){return m(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},g.prototype.redIAdd=function(t){return m(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},g.prototype.redSub=function(t){return m(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},g.prototype.redISub=function(t){return m(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},g.prototype.redShl=function(t){return m(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},g.prototype.redMul=function(t){return m(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},g.prototype.redIMul=function(t){return m(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},g.prototype.redSqr=function(){return m(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},g.prototype.redISqr=function(){return m(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},g.prototype.redSqrt=function(){return m(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},g.prototype.redInvm=function(){return m(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},g.prototype.redNeg=function(){return m(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},g.prototype.redPow=function(t){return m(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var u={k256:null,p224:null,p192:null,p25519:null};function b(t,e){this.name=t,this.p=new g(e,16),this.n=this.p.bitLength(),this.k=new g(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function v(){b.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function y(){b.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function w(){b.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function _(){b.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function x(t){var e;"string"==typeof t?(e=g._prime(t),this.m=e.p,this.prime=e):(m(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null)}function M(t){x.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new g(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}b.prototype._tmp=function(){var t=new g(null);return t.words=new Array(Math.ceil(this.n/13)),t},b.prototype.ireduce=function(t){for(var e,n=t;this.split(n,this.tmp),(e=(n=(n=this.imulK(n)).iadd(this.tmp)).bitLength())>this.n;);t=e<this.n?-1:n.ucmp(this.p);return 0===t?(n.words[0]=0,n.length=1):0<t?n.isub(this.p):void 0!==n.strip?n.strip():n._strip(),n},b.prototype.split=function(t,e){t.iushrn(this.n,0,e)},b.prototype.imulK=function(t){return t.imul(this.k)},n(v,b),v.prototype.split=function(t,e){for(var n=Math.min(t.length,9),i=0;i<n;i++)e.words[i]=t.words[i];if(e.length=n,t.length<=9)t.words[0]=0,t.length=1;else{var r=t.words[9];for(e.words[e.length++]=4194303&r,i=10;i<t.length;i++){var o=0|t.words[i];t.words[i-10]=(4194303&o)<<4|r>>>22,r=o}0===(t.words[i-10]=r>>>=22)&&10<t.length?t.length-=10:t.length-=9}},v.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,n=0;n<t.length;n++){var i=0|t.words[n];e+=977*i,t.words[n]=67108863&e,e=64*i+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1])&&t.length--,t},n(y,b),n(w,b),n(_,b),_.prototype.imulK=function(t){for(var e=0,n=0;n<t.length;n++){var i=19*(0|t.words[n])+e,r=67108863&i;i>>>=26,t.words[n]=r,e=i}return 0!==e&&(t.words[t.length++]=e),t},g._prime=function(t){if(u[t])return u[t];var e;if("k256"===t)e=new v;else if("p224"===t)e=new y;else if("p192"===t)e=new w;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new _}return u[t]=e},x.prototype._verify1=function(t){m(0===t.negative,"red works only with positives"),m(t.red,"red works only with red numbers")},x.prototype._verify2=function(t,e){m(0==(t.negative|e.negative),"red works only with positives"),m(t.red&&t.red===e.red,"red works only with red numbers")},x.prototype.imod=function(t){return(this.prime?this.prime.ireduce(t):t.umod(this.m))._forceRed(this)},x.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},x.prototype.add=function(t,e){this._verify2(t,e);t=t.add(e);return 0<=t.cmp(this.m)&&t.isub(this.m),t._forceRed(this)},x.prototype.iadd=function(t,e){this._verify2(t,e);t=t.iadd(e);return 0<=t.cmp(this.m)&&t.isub(this.m),t},x.prototype.sub=function(t,e){this._verify2(t,e);t=t.sub(e);return t.cmpn(0)<0&&t.iadd(this.m),t._forceRed(this)},x.prototype.isub=function(t,e){this._verify2(t,e);t=t.isub(e);return t.cmpn(0)<0&&t.iadd(this.m),t},x.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},x.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},x.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},x.prototype.isqr=function(t){return this.imul(t,t.clone())},x.prototype.sqr=function(t){return this.mul(t,t)},x.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(m(e%2==1),3===e)return e=this.m.add(new g(1)).iushrn(2),this.pow(t,e);for(var n=this.m.subn(1),i=0;!n.isZero()&&0===n.andln(1);)i++,n.iushrn(1);m(!n.isZero());for(var r=new g(1).toRed(this),o=r.redNeg(),a=this.m.subn(1).iushrn(1),s=new g(2*(s=this.m.bitLength())*s).toRed(this);0!==this.pow(s,a).cmp(o);)s.redIAdd(o);for(var l=this.pow(s,n),c=this.pow(t,n.addn(1).iushrn(1)),u=this.pow(t,n),h=i;0!==u.cmp(r);){for(var d=u,f=0;0!==d.cmp(r);f++)d=d.redSqr();m(f<h);var p=this.pow(l,new g(1).iushln(h-f-1)),c=c.redMul(p),l=p.redSqr(),u=u.redMul(l),h=f}return c},x.prototype.invm=function(t){t=t._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},x.prototype.pow=function(t,e){if(e.isZero())return new g(1).toRed(this);if(0===e.cmpn(1))return t.clone();var n=new Array(16);n[0]=new g(1).toRed(this),n[1]=t;for(var i=2;i<n.length;i++)n[i]=this.mul(n[i-1],t);var r=n[0],o=0,a=0,s=e.bitLength()%26;for(0===s&&(s=26),i=e.length-1;0<=i;i--){for(var l=e.words[i],c=s-1;0<=c;c--){var u=l>>c&1;r!==n[0]&&(r=this.sqr(r)),0==u&&0===o?a=0:(o=o<<1|u,(4===++a||0===i&&0===c)&&(r=this.mul(r,n[o]),o=a=0))}s=26}return r},x.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},x.prototype.convertFrom=function(t){t=t.clone();return t.red=null,t},g.mont=function(t){return new M(t)},n(M,x),M.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},M.prototype.convertFrom=function(t){t=this.imod(t.mul(this.rinv));return t.red=null,t},M.prototype.imul=function(t,e){return t.isZero()||e.isZero()?(t.words[0]=0,t.length=1,t):(e=(t=t.imul(e)).maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),0<=(e=t=t.isub(e).iushrn(this.shift)).cmp(this.m)?e=t.isub(this.m):t.cmpn(0)<0&&(e=t.iadd(this.m)),e._forceRed(this))},M.prototype.mul=function(t,e){return(t.isZero()||e.isZero()?new g(0):(e=(t=t.mul(e)).maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),0<=(e=t=t.isub(e).iushrn(this.shift)).cmp(this.m)?e=t.isub(this.m):t.cmpn(0)<0&&(e=t.iadd(this.m)),e))._forceRed(this)},M.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t,this)}.call(this,S(146)(t))},function(t,e){},function(t,n,e){n.publicEncrypt=e(578),n.privateDecrypt=e(580),n.privateEncrypt=function(t,e){return n.publicEncrypt(t,e,!0)},n.publicDecrypt=function(t,e){return n.privateDecrypt(t,e,!0)}},function(t,e,n){var o=n(379),s=n(154),l=n(161),c=n(471),u=n(472),h=n(408),a=n(473),d=n(399),f=n(15).Buffer;t.exports=function(t,e,n){var i,r=t.padding||(n?1:4),t=o(t);if(4===r)i=function(t,e){var t=t.modulus.byteLength(),n=e.length,i=l("sha1").update(f.alloc(0)).digest(),r=i.length,o=2*r;if(t-o-2<n)throw new Error("message too long");var n=f.alloc(t-n-o-2),o=t-r-1,a=s(r),i=u(f.concat([i,n,f.alloc(1,1),e],o),c(a,o)),n=u(a,c(i,r));return new h(f.concat([f.alloc(1),n,i],t))}(t,e);else if(1===r)i=function(t,e,n){var i=e.length,t=t.modulus.byteLength();if(t-11<i)throw new Error("message too long");i=n?f.alloc(t-i-3,255):function(t){var e,n=f.allocUnsafe(t),i=0,r=s(2*t),o=0;for(;i<t;)o===r.length&&(r=s(2*t),o=0),(e=r[o++])&&(n[i++]=e);return n}(t-i-3);return new h(f.concat([f.from([0,n?1:2]),i,f.alloc(1),e],t))}(t,e,n);else{if(3!==r)throw new Error("unknown padding");if(0<=(i=new h(e)).cmp(t.modulus))throw new Error("data too long for modulus")}return(n?d:a)(i,t)}},function(t,e){},function(t,e,n){var f=n(379),p=n(471),m=n(472),g=n(408),b=n(399),v=n(161),y=n(473),w=n(15).Buffer;t.exports=function(t,e,n){var i=t.padding||(n?1:4),t=f(t),r=t.modulus.byteLength();if(e.length>r||0<=new g(e).cmp(t.modulus))throw new Error("decryption error");var e=n?y(new g(e),t):b(e,t),o=w.alloc(r-e.length);if(e=w.concat([o,e],r),4===i){var o=e,r=(r=t).modulus.byteLength(),t=v("sha1").update(w.alloc(0)).digest(),a=t.length;if(0===o[0]){var s=o.slice(1,a+1),o=o.slice(a+1),s=m(s,p(o,a)),l=m(o,p(s,r-a-1));if(!function(t,e){t=w.from(t),e=w.from(e);var n=0,i=t.length;t.length!==e.length&&(n++,i=Math.min(t.length,e.length));var r=-1;for(;++r<i;)n+=t[r]^e[r];return n}(t,l.slice(0,a))){for(var c=a;0===l[c];)c++;if(1===l[c++])return l.slice(c)}}throw new Error("decryption error")}if(1===i){for(var u=e,o=n,s=u.slice(0,2),h=2,d=0;0!==u[h++];)if(h>=u.length){d++;break}r=u.slice(2,h-1);if(("0002"!==s.toString("hex")&&!o||"0001"!==s.toString("hex")&&o)&&d++,r.length<8&&d++,d)throw new Error("decryption error");return u.slice(h)}if(3===i)return e;throw new Error("unknown padding")}},function(t,n,f){"use strict";!function(r,o){function t(){throw new Error("secure random number generation not supported by this browser\nuse chrome, FireFox or Internet Explorer 11")}var e=f(15),a=f(154),s=e.Buffer,i=e.kMaxLength,l=r.crypto||r.msCrypto,c=Math.pow(2,32)-1;function u(t,e){if("number"!=typeof t||t!=t)throw new TypeError("offset must be a number");if(c<t||t<0)throw new TypeError("offset must be a uint32");if(i<t||e<t)throw new RangeError("offset out of range")}function h(t,e,n){if("number"!=typeof t||t!=t)throw new TypeError("size must be a number");if(c<t||t<0)throw new TypeError("size must be a uint32");if(n<t+e||i<t)throw new RangeError("buffer too small")}function d(n,i,t,r){var e;return o.browser?(e=n.buffer,e=new Uint8Array(e,i,t),l.getRandomValues(e),r?void o.nextTick(function(){r(null,n)}):n):r?void a(t,function(t,e){if(t)return r(t);e.copy(n,i),r(null,n)}):(a(t).copy(n,i),n)}l&&l.getRandomValues||!o.browser?(n.randomFill=function(t,e,n,i){if(!(s.isBuffer(t)||t instanceof r.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if("function"==typeof e)i=e,e=0,n=t.length;else if("function"==typeof n)i=n,n=t.length-e;else if("function"!=typeof i)throw new TypeError('"cb" argument must be a function');return u(e,t.length),h(n,e,t.length),d(t,e,n,i)},n.randomFillSync=function(t,e,n){void 0===e&&(e=0);if(!(s.isBuffer(t)||t instanceof r.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');u(e,t.length),void 0===n&&(n=t.length-e);return h(n,e,t.length),d(t,e,n)}):(n.randomFill=t,n.randomFillSync=t)}.call(this,f(26),f(36))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t};function r(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var o=n(107);function a(t){t=t.node;if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this.$node=t,this.$status=t&&t.querySelector(".ai-preloader-status"),this.imageSearchQuery="work",this.iframeLoaded=!1,this.pendingQuery=null}i(a,[{key:"show",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"";this.$node?(this.$node.style.display="block",t&&this.status(t)):this.create()}},{key:"hide",value:function(){this.$node&&this.$node.remove()}},{key:"stopAnimation",value:function(){var t=this.$node.querySelector(".ai-preloader-wrapper > iframe");t&&t.contentWindow&&t.contentWindow.fakeRenderStop()}},{key:"status",value:function(t){this.$status&&(this.$status.innerText=(0,o.unescapeHtml)(t))}},{key:"create",value:function(){var e=this;return new Promise(function(t){document.body.querySelector(".ai-preloader")?t():(document.body.insertAdjacentHTML("beforeend",'\n                <div class="ai-preloader no-select">\n                    <div class="ai-preloader-wrapper" style="display: flex;justify-content: center;align-items: center;width:100%;height:100%;">\n                        <iframe src="assets/mobirise-ai/FakeRender.html" style="width:100%;height:100%;position:fixed;"></iframe>\n                        <div class="modal-backdrop" style="position:fixed; bottom:0; opacity:0.3;"></div>\n                        <div class="ai-spinner preloader-spinner" style="background: none;margin-top:5rem;opacity: 0.8; transition: all 0.2s ease 0s;"><div class="mobirise-spinner"><i></i><i></i><i></i><i></i><i></i></div></div>\n                        <h5 class="control-label ai-preloader-status" style="color:#ffffff;font-size:4rem;margin:0;transform: translateZ(10px);"></h5>\n                    </div>\n                </div>\n            '),e.$node=document.querySelector(".ai-preloader"),e.$status=document.querySelector(".ai-preloader-status"),e.iframe=e.$node.querySelector("iframe"),e.iframe.onload=function(){e.iframeLoaded=!0,t()})})}},{key:"sendImageSearchQuery",value:function(t){this.iframe&&this.iframe.contentWindow&&(this.iframeLoaded?this.iframe.contentWindow.postMessage({type:"setImageSearchQuery",value:t},"*"):this.pendingQuery=t)}}]),e.default=a},function(t,e,n){"use strict";function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}Object.defineProperty(e,"__esModule",{value:!0});(function(t,e,n){e&&i(t.prototype,e),n&&i(t,n)})(o,[{key:"_get",value:function(){return JSON.parse(this.nativeStorage.getItem(this.key))}},{key:"get",value:function(t){try{return this._get()[t]}catch(t){}}},{key:"has",value:function(t){return null!=this.get(t)}},{key:"set",value:function(t,e){var n=void 0;try{n=this._get()}catch(t){}(n=n instanceof Object?n:{})[t]=e,this.nativeStorage.setItem(this.key,JSON.stringify(n))}},{key:"clear",value:function(){this.nativeStorage.removeItem(this.key)}}]);var r=o;function o(t){var e=t.key,t=t.nativeStorage,t=void 0===t?window.sessionStorage:t;if(!(this instanceof o))throw new TypeError("Cannot call a class as a function");this.key=e,this.nativeStorage=t}e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});function i(){return o.apply(this,arguments)}var r,o;r=regeneratorRuntime.mark(function t(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=e.message,o=void 0===n?"Choose a site to delete":n,n=e.sites,a=void 0===n?[]:n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise(function(i){var r=window.bootbox.dialog({show:!1,size:"large",title:o,closeButton:!1,className:"ai-choosing-site-modal",message:'\n                <div class="row">\n                    <div class="col-md-12">\n                        <div class="site-list">\n                            '+s.repeat(a.length)+"\n                        </div>\n                    </div>\n                </div>\n            ",buttons:{cancel:{label:"Cancel",className:"btn-primary",callback:function(){i(),r.modal("hide")}}},onEscape:function(){i(),r.modal("hide")}});$(".project-element",r).each(function(t){var n=a[t],t=$(this);t.find(".project-name").text(n.title).attr("title",n.title),t.find(".project-domain").text(n.url),t.find(".project-element-panel").on("click",function(t){var e;t.preventDefault(),$(t.target).closest('[data-action="select"]').length?(e=n,new Promise(function(t){window.bootbox.dialog({closeButton:!1,className:"ai-choosing-site-modal-confirm-deletion",message:'Are you sure to delete this site: <a href="'+e.url+'" target="_blank">'+e.url+"</a>? This action cannot be undone.",buttons:{cancel:{label:"Cancel",className:"btn-default",callback:function(){return t(!1)}},delete:{label:"Delete",className:"btn-danger",callback:function(){return t(!0)}}},onEscape:function(){return t(!1)}})}).then(function(t){t&&(i(n),r.modal("hide"))})):window.open(n.url,"_blank")})}),r.modal("show")}));case 1:case"end":return t.stop()}},t,this)}),o=function(){var s=r.apply(this,arguments);return new Promise(function(o,a){return function e(t,n){try{var i=s[t](n),r=i.value}catch(t){return void a(t)}if(!i.done)return Promise.resolve(r).then(function(t){e("next",t)},function(t){e("throw",t)});o(r)}("next")})};var s='\n    <div class="col-md-4 col-sm-6 col-xs-12">\n        <div class="project-element">\n            <div class="project-element-panel">\n                <div class="project-img"></div>\n                <div class="project-body">\n                    <h3 class="project-label project-name text-primary"></h3>\n                    <h3 class="project-label project-domain text-primary"></h3>\n                </div>\n                <div class="btn-group">\n                    <span class="app-project-remove btn btn-material-red" data-action="select">\n                        <i class="mbr-icon-trash"></i>\n                    </span>\n                </div>\n            </div>\n        </div>\n    </div>\n';e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var h=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n,i=arguments[e];for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},i=function(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t};function r(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var c=a(n(76)),u=a(n(166)),o=a(n(474)),d=a(n(380)),f=a(n(409)),p=a(n(167));function a(t){return t&&t.__esModule?t:{default:t}}function m(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function g(t){return function(){var s=t.apply(this,arguments);return new Promise(function(o,a){return function e(t,n){try{var i=s[t](n),r=i.value}catch(t){return void a(t)}if(!i.done)return Promise.resolve(r).then(function(t){e("next",t)},function(t){e("throw",t)});o(r)}("next")})}}i(v,[{key:"init",value:(b=g(regeneratorRuntime.mark(function t(){var e,n=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,c.default.getUserGeneratedProjects();case 3:e=t.sent,e=this.groupByPromptAndTime(e).reverse(),e=e.map(function(t){return n.createProjectMetaElement(t)}),this.projectsWrapper.append(e),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(0),document.getElementById("generatedSites").remove(),this.callbacks.onError(t.t0);case 13:case"end":return t.stop()}},t,this,[[0,9]])})),function(){return b.apply(this,arguments)})},{key:"groupByPromptAndTime",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:60;if(!Array.isArray(t)||0===t.length)return[];var t=[].concat(m(t)).sort(function(t,e){var n=t.meta.prompt.localeCompare(e.meta.prompt);return 0!==n?n:new Date(t.createdAt)-new Date(e.createdAt)}),n=[],i=null,r=!0,o=!1,a=void 0;try{for(var s,l=t[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){var c=s.value,u=new Date(c.createdAt).getTime();(!i||i.prompt!==c.meta.prompt||u-i.timestamp>1e3*e)&&(i={prompt:c.meta.prompt,createdAt:c.createdAt,timestamp:u,items:[]},n.push(i)),i.items.push(h({},c,{publicUrl:c.urls.public,screenshotUrl:c.screenshot.urls.public||null}))}}catch(t){o=!0,a=t}finally{try{!r&&l.return&&l.return()}finally{if(o)throw a}}return n}},{key:"createProjectMetaElement",value:function(t){var e=this,n=t.createdAt,i=t.prompt,r=t.items,t=$('<div class="item"></div>'),n=new Date(n),o=Intl.DateTimeFormat().resolvedOptions().timeZone,a=navigator.language,n=n.toLocaleString(a,{timeZone:o,month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),a=$('\n            <div>\n                <div class="generationsControl">\n                    <span style="width:100%; margin-bottom:0; font-size:1.2rem; color:#ababab; align-self: center">'+n+'</span>\n                    <h5 style="margin:0; font-size:1.6rem; line-height:1.4; width:100%;">'+i+"</h5>\n                </div>\n            </div>\n        ");return t.append(a),a.on("click",function(){return e.handleProjectClick(r)}),t}},{key:"handleProjectClick",value:(l=g(regeneratorRuntime.mark(function t(n){var i,r,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.callbacks.onLoadStart(),t.next=3,c.default.loader.create();case 3:if(c.default.loader.show("Loading..."),t.prev=4,r=Array.isArray(n)?n:[n],e=r,r=Array.isArray(e)?e:Array.from(e),i=r[0],r=r.slice(1),this.checkIsCanceled())throw new Error("Canceled");t.next=8;break;case 8:if(r.length)return t.next=11,Promise.allSettled(r.map(function(t){return c.default.waitUntilPageIsReady(t,{timeout:60}).then(function(){return t})})).then(function(t){return t.filter(function(t){return"fulfilled"===t.status}).map(function(t){return t.value})});t.next=14;break;case 11:t.t0=t.sent,t.next=15;break;case 14:t.t0=[];case 15:if((o=t.t0).length)return t.next=19,this.selectPageDialog([i].concat(m(o)));t.next=21;break;case 19:t.next=23;break;case 21:return t.next=23,this.selectPageDialog([i]);case 23:t.next=30;break;case 25:t.prev=25,t.t1=t.catch(4),"Canceled"!==t.t1.message&&("FeatureNotAvailable"===t.t1.code?u.default.goToBuyPremium({alert:!1}):(this.callbacks.onError(t.t1),u.default.showError(t.t1.message||t.t1))),this.dialogElement.find("form").show(),c.default.loader.hide();case 30:case"end":return t.stop()}var e},t,this,[[4,25]])})),function(t){return l.apply(this,arguments)})},{key:"selectPageDialog",value:(s=g(regeneratorRuntime.mark(function t(s){var l=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,o.default)({data:{pages:s.filter(function(t){return"READY"===t.status.name})},callback:g(regeneratorRuntime.mark(function t(){var n,i,r,o,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return u.default.showPreloader(),d.default.end("page fill"),d.default.start("page publish on mobirisesite.com"),n=$(".ai-choosing-theme-modal").find('input[type="radio"][name="ai-theme"]:checked').val(),i=new f.default,e.next=7,i.restoreOrCreateSite();case 7:return r=e.sent,o=s.find(function(t){return t.meta.id===n}),o=new p.default(o),e.prev=10,e.next=13,i.restoreOrCreatePublication(o,r);case 13:return a=e.sent,e.next=16,a.waitUntilIsComplete();case 16:e.next=29;break;case 18:if(e.prev=18,e.t0=e.catch(10),"NotFound"!==e.t0.code)return"ThemeNotAvailable"===e.t0.code&&(openBuyPremiumPage(),gtag("event","ai_upgrade_click",{event_category:"engagement",dom_source:"multiselect"})),e.abrupt("return",g(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:throw c.default.loader.hide(),e.t0;case 2:case"end":return t.stop()}},t,this)})));e.next=24;break;case 24:return e.next=26,l.createPublication(o,r);case 26:return pub=e.sent,e.next=29,pub.waitUntilIsComplete();case 29:return d.default.end("page publish on mobirisesite.com"),e.next=32,u.default.waitUntilIsLoad();case 32:c.default.loader.hide(),c.default.storage.clear(),u.default.loadProject(r.projectLocation,{onFinally:function(){return u.default.enableSaveProject()}}),d.default.end("site generate"),gtag("event","ai_multiselect_theme",{event_category:"engagement",multiselect_theme:o.props.meta.theme});case 37:case"end":return e.stop()}},t,l,[[10,18]])})).bind(this),onError:function(){var e=g(regeneratorRuntime.mark(function t(e){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("RandomizeReload"===e.code)return gtag("event","ai_regenerate",{event_category:"engagement"}),n=s.map(function(t){return t.seed=Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(36),t}),t.abrupt("return",l.selectPageDialog(n));t.next=4;break;case 4:throw c.default.loader.hide(),l.callbacks.onError(e),e;case 7:case"end":return t.stop()}},t,l)}));return function(t){return e.apply(this,arguments)}}()}));case 1:case"end":return t.stop()}},t,this)})),function(t){return s.apply(this,arguments)})}]);var s,l,b,n=v;function v(t){var e=t.dialogElement,n=t.callbacks,n=void 0===n?{}:n,i=t.TR,t=t.checkIsCanceled;if(!(this instanceof v))throw new TypeError("Cannot call a class as a function");this.dialogElement=e,this.projectsWrapper=e.find("#generatedSites .generated-sites-inner"),this.callbacks={onProjectClick:n.onProjectClick||function(){},onLoadStart:n.onLoadStart||function(){},onLoadEnd:n.onLoadEnd||function(){},onError:n.onError||function(t){return console.error(t)},onHide:n.onHide||function(){}},this.TR=i,this.checkIsCanceled=t}e.default=n},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var h=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n,i=arguments[e];for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},o=function(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t};function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var r=l(n(409)),a=l(n(587)),d=l(n(166)),s=(l(n(410)),l(n(411)),l(n(167))),f=l(n(380)),p=l(n(76)),m=n(25),g=n(107),b=l(n(474));function l(t){return t&&t.__esModule?t:{default:t}}function v(t){return Array.isArray(t)?t:Array.from(t)}function c(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function y(t){return function(){var s=t.apply(this,arguments);return new Promise(function(o,a){return function e(t,n){try{var i=s[t](n),r=i.value}catch(t){return void a(t)}if(!i.done)return Promise.resolve(r).then(function(t){e("next",t)},function(t){e("throw",t)});o(r)}("next")})}}function w(){d.default.goToBuyPremium({alert:!1,delay:!1})}n=function(t){var e,n,i=r;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);function r(){var t=this,e=r;if(!(t instanceof e))throw new TypeError("Cannot call a class as a function");t=this,e=(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments);if(t)return!e||"object"!=typeof e&&"function"!=typeof e?t:e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return i.prototype=Object.create(t&&t.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(i,t):i.__proto__=t),o(r,[{key:"restoreOrCreateMultiplePages",value:(n=y(regeneratorRuntime.mark(function t(e){var n,i,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=this.storage.get("page"),i=this.storage.get("alternativePages")||[],n)return t.abrupt("return",[new s.default(n)].concat(c(i.map(function(t){return new s.default(t)}))));t.next=4;break;case 4:return e=e||this.storage.get("prompt"),t.next=8,a.default.create({prompt:e});case 8:return r=t.sent,r=v(r),n=r[0],i=r.slice(1),this.storage.set("page",n.toJSON()),i.length&&this.storage.set("alternativePages",i),t.abrupt("return",[n].concat(c(i)));case 15:case"end":return t.stop()}},t,this)})),function(t){return n.apply(this,arguments)})},{key:"start",value:(e=y(regeneratorRuntime.mark(function t(){var r,o,i,a,s,e,n,l,c=this,u=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.isInitialized||"onClient"===u.mode){t.next=4;break}return this.storage.clear(),p.default.loader.hide(),t.abrupt("return");case 4:return r=void 0,t.next=7,d.default.isPremiumUser();case 7:return t.sent,t.next=10,d.default.reqUserInfo();case 10:return o=t.sent,i=function(){var e=y(regeneratorRuntime.mark(function t(e){var n,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("ThemeNotAvailable"===e.code)return t.abrupt("return",c.start(u));t.next=2;break;case 2:if("RandomizeReload"===e.code)return gtag("event","ai_regenerate",{event_category:"engagement"}),t.abrupt("return",c.start(h({},u,{randomizeAll:!0})));t.next=5;break;case 5:if("onClient"===u.mode)t.next=18;else{if(n=c.storage.get("prompt"),r)return t.next=10,r.delete().catch(console.error);t.next=12}break;case 10:t.next=13;break;case 12:d.default.enableSaveProject();case 13:c.storage.clear(),i=new URLSearchParams({prompt:(0,g.unescapeHtml)(n),u:o.id,error:e.message,errorType:e.code}).toString(),window.location.replace("https://ai.mobirise.com/?"+i),t.next=21;break;case 18:c.storage.clear(),p.default.loader.hide(),console.log(e.message);case 21:case"end":return t.stop()}},t,c)}));return function(t){return e.apply(this,arguments)}}(),f.default.start("app load","site generate"),d.default.afterLoad(function(){return f.default.end("app load")}),d.default.disableSaveProject(),t.prev=15,t.next=18,p.default.loader.create();case 18:return p.default.loader.show("Generating Page..."),t.next=21,this.restoreOrCreateSite();case 21:return r=t.sent,f.default.start("pages create"),t.next=25,this.restoreOrCreateMultiplePages(u.clientPrompt);case 25:return a=t.sent,e=v(a),s=e[0],e=e.slice(1),s.props.meta.imageSearchQuery&&p.default.loader.sendImageSearchQuery(s.props.meta.imageSearchQuery),n=Boolean(e.length),f.default.end("pages create"),f.default.start("page fill"),p.default.loader.show(s.props.meta.systemMessage.replace("Creating a page titled","Creating page")),f.default.start("empty project publish"),t.next=35,this.restoreOrCreateProjectPublication(s,r);case 35:d.default.saveProjectSettings(r.projectLocation,{title:s.props.meta.pageTitle}),f.default.end("empty project publish"),m.Bridge.initPath=r.projectLocation,l=n&&Promise.allSettled(e.map(function(e){return e.waitUntilIsReady({timeout:60}).then(function(t){return e})})).then(function(t){return t.filter(function(t){return"fulfilled"===t.status}).map(function(t){return t.value})}),s.waitUntilIsReady().then(y(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n)return t.next=3,l;t.next=12;break;case 3:return u.randomizeAll&&(a=a.map(function(t){return t.seed=Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(36),t})),p.default.loader.stopAnimation(),t.next=7,(0,b.default)({data:{pages:a.filter(function(t){return"READY"===t.status})},callback:y(regeneratorRuntime.mark(function t(){var e,n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return d.default.showPreloader(),f.default.end("page fill"),f.default.start("page publish on mobirisesite.com"),e=$(".ai-choosing-theme-modal").find('input[type="radio"][name="ai-theme"]:checked').val(),s=a.find(function(t){return t.id===e}),t.prev=5,t.next=8,c.restoreOrCreatePublication(s,r);case 8:return n=t.sent,t.next=11,n.waitUntilIsComplete();case 11:t.next=24;break;case 13:if(t.prev=13,t.t0=t.catch(5),"NotFound"!==t.t0.code)return"ThemeNotAvailable"===t.t0.code&&(w(),gtag("event","ai_upgrade_click",{event_category:"engagement",dom_source:"multiselect"})),t.abrupt("return",i(t.t0));t.next=19;break;case 19:return t.next=21,c.createPublication(s,r);case 21:return pub=t.sent,t.next=24,pub.waitUntilIsComplete();case 24:return f.default.end("page publish on mobirisesite.com"),t.next=27,d.default.waitUntilIsLoad();case 27:p.default.loader.hide(),c.storage.clear(),d.default.loadProject(r.projectLocation,{onFinally:function(){return d.default.enableSaveProject()}}),f.default.end("site generate"),gtag("event","ai_multiselect_theme",{event_category:"engagement",multiselect_theme:s.props.meta.theme});case 32:case"end":return t.stop()}},t,c,[[5,13]])})).bind(c),onError:i});case 7:(e=t.sent).find(".bootbox-close-button")[0].addEventListener("click",y(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i(new Error("Canceled"));case 2:case"end":return t.stop()}},t,this)}))),e.find("span.premium").each(function(t,e){$(e).on("click",function(){w(),gtag("event","ai_upgrade_click",{event_category:"engagement",dom_source:"multiselect"})})}),t.next=39;break;case 12:return f.default.end("page fill"),f.default.start("page publish on mobirisesite.com"),t.prev=14,t.next=17,c.restoreOrCreatePublication(s,r);case 17:return e=t.sent,t.next=20,e.waitUntilIsComplete();case 20:t.next=31;break;case 22:if(t.prev=22,t.t0=t.catch(14),"NotFound"!==t.t0.code)return t.abrupt("return",i(t.t0));t.next=26;break;case 26:return t.next=28,c.createPublication(s,r);case 28:return pub=t.sent,t.next=31,pub.waitUntilIsComplete();case 31:return f.default.end("page publish on mobirisesite.com"),t.next=34,d.default.waitUntilIsLoad();case 34:d.default.showPreloader(),p.default.loader.hide(),c.storage.clear(),d.default.loadProject(r.projectLocation,{onFinally:function(){return d.default.enableSaveProject()}}),f.default.end("site generate");case 39:case"end":return t.stop()}},t,c,[[14,22]])}))).catch(i),t.next=48;break;case 42:return t.prev=42,t.t0=t.catch(15),t.next=46,i(t.t0);case 46:return t.next=48,(0,g.forever)();case 48:case"end":return t.stop()}},t,this,[[15,42]])})),function(){return e.apply(this,arguments)})}]),r}(r.default);e.default=n},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n,i=arguments[e];for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},i=function(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),t};function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var a=c(n(76)),s=c(n(167)),l=n(107);function c(t){return t&&t.__esModule?t:{default:t}}function u(t){return function(){var s=t.apply(this,arguments);return new Promise(function(o,a){return function e(t,n){try{var i=s[t](n),r=i.value}catch(t){return void a(t)}if(!i.done)return Promise.resolve(r).then(function(t){e("next",t)},function(t){e("throw",t)});o(r)}("next")})}}i(d,null,[{key:"create",value:(h=u(regeneratorRuntime.mark(function t(){var e,n,i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=r({},i,{options:{multipleGeneration:!0}}),t.next=3,a.default.request("/v2/pages",{method:"POST",body:JSON.stringify(e)});case 3:if(n=t.sent,(0,l.isPlainObject)(n))return t.abrupt("return",[new s.default({status:n.status,meta:(0,l.pick)(n.meta,["id","pageTitle","systemMessage","theme"]),urls:n.urls})]);t.next=6;break;case 6:return t.abrupt("return",n.map(function(t){return new s.default({status:t.status,meta:(0,l.pick)(t.meta,["id","pageTitle","systemMessage","theme","imageSearchQuery"]),urls:t.urls})}));case 7:case"end":return t.stop()}},t,this)})),function(){return h.apply(this,arguments)})}]);var h,n=d;function d(){if(!(this instanceof d))throw new TypeError("Cannot call a class as a function")}e.default=n},function(D,B,N){"use strict";var a,t,r,e,l,n,o,i,s,c,u,h,F,d,$,f,p,U,m,g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};
/*!
 * Bootstrap v3.3.2 (http://getbootstrap.com)
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 */if("undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");var b=jQuery.fn.jquery.split(" ")[0].split(".");if(b[0]<2&&b[1]<9||1==b[0]&&9==b[1]&&b[2]<1)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher");(m=jQuery).fn.emulateTransitionEnd=function(t){var e=!1,n=this;m(this).one("bsTransitionEnd",function(){e=!0});return setTimeout(function(){e||m(n).trigger(m.support.transition.end)},t),this},m(function(){m.support.transition=function(){var t,e=document.createElement("bootstrap"),n={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(t in n)if(void 0!==e.style[t])return{end:n[t]};return!1}(),m.support.transition&&(m.event.special.bsTransitionEnd={bindType:m.support.transition.end,delegateType:m.support.transition.end,handle:function(t){return m(t.target).is(this)?t.handleObj.handler.apply(this,arguments):void 0}})}),f=jQuery,p='[data-dismiss="alert"]',I.VERSION="3.3.2",I.TRANSITION_DURATION=150,I.prototype.close=function(t){function e(){r.detach().trigger("closed.bs.alert").remove()}var n=f(this),i=n.attr("data-target"),r=(i||(i=(i=n.attr("href"))&&i.replace(/.*(?=#[^\s]*$)/,"")),f(i));t&&t.preventDefault(),(r=r.length?r:n.closest(".alert")).trigger(t=f.Event("close.bs.alert")),t.isDefaultPrevented()||(r.removeClass("in"),f.support.transition&&r.hasClass("fade")?r.one("bsTransitionEnd",e).emulateTransitionEnd(I.TRANSITION_DURATION):e())},U=f.fn.alert,f.fn.alert=function(n){return this.each(function(){var t=f(this),e=t.data("bs.alert");e||t.data("bs.alert",e=new I(this)),"string"==typeof n&&e[n].call(t)})},f.fn.alert.Constructor=I,f.fn.alert.noConflict=function(){return f.fn.alert=U,this},f(document).on("click.bs.alert.data-api",p,I.prototype.close),d=jQuery,R.VERSION="3.3.2",R.DEFAULTS={loadingText:"loading..."},R.prototype.setState=function(t){var e="disabled",n=this.$element,i=n.is("input")?"val":"html",r=n.data();t+="Text",null==r.resetText&&n.data("resetText",n[i]()),setTimeout(d.proxy(function(){n[i]((null==r[t]?this.options:r)[t]),"loadingText"==t?(this.isLoading=!0,n.addClass(e).attr(e,e)):this.isLoading&&(this.isLoading=!1,n.removeClass(e).removeAttr(e))},this),0)},R.prototype.toggle=function(){var t,e=!0,n=this.$element.closest('[data-toggle="buttons"]');n.length?("radio"==(t=this.$element.find("input")).prop("type")&&(t.prop("checked")&&this.$element.hasClass("active")?e=!1:n.find(".active").removeClass("active")),e&&t.prop("checked",!this.$element.hasClass("active")).trigger("change")):this.$element.attr("aria-pressed",!this.$element.hasClass("active")),e&&this.$element.toggleClass("active")},$=d.fn.button,d.fn.button=X,d.fn.button.Constructor=R,d.fn.button.noConflict=function(){return d.fn.button=$,this},d(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(t){var e=d(t.target);e.hasClass("btn")||(e=e.closest(".btn")),X.call(e,"toggle"),t.preventDefault()}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(t){d(t.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(t.type))});var v=jQuery;function y(r){return this.each(function(){var t=v(this),e=t.data("bs.carousel"),n=v.extend({},w.DEFAULTS,t.data(),"object"==(void 0===r?"undefined":g(r))&&r),i="string"==typeof r?r:n.slide;e||t.data("bs.carousel",e=new w(this,n)),"number"==typeof r?e.to(r):i?e[i]():n.interval&&e.pause().cycle()})}function w(t,e){this.$element=v(t),this.$indicators=this.$element.find(".carousel-indicators"),this.options=e,this.paused=this.sliding=this.interval=this.$active=this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",v.proxy(this.keydown,this)),"hover"!=this.options.pause||"ontouchstart"in document.documentElement||this.$element.on("mouseenter.bs.carousel",v.proxy(this.pause,this)).on("mouseleave.bs.carousel",v.proxy(this.cycle,this))}function z(t){var e,n=v(this),i=v(n.attr("data-target")||(i=n.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,""));i.hasClass("carousel")&&(e=v.extend({},i.data(),n.data()),(n=n.attr("data-slide-to"))&&(e.interval=!1),y.call(i,e),n&&i.data("bs.carousel").to(n),t.preventDefault())}w.VERSION="3.3.2",w.TRANSITION_DURATION=600,w.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},w.prototype.keydown=function(t){if(!/input|textarea/i.test(t.target.tagName)){switch(t.which){case 37:this.prev();break;case 39:this.next();break;default:return}t.preventDefault()}},w.prototype.cycle=function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(v.proxy(this.next,this),this.options.interval)),this},w.prototype.getItemIndex=function(t){return this.$items=t.parent().children(".item"),this.$items.index(t||this.$active)},w.prototype.getItemForDirection=function(t,e){var n=this.getItemIndex(e);return("prev"==t&&0===n||"next"==t&&n==this.$items.length-1)&&!this.options.wrap?e:(e=(n+("prev"==t?-1:1))%this.$items.length,this.$items.eq(e))},w.prototype.to=function(t){var e=this,n=this.getItemIndex(this.$active=this.$element.find(".item.active"));return t>this.$items.length-1||t<0?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){e.to(t)}):n==t?this.pause().cycle():this.slide(n<t?"next":"prev",this.$items.eq(t))},w.prototype.pause=function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&v.support.transition&&(this.$element.trigger(v.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},w.prototype.next=function(){return this.sliding?void 0:this.slide("next")},w.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},w.prototype.slide=function(t,e){var n,i,r,o=this.$element.find(".item.active"),a=e||this.getItemForDirection(t,o),e=this.interval,s="next"==t?"left":"right",l=this;return a.hasClass("active")?this.sliding=!1:(n=a[0],i=v.Event("slide.bs.carousel",{relatedTarget:n,direction:s}),this.$element.trigger(i),i.isDefaultPrevented()?void 0:(this.sliding=!0,e&&this.pause(),this.$indicators.length&&(this.$indicators.find(".active").removeClass("active"),i=v(this.$indicators.children()[this.getItemIndex(a)]))&&i.addClass("active"),r=v.Event("slid.bs.carousel",{relatedTarget:n,direction:s}),v.support.transition&&this.$element.hasClass("slide")?(a.addClass(t),a[0].offsetWidth,o.addClass(s),a.addClass(s),o.one("bsTransitionEnd",function(){a.removeClass([t,s].join(" ")).addClass("active"),o.removeClass(["active",s].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger(r)},0)}).emulateTransitionEnd(w.TRANSITION_DURATION)):(o.removeClass("active"),a.addClass("active"),this.sliding=!1,this.$element.trigger(r)),e&&this.cycle(),this))};var H=v.fn.carousel,_=(v.fn.carousel=y,v.fn.carousel.Constructor=w,v.fn.carousel.noConflict=function(){return v.fn.carousel=H,this},v(document).on("click.bs.carousel.data-api","[data-slide]",z).on("click.bs.carousel.data-api","[data-slide-to]",z),v(window).on("load",function(){v('[data-ride="carousel"]').each(function(){var t=v(this);y.call(t,t.data())})}),h=jQuery,O.VERSION="3.3.2",O.TRANSITION_DURATION=350,O.DEFAULTS={toggle:!0,trigger:'[data-toggle="collapse"]'},O.prototype.dimension=function(){return this.$element.hasClass("width")?"width":"height"},O.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var t=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(t&&t.length&&(i=t.data("bs.collapse"))&&i.transitioning)){var e=h.Event("show.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){t&&t.length&&(L.call(t,"hide"),i||t.data("bs.collapse",null));var n=this.dimension(),e=(this.$element.removeClass("collapse").addClass("collapsing")[n](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1,function(){this.$element.removeClass("collapsing").addClass("collapse in")[n](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")});if(!h.support.transition)return e.call(this);var i=h.camelCase(["scroll",n].join("-"));this.$element.one("bsTransitionEnd",h.proxy(e,this)).emulateTransitionEnd(O.TRANSITION_DURATION)[n](this.$element[0][i])}}}},O.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var t,e=h.Event("hide.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented())return e=this.dimension(),this.$element[e](this.$element[e]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1,t=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")},h.support.transition?void this.$element[e](0).one("bsTransitionEnd",h.proxy(t,this)).emulateTransitionEnd(O.TRANSITION_DURATION):t.call(this)}},O.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},O.prototype.getParent=function(){return h(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(h.proxy(function(t,e){e=h(e);this.addAriaAndCollapsedClass(Y(e),e)},this)).end()},O.prototype.addAriaAndCollapsedClass=function(t,e){var n=t.hasClass("in");t.attr("aria-expanded",n),e.toggleClass("collapsed",!n).attr("aria-expanded",n)},F=h.fn.collapse,h.fn.collapse=L,h.fn.collapse.Constructor=O,h.fn.collapse.noConflict=function(){return h.fn.collapse=F,this},h(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(t){var e=h(this),t=(e.attr("data-target")||t.preventDefault(),Y(e)),e=t.data("bs.collapse")?"toggle":h.extend({},e.data(),{trigger:this});L.call(t,e)}),s=jQuery,c='[data-toggle="dropdown"]',j.VERSION="3.3.2",j.prototype.toggle=function(t){var e=s(this);if(!e.is(".disabled, :disabled")){var n=T(e),i=n.hasClass("open");if(A(),!i){"ontouchstart"in document.documentElement&&!n.closest(".navbar-nav").length&&s('<div class="dropdown-backdrop"/>').insertAfter(s(this)).on("click",A);i={relatedTarget:this};if(n.trigger(t=s.Event("show.bs.dropdown",i)),t.isDefaultPrevented())return;e.trigger("focus").attr("aria-expanded","true"),n.toggleClass("open").trigger("shown.bs.dropdown",i)}return!1}},j.prototype.keydown=function(t){if(/(38|40|27|32)/.test(t.which)&&!/input|textarea/i.test(t.target.tagName)){var e=s(this);if(t.preventDefault(),t.stopPropagation(),!e.is(".disabled, :disabled")){var n=T(e),i=n.hasClass("open");if(!i&&27!=t.which||i&&27==t.which)return 27==t.which&&n.find(c).trigger("focus"),e.trigger("click");i=" li:not(.divider):visible a",e=n.find('[role="menu"]'+i+', [role="listbox"]'+i);e.length&&(n=e.index(t.target),38==t.which&&0<n&&n--,40==t.which&&n<e.length-1&&n++,e.eq(n=~n?n:0).trigger("focus"))}}},u=s.fn.dropdown,s.fn.dropdown=function(n){return this.each(function(){var t=s(this),e=t.data("bs.dropdown");e||t.data("bs.dropdown",e=new j(this)),"string"==typeof n&&e[n].call(t)})},s.fn.dropdown.Constructor=j,s.fn.dropdown.noConflict=function(){return s.fn.dropdown=u,this},s(document).on("click.bs.dropdown.data-api",A).on("click.bs.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.bs.dropdown.data-api",c,j.prototype.toggle).on("keydown.bs.dropdown.data-api",c,j.prototype.keydown).on("keydown.bs.dropdown.data-api",'[role="menu"]',j.prototype.keydown).on("keydown.bs.dropdown.data-api",'[role="listbox"]',j.prototype.keydown),o=jQuery,P.VERSION="3.3.2",P.TRANSITION_DURATION=300,P.BACKDROP_TRANSITION_DURATION=150,P.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},P.prototype.toggle=function(t){return this.isShown?this.hide():this.show(t)},P.prototype.show=function(n){var i=this,t=o.Event("show.bs.modal",{relatedTarget:n});this.$element.trigger(t),this.isShown||t.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',o.proxy(this.hide,this)),this.backdrop(function(){var t=o.support.transition&&i.$element.hasClass("fade"),e=(i.$element.parent().length||i.$element.appendTo(i.$body),i.$element.show().scrollTop(0),i.options.backdrop&&i.adjustBackdrop(),i.adjustDialog(),t&&i.$element[0].offsetWidth,i.$element.addClass("in").attr("aria-hidden",!1),i.enforceFocus(),o.Event("shown.bs.modal",{relatedTarget:n}));t?i.$element.find(".modal-dialog").one("bsTransitionEnd",function(){i.$element.trigger("focus").trigger(e)}).emulateTransitionEnd(P.TRANSITION_DURATION):i.$element.trigger("focus").trigger(e)}))},P.prototype.hide=function(t){t&&t.preventDefault(),t=o.Event("hide.bs.modal"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),o(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal"),o.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",o.proxy(this.hideModal,this)).emulateTransitionEnd(P.TRANSITION_DURATION):this.hideModal())},P.prototype.enforceFocus=function(){o(document).off("focusin.bs.modal").on("focusin.bs.modal",o.proxy(function(t){this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.trigger("focus")},this))},P.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",o.proxy(function(t){27==t.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},P.prototype.resize=function(){this.isShown?o(window).on("resize.bs.modal",o.proxy(this.handleUpdate,this)):o(window).off("resize.bs.modal")},P.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.$body.removeClass("modal-open"),t.resetAdjustments(),t.resetScrollbar(),t.$element.trigger("hidden.bs.modal")})},P.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},P.prototype.backdrop=function(t){var e,n=this,i=this.$element.hasClass("fade")?"fade":"";this.isShown&&this.options.backdrop?(e=o.support.transition&&i,this.$backdrop=o('<div class="modal-backdrop '+i+'" />').prependTo(this.$element).on("click.dismiss.bs.modal",o.proxy(function(t){t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),e&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),t&&(e?this.$backdrop.one("bsTransitionEnd",t).emulateTransitionEnd(P.BACKDROP_TRANSITION_DURATION):t())):!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),i=function(){n.removeBackdrop(),t&&t()},o.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",i).emulateTransitionEnd(P.BACKDROP_TRANSITION_DURATION):i()):t&&t()},P.prototype.handleUpdate=function(){this.options.backdrop&&this.adjustBackdrop(),this.adjustDialog()},P.prototype.adjustBackdrop=function(){this.$backdrop.css("height",0).css("height",this.$element[0].scrollHeight)},P.prototype.adjustDialog=function(){var t=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&t?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!t?this.scrollbarWidth:""})},P.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},P.prototype.checkScrollbar=function(){this.bodyIsOverflowing=document.body.scrollHeight>document.documentElement.clientHeight,this.scrollbarWidth=this.measureScrollbar()},P.prototype.setScrollbar=function(){var t=parseInt(this.$body.css("padding-right")||0,10);this.bodyIsOverflowing&&this.$body.css("padding-right",t+this.scrollbarWidth)},P.prototype.resetScrollbar=function(){this.$body.css("padding-right","")},P.prototype.measureScrollbar=function(){var t=document.createElement("div"),e=(t.className="modal-scrollbar-measure",this.$body.append(t),t.offsetWidth-t.clientWidth);return this.$body[0].removeChild(t),e},i=o.fn.modal,o.fn.modal=J,o.fn.modal.Constructor=P,o.fn.modal.noConflict=function(){return o.fn.modal=i,this},o(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(t){var e=o(this),n=e.attr("href"),i=o(e.attr("data-target")||n&&n.replace(/.*(?=#[^\s]+$)/,"")),n=i.data("bs.modal")?"toggle":o.extend({remote:!/#/.test(n)&&n},i.data(),e.data());e.is("a")&&t.preventDefault(),i.one("show.bs.modal",function(t){t.isDefaultPrevented()||i.one("hidden.bs.modal",function(){e.is(":visible")&&e.trigger("focus")})}),J.call(i,n,this)}),l=jQuery,E.VERSION="3.3.2",E.TRANSITION_DURATION=150,E.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},E.prototype.init=function(t,e,n){this.enabled=!0,this.type=t,this.$element=l(e),this.options=this.getOptions(n),this.$viewport=this.options.viewport&&l(this.options.viewport.selector||this.options.viewport);for(var i=this.options.trigger.split(" "),r=i.length;r--;){var o,a=i[r];"click"==a?this.$element.on("click."+this.type,this.options.selector,l.proxy(this.toggle,this)):"manual"!=a&&(o="hover"==a?"mouseleave":"focusout",this.$element.on(("hover"==a?"mouseenter":"focusin")+"."+this.type,this.options.selector,l.proxy(this.enter,this)),this.$element.on(o+"."+this.type,this.options.selector,l.proxy(this.leave,this)))}this.options.selector?this._options=l.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},E.prototype.getDefaults=function(){return E.DEFAULTS},E.prototype.getOptions=function(t){return(t=l.extend({},this.getDefaults(),this.$element.data(),t)).delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t},E.prototype.getDelegateOptions=function(){var n={},i=this.getDefaults();return this._options&&l.each(this._options,function(t,e){i[t]!=e&&(n[t]=e)}),n},E.prototype.enter=function(t){var e=t instanceof this.constructor?t:l(t.currentTarget).data("bs."+this.type);return e&&e.$tip&&e.$tip.is(":visible")?void(e.hoverState="in"):(e||(e=new this.constructor(t.currentTarget,this.getDelegateOptions()),l(t.currentTarget).data("bs."+this.type,e)),clearTimeout(e.timeout),e.hoverState="in",e.options.delay&&e.options.delay.show?void(e.timeout=setTimeout(function(){"in"==e.hoverState&&e.show()},e.options.delay.show)):e.show())},E.prototype.leave=function(t){var e=t instanceof this.constructor?t:l(t.currentTarget).data("bs."+this.type);return e||(e=new this.constructor(t.currentTarget,this.getDelegateOptions()),l(t.currentTarget).data("bs."+this.type,e)),clearTimeout(e.timeout),e.hoverState="out",e.options.delay&&e.options.delay.hide?void(e.timeout=setTimeout(function(){"out"==e.hoverState&&e.hide()},e.options.delay.hide)):e.hide()},E.prototype.show=function(){var e,t,n,i,r,o,a,s=l.Event("show.bs."+this.type);this.hasContent()&&this.enabled&&(this.$element.trigger(s),r=l.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]),!s.isDefaultPrevented())&&r&&(s=(e=this).tip(),r=this.getUID(this.type),this.setContent(),s.attr("id",r),this.$element.attr("aria-describedby",r),this.options.animation&&s.addClass("fade"),r="function"==typeof this.options.placement?this.options.placement.call(this,s[0],this.$element[0]):this.options.placement,(a=(t=/\s?auto?\s?/i).test(r))&&(r=r.replace(t,"")||"top"),s.detach().css({top:0,left:0,display:"block"}).addClass(r).data("bs."+this.type,this),this.options.container?s.appendTo(this.options.container):s.insertAfter(this.$element),t=this.getPosition(),n=s[0].offsetWidth,i=s[0].offsetHeight,a&&(a=r,o=this.options.container?l(this.options.container):this.$element.parent(),o=this.getPosition(o),r="bottom"==r&&t.bottom+i>o.bottom?"top":"top"==r&&t.top-i<o.top?"bottom":"right"==r&&t.right+n>o.width?"left":"left"==r&&t.left-n<o.left?"right":r,s.removeClass(a).addClass(r)),o=this.getCalculatedOffset(r,t,n,i),this.applyPlacement(o,r),a=function(){var t=e.hoverState;e.$element.trigger("shown.bs."+e.type),e.hoverState=null,"out"==t&&e.leave(e)},l.support.transition&&this.$tip.hasClass("fade")?s.one("bsTransitionEnd",a).emulateTransitionEnd(E.TRANSITION_DURATION):a())},E.prototype.applyPlacement=function(t,e){var n=this.tip(),i=n[0].offsetWidth,r=n[0].offsetHeight,o=parseInt(n.css("margin-top"),10),a=parseInt(n.css("margin-left"),10),o=(isNaN(o)&&(o=0),isNaN(a)&&(a=0),t.top=t.top+o,t.left=t.left+a,l.offset.setOffset(n[0],l.extend({using:function(t){n.css({top:Math.round(t.top),left:Math.round(t.left)})}},t),0),n.addClass("in"),n[0].offsetWidth),a=n[0].offsetHeight,s=("top"==e&&a!=r&&(t.top=t.top+r-a),this.getViewportAdjustedDelta(e,t,o,a)),e=(s.left?t.left+=s.left:t.top+=s.top,/top|bottom/.test(e)),i=e?2*s.left-i+o:2*s.top-r+a,o=e?"offsetWidth":"offsetHeight";n.offset(t),this.replaceArrow(i,n[0][o],e)},E.prototype.replaceArrow=function(t,e,n){this.arrow().css(n?"left":"top",50*(1-t/e)+"%").css(n?"top":"left","")},E.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},E.prototype.hide=function(t){function e(){"in"!=n.hoverState&&i.detach(),n.$element.removeAttr("aria-describedby").trigger("hidden.bs."+n.type),t&&t()}var n=this,i=this.tip(),r=l.Event("hide.bs."+this.type);return this.$element.trigger(r),r.isDefaultPrevented()?void 0:(i.removeClass("in"),l.support.transition&&this.$tip.hasClass("fade")?i.one("bsTransitionEnd",e).emulateTransitionEnd(E.TRANSITION_DURATION):e(),this.hoverState=null,this)},E.prototype.fixTitle=function(){var t=this.$element;!t.attr("title")&&"string"==typeof t.attr("data-original-title")||t.attr("data-original-title",t.attr("title")||"").attr("title","")},E.prototype.hasContent=function(){return this.getTitle()},E.prototype.getPosition=function(t){var e=(t=t||this.$element)[0],n="BODY"==e.tagName,e=e.getBoundingClientRect(),i=(null==e.width&&(e=l.extend({},e,{width:e.right-e.left,height:e.bottom-e.top})),n?{top:0,left:0}:t.offset()),t={scroll:n?document.documentElement.scrollTop||document.body.scrollTop:t.scrollTop()},n=n?{width:l(window).width(),height:l(window).height()}:null;return l.extend({},e,t,n,i)},E.prototype.getCalculatedOffset=function(t,e,n,i){return"bottom"==t?{top:e.top+e.height,left:e.left+e.width/2-n/2}:"top"==t?{top:e.top-i,left:e.left+e.width/2-n/2}:"left"==t?{top:e.top+e.height/2-i/2,left:e.left-n}:{top:e.top+e.height/2-i/2,left:e.left+e.width}},E.prototype.getViewportAdjustedDelta=function(t,e,n,i){var r,o,a={top:0,left:0};return this.$viewport&&(r=this.options.viewport&&this.options.viewport.padding||0,o=this.getPosition(this.$viewport),/right|left/.test(t)?(t=e.top-r-o.scroll,i=e.top+r-o.scroll+i,t<o.top?a.top=o.top-t:i>o.top+o.height&&(a.top=o.top+o.height-i)):(t=e.left-r,i=e.left+r+n,t<o.left?a.left=o.left-t:i>o.width&&(a.left=o.left+o.width-i))),a},E.prototype.getTitle=function(){var t=this.$element,e=this.options;return t.attr("data-original-title")||("function"==typeof e.title?e.title.call(t[0]):e.title)},E.prototype.getUID=function(t){for(;t+=~~(1e6*Math.random()),document.getElementById(t););return t},E.prototype.tip=function(){return this.$tip=this.$tip||l(this.options.template)},E.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},E.prototype.enable=function(){this.enabled=!0},E.prototype.disable=function(){this.enabled=!1},E.prototype.toggleEnabled=function(){this.enabled=!this.enabled},E.prototype.toggle=function(t){var e=this;t&&!(e=l(t.currentTarget).data("bs."+this.type))&&(e=new this.constructor(t.currentTarget,this.getDelegateOptions()),l(t.currentTarget).data("bs."+this.type,e)),e.tip().hasClass("in")?e.leave(e):e.enter(e)},E.prototype.destroy=function(){var t=this;clearTimeout(this.timeout),this.hide(function(){t.$element.off("."+t.type).removeData("bs."+t.type)})},n=l.fn.tooltip,l.fn.tooltip=function(i){return this.each(function(){var t=l(this),e=t.data("bs.tooltip"),n="object"==(void 0===i?"undefined":g(i))&&i;!e&&"destroy"==i||(e||t.data("bs.tooltip",e=new E(this,n)),"string"!=typeof i)||e[i]()})},l.fn.tooltip.Constructor=E,l.fn.tooltip.noConflict=function(){return l.fn.tooltip=n,this},jQuery);function x(t,e){this.init("popover",t,e)}if(!_.fn.tooltip)throw new Error("Popover requires tooltip.js");x.VERSION="3.3.2",x.DEFAULTS=_.extend({},_.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),((x.prototype=_.extend({},_.fn.tooltip.Constructor.prototype)).constructor=x).prototype.getDefaults=function(){return x.DEFAULTS},x.prototype.setContent=function(){var t=this.tip(),e=this.getTitle(),n=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof n?"html":"append":"text"](n),t.removeClass("fade top bottom left right in"),t.find(".popover-title").html()||t.find(".popover-title").hide()},x.prototype.hasContent=function(){return this.getTitle()||this.getContent()},x.prototype.getContent=function(){var t=this.$element,e=this.options;return t.attr("data-content")||("function"==typeof e.content?e.content.call(t[0]):e.content)},x.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")},x.prototype.tip=function(){return this.$tip||(this.$tip=_(this.options.template)),this.$tip};var q=_.fn.popover,M=(_.fn.popover=function(i){return this.each(function(){var t=_(this),e=t.data("bs.popover"),n="object"==(void 0===i?"undefined":g(i))&&i;!e&&"destroy"==i||(e||t.data("bs.popover",e=new x(this,n)),"string"!=typeof i)||e[i]()})},_.fn.popover.Constructor=x,_.fn.popover.noConflict=function(){return _.fn.popover=q,this},r=jQuery,C.VERSION="3.3.2",C.DEFAULTS={offset:10},C.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},C.prototype.refresh=function(){var n="offset",i=0,t=(r.isWindow(this.$scrollElement[0])||(n="position",i=this.$scrollElement.scrollTop()),this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),this);this.$body.find(this.selector).map(function(){var t=r(this),t=t.data("target")||t.attr("href"),e=/^#./.test(t)&&r(t);return e&&e.length&&e.is(":visible")?[[e[n]().top+i,t]]:null}).sort(function(t,e){return t[0]-e[0]}).each(function(){t.offsets.push(this[0]),t.targets.push(this[1])})},C.prototype.process=function(){var t,e=this.$scrollElement.scrollTop()+this.options.offset,n=this.getScrollHeight(),i=this.options.offset+n-this.$scrollElement.height(),r=this.offsets,o=this.targets,a=this.activeTarget;if(this.scrollHeight!=n&&this.refresh(),i<=e)return a!=(t=o[o.length-1])&&this.activate(t);if(a&&e<r[0])return this.activeTarget=null,this.clear();for(t=r.length;t--;)a!=o[t]&&e>=r[t]&&(!r[t+1]||e<=r[t+1])&&this.activate(o[t])},C.prototype.activate=function(t){this.activeTarget=t,this.clear();t=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',t=r(t).parents("li").addClass("active");(t=t.parent(".dropdown-menu").length?t.closest("li.dropdown").addClass("active"):t).trigger("activate.bs.scrollspy")},C.prototype.clear=function(){r(this.selector).parentsUntil(this.options.target,".active").removeClass("active")},e=r.fn.scrollspy,r.fn.scrollspy=G,r.fn.scrollspy.Constructor=C,r.fn.scrollspy.noConflict=function(){return r.fn.scrollspy=e,this},r(window).on("load.bs.scrollspy.data-api",function(){r('[data-spy="scroll"]').each(function(){var t=r(this);G.call(t,t.data())})}),jQuery);function W(n){return this.each(function(){var t=M(this),e=t.data("bs.tab");e||t.data("bs.tab",e=new S(this)),"string"==typeof n&&e[n]()})}function S(t){this.element=M(t)}function V(t){t.preventDefault(),W.call(M(this),"show")}S.VERSION="3.3.2",S.TRANSITION_DURATION=150,S.prototype.show=function(){var t,e,n,i=this.element,r=i.closest("ul:not(.dropdown-menu)"),o=i.data("target");o||(o=(o=i.attr("href"))&&o.replace(/.*(?=#[^\s]*$)/,"")),i.parent("li").hasClass("active")||(t=r.find(".active:last a"),e=M.Event("hide.bs.tab",{relatedTarget:i[0]}),n=M.Event("show.bs.tab",{relatedTarget:t[0]}),t.trigger(e),i.trigger(n),n.isDefaultPrevented())||e.isDefaultPrevented()||(n=M(o),this.activate(i.closest("li"),r),this.activate(n,n.parent(),function(){t.trigger({type:"hidden.bs.tab",relatedTarget:i[0]}),i.trigger({type:"shown.bs.tab",relatedTarget:t[0]})}))},S.prototype.activate=function(t,e,n){function i(){r.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),t.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),o?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu")&&t.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),n&&n()}var r=e.find("> .active"),o=n&&M.support.transition&&(r.length&&r.hasClass("fade")||!!e.find("> .fade").length);r.length&&o?r.one("bsTransitionEnd",i).emulateTransitionEnd(S.TRANSITION_DURATION):i(),r.removeClass("in")};var K=M.fn.tab;function Z(i){return this.each(function(){var t=a(this),e=t.data("bs.affix"),n="object"==(void 0===i?"undefined":g(i))&&i;e||t.data("bs.affix",e=new k(this,n)),"string"==typeof i&&e[i]()})}function k(t,e){this.options=a.extend({},k.DEFAULTS,e),this.$target=a(this.options.target).on("scroll.bs.affix.data-api",a.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",a.proxy(this.checkPositionWithEventLoop,this)),this.$element=a(t),this.affixed=this.unpin=this.pinnedOffset=null,this.checkPosition()}function C(t,e){var n=r.proxy(this.process,this);this.$body=r("body"),this.$scrollElement=r(r(t).is("body")?window:t),this.options=r.extend({},C.DEFAULTS,e),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",n),this.refresh(),this.process()}function G(i){return this.each(function(){var t=r(this),e=t.data("bs.scrollspy"),n="object"==(void 0===i?"undefined":g(i))&&i;e||t.data("bs.scrollspy",e=new C(this,n)),"string"==typeof i&&e[i]()})}function E(t,e){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",t,e)}function J(i,r){return this.each(function(){var t=o(this),e=t.data("bs.modal"),n=o.extend({},P.DEFAULTS,t.data(),"object"==(void 0===i?"undefined":g(i))&&i);e||t.data("bs.modal",e=new P(this,n)),"string"==typeof i?e[i](r):n.show&&e.show(r)})}function P(t,e){this.options=e,this.$body=o(document.body),this.$element=o(t),this.$backdrop=this.isShown=null,this.scrollbarWidth=0,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,o.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))}function A(i){i&&3===i.which||(s(".dropdown-backdrop").remove(),s(c).each(function(){var t=s(this),e=T(t),n={relatedTarget:this};e.hasClass("open")&&(e.trigger(i=s.Event("hide.bs.dropdown",n)),i.isDefaultPrevented()||(t.attr("aria-expanded","false"),e.removeClass("open").trigger("hidden.bs.dropdown",n)))}))}function T(t){var e=t.attr("data-target"),e=(e=e?e:(e=t.attr("href"))&&/#[A-Za-z]/.test(e)&&e.replace(/.*(?=#[^\s]*$)/,""))&&s(e);return e&&e.length?e:t.parent()}function j(t){s(t).on("click.bs.dropdown",this.toggle)}function Y(t){t=t.attr("data-target")||(t=t.attr("href"))&&t.replace(/.*(?=#[^\s]+$)/,"");return h(t)}function L(i){return this.each(function(){var t=h(this),e=t.data("bs.collapse"),n=h.extend({},O.DEFAULTS,t.data(),"object"==(void 0===i?"undefined":g(i))&&i);!e&&n.toggle&&"show"==i&&(n.toggle=!1),e||t.data("bs.collapse",e=new O(this,n)),"string"==typeof i&&e[i]()})}function O(t,e){this.$element=h(t),this.options=h.extend({},O.DEFAULTS,e),this.$trigger=h(this.options.trigger).filter('[href="#'+t.id+'"], [data-target="#'+t.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()}function X(i){return this.each(function(){var t=d(this),e=t.data("bs.button"),n="object"==(void 0===i?"undefined":g(i))&&i;e||t.data("bs.button",e=new R(this,n)),"toggle"==i?e.toggle():i&&e.setState(i)})}function R(t,e){this.$element=d(t),this.options=d.extend({},R.DEFAULTS,e),this.isLoading=!1}function I(t){f(t).on("click",p,this.close)}M.fn.tab=W,M.fn.tab.Constructor=S,M.fn.tab.noConflict=function(){return M.fn.tab=K,this},M(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',V).on("click.bs.tab.data-api",'[data-toggle="pill"]',V),a=jQuery,k.VERSION="3.3.2",k.RESET="affix affix-top affix-bottom",k.DEFAULTS={offset:0,target:window},k.prototype.getState=function(t,e,n,i){var r,o=this.$target.scrollTop(),a=this.$element.offset(),s=this.$target.height();return null!=n&&"top"==this.affixed?o<n&&"top":"bottom"==this.affixed?null!=n?!(o+this.unpin<=a.top)&&"bottom":!(o+s<=t-i)&&"bottom":(a=(r=null==this.affixed)?o:a.top,null!=n&&o<=n?"top":null!=i&&t-i<=a+(r?s:e)&&"bottom")},k.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(k.RESET).addClass("affix");var t=this.$target.scrollTop(),e=this.$element.offset();return this.pinnedOffset=e.top-t},k.prototype.checkPositionWithEventLoop=function(){setTimeout(a.proxy(this.checkPosition,this),1)},k.prototype.checkPosition=function(){if(this.$element.is(":visible")){var t=this.$element.height(),e=this.options.offset,n=e.top,i=e.bottom,r=a("body").height(),e=("object"!=(void 0===e?"undefined":g(e))&&(i=n=e),"function"==typeof n&&(n=e.top(this.$element)),"function"==typeof i&&(i=e.bottom(this.$element)),this.getState(r,t,n,i));if(this.affixed!=e){null!=this.unpin&&this.$element.css("top","");var n="affix"+(e?"-"+e:""),o=a.Event(n+".bs.affix");if(this.$element.trigger(o),o.isDefaultPrevented())return;this.affixed=e,this.unpin="bottom"==e?this.getPinnedOffset():null,this.$element.removeClass(k.RESET).addClass(n).trigger(n.replace("affix","affixed")+".bs.affix")}"bottom"==e&&this.$element.offset({top:r-t-i})}},t=a.fn.affix,a.fn.affix=Z,a.fn.affix.Constructor=k,a.fn.affix.noConflict=function(){return a.fn.affix=t,this},a(window).on("load",function(){a('[data-spy="affix"]').each(function(){var t=a(this),e=t.data();e.offset=e.offset||{},null!=e.offsetBottom&&(e.offset.bottom=e.offsetBottom),null!=e.offsetTop&&(e.offset.top=e.offsetTop),Z.call(t,e)})})},function(t,e,n){"use strict";function E(t,e){return P.map(t,function(t){return t+".touchspin_"+e})}var P,A;P=jQuery,A=0,P.fn.TouchSpin=function(S){var k,C;if("destroy"!==S)return k={min:0,max:100,initval:"",step:1,decimals:0,stepinterval:100,forcestepdivisibility:"round",stepintervaldelay:500,verticalbuttons:!1,verticalupclass:"glyphicon glyphicon-chevron-up",verticaldownclass:"glyphicon glyphicon-chevron-down",prefix:"",postfix:"",prefix_extraclass:"",postfix_extraclass:"",booster:!0,boostat:10,maxboostedstep:!1,mousewheel:!0,buttondown_class:"btn btn-default",buttonup_class:"btn btn-default",buttondown_txt:"-",buttonup_txt:"+"},C={min:"min",max:"max",initval:"init-val",step:"step",decimals:"decimals",stepinterval:"step-interval",verticalbuttons:"vertical-buttons",verticalupclass:"vertical-up-class",verticaldownclass:"vertical-down-class",forcestepdivisibility:"force-step-divisibility",stepintervaldelay:"step-interval-delay",prefix:"prefix",postfix:"postfix",prefix_extraclass:"prefix-extra-class",postfix_extraclass:"postfix-extra-class",booster:"booster",boostat:"boostat",maxboostedstep:"max-boosted-step",mousewheel:"mouse-wheel",buttondown_class:"button-down-class",buttonup_class:"button-up-class",buttondown_txt:"button-down-txt",buttonup_txt:"button-up-txt"},this.each(function(){function i(){var t,e,n=p.val();""===n||0<c.decimals&&"."===n||(t=parseFloat(n),(e=t=isNaN(t)?0:t).toString()!==n&&(e=t),t<c.min&&(e=c.min),e=function(t){switch(c.forcestepdivisibility){case"round":return(Math.round(t/c.step)*c.step).toFixed(c.decimals);case"floor":return(Math.floor(t/c.step)*c.step).toFixed(c.decimals);case"ceil":return(Math.ceil(t/c.step)*c.step).toFixed(c.decimals);default:return t}}(e=t>c.max?c.max:e),Number(n).toString()!==e.toString()&&(p.val(e),p.trigger("change")))}function n(){var t;return c.booster?(t=Math.pow(2,Math.floor(g/c.boostat))*c.step,c.maxboostedstep&&t>c.maxboostedstep&&(t=c.maxboostedstep,h=Math.round(h/t)*t),Math.max(c.step,t)):c.step}function r(){i(),h=parseFloat(u.input.val());var t=h=isNaN(h)?0:h,e=n();(h+=e)>c.max&&(h=c.max,p.trigger("touchspin.on.max"),l()),u.input.val(Number(h).toFixed(c.decimals)),t!==h&&p.trigger("change")}function o(){i(),h=parseFloat(u.input.val());var t=h=isNaN(h)?0:h,e=n();(h-=e)<c.min&&(h=c.min,p.trigger("touchspin.on.min"),l()),u.input.val(h.toFixed(c.decimals)),t!==h&&p.trigger("change")}function a(){l(),g=0,b="down",p.trigger("touchspin.on.startspin"),p.trigger("touchspin.on.startdownspin"),d=setTimeout(function(){t=setInterval(function(){g++,o()},c.stepinterval)},c.stepintervaldelay)}function s(){l(),g=0,b="up",p.trigger("touchspin.on.startspin"),p.trigger("touchspin.on.startupspin"),f=setTimeout(function(){e=setInterval(function(){g++,r()},c.stepinterval)},c.stepintervaldelay)}function l(){switch(clearTimeout(d),clearTimeout(f),clearInterval(t),clearInterval(e),b){case"up":p.trigger("touchspin.on.stopupspin"),p.trigger("touchspin.on.stopspin");break;case"down":p.trigger("touchspin.on.stopdownspin"),p.trigger("touchspin.on.stopspin")}g=0,b=!1}var c,u,h,t,e,d,f,p=P(this),m=p.data(),g=0,b=!1;if(!p.data("alreadyinitialized")){if(p.data("alreadyinitialized",!0),A+=1,p.data("spinnerid",A),!p.is("input"))return void console.log("Must be an input.");if(""!==(c=P.extend({},k,m,function(){var n={};return P.each(C,function(t,e){e="bts-"+e;p.is("[data-"+e+"]")&&(n[t]=p.data(e))}),n}(),S)).initval&&""===p.val()&&p.val(c.initval),i(),m=p.val(),w=p.parent(),""!==m&&(m=Number(m).toFixed(c.decimals)),p.data("initvalue",m).val(m),p.addClass("form-control"),w.hasClass("input-group")){m=w;m.addClass("bootstrap-touchspin");var v,y,w=p.prev(),_=p.next(),x='<span class="input-group-addon bootstrap-touchspin-prefix">'+c.prefix+"</span>",M='<span class="input-group-addon bootstrap-touchspin-postfix">'+c.postfix+"</span>";w.hasClass("input-group-btn")?(v='<button class="'+c.buttondown_class+' bootstrap-touchspin-down" type="button">'+c.buttondown_txt+"</button>",w.append(v)):(v='<span class="input-group-btn"><button class="'+c.buttondown_class+' bootstrap-touchspin-down" type="button">'+c.buttondown_txt+"</button></span>",P(v).insertBefore(p)),_.hasClass("input-group-btn")?(y='<button class="'+c.buttonup_class+' bootstrap-touchspin-up" type="button">'+c.buttonup_txt+"</button>",_.prepend(y)):(y='<span class="input-group-btn"><button class="'+c.buttonup_class+' bootstrap-touchspin-up" type="button">'+c.buttonup_txt+"</button></span>",P(y).insertAfter(p)),P(x).insertBefore(p),P(M).insertAfter(p),v=m}else w=c.verticalbuttons?'<div class="input-group bootstrap-touchspin"><span class="input-group-addon bootstrap-touchspin-prefix">'+c.prefix+'</span><span class="input-group-addon bootstrap-touchspin-postfix">'+c.postfix+'</span><span class="input-group-btn-vertical"><button class="'+c.buttondown_class+' bootstrap-touchspin-up" type="button"><i class="'+c.verticalupclass+'"></i></button><button class="'+c.buttonup_class+' bootstrap-touchspin-down" type="button"><i class="'+c.verticaldownclass+'"></i></button></span></div>':'<div class="input-group bootstrap-touchspin"><span class="input-group-btn"><button class="'+c.buttondown_class+' bootstrap-touchspin-down" type="button">'+c.buttondown_txt+'</button></span><span class="input-group-addon bootstrap-touchspin-prefix">'+c.prefix+'</span><span class="input-group-addon bootstrap-touchspin-postfix">'+c.postfix+'</span><span class="input-group-btn"><button class="'+c.buttonup_class+' bootstrap-touchspin-up" type="button">'+c.buttonup_txt+"</button></span></div>",v=P(w).insertBefore(p),P(".bootstrap-touchspin-prefix",v).after(p),p.hasClass("input-sm")?v.addClass("input-group-sm"):p.hasClass("input-lg")&&v.addClass("input-group-lg");u={down:P(".bootstrap-touchspin-down",v),up:P(".bootstrap-touchspin-up",v),input:P("input",v),prefix:P(".bootstrap-touchspin-prefix",v).addClass(c.prefix_extraclass),postfix:P(".bootstrap-touchspin-postfix",v).addClass(c.postfix_extraclass)},""===c.prefix&&u.prefix.hide(),""===c.postfix&&u.postfix.hide(),p.on("keydown",function(t){var e=t.keyCode||t.which;38===e?("up"!==b&&(r(),s()),t.preventDefault()):40===e&&("down"!==b&&(o(),a()),t.preventDefault())}),p.on("keyup",function(t){t=t.keyCode||t.which;38!==t&&40!==t||l()}),p.on("blur",function(){i()}),u.down.on("keydown",function(t){var e=t.keyCode||t.which;32!==e&&13!==e||("down"!==b&&(o(),a()),t.preventDefault())}),u.down.on("keyup",function(t){t=t.keyCode||t.which;32!==t&&13!==t||l()}),u.up.on("keydown",function(t){var e=t.keyCode||t.which;32!==e&&13!==e||("up"!==b&&(r(),s()),t.preventDefault())}),u.up.on("keyup",function(t){t=t.keyCode||t.which;32!==t&&13!==t||l()}),u.down.on("mousedown.touchspin",function(t){u.down.off("touchstart.touchspin"),p.is(":disabled")||(o(),a(),t.preventDefault(),t.stopPropagation())}),u.down.on("touchstart.touchspin",function(t){u.down.off("mousedown.touchspin"),p.is(":disabled")||(o(),a(),t.preventDefault(),t.stopPropagation())}),u.up.on("mousedown.touchspin",function(t){u.up.off("touchstart.touchspin"),p.is(":disabled")||(r(),s(),t.preventDefault(),t.stopPropagation())}),u.up.on("touchstart.touchspin",function(t){u.up.off("mousedown.touchspin"),p.is(":disabled")||(r(),s(),t.preventDefault(),t.stopPropagation())}),u.up.on("mouseout touchleave touchend touchcancel",function(t){b&&(t.stopPropagation(),l())}),u.down.on("mouseout touchleave touchend touchcancel",function(t){b&&(t.stopPropagation(),l())}),u.down.on("mousemove touchmove",function(t){b&&(t.stopPropagation(),t.preventDefault())}),u.up.on("mousemove touchmove",function(t){b&&(t.stopPropagation(),t.preventDefault())}),P(document).on(E(["mouseup","touchend","touchcancel"],A).join(" "),function(t){b&&(t.preventDefault(),l())}),P(document).on(E(["mousemove","touchmove","scroll","scrollstart"],A).join(" "),function(t){b&&(t.preventDefault(),l())}),p.on("mousewheel DOMMouseScroll",function(t){var e;c.mousewheel&&p.is(":focus")&&(e=t.originalEvent.wheelDelta||-t.originalEvent.deltaY||-t.originalEvent.detail,t.stopPropagation(),t.preventDefault(),(e<0?o:r)())}),p.on("touchspin.uponce",function(){l(),r()}),p.on("touchspin.downonce",function(){l(),o()}),p.on("touchspin.startupspin",function(){s()}),p.on("touchspin.startdownspin",function(){a()}),p.on("touchspin.stopspin",function(){l()}),p.on("touchspin.updatesettings",function(t,e){var n=e;c=P.extend({},c,n),i(),""!==(e=u.input.val())&&(e=Number(u.input.val()),u.input.val(e.toFixed(c.decimals)))}),u.input.css("display","block")}});this.each(function(){var t=P(this).data();P(document).off(E(["mouseup","touchend","touchcancel","mousemove","touchmove","scroll","scrollstart"],t.spinnerid).join(" "))})}},function(t,e,n){"use strict";var i;(i=jQuery).expr[":"].notmdproc=function(t){return!i(t).data("mdproc")},i.material={options:{input:!0,ripples:!0,checkbox:!0,togglebutton:!0,radio:!0,arrive:!0,autofill:!1,withRipples:[".btn:not(.btn-link)",".card-image",".navbar a:not(.withoutripple)",".dropdown-menu a",".nav-tabs a:not(.withoutripple)",".withripple"].join(","),inputElements:"input.form-control, textarea.form-control, select.form-control",checkboxElements:".checkbox > label > input[type=checkbox]",togglebuttonElements:".togglebutton > label > input[type=checkbox]",radioElements:".radio > label > input[type=radio]"},checkbox:function(t){i(t||this.options.checkboxElements).filter(":notmdproc").data("mdproc",!0).after("<span class=checkbox-material><span class=check></span></span>")},togglebutton:function(t){i(t||this.options.togglebuttonElements).filter(":notmdproc").data("mdproc",!0).after("<span class=toggle></span>")},radio:function(t){i(t||this.options.radioElements).filter(":notmdproc").data("mdproc",!0).after("<span class=circle></span><span class=check></span>")},input:function(t){i(t||this.options.inputElements).filter(":notmdproc").data("mdproc",!0).each(function(){var t,e=i(this);(i(this).attr("data-hint")||e.hasClass("floating-label"))&&(e.wrap("<div class=form-control-wrapper></div>"),e.after("<span class=material-input></span>"),e.hasClass("floating-label")&&(t=e.attr("placeholder"),e.attr("placeholder",null).removeClass("floating-label"),e.after("<div class=floating-label>"+t+"</div>")),e.attr("data-hint")&&e.after("<div class=hint>"+e.attr("data-hint")+"</div>"),null!==e.val()&&"undefined"!=e.val()&&""!==e.val()||e.addClass("empty"),e.parent().next().is("[type=file]"))&&(e.parent().addClass("fileinput"),t=e.parent().next().detach(),e.after(t))}),i(document).on("change",".checkbox input[type=checkbox]",function(){i(this).blur()}).on("keydown paste",".form-control",function(t){(void 0===(t=t).which||"number"==typeof t.which&&0<t.which&&!t.ctrlKey&&!t.metaKey&&!t.altKey&&8!=t.which&&9!=t.which)&&i(this).removeClass("empty")}).on("keyup change",".form-control",function(){var t=i(this);""===t.val()&&void 0!==t[0].checkValidity&&t[0].checkValidity()?t.addClass("empty"):t.removeClass("empty")}).on("focus",".form-control-wrapper.fileinput",function(){i(this).find("input").addClass("focus")}).on("blur",".form-control-wrapper.fileinput",function(){i(this).find("input").removeClass("focus")}).on("change",".form-control-wrapper.fileinput [type=file]",function(){var n="";i.each(i(this)[0].files,function(t,e){n+=e.name+", "}),(n=n.substring(0,n.length-2))?i(this).prev().removeClass("empty"):i(this).prev().addClass("empty"),i(this).prev().val(n)})},ripples:function(t){i(t||this.options.withRipples).ripples()},autofill:function(){var e,t=setInterval(function(){i("input[type!=checkbox]").each(function(){i(this).val()&&i(this).val()!==i(this).attr("value")&&i(this).trigger("change")})},100);setTimeout(function(){clearInterval(t)},1e4),i(document).on("focus","input",function(){var t=i(this).parents("form").find("input").not("[type=file]");e=setInterval(function(){t.each(function(){i(this).val()!==i(this).attr("value")&&i(this).trigger("change")})},100)}).on("blur","input",function(){clearInterval(e)})},init:function(){i.fn.ripples&&this.options.ripples&&this.ripples(),this.options.input&&this.input(),this.options.checkbox&&this.checkbox(),this.options.togglebutton&&this.togglebutton(),this.options.radio&&this.radio(),this.options.autofill&&this.autofill(),document.arrive&&this.options.arrive&&(i.fn.ripples&&this.options.ripples&&i(document).arrive(this.options.withRipples,function(){i.material.ripples(i(this))}),this.options.input&&i(document).arrive(this.options.inputElements,function(){i.material.input(i(this))}),this.options.checkbox&&i(document).arrive(this.options.checkboxElements,function(){i.material.checkbox(i(this))}),this.options.radio&&i(document).arrive(this.options.radioElements,function(){i.material.radio(i(this))}),this.options.togglebutton)&&i(document).arrive(this.options.togglebuttonElements,function(){i.material.togglebutton(i(this))})}}},function(t,e,n){"use strict";var i,K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};void 0!==(e="function"==typeof(i=function(){"use strict";function T(t){return t.filter(function(t){return this[t]?!1:this[t]=!0},{})}function s(t,e){return Math.round(t/e)*e}function j(t){var e=t.getBoundingClientRect(),n=t.ownerDocument,i=n.defaultView||n.parentWindow,r=n.documentElement,o=i.pageXOffset;return/webkit.*Chrome.*Mobile/i.test(navigator.userAgent)&&(o=0),{top:e.top+i.pageYOffset-r.clientTop,left:e.left+o-r.clientLeft}}function r(t){return"number"==typeof t&&!isNaN(t)&&isFinite(t)}function e(t){var e=Math.pow(10,7);return Number((Math.round(t*e)/e).toFixed(7))}function L(t,e,n){D(t,e),setTimeout(function(){B(t,e)},n)}function O(t){return Math.max(Math.min(t,100),0)}function R(t){return Array.isArray(t)?t:[t]}function I(t){var e=t.split(".");return e.length>1?e[1].length:0}function D(t,e){t.classList?t.classList.add(e):t.className+=" "+e}function B(t,e){t.classList?t.classList.remove(e):t.className=t.className.replace(new RegExp("(^|\\b)"+e.split(" ").join("|")+"(\\b|$)","gi")," ")}function N(t,e){t.classList?t.classList.contains(e):new RegExp("(^| )"+e+"( |$)","gi").test(t.className)}function l(t,e){return 100/(e-t)}function i(t,e){return 100*e/(t[1]-t[0])}function c(t,e){return i(t,t[0]<0?e+Math.abs(t[0]):e-t[0])}function u(t,e){return e*(t[1]-t[0])/100+t[0]}function h(t,e){for(var n=1;t>=e[n];)n+=1;return n}function n(t,e,n){if(n>=t.slice(-1)[0])return 100;var i,r,o,a,s=h(n,t);return i=t[s-1],r=t[s],o=e[s-1],a=e[s],o+c([i,r],n)/l(o,a)}function o(t,e,n){if(n>=100)return t.slice(-1)[0];var i,r,o,a,s=h(n,e);return i=t[s-1],r=t[s],o=e[s-1],a=e[s],u([i,r],(n-o)*l(o,a))}function a(t,e,n,i){if(100===i)return i;var r,o,a=h(i,t);return n?(r=t[a-1],o=t[a],i-r>(o-r)/2?o:r):e[a-1]?t[a-1]+s(i-t[a-1],e[a-1]):i}function d(t,e,n){var i;if("number"==typeof e&&(e=[e]),"[object Array]"!==Object.prototype.toString.call(e))throw new Error("noUiSlider: 'range' contains invalid value.");if(i="min"===t?0:"max"===t?100:parseFloat(t),!r(i)||!r(e[0]))throw new Error("noUiSlider: 'range' value isn't numeric.");n.xPct.push(i),n.xVal.push(e[0]),i?n.xSteps.push(isNaN(e[1])?!1:e[1]):isNaN(e[1])||(n.xSteps[0]=e[1])}function f(t,e,n){return e?void(n.xSteps[t]=i([n.xVal[t],n.xVal[t+1]],e)/l(n.xPct[t],n.xPct[t+1])):!0}function p(t,e,n,i){this.xPct=[],this.xVal=[],this.xSteps=[i||!1],this.xNumSteps=[!1],this.snap=e,this.direction=n;var r,o=[];for(r in t)t.hasOwnProperty(r)&&o.push([t[r],r]);for(o.sort(function(t,e){return t[0]-e[0]}),r=0;r<o.length;r++)d(o[r][1],o[r][0],this);for(this.xNumSteps=this.xSteps.slice(0),r=0;r<this.xNumSteps.length;r++)f(r,this.xNumSteps[r],this)}function t(t,e){if(!r(e))throw new Error("noUiSlider: 'step' is not numeric.");t.singleStep=e}function m(t,e){if("object"!=(typeof e==="undefined"?"undefined":K(e))||Array.isArray(e))throw new Error("noUiSlider: 'range' is not an object.");if(void 0===e.min||void 0===e.max)throw new Error("noUiSlider: Missing 'min' or 'max' in 'range'.");t.spectrum=new p(e,t.snap,t.dir,t.singleStep)}function g(t,e){if(e=R(e),!Array.isArray(e)||!e.length||e.length>2)throw new Error("noUiSlider: 'start' option is incorrect.");t.handles=e.length,t.start=e}function b(t,e){if(t.snap=e,"boolean"!=typeof e)throw new Error("noUiSlider: 'snap' option must be a boolean.")}function v(t,e){if(t.animate=e,"boolean"!=typeof e)throw new Error("noUiSlider: 'animate' option must be a boolean.")}function y(t,e){if("lower"===e&&1===t.handles)t.connect=1;else if("upper"===e&&1===t.handles)t.connect=2;else if(e===!0&&2===t.handles)t.connect=3;else{if(e!==!1)throw new Error("noUiSlider: 'connect' option doesn't match handle count.");t.connect=0}}function w(t,e){switch(e){case"horizontal":t.ort=0;break;case"vertical":t.ort=1;break;default:throw new Error("noUiSlider: 'orientation' option is invalid.")}}function _(t,e){if(!r(e))throw new Error("noUiSlider: 'margin' option must be numeric.");if(t.margin=t.spectrum.getMargin(e),!t.margin)throw new Error("noUiSlider: 'margin' option is only supported on linear sliders.")}function x(t,e){if(!r(e))throw new Error("noUiSlider: 'limit' option must be numeric.");if(t.limit=t.spectrum.getMargin(e),!t.limit)throw new Error("noUiSlider: 'limit' option is only supported on linear sliders.")}function M(t,e){switch(e){case"ltr":t.dir=0;break;case"rtl":t.dir=1,t.connect=[0,2,1,3][t.connect];break;default:throw new Error("noUiSlider: 'direction' option was not recognized.")}}function S(t,e){if("string"!=typeof e)throw new Error("noUiSlider: 'behaviour' must be a string containing options.");var n=e.indexOf("tap")>=0,i=e.indexOf("drag")>=0,r=e.indexOf("fixed")>=0,o=e.indexOf("snap")>=0;t.events={tap:n||o,drag:i,fixed:r,snap:o}}function k(t,e){if(t.format=e,"function"==typeof e.to&&"function"==typeof e.from)return!0;throw new Error("noUiSlider: 'format' requires 'to' and 'from' methods.")}function C(n){var i,r={margin:0,limit:0,animate:!0,format:V};i={step:{r:!1,t:t},start:{r:!0,t:g},connect:{r:!0,t:y},direction:{r:!0,t:M},snap:{r:!1,t:b},animate:{r:!1,t:v},range:{r:!0,t:m},orientation:{r:!1,t:w},margin:{r:!1,t:_},limit:{r:!1,t:x},behaviour:{r:!0,t:S},format:{r:!1,t:k}};var e={connect:!1,direction:"ltr",behaviour:"tap",orientation:"horizontal"};return Object.keys(e).forEach(function(t){void 0===n[t]&&(n[t]=e[t])}),Object.keys(i).forEach(function(t){var e=i[t];if(void 0===n[t]){if(e.r)throw new Error("noUiSlider: '"+t+"' is required.");return!0}e.t(r,n[t])}),r.pips=n.pips,r.style=r.ort?"top":"left",r}function U(t,e,n){var i=t+e[0],r=t+e[1];return n?(0>i&&(r+=Math.abs(i)),r>100&&(i-=r-100),[O(i),O(r)]):[i,r]}function z(t){t.preventDefault();var e,n,i=0===t.type.indexOf("touch"),r=0===t.type.indexOf("mouse"),o=0===t.type.indexOf("pointer"),a=t;return 0===t.type.indexOf("MSPointer")&&(o=!0),i&&(e=t.changedTouches[0].pageX,n=t.changedTouches[0].pageY),(r||o)&&(e=t.clientX+window.pageXOffset,n=t.clientY+window.pageYOffset),a.points=[e,n],a.cursor=r||o,a}function E(t,e){var n=document.createElement("div"),i=document.createElement("div"),r=["-lower","-upper"];return t&&r.reverse(),D(i,$[3]),D(i,$[3]+r[e]),D(n,$[2]),n.appendChild(i),n}function H(t,e,n){switch(t){case 1:D(e,$[7]),D(n[0],$[6]);break;case 3:D(n[1],$[6]);case 2:D(n[0],$[7]);case 0:D(e,$[6])}}function q(t,e,n){var i,r=[];for(i=0;t>i;i+=1)r.push(n.appendChild(E(e,i)));return r}function W(t,e,n){D(n,$[0]),D(n,$[8+t]),D(n,$[4+e]);var i=document.createElement("div");return D(i,$[1]),n.appendChild(i),i}function P(t,c){function u(t,e,n){if("range"===t||"steps"===t)return E.xVal;if("count"===t){var i,r=100/(e-1),o=0;for(e=[];(i=o++*r)<=100;)e.push(i);t="positions"}return"positions"===t?e.map(function(t){return E.fromStepping(n?E.getStep(t):t)}):"values"===t?n?e.map(function(t){return E.fromStepping(E.getStep(E.toStepping(t)))}):e:void 0}function h(p,m,g){var t=E.direction,b={},e=E.xVal[0],n=E.xVal[E.xVal.length-1],v=!1,y=!1,w=0;return E.direction=0,g=T(g.slice().sort(function(t,e){return t-e})),g[0]!==e&&(g.unshift(e),v=!0),g[g.length-1]!==n&&(g.push(n),y=!0),g.forEach(function(t,e){var n,i,r,o,a,s,l,c,u,h,d=t,f=g[e+1];if("steps"===m&&(n=E.xNumSteps[e]),n||(n=f-d),d!==!1&&void 0!==f)for(i=d;f>=i;i+=n){for(o=E.toStepping(i),a=o-w,c=a/p,u=Math.round(c),h=a/u,r=1;u>=r;r+=1)s=w+r*h,b[s.toFixed(5)]=["x",0];l=g.indexOf(i)>-1?1:"steps"===m?2:0,!e&&v&&(l=0),i===f&&y||(b[o.toFixed(5)]=[i,l]),w=o}}),E.direction=t,b}function d(e,n,i){function r(t){return["-normal","-large","-sub"][t]}function o(t,e,n){return'class="'+e+" "+e+"-"+s+" "+e+r(n[1])+'" style="'+c.style+": "+t+'%"'}function a(t,e){E.direction&&(t=100-t),e[1]=e[1]&&n?n(e[0],e[1]):e[1],l.innerHTML+="<div "+o(t,"noUi-marker",e)+"></div>",e[1]&&(l.innerHTML+="<div "+o(t,"noUi-value",e)+">"+i.to(e[0])+"</div>")}var s=["horizontal","vertical"][c.ort],l=document.createElement("div");return D(l,"noUi-pips"),D(l,"noUi-pips-"+s),Object.keys(e).forEach(function(t){a(t,e[t])}),l}function e(t){var e=t.mode,n=t.density||1,i=t.filter||!1,r=t.values||!1,o=t.stepped||!1,a=u(e,r,o),s=h(n,e,a),l=t.format||{to:Math.round};return k.appendChild(d(s,i,l))}function l(){return M["offset"+["Width","Height"][c.ort]]}function f(n,i){void 0!==i&&(i=Math.abs(i-c.dir)),Object.keys(A).forEach(function(t){var e=t.split(".")[0];n===e&&A[t].forEach(function(t){t(R(v()),i,r(Array.prototype.slice.call(P)))})})}function r(t){return 1===t.length?t[0]:c.dir?t.reverse():t}function a(n,e,i,r){var o=function t(e){return k.hasAttribute("disabled")?!1:N(k,$[14])?!1:(e=z(e),n===F.start&&void 0!==e.buttons&&e.buttons>1?!1:(e.calcPoint=e.points[c.ort],void i(e,r)))},a=[];return n.split(" ").forEach(function(t){e.addEventListener(t,o,!1),a.push([t,o])}),a}function s(t,e){var n,i,r=e.handles||S,o=!1,a=100*(t.calcPoint-e.start)/l(),s=r[0]===S[0]?0:1;if(n=U(a,e.positions,r.length>1),o=m(r[0],n[s],1===r.length),r.length>1){if(o=m(r[1],n[s?0:1],!1)||o)for(i=0;i<e.handles.length;i++)f("slide",i)}else o&&f("slide",s)}function p(t,e){var n=M.getElementsByClassName($[15]),i=e.handles[0]===S[0]?0:1;n.length&&B(n[0],$[15]),t.cursor&&(document.body.style.cursor="",document.body.removeEventListener("selectstart",document.body.noUiListener));var r=document.documentElement;r.noUiListeners.forEach(function(t){r.removeEventListener(t[0],t[1])}),B(k,$[12]),f("set",i),f("change",i)}function o(t,e){var n=document.documentElement;if(1===e.handles.length&&(D(e.handles[0].children[0],$[15]),e.handles[0].hasAttribute("disabled")))return!1;t.stopPropagation();var i=a(F.move,n,s,{start:t.calcPoint,handles:e.handles,positions:[C[0],C[S.length-1]]}),r=a(F.end,n,p,{handles:e.handles});if(n.noUiListeners=i.concat(r),t.cursor){document.body.style.cursor=getComputedStyle(t.target).cursor,S.length>1&&D(k,$[12]);var o=function t(){return!1};document.body.noUiListener=o,document.body.addEventListener("selectstart",o,!1)}}function i(t){var e,n,i=t.calcPoint,r=0;return t.stopPropagation(),S.forEach(function(t){r+=j(t)[c.style]}),e=r/2>i||1===S.length?0:1,i-=j(M)[c.style],n=100*i/l(),c.events.snap||L(k,$[14],300),S[e].hasAttribute("disabled")?!1:(m(S[e],n),f("slide",e),f("set",e),f("change",e),void(c.events.snap&&o(t,{handles:[S[r]]})))}function n(t){var e,n;if(!t.fixed)for(e=0;e<S.length;e+=1)a(F.start,S[e].children[0],o,{handles:[S[e]]});t.tap&&a(F.start,M,i,{handles:S}),t.drag&&(n=[M.getElementsByClassName($[7])[0]],D(n[0],$[10]),t.fixed&&n.push(S[n[0]===S[0]?1:0].children[0]),n.forEach(function(t){a(F.start,t,o,{handles:S})}))}function m(t,e,n){var i=t!==S[0]?1:0,r=C[0]+c.margin,o=C[1]-c.margin,a=C[0]+c.limit,s=C[1]-c.limit;return S.length>1&&(e=i?Math.max(e,r):Math.min(e,o)),n!==!1&&c.limit&&S.length>1&&(e=i?Math.min(e,a):Math.max(e,s)),e=E.getStep(e),e=O(parseFloat(e.toFixed(7))),e===C[i]?!1:(t.style[c.style]=e+"%",t.previousSibling||(B(t,$[17]),e>50&&D(t,$[17])),C[i]=e,P[i]=E.fromStepping(e),f("update",i),!0)}function g(t,e){var n,i,r;for(c.limit&&(t+=1),n=0;t>n;n+=1)i=n%2,r=e[i],null!==r&&r!==!1&&("number"==typeof r&&(r=String(r)),r=c.format.from(r),(r===!1||isNaN(r)||m(S[i],E.toStepping(r),n===3-c.dir)===!1)&&f("update",i))}function b(t){var e,n,i=R(t);for(c.dir&&c.handles>1&&i.reverse(),c.animate&&-1!==C[0]&&L(k,$[14],300),e=S.length>1?3:1,1===i.length&&(e=1),g(e,i),n=0;n<S.length;n++)f("set",n)}function v(){var t,e=[];for(t=0;t<c.handles;t+=1)e[t]=c.format.to(P[t]);return r(e)}function y(){$.forEach(function(t){t&&B(k,t)}),k.innerHTML="",delete k.noUiSlider}function w(){var t=C.map(function(t,e){var n=E.getApplicableStep(t),i=I(String(n[2])),r=P[e],o=100===t?null:n[2],a=Number((r-n[2]).toFixed(i)),s=0===t?null:a>=n[1]?n[2]:n[0]||!1;return[s,o]});return r(t)}function _(t,e){A[t]=A[t]||[],A[t].push(e),"update"===t.split(".")[0]&&S.forEach(function(t,e){f("update",e)})}function x(t){var i=t.split(".")[0],r=t.substring(i.length);Object.keys(A).forEach(function(t){var e=t.split(".")[0],n=t.substring(e.length);i&&i!==e||r&&r!==n||delete A[t]})}var M,S,k=t,C=[-1,-1],E=c.spectrum,P=[],A={};if(k.noUiSlider)throw new Error("Slider was already initialized.");return M=W(c.dir,c.ort,k),S=q(c.handles,c.dir,M),H(c.connect,k,S),n(c.events),c.pips&&e(c.pips),{destroy:y,steps:w,on:_,off:x,get:v,set:b}}function A(t,e){if(!t.nodeName)throw new Error("noUiSlider.create requires a single element.");var n=C(e,t),i=P(t,n);i.set(n.start),t.noUiSlider=i}var F=window.navigator.pointerEnabled?{start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend"},$=["noUi-target","noUi-base","noUi-origin","noUi-handle","noUi-horizontal","noUi-vertical","noUi-background","noUi-connect","noUi-ltr","noUi-rtl","noUi-dragable","","noUi-state-drag","","noUi-state-tap","noUi-active","","noUi-stacking"],V=(p.prototype.getMargin=function(t){return 2===this.xPct.length?i(this.xVal,t):!1},p.prototype.toStepping=function(t){return t=n(this.xVal,this.xPct,t),this.direction&&(t=100-t),t},p.prototype.fromStepping=function(t){return this.direction&&(t=100-t),e(o(this.xVal,this.xPct,t))},p.prototype.getStep=function(t){return this.direction&&(t=100-t),t=a(this.xPct,this.xSteps,this.snap,t),this.direction&&(t=100-t),t},p.prototype.getApplicableStep=function(t){var e=h(t,this.xPct),n=100===t?2:1;return[this.xNumSteps[e-2],this.xVal[e-n],this.xNumSteps[e-n]]},p.prototype.convert=function(t){return this.getStep(this.toStepping(t))},{to:function t(e){return e.toFixed(2)},from:Number});return{create:A}})?i.apply(e,[]):i)&&(t.exports=e)},function(t,e,n){"use strict";var i,r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};n=[n(150)],void 0!==(e="function"==typeof(i=function(x){var M={options:{optionClass:"",dropdownClass:"",autoinit:false,callback:false,onSelected:false,absolutePos:false,align:"left",dynamicOptLabel:"Add a new option..."},init:function t(g){if(g)g=x.extend(M.options,g);else g=M.options;function b(t){var e=t.data("dropdownjs-ul");e.find("li").not(".dropdownjs-add").remove();t.find("option").each(function(){var t=x(this);M._addOption(e,t)})}function n(i){if(i.data("dropdownjs")||!i.is("select"))return;var r=i.attr("multiple");var t=i.attr("data-dynamic-opts"),o=x();var a=x("<div></div>");a.addClass("dropdownjs").addClass(g.dropdownStyle);a.data("select",i);var s=x("<input type=text readonly class=fakeinput>");if(x.material)s.data("mdproc",true);if(i.is(":disabled"))s.prop("disabled",true);a.append(s);var _=x("<ul></ul>");_.addClass("dropdownjs-ul");_.data("select",i);i.hide().attr("data-dropdownjs",true).data("dropdownjs-ul",_);if(g.absolutePos)x("body").append(_);else a.append(_);s.attr("placeholder",i.attr("placeholder"));b(i);if(t){o=x("<li class=dropdownjs-add></li>");o.append('<input type="text">');o.find("input").attr("placeholder",g.dynamicOptLabel);_.append(o)}var e=a.find("li");if(!r){var n;if(i.find(":selected").length)n=i.find(":selected").last();else n=i.find("option, li").first();M._select(a,n)}else{var l=[],c=i.val();for(var u in c)l.push("li[value="+c[u]+"]");if(l.length>0)M._select(a,a.find(l.join(",")))}s.addClass(i[0].className);s.css({"moz-user-select":"none","-webkit-user-select":"none","-ms-user-select":"none","user-select":"none","-o-user-select":"none"});i.on("remove",function(){_.remove()});i.after(a);if(g.callback)g.callback(a);_.on("click","li:not(.dropdownjs-add)",function(t){M._select(a,x(this));v(i.get(0),"change")});_.on("keydown","li:not(.dropdownjs-add)",function(t){if(t.which===27){x(".dropdownjs > ul > li").attr("tabindex",-1);_.removeClass("focus");return s.removeClass("focus").blur()}if(t.which===32&&!x(t.target).is("input")){M._select(a,x(this));return false}});_.on("focus","li:not(.dropdownjs-add)",function(){if(i.is(":disabled"))return;s.addClass("focus")});if(t&&t.length)o.on("keydown",function(t){if(t.which!==13)return;var e=x("<option>"),n=o.find("input").val();o.find("input").val("");e.attr("value",n);e.text(n);i.append(e)});var h=new MutationObserver(function(t){var e=true;var n=false;var i=undefined;try{for(var r=t[Symbol.iterator](),o;!(e=(o=r.next()).done);e=true){var a=o.value;if(a.type!=="childList")continue;var s=true;var l=false;var c=undefined;try{for(var u=a.addedNodes[Symbol.iterator](),h;!(s=(h=u.next()).done);s=true){var d=h.value;if(d.nodeName==="OPTION"){var f=x(d);if(!f.val())continue;M._addOption(_,f)}}}catch(t){l=true;c=t}finally{try{if(!s&&u.return)u.return()}finally{if(l)throw c}}var p=true;var m=false;var g=undefined;try{for(var b=a.removedNodes[Symbol.iterator](),v;!(p=(v=b.next()).done);p=true){var y=v.value;if(y.nodeName==="OPTION"){var w=x(y);M._removeOption(_,w)}}}catch(t){m=true;g=t}finally{try{if(!p&&b.return)b.return()}finally{if(m)throw g}}_.find("li").not(".dropdownjs-add").attr("tabindex",0)}}catch(t){n=true;i=t}finally{try{if(!e&&r.return)r.return()}finally{if(n)throw i}}});h.observe(i.get(0),{childList:true,subtree:true});i.on("change",function(t){var e=x(t.target);if(!e.val()||!e.val().length)return;if(!r){b(i);var n;if(i.find(":selected").length)n=i.find(":selected").last();else n=i.find("option, li").first();M.select(a,n.val())}});function d(){x(".dropdownjs-ul > li").attr("tabindex",-1);s.removeClass("focus");_.removeClass("focus")}s.on("click",function(t){t.stopPropagation();if(i.is(":disabled"))return;if(_.hasClass("focus")){d();return}f()});function f(){clearTimeout(p);p=setTimeout(function(){m()},100)}var p;function m(){var t=s;x(".dropdownjs-ul > li").attr("tabindex",-1);x(".dropdownjs > input").not(t).removeClass("focus").blur();x(".dropdownjs").not(t).removeClass("focus").blur();x(".dropdownjs-ul").not(_).removeClass("focus");x(".dropdownjs-ul > li").not(".dropdownjs-add").attr("tabindex",0);var e={top:t.offset().top-x(document).scrollTop(),left:t.offset().left-x(document).scrollLeft(),bottom:x(window).height()-(t.offset().top-x(document).scrollTop())-t.outerHeight(),right:x(window).width()-(t.offset().left-x(document).scrollLeft())-t.outerWidth()};if(g.absolutePos)_.css(g.align,e[g.align]);var n=e.bottom;if(n<200&&e.top>n){n=e.top;_.attr("placement","top-"+g.align)}else _.attr("placement","bottom-"+g.align);if(g.absolutePos)_.css({top:/top/.test(_.attr("placement"))?"auto":e.top+s.outerHeight(),bottom:/bottom/.test(_.attr("placement"))?"auto":e.bottom+s.outerHeight()});_.css("max-height",n-20);_.addClass("focus");t.addClass("focus")}x(document).on("click",function(t){if(r&&(x(t.target).parents(".dropdownjs").length||x(t.target).parents(".dropdownjs-ul").length||x(t.target).is(".dropdownjs-ul")))return;if(x(t.target).parents(".dropdownjs-add").length||x(t.target).is(".dropdownjs-add"))return;d()})}if(g.autoinit)x(document).on("DOMNodeInserted",function(t){var e=x(t.target);if(!e.is("select"))e=e.find("select");if(e.is(g.autoinit))e.each(function(){n(x(this))})});x(this).each(function(){n(x(this))})},select:function t(e,n){var i=e.data("select"),r=x(i.data("dropdownjs-ul")),o=r.find('[value="'+n+'"]');M._select(e,o)},_select:function t(e,n){if(n.is(".dropdownjs-add"))return;var i=e.data("select"),r=e.find("input.fakeinput"),o=x(i.data("dropdownjs-ul"));var a=i.attr("multiple");var s=o.find("li");if(a){n.attr("selected",function(t,e){return e==="selected"?null:"selected"});n.toggleClass("selected");n.each(function(){var t=i.find('[value="'+x(this).attr("value")+'"]');t.prop("selected",x(this).hasClass("selected"))});var l=[];s.each(function(){if(x(this).hasClass("selected"))l.push(x(this).text())});r.val(l.join(", "))}if(!a){if(n.is("li"))s.not(n).removeClass("selected");n.addClass("selected");i.val(n.attr("value"));r.val(n.text().trim())}if(x.material)if(r.val().trim())i.removeClass("empty");else i.addClass("empty");if(this.options.onSelected)this.options.onSelected(n.attr("value"))},_addOption:function t(e,n){var i=x("<li></li>");i.addClass(this.options.optionStyle);if(n.text())i.text(n.text());else i.html("&nbsp;");i.attr("value",n.val());var r=x.extend({},n[0].dataset);for(var o in r)i[0].dataset[o]=r[o];if(e.data("select").attr("data-dynamic-opts")){i.append("<span class=close></span>");i.find(".close").on("click",function(){i.remove();n.remove()})}if(n.prop("disabled"))i.attr("disabled",true);if(n.prop("selected")){i.attr("selected",true);i.addClass("selected")}if(e.find(".dropdownjs-add").length)e.find(".dropdownjs-add").before(i);else e.append(i)},_removeOption:function t(e,n){var i=n.val();e.find('[value="'+i+'"]').remove()}};function v(t,e,n){var i,r=document.createEvent;if(r){i=document.createEvent("HTMLEvents");i.initEvent(e,true,true)}else i=document.createEventObject();i.memo=n||{};if(r)return!t.dispatchEvent(i);return t.fireEvent("on"+e,i)}x.fn.dropdown=function(t){if(M[t])return M[t].apply(this,Array.prototype.slice.call(arguments,1));else if((typeof t==="undefined"?"undefined":r(t))==="object"|!t)return M.init.apply(this,arguments);x.error("Method "+t+" does not exists on jQuery.dropdown")}})?i.apply(e,n):i)&&(t.exports=e)},function(t,e,n){"use strict";var i,b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};window,i=function e(l,c){var u={dialog:"<div class='bootbox modal' tabindex='-1' role='dialog'><div class='modal-dialog'><div class='modal-content'><div class='modal-body'><div class='bootbox-body'></div></div></div></div></div>",header:"<div class='modal-header'><h4 class='modal-title'></h4></div>",footer:"<div class='modal-footer'></div>",closeButton:"<button type='button' class='bootbox-close-button close' data-dismiss='modal' aria-hidden='true'>&times;</button>",form:"<form class='bootbox-form'></form>",inputs:{text:"<input class='bootbox-input bootbox-input-text form-control' autocomplete=off type=text />",textarea:"<textarea class='bootbox-input bootbox-input-textarea form-control'></textarea>",email:"<input class='bootbox-input bootbox-input-email form-control' autocomplete='off' type='email' />",select:"<select class='bootbox-input bootbox-input-select form-control'></select>",checkbox:"<div class='checkbox'><label><input class='bootbox-input bootbox-input-checkbox' type='checkbox' /></label></div>",date:"<input class='bootbox-input bootbox-input-date form-control' autocomplete=off type='date' />",time:"<input class='bootbox-input bootbox-input-time form-control' autocomplete=off type='time' />",number:"<input class='bootbox-input bootbox-input-number form-control' autocomplete=off type='number' />",password:"<input class='bootbox-input bootbox-input-password form-control' autocomplete='off' type='password' />"}},o={locale:"en",backdrop:"static",animate:!0,className:null,closeButton:!0,show:!0,container:"body"},h={};function s(t,e,n){t.stopPropagation(),t.preventDefault(),l.isFunction(n)&&!1===n.call(e,t)||e.modal("hide")}function d(t,n){var i=0;l.each(t,function(t,e){n(t,e,i++)})}function f(t){var i,r;if("object"!==(void 0===t?"undefined":b(t)))throw new Error("Please supply an object of options");if(t.message)return(t=l.extend({},o,t)).buttons||(t.buttons={}),i=t.buttons,r=function(t){var e,n=0;for(e in t)n++;return n}(i),d(i,function(t,e,n){if(l.isFunction(e)&&(e=i[t]={callback:e}),"object"!==l.type(e))throw new Error("button with key "+t+" must be an object");e.label||(e.label=t),e.className||(e.className=r<=2&&n===r-1?"btn-primary":"btn-default")}),t;throw new Error("Please specify a message")}function p(t,e,n){return l.extend(!0,{},t,function(t,e){var n=t.length,i={};if(n<1||2<n)throw new Error("Invalid argument length");return 2===n||"string"==typeof t[0]?(i[e[0]]=t[0],i[e[1]]=t[1]):i=t[0],i}(e,n))}function n(t,e,n,i){return g(p({className:"bootbox-"+t,buttons:m.apply(null,e)},i,n),e)}function m(){for(var t={},e=0,n=arguments.length;e<n;e++){var i=arguments[e],r=i.toLowerCase(),i=i.toUpperCase();t[r]={label:(r=i,(a[o.locale]||a.en)[r])}}return t}function g(t,e){var n={};return d(e,function(t,e){n[e]=!0}),d(t.buttons,function(t){if(n[t]===c)throw new Error("button key "+t+" is not allowed (options are "+e.join("\n")+")")}),t}h.alert=function(){var t=n("alert",["ok"],["message","callback"],arguments);if(t.callback&&!l.isFunction(t.callback))throw new Error("alert requires callback property to be a function when provided");return t.buttons.ok.callback=t.onEscape=function(){return!l.isFunction(t.callback)||t.callback.call(this)},h.dialog(t)},h.confirm=function(){var t=n("confirm",["cancel","confirm"],["message","callback"],arguments);if(t.buttons.cancel.callback=t.onEscape=function(){return t.callback.call(this,!1)},t.buttons.confirm.callback=function(){return t.callback.call(this,!0)},l.isFunction(t.callback))return h.dialog(t);throw new Error("confirm requires a callback")},h.prompt=function(){var e,r,t=l(u.form),o=g(p({className:"bootbox-prompt",buttons:m("cancel","confirm"),value:"",inputType:"text"},arguments,["title","callback"]),["cancel","confirm"]),n=o.show===c||o.show;if(o.message=t,o.buttons.cancel.callback=o.onEscape=function(){return o.callback.call(this,null)},o.buttons.confirm.callback=function(){switch(o.inputType){case"text":case"textarea":case"email":case"select":case"date":case"time":case"number":case"password":n=r.val();break;case"checkbox":var t=r.find("input:checked"),n=[];d(t,function(t,e){n.push(l(e).val())})}return o.callback.call(this,n)},o.show=!1,!o.title)throw new Error("prompt requires a title");if(!l.isFunction(o.callback))throw new Error("prompt requires a callback");if(!u.inputs[o.inputType])throw new Error("invalid prompt type");switch(r=l(u.inputs[o.inputType]),o.inputType){case"text":case"textarea":case"email":case"date":case"time":case"number":case"password":r.val(o.value);break;case"select":var i={},a=o.inputOptions||[];if(!l.isArray(a))throw new Error("Please pass an array of input options");if(!a.length)throw new Error("prompt with select requires options");d(a,function(t,e){var n=r;if(e.value===c||e.text===c)throw new Error("given options in wrong format");e.group&&(i[e.group]||(i[e.group]=l("<optgroup/>").attr("label",e.group)),n=i[e.group]),n.append("<option value='"+e.value+"'>"+e.text+"</option>")}),d(i,function(t,e){r.append(e)}),r.val(o.value);break;case"checkbox":var s=l.isArray(o.value)?o.value:[o.value];if(!(a=o.inputOptions||[]).length)throw new Error("prompt with checkbox requires options");if(!a[0].value||!a[0].text)throw new Error("given options in wrong format");r=l("<div/>"),d(a,function(t,n){var i=l(u.inputs[o.inputType]);i.find("input").attr("value",n.value),i.find("label").append(n.text),d(s,function(t,e){e===n.value&&i.find("input").prop("checked",!0)}),r.append(i)})}return o.placeholder&&r.attr("placeholder",o.placeholder),o.pattern&&r.attr("pattern",o.pattern),o.maxlength&&r.attr("maxlength",o.maxlength),t.append(r),t.on("submit",function(t){t.preventDefault(),t.stopPropagation(),e.find(".btn-primary:last").click()}),(e=h.dialog(o)).off("shown.bs.modal"),e.on("shown.bs.modal",function(){r.focus()}),!0===n&&e.modal("show"),e},h.dialog=function(t){t=f(t);var n=l(u.dialog),e=n.find(".modal-dialog"),i=n.find(".modal-body"),r=t.buttons,o="",a={onEscape:t.onEscape};if(l.fn.modal===c)throw new Error("$.fn.modal is not defined; please double check you have included the Bootstrap JavaScript library. See http://getbootstrap.com/javascript/ for more details.");return d(r,function(t,e){o+="<button data-bb-handler='"+t+"' type='button' class='btn "+e.className+"'>"+e.label+"</button>",a[t]=e.callback}),i.find(".bootbox-body").html(t.message),!0===t.animate&&n.addClass("fade"),t.className&&n.addClass(t.className),"large"===t.size?e.addClass("modal-lg"):"small"===t.size?e.addClass("modal-sm"):"fullscreen"===t.size&&e.addClass("modal-fs"),t.title&&i.before(u.header),t.closeButton&&(r=l(u.closeButton),t.title?n.find(".modal-header").prepend(r):r.css("margin-top","-10px").prependTo(i)),t.title&&n.find(".modal-title").html(t.title),o.length&&(i.after(u.footer),n.find(".modal-footer").html(o)),n.on("hidden.bs.modal",function(t){t.target===this&&n.remove()}),n.on("shown.bs.modal",function(){n.find(".btn-primary:last").focus()}),"static"!==t.backdrop&&n.on("click.dismiss.bs.modal",function(t){n.children(".modal-backdrop").length&&(t.currentTarget=n.children(".modal-backdrop").get(0)),t.target===t.currentTarget&&n.trigger("escape.close.bb")}),n.on("escape.close.bb",function(t){a.onEscape&&s(t,n,a.onEscape)}),n.on("click",".modal-footer button",function(t){var e=l(this).data("bb-handler");s(t,n,a[e])}),n.on("click",".bootbox-close-button",function(t){s(t,n,a.onEscape)}),n.on("keyup",function(t){27===t.which&&n.trigger("escape.close.bb")}),l(t.container).append(n),n.modal({backdrop:!!t.backdrop&&"static",keyboard:!1,show:!1}),t.show&&n.modal("show"),n},h.setDefaults=function(){var t={};2===arguments.length?t[arguments[0]]=arguments[1]:t=arguments[0],l.extend(o,t)},h.hideAll=function(){return l(".bootbox").modal("hide"),h};var a={bg_BG:{OK:"",CANCEL:"",CONFIRM:""},br:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Sim"},cs:{OK:"OK",CANCEL:"Zruit",CONFIRM:"Potvrdit"},da:{OK:"OK",CANCEL:"Annuller",CONFIRM:"Accepter"},de:{OK:"OK",CANCEL:"Abbrechen",CONFIRM:"Akzeptieren"},el:{OK:"",CANCEL:"",CONFIRM:""},en:{OK:"OK",CANCEL:"Cancel",CONFIRM:"OK"},es:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Aceptar"},et:{OK:"OK",CANCEL:"Katkesta",CONFIRM:"OK"},fa:{OK:"",CANCEL:"",CONFIRM:""},fi:{OK:"OK",CANCEL:"Peruuta",CONFIRM:"OK"},fr:{OK:"OK",CANCEL:"Annuler",CONFIRM:"D'accord"},he:{OK:"",CANCEL:"",CONFIRM:""},hu:{OK:"OK",CANCEL:"Mgsem",CONFIRM:"Megerst"},hr:{OK:"OK",CANCEL:"Odustani",CONFIRM:"Potvrdi"},id:{OK:"OK",CANCEL:"Batal",CONFIRM:"OK"},it:{OK:"OK",CANCEL:"Annulla",CONFIRM:"Conferma"},ja:{OK:"OK",CANCEL:"",CONFIRM:""},lt:{OK:"Gerai",CANCEL:"Ataukti",CONFIRM:"Patvirtinti"},lv:{OK:"Labi",CANCEL:"Atcelt",CONFIRM:"Apstiprint"},nl:{OK:"OK",CANCEL:"Annuleren",CONFIRM:"Accepteren"},no:{OK:"OK",CANCEL:"Avbryt",CONFIRM:"OK"},pl:{OK:"OK",CANCEL:"Anuluj",CONFIRM:"Potwierd"},pt:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Confirmar"},ru:{OK:"OK",CANCEL:"",CONFIRM:""},sq:{OK:"OK",CANCEL:"Anulo",CONFIRM:"Prano"},sv:{OK:"OK",CANCEL:"Avbryt",CONFIRM:"OK"},th:{OK:"",CANCEL:"",CONFIRM:""},tr:{OK:"Tamam",CANCEL:"ptal",CONFIRM:"Onayla"},zh_CN:{OK:"OK",CANCEL:"",CONFIRM:""},zh_TW:{OK:"OK",CANCEL:"",CONFIRM:""}};return h.addLocale=function(t,n){return l.each(["OK","CANCEL","CONFIRM"],function(t,e){if(!n[e])throw new Error("Please supply a translation for '"+e+"'")}),a[t]={OK:n.OK,CANCEL:n.CANCEL,CONFIRM:n.CONFIRM},h},h.removeLocale=function(t){return delete a[t],h},h.setLocale=function(t){return h.setDefaults("locale",t)},h.init=function(t){return e(t||l)},h},n=[n(150)],void 0!==(e="function"==typeof(i=i)?i.apply(e,n):i)&&(t.exports=e)},function(e,i,t){"use strict";!function(d,n){var t,m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};t=function(){return function i(r,o,a){function s(n,t){if(!o[n]){if(!r[n]){if(l)return l(n,!0);var e=new Error("Cannot find module '"+n+"'");throw e.code="MODULE_NOT_FOUND",e}e=o[n]={exports:{}};r[n][0].call(e.exports,function(t){var e=r[n][1][t];return s(e||t)},e,e.exports,i,r,o,a)}return o[n].exports}for(var l=!1,t=0;t<a.length;t++)s(a[t]);return s}({1:[function(t,e,n){var h=t("./utils"),d=t("./support"),f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";n.encode=function(t){for(var e,n,i,r,o,a,s=[],l=0,c=t.length,u="string"!==h.getTypeOf(t);l<t.length;)a=c-l,i=u?(e=t[l++],n=l<c?t[l++]:0,l<c?t[l++]:0):(e=t.charCodeAt(l++),n=l<c?t.charCodeAt(l++):0,l<c?t.charCodeAt(l++):0),r=(3&e)<<4|n>>4,o=1<a?(15&n)<<2|i>>6:64,a=2<a?63&i:64,s.push(f.charAt(e>>2)+f.charAt(r)+f.charAt(o)+f.charAt(a));return s.join("")},n.decode=function(t){var e,n,i,r,o,a,s=0,l=0;if("data:"===t.substr(0,"data:".length))throw new Error("Invalid base64 input, it looks like a data url.");var c,u=3*(t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"")).length/4;if(t.charAt(t.length-1)===f.charAt(64)&&u--,t.charAt(t.length-2)===f.charAt(64)&&u--,u%1!=0)throw new Error("Invalid base64 input, bad content length.");for(c=new(d.uint8array?Uint8Array:Array)(0|u);s<t.length;)i=f.indexOf(t.charAt(s++)),e=(15&(r=f.indexOf(t.charAt(s++))))<<4|(o=f.indexOf(t.charAt(s++)))>>2,n=(3&o)<<6|(a=f.indexOf(t.charAt(s++))),c[l++]=i<<2|r>>4,64!==o&&(c[l++]=e),64!==a&&(c[l++]=n);return c}},{"./support":30,"./utils":32}],2:[function(t,e,n){function i(t,e,n,i,r){this.compressedSize=t,this.uncompressedSize=e,this.crc32=n,this.compression=i,this.compressedContent=r}var r=t("./external"),o=t("./stream/DataWorker"),a=t("./stream/DataLengthProbe"),s=t("./stream/Crc32Probe"),a=t("./stream/DataLengthProbe");i.prototype={getContentWorker:function(){var t=new o(r.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new a("data_length")),e=this;return t.on("end",function(){if(this.streamInfo.data_length!==e.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),t},getCompressedWorker:function(){return new o(r.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},i.createWorkerFrom=function(t,e,n){return t.pipe(new s).pipe(new a("uncompressedSize")).pipe(e.compressWorker(n)).pipe(new a("compressedSize")).withStreamInfo("compression",e)},e.exports=i},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(t,e,n){var i=t("./stream/GenericWorker");n.STORE={magic:"\0\0",compressWorker:function(t){return new i("STORE compression")},uncompressWorker:function(){return new i("STORE decompression")}},n.DEFLATE=t("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(t,e,n){var i=t("./utils"),s=function(){for(var t=[],e=0;e<256;e++){for(var n=e,i=0;i<8;i++)n=1&n?3988292384^n>>>1:n>>>1;t[e]=n}return t}();e.exports=function(t,e){return void 0!==t&&t.length?("string"!==i.getTypeOf(t)?function(t,e,n,i){var r=s,o=i+n;t^=-1;for(var a=i;a<o;a++)t=t>>>8^r[255&(t^e[a])];return-1^t}:function(t,e,n,i){var r=s,o=i+n;t^=-1;for(var a=i;a<o;a++)t=t>>>8^r[255&(t^e.charCodeAt(a))];return-1^t})(0|e,t,t.length,0):0}},{"./utils":32}],5:[function(t,e,n){n.base64=!1,n.binary=!1,n.dir=!1,n.createFolders=!0,n.date=null,n.compression=null,n.compressionOptions=null,n.comment=null,n.unixPermissions=null,n.dosPermissions=null},{}],6:[function(t,e,n){t="undefined"!=typeof Promise?Promise:t("lie");e.exports={Promise:t}},{lie:58}],7:[function(t,e,n){function i(t,e){s.call(this,"FlateWorker/"+t),this._pako=null,this._pakoAction=t,this._pakoOptions=e,this.meta={}}var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,o=t("pako"),a=t("./utils"),s=t("./stream/GenericWorker"),l=r?"uint8array":"array";n.magic="\b\0",a.inherits(i,s),i.prototype.processChunk=function(t){this.meta=t.meta,null===this._pako&&this._createPako(),this._pako.push(a.transformTo(l,t.data),!1)},i.prototype.flush=function(){s.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},i.prototype.cleanUp=function(){s.prototype.cleanUp.call(this),this._pako=null},i.prototype._createPako=function(){this._pako=new o[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var e=this;this._pako.onData=function(t){e.push({data:t,meta:e.meta})}},n.compressWorker=function(t){return new i("Deflate",t)},n.uncompressWorker=function(){return new i("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:59}],8:[function(t,e,n){function i(t,e,n,i){o.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=e,this.zipPlatform=n,this.encodeFileName=i,this.streamFiles=t,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}function v(t,e){for(var n="",i=0;i<e;i++)n+=String.fromCharCode(255&t),t>>>=8;return n}function r(t,e,n,i,r,o){var a=t.file,s=t.compression,l=o!==w.utf8encode,c=y.transformTo("string",o(a.name)),u=y.transformTo("string",w.utf8encode(a.name)),h=a.comment,o=y.transformTo("string",o(h)),d=y.transformTo("string",w.utf8encode(h)),f=u.length!==a.name.length,h=d.length!==h.length,p="",m=a.dir,g=a.date,b={crc32:0,compressedSize:0,uncompressedSize:0},n=(e&&!n||(b.crc32=t.crc32,b.compressedSize=t.compressedSize,b.uncompressedSize=t.uncompressedSize),0),t=(e&&(n|=8),l||!f&&!h||(n|=2048),0),e=0,g=(m&&(t|=16),"UNIX"===r?(e=798,t|=(l=a.unixPermissions,r=m,(65535&(l?l:r?16893:33204))<<16)):(e=20,t|=63&(a.dosPermissions||0)),m=g.getUTCHours(),m=(m=((m<<=6)|g.getUTCMinutes())<<5)|g.getUTCSeconds()/2,l=g.getUTCFullYear()-1980,l=(l=((l<<=4)|g.getUTCMonth()+1)<<5)|g.getUTCDate(),f&&(r=v(1,1)+v(_(c),4)+u,p+="up"+v(r.length,2)+r),h&&(a=v(1,1)+v(_(o),4)+d,p+="uc"+v(a.length,2)+a),""),g=(g=(g=(g=(g=(g=(g=(g=(g=(g+="\n\0")+v(n,2))+s.magic)+v(m,2))+v(l,2))+v(b.crc32,4))+v(b.compressedSize,4))+v(b.uncompressedSize,4))+v(c.length,2))+v(p.length,2);return{fileRecord:x.LOCAL_FILE_HEADER+g+c+p,dirRecord:x.CENTRAL_FILE_HEADER+v(e,2)+g+v(o.length,2)+"\0\0\0\0"+v(t,4)+v(i,4)+c+p+o}}var y=t("../utils"),o=t("../stream/GenericWorker"),w=t("../utf8"),_=t("../crc32"),x=t("../signature");y.inherits(i,o),i.prototype.push=function(t){var e=t.meta.percent||0,n=this.entriesCount,i=this._sources.length;this.accumulate?this.contentBuffer.push(t):(this.bytesWritten+=t.data.length,o.prototype.push.call(this,{data:t.data,meta:{currentFile:this.currentFile,percent:n?(e+100*(n-i-1))/n:100}}))},i.prototype.openedSource=function(t){this.currentSourceOffset=this.bytesWritten,this.currentFile=t.file.name;var e=this.streamFiles&&!t.file.dir;e?(t=r(t,e,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName),this.push({data:t.fileRecord,meta:{percent:0}})):this.accumulate=!0},i.prototype.closedSource=function(t){this.accumulate=!1;var e=this.streamFiles&&!t.file.dir,n=r(t,e,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(n.dirRecord),e)this.push({data:(e=t,x.DATA_DESCRIPTOR+v(e.crc32,4)+v(e.compressedSize,4)+v(e.uncompressedSize,4)),meta:{percent:100}});else for(this.push({data:n.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},i.prototype.flush=function(){for(var t=this.bytesWritten,e=0;e<this.dirRecords.length;e++)this.push({data:this.dirRecords[e],meta:{percent:100}});var n=this.bytesWritten-t,n=function(t,e,n,i,r){r=y.transformTo("string",r(i));return x.CENTRAL_DIRECTORY_END+"\0\0\0\0"+v(t,2)+v(t,2)+v(e,4)+v(n,4)+v(r.length,2)+r}(this.dirRecords.length,n,t,this.zipComment,this.encodeFileName);this.push({data:n,meta:{percent:100}})},i.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},i.prototype.registerPrevious=function(t){this._sources.push(t);var e=this;return t.on("data",function(t){e.processChunk(t)}),t.on("end",function(){e.closedSource(e.previous.streamInfo),e._sources.length?e.prepareNextSource():e.end()}),t.on("error",function(t){e.error(t)}),this},i.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},i.prototype.error=function(t){var e=this._sources;if(!o.prototype.error.call(this,t))return!1;for(var n=0;n<e.length;n++)try{e[n].error(t)}catch(t){}return!0},i.prototype.lock=function(){o.prototype.lock.call(this);for(var t=this._sources,e=0;e<t.length;e++)t[e].lock()},e.exports=i},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(t,e,n){var c=t("../compressions"),i=t("./ZipFileWorker");n.generateWorker=function(t,a,e){var s=new i(a.streamFiles,e,a.platform,a.encodeFileName),l=0;try{t.forEach(function(t,e){l++;var n=function(t,e){t=t||e,e=c[t];if(e)return e;throw new Error(t+" is not a valid compression method !")}(e.options.compression,a.compression),i=e.options.compressionOptions||a.compressionOptions||{},r=e.dir,o=e.date;e._compressWorker(n,i).withStreamInfo("file",{name:t,dir:r,date:o,comment:e.comment||"",unixPermissions:e.unixPermissions,dosPermissions:e.dosPermissions}).pipe(s)}),s.entriesCount=l}catch(t){s.error(t)}return s}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(t,e,n){function i(){if(!(this instanceof i))return new i;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files={},this.comment=null,this.root="",this.clone=function(){var t,e=new i;for(t in this)"function"!=typeof this[t]&&(e[t]=this[t]);return e}}(i.prototype=t("./object")).loadAsync=t("./load"),i.support=t("./support"),i.defaults=t("./defaults"),i.version="3.1.5",i.loadAsync=function(t,e){return(new i).loadAsync(t,e)},i.external=t("./external"),e.exports=i},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(t,e,n){var i=t("./utils"),a=t("./external"),s=t("./utf8"),i=t("./utils"),l=t("./zipEntries"),c=t("./stream/Crc32Probe"),u=t("./nodejsUtils");e.exports=function(t,r){var o=this;return r=i.extend(r||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:s.utf8decode}),u.isNode&&u.isStream(t)?a.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):i.prepareContent("the loaded zip file",t,!0,r.optimizedBinaryString,r.base64).then(function(t){var e=new l(r);return e.load(t),e}).then(function(t){var e=[a.Promise.resolve(t)],n=t.files;if(r.checkCRC32)for(var i=0;i<n.length;i++)e.push(function(i){return new a.Promise(function(t,e){var n=i.decompressed.getContentWorker().pipe(new c);n.on("error",function(t){e(t)}).on("end",function(){n.streamInfo.crc32!==i.decompressed.crc32?e(new Error("Corrupted zip : CRC32 mismatch")):t()}).resume()})}(n[i]));return a.Promise.all(e)}).then(function(t){for(var t=t.shift(),e=t.files,n=0;n<e.length;n++){var i=e[n];o.file(i.fileNameStr,i.decompressed,{binary:!0,optimizedBinaryString:!0,date:i.date,dir:i.dir,comment:i.fileCommentStr.length?i.fileCommentStr:null,unixPermissions:i.unixPermissions,dosPermissions:i.dosPermissions,createFolders:r.createFolders})}return t.zipComment.length&&(o.comment=t.zipComment),o})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(t,e,n){function i(t,e){o.call(this,"Nodejs stream input adapter for "+t),this._upstreamEnded=!1,this._bindStream(e)}var r=t("../utils"),o=t("../stream/GenericWorker");r.inherits(i,o),i.prototype._bindStream=function(t){var e=this;(this._stream=t).pause(),t.on("data",function(t){e.push({data:t,meta:{percent:0}})}).on("error",function(t){e.isPaused?this.generatedError=t:e.error(t)}).on("end",function(){e.isPaused?e._upstreamEnded=!0:e.end()})},i.prototype.pause=function(){return!!o.prototype.pause.call(this)&&(this._stream.pause(),!0)},i.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},e.exports=i},{"../stream/GenericWorker":28,"../utils":32}],13:[function(t,e,n){function i(t,e,n){r.call(this,e),this._helper=t;var i=this;t.on("data",function(t,e){i.push(t)||i._helper.pause(),n&&n(e)}).on("error",function(t){i.emit("error",t)}).on("end",function(){i.push(null)})}var r=t("readable-stream").Readable;t("../utils").inherits(i,r),i.prototype._read=function(){this._helper.resume()},e.exports=i},{"../utils":32,"readable-stream":16}],14:[function(t,e,n){e.exports={isNode:void 0!==d,newBufferFrom:function(t,e){return new d(t,e)},allocBuffer:function(t){return d.alloc?d.alloc(t):new d(t)},isBuffer:function(t){return d.isBuffer(t)},isStream:function(t){return t&&"function"==typeof t.on&&"function"==typeof t.pause&&"function"==typeof t.resume}}},{}],15:[function(t,e,n){function o(t){return"[object RegExp]"===Object.prototype.toString.call(t)}function a(t){var e=(t="/"===t.slice(-1)?t.substring(0,t.length-1):t).lastIndexOf("/");return 0<e?t.substring(0,e):""}function s(t,e){return e=void 0!==e?e:h.createFolders,t=v(t),this.files[t]||b.call(this,t,null,{dir:!0,createFolders:e}),this.files[t]}var r=t("./utf8"),l=t("./utils"),c=t("./stream/GenericWorker"),u=t("./stream/StreamHelper"),h=t("./defaults"),d=t("./compressedObject"),f=t("./zipObject"),p=t("./generate"),m=t("./nodejsUtils"),g=t("./nodejs/NodejsStreamInputAdapter"),b=function(t,e,n){var i=l.getTypeOf(e),r=l.extend(n||{},h),o=(r.date=r.date||new Date,null!==r.compression&&(r.compression=r.compression.toUpperCase()),"string"==typeof r.unixPermissions&&(r.unixPermissions=parseInt(r.unixPermissions,8)),r.unixPermissions&&16384&r.unixPermissions&&(r.dir=!0),r.dosPermissions&&16&r.dosPermissions&&(r.dir=!0),r.dir&&(t=v(t)),r.createFolders&&(o=a(t))&&s.call(this,o,!0),"string"===i&&!1===r.binary&&!1===r.base64);n&&void 0!==n.binary||(r.binary=!o);(e instanceof d&&0===e.uncompressedSize||r.dir||!e||0===e.length)&&(r.base64=!1,r.binary=!0,e="",r.compression="STORE");i=e instanceof d||e instanceof c?e:m.isNode&&m.isStream(e)?new g(t,e):l.prepareContent(t,e,r.binary,r.optimizedBinaryString,r.base64),n=new f(t,i,r);this.files[t]=n},v=function(t){return"/"!==t.slice(-1)&&(t+="/"),t};e.exports={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(t){var e,n,i;for(e in this.files)this.files.hasOwnProperty(e)&&(i=this.files[e],n=e.slice(this.root.length,e.length))&&e.slice(0,this.root.length)===this.root&&t(n,i)},filter:function(n){var i=[];return this.forEach(function(t,e){n(t,e)&&i.push(e)}),i},file:function(t,e,n){var i,r;return 1===arguments.length?o(t)?(i=t,this.filter(function(t,e){return!e.dir&&i.test(t)})):(r=this.files[this.root+t])&&!r.dir?r:null:(t=this.root+t,b.call(this,t,e,n),this)},folder:function(n){var t,e;return n?o(n)?this.filter(function(t,e){return e.dir&&n.test(t)}):(t=this.root+n,t=s.call(this,t),(e=this.clone()).root=t.name,e):this},remove:function(n){n=this.root+n;var t=this.files[n];if(t||("/"!==n.slice(-1)&&(n+="/"),t=this.files[n]),t&&!t.dir)delete this.files[n];else for(var e=this.filter(function(t,e){return e.name.slice(0,n.length)===n}),i=0;i<e.length;i++)delete this.files[e[i].name];return this},generate:function(t){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(t){var e={};try{if((e=l.extend(t||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:r.utf8encode})).type=e.type.toLowerCase(),e.compression=e.compression.toUpperCase(),"binarystring"===e.type&&(e.type="string"),!e.type)throw new Error("No output type specified.");l.checkSupport(e.type),"darwin"!==e.platform&&"freebsd"!==e.platform&&"linux"!==e.platform&&"sunos"!==e.platform||(e.platform="UNIX"),"win32"===e.platform&&(e.platform="DOS");var n=e.comment||this.comment||"",i=p.generateWorker(this,e,n)}catch(t){(i=new c("error")).error(t)}return new u(i,e.type||"string",e.mimeType)},generateAsync:function(t,e){return this.generateInternalStream(t).accumulate(e)},generateNodeStream:function(t,e){return(t=t||{}).type||(t.type="nodebuffer"),this.generateInternalStream(t).toNodejsStream(e)}}},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(t,e,n){e.exports=t("stream")},{stream:void 0}],17:[function(t,e,n){function i(t){r.call(this,t);for(var e=0;e<this.data.length;e++)t[e]=255&t[e]}var r=t("./DataReader");t("../utils").inherits(i,r),i.prototype.byteAt=function(t){return this.data[this.zero+t]},i.prototype.lastIndexOfSignature=function(t){for(var e=t.charCodeAt(0),n=t.charCodeAt(1),i=t.charCodeAt(2),r=t.charCodeAt(3),o=this.length-4;0<=o;--o)if(this.data[o]===e&&this.data[o+1]===n&&this.data[o+2]===i&&this.data[o+3]===r)return o-this.zero;return-1},i.prototype.readAndCheckSignature=function(t){var e=t.charCodeAt(0),n=t.charCodeAt(1),i=t.charCodeAt(2),t=t.charCodeAt(3),r=this.readData(4);return e===r[0]&&n===r[1]&&i===r[2]&&t===r[3]},i.prototype.readData=function(t){var e;return this.checkOffset(t),0===t?[]:(e=this.data.slice(this.zero+this.index,this.zero+this.index+t),this.index+=t,e)},e.exports=i},{"../utils":32,"./DataReader":18}],18:[function(t,e,n){function i(t){this.data=t,this.length=t.length,this.index=0,this.zero=0}var r=t("../utils");i.prototype={checkOffset:function(t){this.checkIndex(this.index+t)},checkIndex:function(t){if(this.length<this.zero+t||t<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+t+"). Corrupted zip ?")},setIndex:function(t){this.checkIndex(t),this.index=t},skip:function(t){this.setIndex(this.index+t)},byteAt:function(t){},readInt:function(t){var e,n=0;for(this.checkOffset(t),e=this.index+t-1;e>=this.index;e--)n=(n<<8)+this.byteAt(e);return this.index+=t,n},readString:function(t){return r.transformTo("string",this.readData(t))},readData:function(t){},lastIndexOfSignature:function(t){},readAndCheckSignature:function(t){},readDate:function(){var t=this.readInt(4);return new Date(Date.UTC(1980+(t>>25&127),(t>>21&15)-1,t>>16&31,t>>11&31,t>>5&63,(31&t)<<1))}},e.exports=i},{"../utils":32}],19:[function(t,e,n){function i(t){r.call(this,t)}var r=t("./Uint8ArrayReader");t("../utils").inherits(i,r),i.prototype.readData=function(t){this.checkOffset(t);var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e.exports=i},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(t,e,n){function i(t){r.call(this,t)}var r=t("./DataReader");t("../utils").inherits(i,r),i.prototype.byteAt=function(t){return this.data.charCodeAt(this.zero+t)},i.prototype.lastIndexOfSignature=function(t){return this.data.lastIndexOf(t)-this.zero},i.prototype.readAndCheckSignature=function(t){return t===this.readData(4)},i.prototype.readData=function(t){this.checkOffset(t);var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e.exports=i},{"../utils":32,"./DataReader":18}],21:[function(t,e,n){function i(t){r.call(this,t)}var r=t("./ArrayReader");t("../utils").inherits(i,r),i.prototype.readData=function(t){var e;return this.checkOffset(t),0===t?new Uint8Array(0):(e=this.data.subarray(this.zero+this.index,this.zero+this.index+t),this.index+=t,e)},e.exports=i},{"../utils":32,"./ArrayReader":17}],22:[function(t,e,n){var i=t("../utils"),r=t("../support"),o=t("./ArrayReader"),a=t("./StringReader"),s=t("./NodeBufferReader"),l=t("./Uint8ArrayReader");e.exports=function(t){var e=i.getTypeOf(t);return i.checkSupport(e),"string"!==e||r.uint8array?"nodebuffer"===e?new s(t):r.uint8array?new l(i.transformTo("uint8array",t)):new o(i.transformTo("array",t)):new a(t)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(t,e,n){n.LOCAL_FILE_HEADER="PK",n.CENTRAL_FILE_HEADER="PK",n.CENTRAL_DIRECTORY_END="PK",n.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK",n.ZIP64_CENTRAL_DIRECTORY_END="PK",n.DATA_DESCRIPTOR="PK\b"},{}],24:[function(t,e,n){function i(t){r.call(this,"ConvertWorker to "+t),this.destType=t}var r=t("./GenericWorker"),o=t("../utils");o.inherits(i,r),i.prototype.processChunk=function(t){this.push({data:o.transformTo(this.destType,t.data),meta:t.meta})},e.exports=i},{"../utils":32,"./GenericWorker":28}],25:[function(t,e,n){function i(){r.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}var r=t("./GenericWorker"),o=t("../crc32");t("../utils").inherits(i,r),i.prototype.processChunk=function(t){this.streamInfo.crc32=o(t.data,this.streamInfo.crc32||0),this.push(t)},e.exports=i},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(t,e,n){function i(t){o.call(this,"DataLengthProbe for "+t),this.propName=t,this.withStreamInfo(t,0)}var r=t("../utils"),o=t("./GenericWorker");r.inherits(i,o),i.prototype.processChunk=function(t){var e;t&&(e=this.streamInfo[this.propName]||0,this.streamInfo[this.propName]=e+t.data.length),o.prototype.processChunk.call(this,t)},e.exports=i},{"../utils":32,"./GenericWorker":28}],27:[function(t,e,n){function i(t){o.call(this,"DataWorker");var e=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,t.then(function(t){e.dataIsReady=!0,e.data=t,e.max=t&&t.length||0,e.type=r.getTypeOf(t),e.isPaused||e._tickAndRepeat()},function(t){e.error(t)})}var r=t("../utils"),o=t("./GenericWorker");r.inherits(i,o),i.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this.data=null},i.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,r.delay(this._tickAndRepeat,[],this)),!0)},i.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished)||(r.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0)},i.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var t=null,e=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":t=this.data.substring(this.index,e);break;case"uint8array":t=this.data.subarray(this.index,e);break;case"array":case"nodebuffer":t=this.data.slice(this.index,e)}return this.index=e,this.push({data:t,meta:{percent:this.max?this.index/this.max*100:0}})},e.exports=i},{"../utils":32,"./GenericWorker":28}],28:[function(t,e,n){function i(t){this.name=t||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}i.prototype={push:function(t){this.emit("data",t)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(t){this.emit("error",t)}return!0},error:function(t){return!this.isFinished&&(this.isPaused?this.generatedError=t:(this.isFinished=!0,this.emit("error",t),this.previous&&this.previous.error(t),this.cleanUp()),!0)},on:function(t,e){return this._listeners[t].push(e),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(t,e){if(this._listeners[t])for(var n=0;n<this._listeners[t].length;n++)this._listeners[t][n].call(this,e)},pipe:function(t){return t.registerPrevious(this)},registerPrevious:function(t){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=t.streamInfo,this.mergeStreamInfo(),this.previous=t;var e=this;return t.on("data",function(t){e.processChunk(t)}),t.on("end",function(){e.end()}),t.on("error",function(t){e.error(t)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){var t;return!(!this.isPaused||this.isFinished||(t=this.isPaused=!1,this.generatedError&&(this.error(this.generatedError),t=!0),this.previous&&this.previous.resume(),t))},flush:function(){},processChunk:function(t){this.push(t)},withStreamInfo:function(t,e){return this.extraStreamInfo[t]=e,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var t in this.extraStreamInfo)this.extraStreamInfo.hasOwnProperty(t)&&(this.streamInfo[t]=this.extraStreamInfo[t])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var t="Worker "+this.name;return this.previous?this.previous+" -> "+t:t}},e.exports=i},{}],29:[function(t,e,n){function i(t,s){return new u.Promise(function(e,n){var i=[],r=t._internalType,o=t._outputType,a=t._mimeType;t.on("data",function(t,e){i.push(t),s&&s(e)}).on("error",function(t){i=[],n(t)}).on("end",function(){try{var t=function(t,e,n){switch(t){case"blob":return l.newBlob(l.transformTo("arraybuffer",e),n);case"base64":return c.encode(e);default:return l.transformTo(t,e)}}(o,function(t,e){for(var n=0,i=null,r=0,o=0;o<e.length;o++)r+=e[o].length;switch(t){case"string":return e.join("");case"array":return Array.prototype.concat.apply([],e);case"uint8array":for(i=new Uint8Array(r),o=0;o<e.length;o++)i.set(e[o],n),n+=e[o].length;return i;case"nodebuffer":return d.concat(e);default:throw new Error("concat : unsupported type '"+t+"'")}}(r,i),a);e(t)}catch(t){n(t)}i=[]}).resume()})}function r(t,e,n){var i=e;switch(e){case"blob":case"arraybuffer":i="uint8array";break;case"base64":i="string"}try{this._internalType=i,this._outputType=e,this._mimeType=n,l.checkSupport(i),this._worker=t.pipe(new o(i)),t.lock()}catch(t){this._worker=new a("error"),this._worker.error(t)}}var l=t("../utils"),o=t("./ConvertWorker"),a=t("./GenericWorker"),c=t("../base64"),s=t("../support"),u=t("../external"),h=null;if(s.nodestream)try{h=t("../nodejs/NodejsStreamOutputAdapter")}catch(t){}r.prototype={accumulate:function(t){return i(this,t)},on:function(t,e){var n=this;return"data"===t?this._worker.on(t,function(t){e.call(n,t.data,t.meta)}):this._worker.on(t,function(){l.delay(e,arguments,n)}),this},resume:function(){return l.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(t){if(l.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new h(this,{objectMode:"nodebuffer"!==this._outputType},t)}},e.exports=r},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(t,e,n){if(n.base64=!0,n.array=!0,n.string=!0,n.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,n.nodebuffer=void 0!==d,n.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)n.blob=!1;else{var i=new ArrayBuffer(0);try{n.blob=0===new Blob([i],{type:"application/zip"}).size}catch(t){try{var r=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);r.append(i),n.blob=0===r.getBlob("application/zip").size}catch(t){n.blob=!1}}}try{n.nodestream=!!t("readable-stream").Readable}catch(t){n.nodestream=!1}},{"readable-stream":16}],31:[function(t,e,r){function n(){o.call(this,"utf-8 decode"),this.leftOver=null}function i(){o.call(this,"utf-8 encode")}for(var l=t("./utils"),c=t("./support"),u=t("./nodejsUtils"),o=t("./stream/GenericWorker"),h=new Array(256),a=0;a<256;a++)h[a]=252<=a?6:248<=a?5:240<=a?4:224<=a?3:192<=a?2:1;h[254]=h[254]=1;r.utf8encode=function(t){if(c.nodebuffer)return u.newBufferFrom(t,"utf-8");for(var e,n,i,r,o=t,a=o.length,s=0,l=0;l<a;l++)55296==(64512&(n=o.charCodeAt(l)))&&l+1<a&&56320==(64512&(i=o.charCodeAt(l+1)))&&(n=65536+(n-55296<<10)+(i-56320),l++),s+=n<128?1:n<2048?2:n<65536?3:4;for(e=new(c.uint8array?Uint8Array:Array)(s),l=r=0;r<s;l++)55296==(64512&(n=o.charCodeAt(l)))&&l+1<a&&56320==(64512&(i=o.charCodeAt(l+1)))&&(n=65536+(n-55296<<10)+(i-56320),l++),n<128?e[r++]=n:(n<2048?e[r++]=192|n>>>6:(n<65536?e[r++]=224|n>>>12:(e[r++]=240|n>>>18,e[r++]=128|n>>>12&63),e[r++]=128|n>>>6&63),e[r++]=128|63&n);return e},r.utf8decode=function(t){if(c.nodebuffer)return l.transformTo("nodebuffer",t).toString("utf-8");for(var e,n,i=t=l.transformTo(c.uint8array?"uint8array":"array",t),r=i.length,o=new Array(2*r),a=0,s=0;s<r;)if((e=i[s++])<128)o[a++]=e;else if(4<(n=h[e]))o[a++]=65533,s+=n-1;else{for(e&=2===n?31:3===n?15:7;1<n&&s<r;)e=e<<6|63&i[s++],n--;1<n?o[a++]=65533:e<65536?o[a++]=e:(e-=65536,o[a++]=55296|e>>10&1023,o[a++]=56320|1023&e)}return o.length!==a&&(o.subarray?o=o.subarray(0,a):o.length=a),l.applyFromCharCode(o)},l.inherits(n,o),n.prototype.processChunk=function(t){var e=l.transformTo(c.uint8array?"uint8array":"array",t.data),n=(this.leftOver&&this.leftOver.length&&(c.uint8array?(n=e,(e=new Uint8Array(n.length+this.leftOver.length)).set(this.leftOver,0),e.set(n,this.leftOver.length)):e=this.leftOver.concat(e),this.leftOver=null),function(t,e){for(var n=(e=(e=e||t.length)>t.length?t.length:e)-1;0<=n&&128==(192&t[n]);)n--;return!(n<0)&&0!==n&&n+h[t[n]]>e?n:e}(e)),i=e;n!==e.length&&(c.uint8array?(i=e.subarray(0,n),this.leftOver=e.subarray(n,e.length)):(i=e.slice(0,n),this.leftOver=e.slice(n,e.length))),this.push({data:r.utf8decode(i),meta:t.meta})},n.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:r.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},r.Utf8DecodeWorker=n,l.inherits(i,o),i.prototype.processChunk=function(t){this.push({data:r.utf8encode(t.data),meta:t.meta})},r.Utf8EncodeWorker=i},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(t,e,a){function n(t){return t}function s(t,e){for(var n=0;n<t.length;++n)e[n]=255&t.charCodeAt(n);return e}function i(t){var e=65536,n=a.getTypeOf(t),i=!0;if("uint8array"===n?i=d.applyCanBeUsed.uint8array:"nodebuffer"===n&&(i=d.applyCanBeUsed.nodebuffer),i)for(;1<e;)try{return d.stringifyByChunk(t,n,e)}catch(t){e=Math.floor(e/2)}return d.stringifyByChar(t)}function r(t,e){for(var n=0;n<t.length;n++)e[n]=t[n];return e}var l=t("./support"),c=t("./base64"),o=t("./nodejsUtils"),u=t("core-js/library/fn/set-immediate"),h=t("./external"),d=(a.newBlob=function(e,n){a.checkSupport("blob");try{return new Blob([e],{type:n})}catch(t){try{var i=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return i.append(e),i.getBlob(n)}catch(t){throw new Error("Bug : can't construct the Blob.")}}},{stringifyByChunk:function(t,e,n){var i=[],r=0,o=t.length;if(o<=n)return String.fromCharCode.apply(null,t);for(;r<o;)i.push("array"===e||"nodebuffer"===e?String.fromCharCode.apply(null,t.slice(r,Math.min(r+n,o))):String.fromCharCode.apply(null,t.subarray(r,Math.min(r+n,o)))),r+=n;return i.join("")},stringifyByChar:function(t){for(var e="",n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},applyCanBeUsed:{uint8array:function(){try{return l.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(t){return!1}}(),nodebuffer:function(){try{return l.nodebuffer&&1===String.fromCharCode.apply(null,o.allocBuffer(1)).length}catch(t){return!1}}()}}),f=(a.applyFromCharCode=i,{});f.string={string:n,array:function(t){return s(t,new Array(t.length))},arraybuffer:function(t){return f.string.uint8array(t).buffer},uint8array:function(t){return s(t,new Uint8Array(t.length))},nodebuffer:function(t){return s(t,o.allocBuffer(t.length))}},f.array={string:i,array:n,arraybuffer:function(t){return new Uint8Array(t).buffer},uint8array:function(t){return new Uint8Array(t)},nodebuffer:function(t){return o.newBufferFrom(t)}},f.arraybuffer={string:function(t){return i(new Uint8Array(t))},array:function(t){return r(new Uint8Array(t),new Array(t.byteLength))},arraybuffer:n,uint8array:function(t){return new Uint8Array(t)},nodebuffer:function(t){return o.newBufferFrom(new Uint8Array(t))}},f.uint8array={string:i,array:function(t){return r(t,new Array(t.length))},arraybuffer:function(t){return t.buffer},uint8array:n,nodebuffer:function(t){return o.newBufferFrom(t)}},f.nodebuffer={string:i,array:function(t){return r(t,new Array(t.length))},arraybuffer:function(t){return f.nodebuffer.uint8array(t).buffer},uint8array:function(t){return r(t,new Uint8Array(t.length))},nodebuffer:n},a.transformTo=function(t,e){if(e=e||"",!t)return e;a.checkSupport(t);var n=a.getTypeOf(e);return f[n][t](e)},a.getTypeOf=function(t){return"string"==typeof t?"string":"[object Array]"===Object.prototype.toString.call(t)?"array":l.nodebuffer&&o.isBuffer(t)?"nodebuffer":l.uint8array&&t instanceof Uint8Array?"uint8array":l.arraybuffer&&t instanceof ArrayBuffer?"arraybuffer":void 0},a.checkSupport=function(t){if(!l[t.toLowerCase()])throw new Error(t+" is not supported by this platform")},a.MAX_VALUE_16BITS=65535,a.MAX_VALUE_32BITS=-1,a.pretty=function(t){for(var e,n="",i=0;i<(t||"").length;i++)n+="\\x"+((e=t.charCodeAt(i))<16?"0":"")+e.toString(16).toUpperCase();return n},a.delay=function(t,e,n){u(function(){t.apply(n||null,e||[])})},a.inherits=function(t,e){function n(){}n.prototype=e.prototype,t.prototype=new n},a.extend=function(){for(var t,e={},n=0;n<arguments.length;n++)for(t in arguments[n])arguments[n].hasOwnProperty(t)&&void 0===e[t]&&(e[t]=arguments[n][t]);return e},a.prepareContent=function(n,t,i,r,o){return h.Promise.resolve(t).then(function(i){return l.blob&&(i instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(i)))&&"undefined"!=typeof FileReader?new h.Promise(function(e,n){var t=new FileReader;t.onload=function(t){e(t.target.result)},t.onerror=function(t){n(t.target.error)},t.readAsArrayBuffer(i)}):i}).then(function(t){var e=a.getTypeOf(t);return e?("arraybuffer"===e?t=a.transformTo("uint8array",t):"string"===e&&(o?t=c.decode(t):i&&!0!==r&&(t=s(e=t,new(l.uint8array?Uint8Array:Array)(e.length)))),t):h.Promise.reject(new Error("Can't read the data of '"+n+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,"core-js/library/fn/set-immediate":36}],33:[function(t,e,n){function i(t){this.files=[],this.loadOptions=t}var r=t("./reader/readerFor"),o=t("./utils"),a=t("./signature"),s=t("./zipEntry"),l=(t("./utf8"),t("./support"));i.prototype={checkSignature:function(t){var e;if(!this.reader.readAndCheckSignature(t))throw this.reader.index-=4,e=this.reader.readString(4),new Error("Corrupted zip or bug: unexpected signature ("+o.pretty(e)+", expected "+o.pretty(t)+")")},isSignature:function(t,e){var n=this.reader.index;this.reader.setIndex(t);t=this.reader.readString(4)===e;return this.reader.setIndex(n),t},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var t=this.reader.readData(this.zipCommentLength),e=l.uint8array?"uint8array":"array",e=o.transformTo(e,t);this.zipComment=this.loadOptions.decodeFileName(e)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var t,e,n,i=this.zip64EndOfCentralSize-44;0<i;)t=this.reader.readInt(2),e=this.reader.readInt(4),n=this.reader.readData(e),this.zip64ExtensibleData[t]={id:t,length:e,value:n}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){for(var t,e=0;e<this.files.length;e++)t=this.files[e],this.reader.setIndex(t.localHeaderOffset),this.checkSignature(a.LOCAL_FILE_HEADER),t.readLocalPart(this.reader),t.handleUTF8(),t.processAttributes()},readCentralDir:function(){var t;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(a.CENTRAL_FILE_HEADER);)(t=new s({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(t);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var t=this.reader.lastIndexOfSignature(a.CENTRAL_DIRECTORY_END);if(t<0)throw!this.isSignature(0,a.LOCAL_FILE_HEADER)?new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html"):new Error("Corrupted zip: can't find end of central directory");this.reader.setIndex(t);var e=t;if(this.checkSignature(a.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===o.MAX_VALUE_16BITS||this.diskWithCentralDirStart===o.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===o.MAX_VALUE_16BITS||this.centralDirRecords===o.MAX_VALUE_16BITS||this.centralDirSize===o.MAX_VALUE_32BITS||this.centralDirOffset===o.MAX_VALUE_32BITS){if(this.zip64=!0,(t=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(t),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,a.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}t=this.centralDirOffset+this.centralDirSize,t=e-(t=this.zip64?t+20+(12+this.zip64EndOfCentralSize):t);if(0<t)this.isSignature(e,a.CENTRAL_FILE_HEADER)||(this.reader.zero=t);else if(t<0)throw new Error("Corrupted zip: missing "+Math.abs(t)+" bytes.")},prepareReader:function(t){this.reader=r(t)},load:function(t){this.prepareReader(t),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},e.exports=i},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utf8":31,"./utils":32,"./zipEntry":34}],34:[function(t,e,n){function i(t,e){this.options=t,this.loadOptions=e}var r=t("./reader/readerFor"),o=t("./utils"),a=t("./compressedObject"),s=t("./crc32"),l=t("./utf8"),c=t("./compressions"),u=t("./support");i.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},readLocalPart:function(t){var e;if(t.skip(22),this.fileNameLength=t.readInt(2),e=t.readInt(2),this.fileName=t.readData(this.fileNameLength),t.skip(e),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough informations from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(e=function(t){for(var e in c)if(c.hasOwnProperty(e)&&c[e].magic===t)return c[e];return null}(this.compressionMethod)))throw new Error("Corrupted zip : compression "+o.pretty(this.compressionMethod)+" unknown (inner file : "+o.transformTo("string",this.fileName)+")");this.decompressed=new a(this.compressedSize,this.uncompressedSize,this.crc32,e,t.readData(this.compressedSize))},readCentralPart:function(t){this.versionMadeBy=t.readInt(2),t.skip(2),this.bitFlag=t.readInt(2),this.compressionMethod=t.readString(2),this.date=t.readDate(),this.crc32=t.readInt(4),this.compressedSize=t.readInt(4),this.uncompressedSize=t.readInt(4);var e=t.readInt(2);if(this.extraFieldsLength=t.readInt(2),this.fileCommentLength=t.readInt(2),this.diskNumberStart=t.readInt(2),this.internalFileAttributes=t.readInt(2),this.externalFileAttributes=t.readInt(4),this.localHeaderOffset=t.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");t.skip(e),this.readExtraFields(t),this.parseZIP64ExtraField(t),this.fileComment=t.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var t=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0==t&&(this.dosPermissions=63&this.externalFileAttributes),3==t&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(t){var e;this.extraFields[1]&&(e=r(this.extraFields[1].value),this.uncompressedSize===o.MAX_VALUE_32BITS&&(this.uncompressedSize=e.readInt(8)),this.compressedSize===o.MAX_VALUE_32BITS&&(this.compressedSize=e.readInt(8)),this.localHeaderOffset===o.MAX_VALUE_32BITS&&(this.localHeaderOffset=e.readInt(8)),this.diskNumberStart===o.MAX_VALUE_32BITS)&&(this.diskNumberStart=e.readInt(4))},readExtraFields:function(t){var e,n,i,r=t.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});t.index<r;)e=t.readInt(2),n=t.readInt(2),i=t.readData(n),this.extraFields[e]={id:e,length:n,value:i}},handleUTF8:function(){var t,e=u.uint8array?"uint8array":"array";this.useUTF8()?(this.fileNameStr=l.utf8decode(this.fileName),this.fileCommentStr=l.utf8decode(this.fileComment)):(null!==(t=this.findExtraFieldUnicodePath())?this.fileNameStr=t:(t=o.transformTo(e,this.fileName),this.fileNameStr=this.loadOptions.decodeFileName(t)),null!==(t=this.findExtraFieldUnicodeComment())?this.fileCommentStr=t:(t=o.transformTo(e,this.fileComment),this.fileCommentStr=this.loadOptions.decodeFileName(t)))},findExtraFieldUnicodePath:function(){var t,e=this.extraFields[28789];return!e||1!==(t=r(e.value)).readInt(1)||s(this.fileName)!==t.readInt(4)?null:l.utf8decode(t.readData(e.length-5))},findExtraFieldUnicodeComment:function(){var t,e=this.extraFields[25461];return!e||1!==(t=r(e.value)).readInt(1)||s(this.fileComment)!==t.readInt(4)?null:l.utf8decode(t.readData(e.length-5))}},e.exports=i},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(t,e,n){function i(t,e,n){this.name=t,this.dir=n.dir,this.date=n.date,this.comment=n.comment,this.unixPermissions=n.unixPermissions,this.dosPermissions=n.dosPermissions,this._data=e,this._dataBinary=n.binary,this.options={compression:n.compression,compressionOptions:n.compressionOptions}}var o=t("./stream/StreamHelper"),r=t("./stream/DataWorker"),a=t("./utf8"),s=t("./compressedObject"),l=t("./stream/GenericWorker");i.prototype={internalStream:function(t){var e=null,n="string";try{if(!t)throw new Error("No output type specified.");var i="string"===(n=t.toLowerCase())||"text"===n,r=("binarystring"!==n&&"text"!==n||(n="string"),e=this._decompressWorker(),!this._dataBinary);r&&!i&&(e=e.pipe(new a.Utf8EncodeWorker)),!r&&i&&(e=e.pipe(new a.Utf8DecodeWorker))}catch(t){(e=new l("error")).error(t)}return new o(e,n,"")},async:function(t,e){return this.internalStream(t).accumulate(e)},nodeStream:function(t,e){return this.internalStream(t||"nodebuffer").toNodejsStream(e)},_compressWorker:function(t,e){var n;return this._data instanceof s&&this._data.compression.magic===t.magic?this._data.getCompressedWorker():(n=this._decompressWorker(),this._dataBinary||(n=n.pipe(new a.Utf8EncodeWorker)),s.createWorkerFrom(n,t,e))},_decompressWorker:function(){return this._data instanceof s?this._data.getContentWorker():this._data instanceof l?this._data:new r(this._data)}};for(var c=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],u=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},h=0;h<c.length;h++)i.prototype[c[h]]=u;e.exports=i},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(t,e,n){t("../modules/web.immediate"),e.exports=t("../modules/_core").setImmediate},{"../modules/_core":40,"../modules/web.immediate":56}],37:[function(t,e,n){e.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},{}],38:[function(t,e,n){var i=t("./_is-object");e.exports=function(t){if(i(t))return t;throw TypeError(t+" is not an object!")}},{"./_is-object":51}],39:[function(t,e,n){var i={}.toString;e.exports=function(t){return i.call(t).slice(8,-1)}},{}],40:[function(t,e,n){e=e.exports={version:"2.3.0"};"number"==typeof __e&&(__e=e)},{}],41:[function(t,e,n){var o=t("./_a-function");e.exports=function(i,r,t){if(o(i),void 0===r)return i;switch(t){case 1:return function(t){return i.call(r,t)};case 2:return function(t,e){return i.call(r,t,e)};case 3:return function(t,e,n){return i.call(r,t,e,n)}}return function(){return i.apply(r,arguments)}}},{"./_a-function":37}],42:[function(t,e,n){e.exports=!t("./_fails")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},{"./_fails":45}],43:[function(t,e,n){var i=t("./_is-object"),r=t("./_global").document,o=i(r)&&i(r.createElement);e.exports=function(t){return o?r.createElement(t):{}}},{"./_global":46,"./_is-object":51}],44:[function(t,e,n){function m(t,e,n){var i,r,o,a=t&m.F,s=t&m.G,l=t&m.S,c=t&m.P,u=t&m.B,h=t&m.W,d=s?b:b[e]||(b[e]={}),f=d[w],p=s?g:l?g[e]:(g[e]||{})[w];for(i in n=s?e:n)(r=!a&&p&&void 0!==p[i])&&i in d||(o=(r?p:n)[i],d[i]=s&&"function"!=typeof p[i]?n[i]:u&&r?v(o,g):h&&p[i]==o?function(i){function t(t,e,n){if(this instanceof i){switch(arguments.length){case 0:return new i;case 1:return new i(t);case 2:return new i(t,e)}return new i(t,e,n)}return i.apply(this,arguments)}return t[w]=i[w],t}(o):c&&"function"==typeof o?v(Function.call,o):o,c&&((d.virtual||(d.virtual={}))[i]=o,t&m.R)&&f&&!f[i]&&y(f,i,o))}var g=t("./_global"),b=t("./_core"),v=t("./_ctx"),y=t("./_hide"),w="prototype";m.F=1,m.G=2,m.S=4,m.P=8,m.B=16,m.W=32,m.U=64,m.R=128,e.exports=m},{"./_core":40,"./_ctx":41,"./_global":46,"./_hide":47}],45:[function(t,e,n){e.exports=function(t){try{return!!t()}catch(t){return!0}}},{}],46:[function(t,e,n){e=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)},{}],47:[function(t,e,n){var i=t("./_object-dp"),r=t("./_property-desc");e.exports=t("./_descriptors")?function(t,e,n){return i.f(t,e,r(1,n))}:function(t,e,n){return t[e]=n,t}},{"./_descriptors":42,"./_object-dp":52,"./_property-desc":53}],48:[function(t,e,n){e.exports=t("./_global").document&&document.documentElement},{"./_global":46}],49:[function(t,e,n){e.exports=!t("./_descriptors")&&!t("./_fails")(function(){return 7!=Object.defineProperty(t("./_dom-create")("div"),"a",{get:function(){return 7}}).a})},{"./_descriptors":42,"./_dom-create":43,"./_fails":45}],50:[function(t,e,n){e.exports=function(t,e,n){var i=void 0===n;switch(e.length){case 0:return i?t():t.call(n);case 1:return i?t(e[0]):t.call(n,e[0]);case 2:return i?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return i?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return i?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},{}],51:[function(t,e,n){e.exports=function(t){return"object"==(void 0===t?"undefined":m(t))?null!==t:"function"==typeof t}},{}],52:[function(t,e,n){var i=t("./_an-object"),r=t("./_ie8-dom-define"),o=t("./_to-primitive"),a=Object.defineProperty;n.f=t("./_descriptors")?Object.defineProperty:function(t,e,n){if(i(t),e=o(e,!0),i(n),r)try{return a(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},{"./_an-object":38,"./_descriptors":42,"./_ie8-dom-define":49,"./_to-primitive":55}],53:[function(t,e,n){e.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},{}],54:[function(t,e,n){function i(){var t,e=+this;g.hasOwnProperty(e)&&(t=g[e],delete g[e],t())}function r(t){i.call(t.data)}var o,a=t("./_ctx"),s=t("./_invoke"),l=t("./_html"),c=t("./_dom-create"),u=t("./_global"),h=u.process,d=u.setImmediate,f=u.clearImmediate,p=u.MessageChannel,m=0,g={},b="onreadystatechange";d&&f||(d=function(t){for(var e=[],n=1;n<arguments.length;)e.push(arguments[n++]);return g[++m]=function(){s("function"==typeof t?t:Function(t),e)},o(m),m},f=function(t){delete g[t]},"process"==t("./_cof")(h)?o=function(t){h.nextTick(a(i,t,1))}:p?(p=(t=new p).port2,t.port1.onmessage=r,o=a(p.postMessage,p,1)):u.addEventListener&&"function"==typeof postMessage&&!u.importScripts?(o=function(t){u.postMessage(t+"","*")},u.addEventListener("message",r,!1)):o=b in c("script")?function(t){l.appendChild(c("script"))[b]=function(){l.removeChild(this),i.call(t)}}:function(t){setTimeout(a(i,t,1),0)}),e.exports={set:d,clear:f}},{"./_cof":39,"./_ctx":41,"./_dom-create":43,"./_global":46,"./_html":48,"./_invoke":50}],55:[function(t,e,n){var r=t("./_is-object");e.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t))||"function"==typeof(n=t.valueOf)&&!r(i=n.call(t))||!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},{"./_is-object":51}],56:[function(t,e,n){var i=t("./_export"),t=t("./_task");i(i.G+i.B,{setImmediate:t.set,clearImmediate:t.clear})},{"./_export":44,"./_task":54}],57:[function(t,c,e){!function(e){function n(){o=!0;for(var t,e,n=l.length;n;){for(e=l,l=[],t=-1;++t<n;)e[t]();n=l.length}o=!1}var t,i,r,o,a=e.MutationObserver||e.WebKitMutationObserver,s=a?(t=0,a=new a(n),i=e.document.createTextNode(""),a.observe(i,{characterData:!0}),function(){i.data=t=++t%2}):e.setImmediate||void 0===e.MessageChannel?"document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){n(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(n,0)}:((r=new e.MessageChannel).port1.onmessage=n,function(){r.port2.postMessage(0)}),l=[];c.exports=function(t){1!==l.push(t)||o||s()}}.call(this,void 0!==n?n:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],58:[function(t,e,n){function c(){}function i(t){if("function"!=typeof t)throw new TypeError("resolver must be a function");this.state=p,this.queue=[],this.outcome=void 0,t!==c&&s(this,t)}function r(t,e,n){this.promise=t,"function"==typeof e&&(this.onFulfilled=e,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function o(e,n,i){u(function(){var t;try{t=n(i)}catch(t){return h.reject(e,t)}t===e?h.reject(e,new TypeError("Cannot resolve promise with itself")):h.resolve(e,t)})}function a(t){var e=t&&t.then;if(t&&("object"==(void 0===t?"undefined":m(t))||"function"==typeof t)&&"function"==typeof e)return function(){e.apply(t,arguments)}}function s(e,t){function n(t){r||(r=!0,h.reject(e,t))}function i(t){r||(r=!0,h.resolve(e,t))}var r=!1,o=l(function(){t(i,n)});"error"===o.status&&n(o.value)}function l(t,e){var n={};try{n.value=t(e),n.status="success"}catch(t){n.status="error",n.value=t}return n}var u=t("immediate"),h={},d=["REJECTED"],f=["FULFILLED"],p=["PENDING"];(e.exports=i).prototype.catch=function(t){return this.then(null,t)},i.prototype.then=function(t,e){var n;return"function"!=typeof t&&this.state===f||"function"!=typeof e&&this.state===d?this:(n=new this.constructor(c),this.state!==p?o(n,this.state===f?t:e,this.outcome):this.queue.push(new r(n,t,e)),n)},r.prototype.callFulfilled=function(t){h.resolve(this.promise,t)},r.prototype.otherCallFulfilled=function(t){o(this.promise,this.onFulfilled,t)},r.prototype.callRejected=function(t){h.reject(this.promise,t)},r.prototype.otherCallRejected=function(t){o(this.promise,this.onRejected,t)},h.resolve=function(t,e){var n=l(a,e);if("error"===n.status)return h.reject(t,n.value);n=n.value;if(n)s(t,n);else{t.state=f,t.outcome=e;for(var i=-1,r=t.queue.length;++i<r;)t.queue[i].callFulfilled(e)}return t},h.reject=function(t,e){t.state=d,t.outcome=e;for(var n=-1,i=t.queue.length;++n<i;)t.queue[n].callRejected(e);return t},i.resolve=function(t){return t instanceof this?t:h.resolve(new this(c),t)},i.reject=function(t){var e=new this(c);return h.reject(e,t)},i.all=function(t){function e(t,e){n.resolve(t).then(function(t){o[e]=t,++a!==i||r||(r=!0,h.resolve(l,o))},function(t){r||(r=!0,h.reject(l,t))})}var n=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var i=t.length,r=!1;if(!i)return this.resolve([]);for(var o=new Array(i),a=0,s=-1,l=new this(c);++s<i;)e(t[s],s);return l},i.race=function(t){var e=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var n=t.length,i=!1;if(!n)return this.resolve([]);for(var r,o=-1,a=new this(c);++o<n;)r=t[o],e.resolve(r).then(function(t){i||(i=!0,h.resolve(a,t))},function(t){i||(i=!0,h.reject(a,t))});return a}},{immediate:57}],59:[function(t,e,n){var i={};(0,t("./lib/utils/common").assign)(i,t("./lib/deflate"),t("./lib/inflate"),t("./lib/zlib/constants")),e.exports=i},{"./lib/deflate":60,"./lib/inflate":61,"./lib/utils/common":62,"./lib/zlib/constants":65}],60:[function(t,e,n){function i(t){if(!(this instanceof i))return new i(t);this.options=s.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},t||{});t=this.options;if(t.raw&&0<t.windowBits?t.windowBits=-t.windowBits:t.gzip&&0<t.windowBits&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,(this.strm.avail_out=0)!==(e=a.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy)))throw new Error(o[e]);if(t.header&&a.deflateSetHeader(this.strm,t.header),t.dictionary){var e,t="string"==typeof t.dictionary?l.string2buf(t.dictionary):"[object ArrayBuffer]"===u.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary;if(0!==(e=a.deflateSetDictionary(this.strm,t)))throw new Error(o[e]);this._dict_set=!0}}function r(t,e){e=new i(e);if(e.push(t,!0),e.err)throw e.msg||o[e.err];return e.result}var a=t("./zlib/deflate"),s=t("./utils/common"),l=t("./utils/strings"),o=t("./zlib/messages"),c=t("./zlib/zstream"),u=Object.prototype.toString;i.prototype.push=function(t,e){var n,i,r=this.strm,o=this.options.chunkSize;if(this.ended)return!1;i=e===~~e?e:!0===e?4:0,"string"==typeof t?r.input=l.string2buf(t):"[object ArrayBuffer]"===u.call(t)?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;do{if(0===r.avail_out&&(r.output=new s.Buf8(o),r.next_out=0,r.avail_out=o),1!==(n=a.deflate(r,i))&&0!==n)return this.onEnd(n),!(this.ended=!0)}while(0!==r.avail_out&&(0!==r.avail_in||4!==i&&2!==i)||("string"===this.options.to?this.onData(l.buf2binstring(s.shrinkBuf(r.output,r.next_out))):this.onData(s.shrinkBuf(r.output,r.next_out))),(0<r.avail_in||0===r.avail_out)&&1!==n);return 4===i?(n=a.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,0===n):2!==i||(this.onEnd(0),!(r.avail_out=0))},i.prototype.onData=function(t){this.chunks.push(t)},i.prototype.onEnd=function(t){0===t&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},n.Deflate=i,n.deflate=r,n.deflateRaw=function(t,e){return(e=e||{}).raw=!0,r(t,e)},n.gzip=function(t,e){return(e=e||{}).gzip=!0,r(t,e)}},{"./utils/common":62,"./utils/strings":63,"./zlib/deflate":67,"./zlib/messages":72,"./zlib/zstream":74}],61:[function(t,e,n){function i(t){if(!(this instanceof i))return new i(t);this.options=d.assign({chunkSize:16384,windowBits:0,to:""},t||{});var e=this.options,t=(e.raw&&0<=e.windowBits&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits)&&(e.windowBits=-15),!(0<=e.windowBits&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),15<e.windowBits&&e.windowBits<48&&0==(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new a,this.strm.avail_out=0,h.inflateInit2(this.strm,e.windowBits));if(t!==p.Z_OK)throw new Error(o[t]);this.header=new s,h.inflateGetHeader(this.strm,this.header)}function r(t,e){e=new i(e);if(e.push(t,!0),e.err)throw e.msg||o[e.err];return e.result}var h=t("./zlib/inflate"),d=t("./utils/common"),f=t("./utils/strings"),p=t("./zlib/constants"),o=t("./zlib/messages"),a=t("./zlib/zstream"),s=t("./zlib/gzheader"),m=Object.prototype.toString;i.prototype.push=function(t,e){var n,i,r,o,a,s=this.strm,l=this.options.chunkSize,c=this.options.dictionary,u=!1;if(this.ended)return!1;i=e===~~e?e:!0===e?p.Z_FINISH:p.Z_NO_FLUSH,"string"==typeof t?s.input=f.binstring2buf(t):"[object ArrayBuffer]"===m.call(t)?s.input=new Uint8Array(t):s.input=t,s.next_in=0,s.avail_in=s.input.length;do{if(0===s.avail_out&&(s.output=new d.Buf8(l),s.next_out=0,s.avail_out=l),(n=h.inflate(s,p.Z_NO_FLUSH))===p.Z_NEED_DICT&&c&&(a="string"==typeof c?f.string2buf(c):"[object ArrayBuffer]"===m.call(c)?new Uint8Array(c):c,n=h.inflateSetDictionary(this.strm,a)),n===p.Z_BUF_ERROR&&!0===u&&(n=p.Z_OK,u=!1),n!==p.Z_STREAM_END&&n!==p.Z_OK)return this.onEnd(n),!(this.ended=!0)}while(!s.next_out||0!==s.avail_out&&n!==p.Z_STREAM_END&&(0!==s.avail_in||i!==p.Z_FINISH&&i!==p.Z_SYNC_FLUSH)||("string"===this.options.to?(a=f.utf8border(s.output,s.next_out),r=s.next_out-a,o=f.buf2string(s.output,a),s.next_out=r,s.avail_out=l-r,r&&d.arraySet(s.output,s.output,a,r,0),this.onData(o)):this.onData(d.shrinkBuf(s.output,s.next_out))),0===s.avail_in&&0===s.avail_out&&(u=!0),(0<s.avail_in||0===s.avail_out)&&n!==p.Z_STREAM_END);return(i=n===p.Z_STREAM_END?p.Z_FINISH:i)===p.Z_FINISH?(n=h.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===p.Z_OK):i!==p.Z_SYNC_FLUSH||(this.onEnd(p.Z_OK),!(s.avail_out=0))},i.prototype.onData=function(t){this.chunks.push(t)},i.prototype.onEnd=function(t){t===p.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=d.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},n.Inflate=i,n.inflate=r,n.inflateRaw=function(t,e){return(e=e||{}).raw=!0,r(t,e)},n.ungzip=r},{"./utils/common":62,"./utils/strings":63,"./zlib/constants":65,"./zlib/gzheader":68,"./zlib/inflate":70,"./zlib/messages":72,"./zlib/zstream":74}],62:[function(t,e,n){var i="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array,r=(n.assign=function(t){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var n=e.shift();if(n){if("object"!=(void 0===n?"undefined":m(n)))throw new TypeError(n+"must be non-object");for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i])}}return t},n.shrinkBuf=function(t,e){return t.length===e?t:t.subarray?t.subarray(0,e):(t.length=e,t)},{arraySet:function(t,e,n,i,r){if(e.subarray&&t.subarray)t.set(e.subarray(n,n+i),r);else for(var o=0;o<i;o++)t[r+o]=e[n+o]},flattenChunks:function(t){for(var e,n,i,r=0,o=0,a=t.length;o<a;o++)r+=t[o].length;for(i=new Uint8Array(r),o=e=0,a=t.length;o<a;o++)n=t[o],i.set(n,e),e+=n.length;return i}}),o={arraySet:function(t,e,n,i,r){for(var o=0;o<i;o++)t[r+o]=e[n+o]},flattenChunks:function(t){return[].concat.apply([],t)}};n.setTyped=function(t){t?(n.Buf8=Uint8Array,n.Buf16=Uint16Array,n.Buf32=Int32Array,n.assign(n,r)):(n.Buf8=Array,n.Buf16=Array,n.Buf32=Array,n.assign(n,o))},n.setTyped(i)},{}],63:[function(t,e,n){function l(t,e){if(e<65537&&(t.subarray&&o||!t.subarray&&r))return String.fromCharCode.apply(null,c.shrinkBuf(t,e));for(var n="",i=0;i<e;i++)n+=String.fromCharCode(t[i]);return n}var c=t("./common"),r=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch(t){r=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){o=!1}for(var u=new c.Buf8(256),i=0;i<256;i++)u[i]=252<=i?6:248<=i?5:240<=i?4:224<=i?3:192<=i?2:1;u[254]=u[254]=1,n.string2buf=function(t){for(var e,n,i,r,o=t.length,a=0,s=0;s<o;s++)55296==(64512&(n=t.charCodeAt(s)))&&s+1<o&&56320==(64512&(i=t.charCodeAt(s+1)))&&(n=65536+(n-55296<<10)+(i-56320),s++),a+=n<128?1:n<2048?2:n<65536?3:4;for(e=new c.Buf8(a),s=r=0;r<a;s++)55296==(64512&(n=t.charCodeAt(s)))&&s+1<o&&56320==(64512&(i=t.charCodeAt(s+1)))&&(n=65536+(n-55296<<10)+(i-56320),s++),n<128?e[r++]=n:(n<2048?e[r++]=192|n>>>6:(n<65536?e[r++]=224|n>>>12:(e[r++]=240|n>>>18,e[r++]=128|n>>>12&63),e[r++]=128|n>>>6&63),e[r++]=128|63&n);return e},n.buf2binstring=function(t){return l(t,t.length)},n.binstring2buf=function(t){for(var e=new c.Buf8(t.length),n=0,i=e.length;n<i;n++)e[n]=t.charCodeAt(n);return e},n.buf2string=function(t,e){for(var n,i,r=e||t.length,o=new Array(2*r),a=0,s=0;s<r;)if((n=t[s++])<128)o[a++]=n;else if(4<(i=u[n]))o[a++]=65533,s+=i-1;else{for(n&=2===i?31:3===i?15:7;1<i&&s<r;)n=n<<6|63&t[s++],i--;1<i?o[a++]=65533:n<65536?o[a++]=n:(n-=65536,o[a++]=55296|n>>10&1023,o[a++]=56320|1023&n)}return l(o,a)},n.utf8border=function(t,e){for(var n=(e=(e=e||t.length)>t.length?t.length:e)-1;0<=n&&128==(192&t[n]);)n--;return!(n<0)&&0!==n&&n+u[t[n]]>e?n:e}},{"./common":62}],64:[function(t,e,n){e.exports=function(t,e,n,i){for(var r=65535&t|0,o=t>>>16&65535|0,a=0;0!==n;){for(n-=a=2e3<n?2e3:n;o=o+(r=r+e[i++]|0)|0,--a;);r%=65521,o%=65521}return r|o<<16|0}},{}],65:[function(t,e,n){e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],66:[function(t,e,n){var s=function(){for(var t=[],e=0;e<256;e++){for(var n=e,i=0;i<8;i++)n=1&n?3988292384^n>>>1:n>>>1;t[e]=n}return t}();e.exports=function(t,e,n,i){var r=s,o=i+n;t^=-1;for(var a=i;a<o;a++)t=t>>>8^r[255&(t^e[a])];return-1^t}},{}],67:[function(t,D,e){function l(t,e){return t.msg=F[e],e}function s(t){return(t<<1)-(4<t?9:0)}function u(t){for(var e=t.length;0<=--e;)t[e]=0}function c(t){var e=t.state,n=e.pending;0!==(n=n>t.avail_out?t.avail_out:n)&&(b.arraySet(t.output,e.pending_buf,e.pending_out,n,t.next_out),t.next_out+=n,e.pending_out+=n,t.total_out+=n,t.avail_out-=n,e.pending-=n,0===e.pending)&&(e.pending_out=0)}function h(t,e){v._tr_flush_block(t,0<=t.block_start?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,c(t.strm)}function d(t,e){t.pending_buf[t.pending++]=e}function f(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e}function o(t,e){var n,i,r=t.max_chain_length,o=t.strstart,a=t.prev_length,s=t.nice_match,l=t.strstart>t.w_size-P?t.strstart-(t.w_size-P):0,c=t.window,u=t.w_mask,h=t.prev,d=t.strstart+E,f=c[o+a-1],p=c[o+a];t.prev_length>=t.good_match&&(r>>=2),s>t.lookahead&&(s=t.lookahead);do{if(c[(n=e)+a]===p&&c[n+a-1]===f&&c[n]===c[o]&&c[++n]===c[o+1]){for(o+=2,n++;c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&o<d;);if(i=E-(d-o),o=d-E,a<i){if(t.match_start=e,s<=(a=i))break;f=c[o+a-1],p=c[o+a]}}}while((e=h[e&u])>l&&0!=--r);return a<=t.lookahead?a:t.lookahead}function p(t){var e,n,i,r,o,a,s,l,c,u=t.w_size;do{if(l=t.window_size-t.lookahead-t.strstart,t.strstart>=u+(u-P)){for(b.arraySet(t.window,t.window,u,u,0),t.match_start-=u,t.strstart-=u,t.block_start-=u,e=n=t.hash_size;i=t.head[--e],t.head[e]=u<=i?i-u:0,--n;);for(e=n=u;i=t.prev[--e],t.prev[e]=u<=i?i-u:0,--n;);l+=u}if(0===t.strm.avail_in)break;if(o=t.strm,a=t.window,s=t.strstart+t.lookahead,l=l,c=void 0,c=o.avail_in,n=0===(c=l<c?l:c)?0:(o.avail_in-=c,b.arraySet(a,o.input,o.next_in,c,s),1===o.state.wrap?o.adler=N(o.adler,a,c,s):2===o.state.wrap&&(o.adler=y(o.adler,a,c,s)),o.next_in+=c,o.total_in+=c,c),t.lookahead+=n,t.lookahead+t.insert>=C)for(r=t.strstart-t.insert,t.ins_h=t.window[r],t.ins_h=(t.ins_h<<t.hash_shift^t.window[r+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[r+C-1])&t.hash_mask,t.prev[r&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=r,r++,t.insert--,!(t.lookahead+t.insert<C)););}while(t.lookahead<P&&0!==t.strm.avail_in)}function n(t,e){for(var n,i;;){if(t.lookahead<P){if(p(t),t.lookahead<P&&e===w)return j;if(0===t.lookahead)break}if(n=0,t.lookahead>=C&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+C-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==n&&t.strstart-n<=t.w_size-P&&(t.match_length=o(t,n)),t.match_length>=C)if(i=v._tr_tally(t,t.strstart-t.match_start,t.match_length-C),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=C){for(t.match_length--;t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+C-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart,0!=--t.match_length;);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else i=v._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(i&&(h(t,!1),0===t.strm.avail_out))return j}return t.insert=t.strstart<C-1?t.strstart:C-1,e===_?(h(t,!0),0===t.strm.avail_out?O:R):t.last_lit&&(h(t,!1),0===t.strm.avail_out)?j:L}function i(t,e){for(var n,i,r;;){if(t.lookahead<P){if(p(t),t.lookahead<P&&e===w)return j;if(0===t.lookahead)break}if(n=0,t.lookahead>=C&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+C-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=C-1,0!==n&&t.prev_length<t.max_lazy_match&&t.strstart-n<=t.w_size-P&&(t.match_length=o(t,n),t.match_length<=5)&&(1===t.strategy||t.match_length===C&&4096<t.strstart-t.match_start)&&(t.match_length=C-1),t.prev_length>=C&&t.match_length<=t.prev_length){for(r=t.strstart+t.lookahead-C,i=v._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-C),t.lookahead-=t.prev_length-1,t.prev_length-=2;++t.strstart<=r&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+C-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!=--t.prev_length;);if(t.match_available=0,t.match_length=C-1,t.strstart++,i&&(h(t,!1),0===t.strm.avail_out))return j}else if(t.match_available){if((i=v._tr_tally(t,0,t.window[t.strstart-1]))&&h(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return j}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(i=v._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<C-1?t.strstart:C-1,e===_?(h(t,!0),0===t.strm.avail_out?O:R):t.last_lit&&(h(t,!1),0===t.strm.avail_out)?j:L}function r(t,e,n,i,r){this.good_length=t,this.max_lazy=e,this.nice_length=n,this.max_chain=i,this.func=r}function B(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=S,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new b.Buf16(2*V),this.dyn_dtree=new b.Buf16(2*(2*q+1)),this.bl_tree=new b.Buf16(2*(2*W+1)),u(this.dyn_ltree),u(this.dyn_dtree),u(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new b.Buf16(K+1),this.heap=new b.Buf16(2*k+1),u(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new b.Buf16(2*k+1),u(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function a(t){var e;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=z,(e=t.state).pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?A:T,t.adler=2===e.wrap?0:1,e.last_flush=w,v._tr_init(e),x):l(t,M)}function m(t){var e=a(t);return e===x&&((t=t.state).window_size=2*t.w_size,u(t.head),t.max_lazy_match=I[t.level].max_lazy,t.good_match=I[t.level].good_length,t.nice_match=I[t.level].nice_length,t.max_chain_length=I[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=C-1,t.match_available=0,t.ins_h=0),e}function g(t,e,n,i,r,o){if(!t)return M;var a=1;if(e===$&&(e=6),i<0?(a=0,i=-i):15<i&&(a=2,i-=16),r<1||H<r||n!==S||i<8||15<i||e<0||9<e||o<0||U<o)return l(t,M);8===i&&(i=9);var s=new B;return(t.state=s).strm=t,s.wrap=a,s.gzhead=null,s.w_bits=i,s.w_size=1<<s.w_bits,s.w_mask=s.w_size-1,s.hash_bits=r+7,s.hash_size=1<<s.hash_bits,s.hash_mask=s.hash_size-1,s.hash_shift=~~((s.hash_bits+C-1)/C),s.window=new b.Buf8(2*s.w_size),s.head=new b.Buf16(s.hash_size),s.prev=new b.Buf16(s.w_size),s.lit_bufsize=1<<r+6,s.pending_buf_size=4*s.lit_bufsize,s.pending_buf=new b.Buf8(s.pending_buf_size),s.d_buf=+s.lit_bufsize,s.l_buf=3*s.lit_bufsize,s.level=e,s.strategy=o,s.method=n,m(t)}var b=t("../utils/common"),v=t("./trees"),N=t("./adler32"),y=t("./crc32"),F=t("./messages"),w=0,_=4,x=0,M=-2,$=-1,U=4,z=2,S=8,H=9,k=286,q=30,W=19,V=2*k+1,K=15,C=3,E=258,P=E+C+1,A=42,T=113,j=1,L=2,O=3,R=4,I=[new r(0,0,0,0,function(t,e){var n=65535;for(n>t.pending_buf_size-5&&(n=t.pending_buf_size-5);;){if(t.lookahead<=1){if(p(t),0===t.lookahead&&e===w)return j;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var i=t.block_start+n;if((0===t.strstart||t.strstart>=i)&&(t.lookahead=t.strstart-i,t.strstart=i,h(t,!1),0===t.strm.avail_out))return j;if(t.strstart-t.block_start>=t.w_size-P&&(h(t,!1),0===t.strm.avail_out))return j}return t.insert=0,e===_?(h(t,!0),0===t.strm.avail_out?O:R):(t.strstart>t.block_start&&(h(t,!1),t.strm.avail_out),j)}),new r(4,4,8,4,n),new r(4,5,16,8,n),new r(4,6,32,32,n),new r(4,4,16,16,i),new r(8,16,32,32,i),new r(8,16,128,128,i),new r(8,32,128,256,i),new r(32,128,258,1024,i),new r(32,258,258,4096,i)];e.deflateInit=function(t,e){return g(t,e,S,15,8,0)},e.deflateInit2=g,e.deflateReset=m,e.deflateResetKeep=a,e.deflateSetHeader=function(t,e){return!t||!t.state||2!==t.state.wrap?M:(t.state.gzhead=e,x)},e.deflate=function(t,e){var n,i,r,o;if(!t||!t.state||5<e||e<0)return t?l(t,M):M;if(i=t.state,!t.output||!t.input&&0!==t.avail_in||666===i.status&&e!==_)return l(t,0===t.avail_out?-5:M);if(i.strm=t,n=i.last_flush,i.last_flush=e,i.status===A&&(2===i.wrap?(t.adler=0,d(i,31),d(i,139),d(i,8),i.gzhead?(d(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),d(i,255&i.gzhead.time),d(i,i.gzhead.time>>8&255),d(i,i.gzhead.time>>16&255),d(i,i.gzhead.time>>24&255),d(i,9===i.level?2:2<=i.strategy||i.level<2?4:0),d(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(d(i,255&i.gzhead.extra.length),d(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(t.adler=y(t.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=69):(d(i,0),d(i,0),d(i,0),d(i,0),d(i,0),d(i,9===i.level?2:2<=i.strategy||i.level<2?4:0),d(i,3),i.status=T)):(a=S+(i.w_bits-8<<4)<<8,a|=(2<=i.strategy||i.level<2?0:i.level<6?1:6===i.level?2:3)<<6,0!==i.strstart&&(a|=32),a+=31-a%31,i.status=T,f(i,a),0!==i.strstart&&(f(i,t.adler>>>16),f(i,65535&t.adler)),t.adler=1)),69===i.status)if(i.gzhead.extra){for(r=i.pending;i.gzindex<(65535&i.gzhead.extra.length)&&(i.pending!==i.pending_buf_size||(i.gzhead.hcrc&&i.pending>r&&(t.adler=y(t.adler,i.pending_buf,i.pending-r,r)),c(t),r=i.pending,i.pending!==i.pending_buf_size));)d(i,255&i.gzhead.extra[i.gzindex]),i.gzindex++;i.gzhead.hcrc&&i.pending>r&&(t.adler=y(t.adler,i.pending_buf,i.pending-r,r)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=73)}else i.status=73;if(73===i.status)if(i.gzhead.name){r=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>r&&(t.adler=y(t.adler,i.pending_buf,i.pending-r,r)),c(t),r=i.pending,i.pending===i.pending_buf_size)){o=1;break}}while(o=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,d(i,o),0!==o);i.gzhead.hcrc&&i.pending>r&&(t.adler=y(t.adler,i.pending_buf,i.pending-r,r)),0===o&&(i.gzindex=0,i.status=91)}else i.status=91;if(91===i.status)if(i.gzhead.comment){r=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>r&&(t.adler=y(t.adler,i.pending_buf,i.pending-r,r)),c(t),r=i.pending,i.pending===i.pending_buf_size)){o=1;break}}while(o=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,d(i,o),0!==o);i.gzhead.hcrc&&i.pending>r&&(t.adler=y(t.adler,i.pending_buf,i.pending-r,r)),0===o&&(i.status=103)}else i.status=103;if(103===i.status&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&c(t),i.pending+2<=i.pending_buf_size&&(d(i,255&t.adler),d(i,t.adler>>8&255),t.adler=0,i.status=T)):i.status=T),0!==i.pending){if(c(t),0===t.avail_out)return i.last_flush=-1,x}else if(0===t.avail_in&&s(e)<=s(n)&&e!==_)return l(t,-5);if(666===i.status&&0!==t.avail_in)return l(t,-5);if(0!==t.avail_in||0!==i.lookahead||e!==w&&666!==i.status){var a=2===i.strategy?function(t,e){for(var n;;){if(0===t.lookahead&&(p(t),0===t.lookahead)){if(e===w)return j;break}if(t.match_length=0,n=v._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,n&&(h(t,!1),0===t.strm.avail_out))return j}return t.insert=0,e===_?(h(t,!0),0===t.strm.avail_out?O:R):t.last_lit&&(h(t,!1),0===t.strm.avail_out)?j:L}(i,e):3===i.strategy?function(t,e){for(var n,i,r,o,a=t.window;;){if(t.lookahead<=E){if(p(t),t.lookahead<=E&&e===w)return j;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=C&&0<t.strstart&&(i=a[r=t.strstart-1])===a[++r]&&i===a[++r]&&i===a[++r]){for(o=t.strstart+E;i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&r<o;);t.match_length=E-(o-r),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=C?(n=v._tr_tally(t,1,t.match_length-C),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(n=v._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),n&&(h(t,!1),0===t.strm.avail_out))return j}return t.insert=0,e===_?(h(t,!0),0===t.strm.avail_out?O:R):t.last_lit&&(h(t,!1),0===t.strm.avail_out)?j:L}(i,e):I[i.level].func(i,e);if(a!==O&&a!==R||(i.status=666),a===j||a===O)return 0===t.avail_out&&(i.last_flush=-1),x;if(a===L&&(1===e?v._tr_align(i):5!==e&&(v._tr_stored_block(i,0,0,!1),3===e)&&(u(i.head),0===i.lookahead)&&(i.strstart=0,i.block_start=0,i.insert=0),c(t),0===t.avail_out))return i.last_flush=-1,x}return e!==_||!(i.wrap<=0)&&(2===i.wrap?(d(i,255&t.adler),d(i,t.adler>>8&255),d(i,t.adler>>16&255),d(i,t.adler>>24&255),d(i,255&t.total_in),d(i,t.total_in>>8&255),d(i,t.total_in>>16&255),d(i,t.total_in>>24&255)):(f(i,t.adler>>>16),f(i,65535&t.adler)),c(t),0<i.wrap&&(i.wrap=-i.wrap),0!==i.pending)?x:1},e.deflateEnd=function(t){var e;return t&&t.state?(e=t.state.status)!==A&&69!==e&&73!==e&&91!==e&&103!==e&&e!==T&&666!==e?l(t,M):(t.state=null,e===T?l(t,-3):x):M},e.deflateSetDictionary=function(t,e){var n,i,r,o,a,s,l,c=e.length;if(!t||!t.state)return M;if(2===(o=(n=t.state).wrap)||1===o&&n.status!==A||n.lookahead)return M;for(1===o&&(t.adler=N(t.adler,e,c,0)),n.wrap=0,c>=n.w_size&&(0===o&&(u(n.head),n.strstart=0,n.block_start=0,n.insert=0),l=new b.Buf8(n.w_size),b.arraySet(l,e,c-n.w_size,n.w_size,0),e=l,c=n.w_size),l=t.avail_in,a=t.next_in,s=t.input,t.avail_in=c,t.next_in=0,t.input=e,p(n);n.lookahead>=C;){for(i=n.strstart,r=n.lookahead-(C-1);n.ins_h=(n.ins_h<<n.hash_shift^n.window[i+C-1])&n.hash_mask,n.prev[i&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=i,i++,--r;);n.strstart=i,n.lookahead=C-1,p(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=C-1,n.match_available=0,t.next_in=a,t.input=s,t.avail_in=l,n.wrap=o,x},e.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":62,"./adler32":64,"./crc32":66,"./messages":72,"./trees":73}],68:[function(t,e,n){e.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],69:[function(t,e,n){e.exports=function(t,e){var n,i,r,o,a,s,l=t.state,c=t.next_in,u=t.input,h=c+(t.avail_in-5),d=t.next_out,f=t.output,p=d-(e-t.avail_out),m=d+(t.avail_out-257),g=l.dmax,b=l.wsize,v=l.whave,y=l.wnext,w=l.window,_=l.hold,x=l.bits,M=l.lencode,S=l.distcode,k=(1<<l.lenbits)-1,C=(1<<l.distbits)-1;t:do{for(x<15&&(_+=u[c++]<<x,x+=8,_+=u[c++]<<x,x+=8),n=M[_&k];;){if(_>>>=i=n>>>24,x-=i,0===(i=n>>>16&255))f[d++]=65535&n;else{if(!(16&i)){if(0==(64&i)){n=M[(65535&n)+(_&(1<<i)-1)];continue}if(32&i){l.mode=12;break t}t.msg="invalid literal/length code",l.mode=30;break t}for(r=65535&n,(i&=15)&&(x<i&&(_+=u[c++]<<x,x+=8),r+=_&(1<<i)-1,_>>>=i,x-=i),x<15&&(_+=u[c++]<<x,x+=8,_+=u[c++]<<x,x+=8),n=S[_&C];;){if(_>>>=i=n>>>24,x-=i,!(16&(i=n>>>16&255))){if(0==(64&i)){n=S[(65535&n)+(_&(1<<i)-1)];continue}t.msg="invalid distance code",l.mode=30;break t}if(o=65535&n,x<(i&=15)&&(_+=u[c++]<<x,(x+=8)<i)&&(_+=u[c++]<<x,x+=8),g<(o+=_&(1<<i)-1)){t.msg="invalid distance too far back",l.mode=30;break t}if(_>>>=i,x-=i,(i=d-p)<o){if(v<(i=o-i)&&l.sane){t.msg="invalid distance too far back",l.mode=30;break t}if(s=w,(a=0)===y){if(a+=b-i,i<r){for(r-=i;f[d++]=w[a++],--i;);a=d-o,s=f}}else if(y<i){if(a+=b+y-i,(i-=y)<r){for(r-=i;f[d++]=w[a++],--i;);if(a=0,y<r){for(r-=i=y;f[d++]=w[a++],--i;);a=d-o,s=f}}}else if(a+=y-i,i<r){for(r-=i;f[d++]=w[a++],--i;);a=d-o,s=f}for(;2<r;)f[d++]=s[a++],f[d++]=s[a++],f[d++]=s[a++],r-=3;r&&(f[d++]=s[a++],1<r)&&(f[d++]=s[a++])}else{for(a=d-o;f[d++]=f[a++],f[d++]=f[a++],f[d++]=f[a++],2<(r-=3););r&&(f[d++]=f[a++],1<r)&&(f[d++]=f[a++])}break}}break}}while(c<h&&d<m);_&=(1<<(x-=(r=x>>3)<<3))-1,t.next_in=c-=r,t.next_out=d,t.avail_in=c<h?h-c+5:5-(c-h),t.avail_out=d<m?m-d+257:257-(d-m),l.hold=_,l.bits=x}},{}],70:[function(t,e,n){function j(t){return(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24)}function i(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new I.Buf16(320),this.work=new I.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function r(t){var e;return t&&t.state?(e=t.state,t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=q,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new I.Buf32(l),e.distcode=e.distdyn=new I.Buf32(c),e.sane=1,e.back=-1,z):H}function o(t){var e;return t&&t.state?((e=t.state).wsize=0,e.whave=0,e.wnext=0,r(t)):H}function a(t,e){var n,i;return!t||!t.state||(i=t.state,e<0?(n=0,e=-e):(n=1+(e>>4),e<48&&(e&=15)),e&&(e<8||15<e))?H:(null!==i.window&&i.wbits!==e&&(i.window=null),i.wrap=n,i.wbits=e,o(t))}function s(t,e){var n;return t?(n=new i,(t.state=n).window=null,(n=a(t,e))!==z&&(t.state=null),n):H}function L(t,e,n,i){var r,t=t.state;return null===t.window&&(t.wsize=1<<t.wbits,t.wnext=0,t.whave=0,t.window=new I.Buf8(t.wsize)),i>=t.wsize?(I.arraySet(t.window,e,n-t.wsize,t.wsize,0),t.wnext=0,t.whave=t.wsize):(i<(r=t.wsize-t.wnext)&&(r=i),I.arraySet(t.window,e,n-i,r,t.wnext),(i-=r)?(I.arraySet(t.window,e,n-i,i,0),t.wnext=i,t.whave=t.wsize):(t.wnext+=r,t.wnext===t.wsize&&(t.wnext=0),t.whave<t.wsize&&(t.whave+=r))),0}var O,R,I=t("../utils/common"),D=t("./adler32"),B=t("./crc32"),N=t("./inffast"),F=t("./inftrees"),$=1,U=2,z=0,H=-2,q=1,l=852,c=592,W=!0;n.inflateReset=o,n.inflateReset2=a,n.inflateResetKeep=r,n.inflateInit=function(t){return s(t,15)},n.inflateInit2=s,n.inflate=function(t,e){var n,i,r,o,a,s,l,c,u,h,d,f,p,m,g,b,v,y,w,_,x,M,S,k,C=0,E=new I.Buf8(4),P=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return H;12===(n=t.state).mode&&(n.mode=13),a=t.next_out,r=t.output,l=t.avail_out,o=t.next_in,i=t.input,s=t.avail_in,c=n.hold,u=n.bits,h=s,d=l,M=z;t:for(;;)switch(n.mode){case q:if(0===n.wrap)n.mode=13;else{for(;u<16;){if(0===s)break t;s--,c+=i[o++]<<u,u+=8}if(2&n.wrap&&35615===c)E[n.check=0]=255&c,E[1]=c>>>8&255,n.check=B(n.check,E,2,0),u=c=0,n.mode=2;else if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&c)<<8)+(c>>8))%31)t.msg="incorrect header check",n.mode=30;else if(8!=(15&c))t.msg="unknown compression method",n.mode=30;else{if(u-=4,x=8+(15&(c>>>=4)),0===n.wbits)n.wbits=x;else if(x>n.wbits){t.msg="invalid window size",n.mode=30;break}n.dmax=1<<x,t.adler=n.check=1,n.mode=512&c?10:12,u=c=0}}break;case 2:for(;u<16;){if(0===s)break t;s--,c+=i[o++]<<u,u+=8}if(n.flags=c,8!=(255&n.flags)){t.msg="unknown compression method",n.mode=30;break}if(57344&n.flags){t.msg="unknown header flags set",n.mode=30;break}n.head&&(n.head.text=c>>8&1),512&n.flags&&(E[0]=255&c,E[1]=c>>>8&255,n.check=B(n.check,E,2,0)),u=c=0,n.mode=3;case 3:for(;u<32;){if(0===s)break t;s--,c+=i[o++]<<u,u+=8}n.head&&(n.head.time=c),512&n.flags&&(E[0]=255&c,E[1]=c>>>8&255,E[2]=c>>>16&255,E[3]=c>>>24&255,n.check=B(n.check,E,4,0)),u=c=0,n.mode=4;case 4:for(;u<16;){if(0===s)break t;s--,c+=i[o++]<<u,u+=8}n.head&&(n.head.xflags=255&c,n.head.os=c>>8),512&n.flags&&(E[0]=255&c,E[1]=c>>>8&255,n.check=B(n.check,E,2,0)),u=c=0,n.mode=5;case 5:if(1024&n.flags){for(;u<16;){if(0===s)break t;s--,c+=i[o++]<<u,u+=8}n.length=c,n.head&&(n.head.extra_len=c),512&n.flags&&(E[0]=255&c,E[1]=c>>>8&255,n.check=B(n.check,E,2,0)),u=c=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&((f=s<(f=n.length)?s:f)&&(n.head&&(x=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),I.arraySet(n.head.extra,i,o,f,x)),512&n.flags&&(n.check=B(n.check,i,f,o)),s-=f,o+=f,n.length-=f),n.length))break t;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===s)break t;for(f=0;x=i[o+f++],n.head&&x&&n.length<65536&&(n.head.name+=String.fromCharCode(x)),x&&f<s;);if(512&n.flags&&(n.check=B(n.check,i,f,o)),s-=f,o+=f,x)break t}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===s)break t;for(f=0;x=i[o+f++],n.head&&x&&n.length<65536&&(n.head.comment+=String.fromCharCode(x)),x&&f<s;);if(512&n.flags&&(n.check=B(n.check,i,f,o)),s-=f,o+=f,x)break t}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;u<16;){if(0===s)break t;s--,c+=i[o++]<<u,u+=8}if(c!==(65535&n.check)){t.msg="header crc mismatch",n.mode=30;break}u=c=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=12;break;case 10:for(;u<32;){if(0===s)break t;s--,c+=i[o++]<<u,u+=8}t.adler=n.check=j(c),u=c=0,n.mode=11;case 11:if(0===n.havedict)return t.next_out=a,t.avail_out=l,t.next_in=o,t.avail_in=s,n.hold=c,n.bits=u,2;t.adler=n.check=1,n.mode=12;case 12:if(5===e||6===e)break t;case 13:if(n.last)c>>>=7&u,u-=7&u,n.mode=27;else{for(;u<3;){if(0===s)break t;s--,c+=i[o++]<<u,u+=8}switch(n.last=1&c,--u,3&(c>>>=1)){case 0:n.mode=14;break;case 1:A=T=void 0;var A,T=n;if(W){for(O=new I.Buf32(512),R=new I.Buf32(32),A=0;A<144;)T.lens[A++]=8;for(;A<256;)T.lens[A++]=9;for(;A<280;)T.lens[A++]=7;for(;A<288;)T.lens[A++]=8;for(F($,T.lens,0,288,O,0,T.work,{bits:9}),A=0;A<32;)T.lens[A++]=5;F(U,T.lens,0,32,R,0,T.work,{bits:5}),W=!1}if(T.lencode=O,T.lenbits=9,T.distcode=R,T.distbits=5,n.mode=20,6!==e)break;c>>>=2,u-=2;break t;case 2:n.mode=17;break;case 3:t.msg="invalid block type",n.mode=30}c>>>=2,u-=2}break;case 14:for(c>>>=7&u,u-=7&u;u<32;){if(0===s)break t;s--,c+=i[o++]<<u,u+=8}if((65535&c)!=(c>>>16^65535)){t.msg="invalid stored block lengths",n.mode=30;break}if(n.length=65535&c,u=c=0,n.mode=15,6===e)break t;case 15:n.mode=16;case 16:if(f=n.length){if(0===(f=l<(f=s<f?s:f)?l:f))break t;I.arraySet(r,i,o,f,a),s-=f,o+=f,l-=f,a+=f,n.length-=f}else n.mode=12;break;case 17:for(;u<14;){if(0===s)break t;s--,c+=i[o++]<<u,u+=8}if(n.nlen=257+(31&c),c>>>=5,u-=5,n.ndist=1+(31&c),c>>>=5,u-=5,n.ncode=4+(15&c),c>>>=4,u-=4,286<n.nlen||30<n.ndist){t.msg="too many length or distance symbols",n.mode=30;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;u<3;){if(0===s)break t;s--,c+=i[o++]<<u,u+=8}n.lens[P[n.have++]]=7&c,c>>>=3,u-=3}for(;n.have<19;)n.lens[P[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,S={bits:n.lenbits},M=F(0,n.lens,0,19,n.lencode,0,n.work,S),n.lenbits=S.bits,M){t.msg="invalid code lengths set",n.mode=30;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;b=(C=n.lencode[c&(1<<n.lenbits)-1])>>>16&255,v=65535&C,!((g=C>>>24)<=u);){if(0===s)break t;s--,c+=i[o++]<<u,u+=8}if(v<16)c>>>=g,u-=g,n.lens[n.have++]=v;else{if(16===v){for(k=g+2;u<k;){if(0===s)break t;s--,c+=i[o++]<<u,u+=8}if(c>>>=g,u-=g,0===n.have){t.msg="invalid bit length repeat",n.mode=30;break}x=n.lens[n.have-1],f=3+(3&c),c>>>=2,u-=2}else if(17===v){for(k=g+3;u<k;){if(0===s)break t;s--,c+=i[o++]<<u,u+=8}x=0,f=3+(7&(c>>>=g)),c>>>=3,u=u-g-3}else{for(k=g+7;u<k;){if(0===s)break t;s--,c+=i[o++]<<u,u+=8}x=0,f=11+(127&(c>>>=g)),c>>>=7,u=u-g-7}if(n.have+f>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=30;break}for(;f--;)n.lens[n.have++]=x}}if(30===n.mode)break;if(0===n.lens[256]){t.msg="invalid code -- missing end-of-block",n.mode=30;break}if(n.lenbits=9,S={bits:n.lenbits},M=F($,n.lens,0,n.nlen,n.lencode,0,n.work,S),n.lenbits=S.bits,M){t.msg="invalid literal/lengths set",n.mode=30;break}if(n.distbits=6,n.distcode=n.distdyn,S={bits:n.distbits},M=F(U,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,S),n.distbits=S.bits,M){t.msg="invalid distances set",n.mode=30;break}if(n.mode=20,6===e)break t;case 20:n.mode=21;case 21:if(6<=s&&258<=l){t.next_out=a,t.avail_out=l,t.next_in=o,t.avail_in=s,n.hold=c,n.bits=u,N(t,d),a=t.next_out,r=t.output,l=t.avail_out,o=t.next_in,i=t.input,s=t.avail_in,c=n.hold,u=n.bits,12===n.mode&&(n.back=-1);break}for(n.back=0;b=(C=n.lencode[c&(1<<n.lenbits)-1])>>>16&255,v=65535&C,!((g=C>>>24)<=u);){if(0===s)break t;s--,c+=i[o++]<<u,u+=8}if(b&&0==(240&b)){for(y=g,w=b,_=v;b=(C=n.lencode[_+((c&(1<<y+w)-1)>>y)])>>>16&255,v=65535&C,!(y+(g=C>>>24)<=u);){if(0===s)break t;s--,c+=i[o++]<<u,u+=8}c>>>=y,u-=y,n.back+=y}if(c>>>=g,u-=g,n.back+=g,n.length=v,0===b){n.mode=26;break}if(32&b){n.back=-1,n.mode=12;break}if(64&b){t.msg="invalid literal/length code",n.mode=30;break}n.extra=15&b,n.mode=22;case 22:if(n.extra){for(k=n.extra;u<k;){if(0===s)break t;s--,c+=i[o++]<<u,u+=8}n.length+=c&(1<<n.extra)-1,c>>>=n.extra,u-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;b=(C=n.distcode[c&(1<<n.distbits)-1])>>>16&255,v=65535&C,!((g=C>>>24)<=u);){if(0===s)break t;s--,c+=i[o++]<<u,u+=8}if(0==(240&b)){for(y=g,w=b,_=v;b=(C=n.distcode[_+((c&(1<<y+w)-1)>>y)])>>>16&255,v=65535&C,!(y+(g=C>>>24)<=u);){if(0===s)break t;s--,c+=i[o++]<<u,u+=8}c>>>=y,u-=y,n.back+=y}if(c>>>=g,u-=g,n.back+=g,64&b){t.msg="invalid distance code",n.mode=30;break}n.offset=v,n.extra=15&b,n.mode=24;case 24:if(n.extra){for(k=n.extra;u<k;){if(0===s)break t;s--,c+=i[o++]<<u,u+=8}n.offset+=c&(1<<n.extra)-1,c>>>=n.extra,u-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=30;break}n.mode=25;case 25:if(0===l)break t;if(n.offset>(f=d-l)){if((f=n.offset-f)>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=30;break}p=f>n.wnext?(f-=n.wnext,n.wsize-f):n.wnext-f,f>n.length&&(f=n.length),m=n.window}else m=r,p=a-n.offset,f=n.length;for(l-=f=l<f?l:f,n.length-=f;r[a++]=m[p++],--f;);0===n.length&&(n.mode=21);break;case 26:if(0===l)break t;r[a++]=n.length,l--,n.mode=21;break;case 27:if(n.wrap){for(;u<32;){if(0===s)break t;s--,c|=i[o++]<<u,u+=8}if(d-=l,t.total_out+=d,n.total+=d,d&&(t.adler=n.check=(n.flags?B:D)(n.check,r,d,a-d)),d=l,(n.flags?c:j(c))!==n.check){t.msg="incorrect data check",n.mode=30;break}u=c=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;u<32;){if(0===s)break t;s--,c+=i[o++]<<u,u+=8}if(c!==(4294967295&n.total)){t.msg="incorrect length check",n.mode=30;break}u=c=0}n.mode=29;case 29:M=1;break t;case 30:M=-3;break t;case 31:return-4;default:return H}return t.next_out=a,t.avail_out=l,t.next_in=o,t.avail_in=s,n.hold=c,n.bits=u,(n.wsize||d!==t.avail_out&&n.mode<30&&(n.mode<27||4!==e))&&L(t,t.output,t.next_out,d-t.avail_out)?(n.mode=31,-4):(h-=t.avail_in,d-=t.avail_out,t.total_in+=h,t.total_out+=d,n.total+=d,n.wrap&&d&&(t.adler=n.check=(n.flags?B:D)(n.check,r,d,t.next_out-d)),t.data_type=n.bits+(n.last?64:0)+(12===n.mode?128:0)+(20===n.mode||15===n.mode?256:0),M=(0==h&&0===d||4===e)&&M===z?-5:M)},n.inflateEnd=function(t){var e;return t&&t.state?((e=t.state).window&&(e.window=null),t.state=null,z):H},n.inflateGetHeader=function(t,e){return!t||!t.state||0==(2&(t=t.state).wrap)?H:((t.head=e).done=!1,z)},n.inflateSetDictionary=function(t,e){var n,i=e.length;return!t||!t.state||0!==(n=t.state).wrap&&11!==n.mode?H:11===n.mode&&D(1,e,i,0)!==n.check?-3:L(t,e,i,i)?(n.mode=31,-4):(n.havedict=1,z)},n.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":62,"./adler32":64,"./crc32":66,"./inffast":69,"./inftrees":71}],71:[function(t,e,n){var R=t("../utils/common"),I=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],D=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],B=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],N=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(t,e,n,i,r,o,a,s){for(var l,c,u,h,d,f,p,m,g,b=s.bits,v=0,y=0,w=0,_=0,x=0,M=0,S=0,k=0,C=0,E=0,P=null,A=0,T=new R.Buf16(16),j=new R.Buf16(16),L=null,O=0,v=0;v<=15;v++)T[v]=0;for(y=0;y<i;y++)T[e[n+y]]++;for(x=b,_=15;1<=_&&0===T[_];_--);if(_<x&&(x=_),0===_)r[o++]=20971520,r[o++]=20971520,s.bits=1;else{for(w=1;w<_&&0===T[w];w++);for(x<w&&(x=w),v=k=1;v<=15;v++)if((k=(k<<=1)-T[v])<0)return-1;if(0<k&&(0===t||1!==_))return-1;for(j[1]=0,v=1;v<15;v++)j[v+1]=j[v]+T[v];for(y=0;y<i;y++)0!==e[n+y]&&(a[j[e[n+y]]++]=y);if(f=0===t?(P=L=a,19):1===t?(P=I,A-=257,L=D,O-=257,256):(P=B,L=N,-1),v=w,d=o,S=y=E=0,u=-1,h=(C=1<<(M=x))-1,1===t&&852<C||2===t&&592<C)return 1;for(;;){for(g=a[y]<f?(m=0,a[y]):a[y]>f?(m=L[O+a[y]],P[A+a[y]]):(m=96,0),l=1<<(p=v-S),w=c=1<<M;r[d+(E>>S)+(c-=l)]=p<<24|m<<16|g|0,0!==c;);for(l=1<<v-1;E&l;)l>>=1;if(0!==l?E=(E&l-1)+l:E=0,y++,0==--T[v]){if(v===_)break;v=e[n+a[y]]}if(x<v&&(E&h)!==u){for(d+=w,k=1<<(M=v-(S=0===S?x:S));M+S<_&&!((k-=T[M+S])<=0);)M++,k<<=1;if(C+=1<<M,1===t&&852<C||2===t&&592<C)return 1;r[u=E&h]=x<<24|M<<16|d-o|0}}0!==E&&(r[d+E]=v-S<<24|64<<16|0),s.bits=x}return 0}},{"../utils/common":62}],72:[function(t,e,n){e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],73:[function(n,a,t){function e(t){for(var e=t.length;0<=--e;)t[e]=0}function s(t,e,n,i,r){this.static_tree=t,this.extra_bits=e,this.extra_base=n,this.elems=i,this.max_length=r,this.has_stree=t&&t.length}function l(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}function c(t){return t<256?R[t]:R[256+(t>>>7)]}function r(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255}function u(t,e,n){t.bi_valid>i-n?(t.bi_buf|=e<<t.bi_valid&65535,r(t,t.bi_buf),t.bi_buf=e>>i-t.bi_valid,t.bi_valid+=n-i):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=n)}function h(t,e,n){u(t,n[2*e],n[2*e+1])}function d(t,e){for(var n=0;n|=1&t,t>>>=1,n<<=1,0<--e;);return n>>>1}function k(t,e,n){for(var i,r=new Array(P+1),o=0,a=1;a<=P;a++)r[a]=o=o+n[a-1]<<1;for(i=0;i<=e;i++){var s=t[2*i+1];0!==s&&(t[2*i]=d(r[s]++,s))}}function f(t){for(var e=0;e<M;e++)t.dyn_ltree[2*e]=0;for(e=0;e<S;e++)t.dyn_dtree[2*e]=0;for(e=0;e<E;e++)t.bl_tree[2*e]=0;t.dyn_ltree[2*A]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function p(t){8<t.bi_valid?r(t,t.bi_buf):0<t.bi_valid&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function o(t,e,n,i){var r=2*e,o=2*n;return t[r]<t[o]||t[r]===t[o]&&i[e]<=i[n]}function C(t,e,n){for(var i=t.heap[n],r=n<<1;r<=t.heap_len&&(r<t.heap_len&&o(e,t.heap[r+1],t.heap[r],t.depth)&&r++,!o(e,i,t.heap[r],t.depth));)t.heap[n]=t.heap[r],n=r,r<<=1;t.heap[n]=i}function m(t,e,n){var i,r,o,a,s=0;if(0!==t.last_lit)for(;i=t.pending_buf[t.d_buf+2*s]<<8|t.pending_buf[t.d_buf+2*s+1],r=t.pending_buf[t.l_buf+s],s++,0==i?h(t,r,e):(h(t,(o=I[r])+x+1,e),0!==(a=T[o])&&u(t,r-=D[o],a),h(t,o=c(--i),n),0!==(a=j[o])&&u(t,i-=B[o],a)),s<t.last_lit;);h(t,A,e)}function g(t,e){var n,i,r,o=e.dyn_tree,a=e.stat_desc.static_tree,s=e.stat_desc.has_stree,l=e.stat_desc.elems,c=-1;for(t.heap_len=0,t.heap_max=$,n=0;n<l;n++)0!==o[2*n]?(t.heap[++t.heap_len]=c=n,t.depth[n]=0):o[2*n+1]=0;for(;t.heap_len<2;)o[2*(r=t.heap[++t.heap_len]=c<2?++c:0)]=1,t.depth[r]=0,t.opt_len--,s&&(t.static_len-=a[2*r+1]);for(e.max_code=c,n=t.heap_len>>1;1<=n;n--)C(t,o,n);for(r=l;n=t.heap[1],t.heap[1]=t.heap[t.heap_len--],C(t,o,1),i=t.heap[1],t.heap[--t.heap_max]=n,t.heap[--t.heap_max]=i,o[2*r]=o[2*n]+o[2*i],t.depth[r]=(t.depth[n]>=t.depth[i]?t.depth[n]:t.depth[i])+1,o[2*n+1]=o[2*i+1]=r,t.heap[1]=r++,C(t,o,1),2<=t.heap_len;);t.heap[--t.heap_max]=t.heap[1];for(var u,h,d,f,p,m=t,g=e.dyn_tree,b=e.max_code,v=e.stat_desc.static_tree,y=e.stat_desc.has_stree,w=e.stat_desc.extra_bits,_=e.stat_desc.extra_base,x=e.stat_desc.max_length,M=0,S=0;S<=P;S++)m.bl_count[S]=0;for(g[2*m.heap[m.heap_max]+1]=0,u=m.heap_max+1;u<$;u++)x<(S=g[2*g[2*(h=m.heap[u])+1]+1]+1)&&(S=x,M++),g[2*h+1]=S,b<h||(m.bl_count[S]++,f=0,_<=h&&(f=w[h-_]),p=g[2*h],m.opt_len+=p*(S+f),y&&(m.static_len+=p*(v[2*h+1]+f)));if(0!==M){do{for(S=x-1;0===m.bl_count[S];)S--}while(m.bl_count[S]--,m.bl_count[S+1]+=2,m.bl_count[x]--,0<(M-=2));for(S=x;0!==S;S--)for(h=m.bl_count[S];0!==h;)b<(d=m.heap[--u])||(g[2*d+1]!==S&&(m.opt_len+=(S-g[2*d+1])*g[2*d],g[2*d+1]=S),h--)}k(o,c,t.bl_count)}function b(t,e,n){var i,r,o=-1,a=e[1],s=0,l=7,c=4;for(0===a&&(l=138,c=3),e[2*(n+1)+1]=65535,i=0;i<=n;i++)r=a,a=e[2*(i+1)+1],++s<l&&r===a||(s<c?t.bl_tree[2*r]+=s:0!==r?(r!==o&&t.bl_tree[2*r]++,t.bl_tree[2*z]++):s<=10?t.bl_tree[2*H]++:t.bl_tree[2*q]++,o=r,c=(s=0)===a?(l=138,3):r===a?(l=6,3):(l=7,4))}function v(t,e,n){var i,r,o=-1,a=e[1],s=0,l=7,c=4;for(0===a&&(l=138,c=3),i=0;i<=n;i++)if(r=a,a=e[2*(i+1)+1],!(++s<l&&r===a)){if(s<c)for(;h(t,r,t.bl_tree),0!=--s;);else 0!==r?(r!==o&&(h(t,r,t.bl_tree),s--),h(t,z,t.bl_tree),u(t,s-3,2)):s<=10?(h(t,H,t.bl_tree),u(t,s-3,3)):(h(t,q,t.bl_tree),u(t,s-11,7));o=r,c=(s=0)===a?(l=138,3):r===a?(l=6,3):(l=7,4)}}function y(t,e,n,i){u(t,0+(i?1:0),3),i=e,e=n,n=!0,p(t=t),n&&(r(t,e),r(t,~e)),N.arraySet(t.pending_buf,t.window,i,e,t.pending),t.pending+=e}var N=n("../utils/common"),w=0,F=1,_=29,x=256,M=x+1+_,S=30,E=19,$=2*M+1,P=15,i=16,U=7,A=256,z=16,H=17,q=18,T=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],j=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],W=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],V=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],L=new Array(2*(M+2)),O=(e(L),new Array(2*S)),R=(e(O),new Array(512)),I=(e(R),new Array(256)),D=(e(I),new Array(_)),B=(e(D),new Array(S));e(B);var K,Z,G,J=!1;t._tr_init=function(t){if(!J){for(var e,n,i,r=new Array(P+1),o=0,a=0;a<_-1;a++)for(D[a]=o,e=0;e<1<<T[a];e++)I[o++]=a;for(I[o-1]=a,a=i=0;a<16;a++)for(B[a]=i,e=0;e<1<<j[a];e++)R[i++]=a;for(i>>=7;a<S;a++)for(B[a]=i<<7,e=0;e<1<<j[a]-7;e++)R[256+i++]=a;for(n=0;n<=P;n++)r[n]=0;for(e=0;e<=143;)L[2*e+1]=8,e++,r[8]++;for(;e<=255;)L[2*e+1]=9,e++,r[9]++;for(;e<=279;)L[2*e+1]=7,e++,r[7]++;for(;e<=287;)L[2*e+1]=8,e++,r[8]++;for(k(L,M+1,r),e=0;e<S;e++)O[2*e+1]=5,O[2*e]=d(e,5);K=new s(L,T,x+1,M,P),Z=new s(O,j,0,S,P),G=new s(new Array(0),W,0,E,U),J=!0}t.l_desc=new l(t.dyn_ltree,K),t.d_desc=new l(t.dyn_dtree,Z),t.bl_desc=new l(t.bl_tree,G),t.bi_buf=0,t.bi_valid=0,f(t)},t._tr_stored_block=y,t._tr_flush_block=function(t,e,n,i){var r,o,a,s=0;if(0<t.level?(2===t.strm.data_type&&(t.strm.data_type=function(t){for(var e=4093624447,n=0;n<=31;n++,e>>>=1)if(1&e&&0!==t.dyn_ltree[2*n])return w;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return F;for(n=32;n<x;n++)if(0!==t.dyn_ltree[2*n])return F;return w}(t)),g(t,t.l_desc),g(t,t.d_desc),s=function(t){var e;for(b(t,t.dyn_ltree,t.l_desc.max_code),b(t,t.dyn_dtree,t.d_desc.max_code),g(t,t.bl_desc),e=E-1;3<=e&&0===t.bl_tree[2*V[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}(t),r=t.opt_len+3+7>>>3,(o=t.static_len+3+7>>>3)<=r&&(r=o)):r=o=n+5,n+4<=r&&-1!==e)y(t,e,n,i);else if(4===t.strategy||o===r)u(t,2+(i?1:0),3),m(t,L,O);else{u(t,4+(i?1:0),3);var l=t,c=(e=t.l_desc.max_code+1,n=t.d_desc.max_code+1,s+1);for(u(l,e-257,5),u(l,n-1,5),u(l,c-4,4),a=0;a<c;a++)u(l,l.bl_tree[2*V[a]+1],3);v(l,l.dyn_ltree,e-1),v(l,l.dyn_dtree,n-1),m(t,t.dyn_ltree,t.dyn_dtree)}f(t),i&&p(t)},t._tr_tally=function(t,e,n){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&n,t.last_lit++,0===e?t.dyn_ltree[2*n]++:(t.matches++,e--,t.dyn_ltree[2*(I[n]+x+1)]++,t.dyn_dtree[2*c(e)]++),t.last_lit===t.lit_bufsize-1},t._tr_align=function(t){u(t,2,3),h(t,A,L),16===(t=t).bi_valid?(r(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):8<=t.bi_valid&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}},{"../utils/common":62}],74:[function(t,e,n){e.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}]},{},[10])(10)},"object"==m(i)&&void 0!==e?e.exports=t():void 0!==(t="function"==typeof(t=t)?t.apply(i,[]):t)&&(e.exports=t)}.call(this,t(48).Buffer,t(26))},function(t,e,n){"use strict";var i,r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};i=function(){return function i(r,o,a){function s(n,t){if(!o[n]){if(!r[n]){if(l)return l(n,!0);throw new Error("Cannot find module '"+n+"'")}var e=o[n]={exports:{}};r[n][0].call(e.exports,function(t){var e=r[n][1][t];return s(e||t)},e,e.exports,i,r,o,a)}return o[n].exports}for(var l=!1,t=0;t<a.length;t++)s(a[t]);return s}({1:[function(t,e){function n(){try{return new window.XMLHttpRequest}catch(t){}}var o={_getBinaryFromXHR:function(t){return t.response||t.responseText}},a=window.ActiveXObject?function(){return n()||function(){try{return new window.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}()}:n;o.getBinaryContent=function(n,i){try{var r=a();r.open("GET",n,!0),"responseType"in r&&(r.responseType="arraybuffer"),r.overrideMimeType&&r.overrideMimeType("text/plain; charset=x-user-defined"),r.onreadystatechange=function(){var t,e;if(4===r.readyState)if(200===r.status||0===r.status){e=t=null;try{t=o._getBinaryFromXHR(r)}catch(t){e=new Error(t)}i(e,t)}else i(new Error("Ajax error for "+n+" : "+this.status+" "+this.statusText),null)},r.send()}catch(t){i(new Error(t),null)}},e.exports=o},{}]},{},[1])(1)},"object"==r(e)?t.exports=i():void 0!==(i="function"==typeof(r=i)?r.call(e,n,e,t):r)&&(t.exports=i)},function(n,i,t){"use strict";!function(t){var e,d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};void 0!==(e="function"==typeof(e=function(){"use strict";function r(t,e){return"undefined"==typeof e?e={autoBom:!1}:"object"!=(typeof e==="undefined"?"undefined":d(e))&&(console.warn("Depricated: Expected third argument to be a object"),e={autoBom:!e}),e.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob(["\ufeff",t],{type:t.type}):t}function u(t,e,n){var i=new XMLHttpRequest;i.open("GET",t),i.responseType="blob",i.onload=function(){s(i.response,e,n)},i.onerror=function(){console.error("could not download file")},i.send()}function o(t){var e=new XMLHttpRequest;return e.open("HEAD",t,!1),e.send(),200<=e.status&&299>=e.status}function a(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(t){var n=document.createEvent("MouseEvents");n.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(n)}}var h="object"==(typeof window==="undefined"?"undefined":d(window))&&window.window===window?window:"object"==(typeof self==="undefined"?"undefined":d(self))&&self.self===self?self:"object"==(typeof t==="undefined"?"undefined":d(t))&&t.global===t?t:void 0,s=h.saveAs||("object"!=(typeof window==="undefined"?"undefined":d(window))||window!==h?function(){}:"download"in HTMLAnchorElement.prototype?function(t,e,n){var i=h.URL||h.webkitURL,r=document.createElement("a");e=e||t.name||"download",r.download=e,r.rel="noopener","string"==typeof t?(r.href=t,r.origin===location.origin?a(r):o(r.href)?u(t,e,n):a(r,r.target="_blank")):(r.href=i.createObjectURL(t),setTimeout(function(){i.revokeObjectURL(r.href)},4e4),setTimeout(function(){a(r)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,n){if(e=e||t.name||"download","string"!=typeof t)navigator.msSaveOrOpenBlob(r(t,n),e);else if(o(t))u(t,e,n);else{var i=document.createElement("a");i.href=t,i.target="_blank",setTimeout(function(){a(i)})}}:function(t,e,n,i){if(i=i||open("","_blank"),i&&(i.document.title=i.document.body.innerText="downloading..."),"string"==typeof t)return u(t,e,n);var r="application/octet-stream"===t.type,o=/constructor/i.test(h.HTMLElement)||h.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||r&&o)&&"object"==(typeof FileReader==="undefined"?"undefined":d(FileReader))){var s=new FileReader;s.onloadend=function(){var t=s.result;t=a?t:t.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=t:location=t,i=null},s.readAsDataURL(t)}else{var l=h.URL||h.webkitURL,c=l.createObjectURL(t);i?i.location=c:location.href=c,i=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});h.saveAs=s.saveAs=s,true&&(n.exports=s)})?e.apply(i,[]):e)&&(n.exports=e)}.call(this,t(26))},function(t,e,n){"use strict";var i,H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};n=[n(150)],void 0!==(e="function"==typeof(i=function(x){x.ui=x.ui||{},x.ui.version="1.12.1";var i=0,s=Array.prototype.slice;function M(t,e,n){return[parseFloat(t[0])*(u.test(t[0])?e/100:1),parseFloat(t[1])*(u.test(t[1])?n/100:1)]}function S(t,e){return parseInt(x.css(t,e),10)||0}function e(t){var e=t[0];return 9===e.nodeType?{width:t.width(),height:t.height(),offset:{top:0,left:0}}:x.isWindow(e)?{width:t.width(),height:t.height(),offset:{top:t.scrollTop(),left:t.scrollLeft()}}:e.preventDefault?{width:0,height:0,offset:{top:e.pageY,left:e.pageX}}:{width:t.outerWidth(),height:t.outerHeight(),offset:t.offset()}}x.cleanData=function(r){return function(t){var e,n,i;for(i=0;null!=(n=t[i]);i++)try{e=x._data(n,"events"),e&&e.remove&&x(n).triggerHandler("remove")}catch(t){}r(t)}}(x.cleanData),x.widget=function(t,n,e){var i,r,o,a={},s=t.split(".")[0];t=t.split(".")[1];var l=s+"-"+t;return e||(e=n,n=x.Widget),x.isArray(e)&&(e=x.extend.apply(null,[{}].concat(e))),x.expr[":"][l.toLowerCase()]=function(t){return!!x.data(t,l)},x[s]=x[s]||{},i=x[s][t],r=x[s][t]=function(t,e){return this._createWidget?(arguments.length&&this._createWidget(t,e),void 0):new r(t,e)},x.extend(r,i,{version:e.version,_proto:x.extend({},e),_childConstructors:[]}),o=new n,o.options=x.widget.extend({},o.options),x.each(e,function(e,o){return x.isFunction(o)?(a[e]=function(){function i(){return n.prototype[e].apply(this,arguments)}function r(t){return n.prototype[e].apply(this,t)}return function(){var t,e=this._super,n=this._superApply;return this._super=i,this._superApply=r,t=o.apply(this,arguments),this._super=e,this._superApply=n,t}}(),void 0):(a[e]=o,void 0)}),r.prototype=x.widget.extend(o,{widgetEventPrefix:i?o.widgetEventPrefix||t:t},a,{constructor:r,namespace:s,widgetName:t,widgetFullName:l}),i?(x.each(i._childConstructors,function(t,e){var n=e.prototype;x.widget(n.namespace+"."+n.widgetName,r,e._proto)}),delete i._childConstructors):n._childConstructors.push(r),x.widget.bridge(t,r),r},x.widget.extend=function(t){for(var e,n,i=s.call(arguments,1),r=0,o=i.length;o>r;r++)for(e in i[r])n=i[r][e],i[r].hasOwnProperty(e)&&void 0!==n&&(t[e]=x.isPlainObject(n)?x.isPlainObject(t[e])?x.widget.extend({},t[e],n):x.widget.extend({},n):n);return t},x.widget.bridge=function(o,e){var a=e.prototype.widgetFullName||o;x.fn[o]=function(n){var t="string"==typeof n,i=s.call(arguments,1),r=this;return t?this.length||"instance"!==n?this.each(function(){var t,e=x.data(this,a);return"instance"===n?(r=e,!1):e?x.isFunction(e[n])&&"_"!==n.charAt(0)?(t=e[n].apply(e,i),t!==e&&void 0!==t?(r=t&&t.jquery?r.pushStack(t.get()):t,!1):void 0):x.error("no such method '"+n+"' for "+o+" widget instance"):x.error("cannot call methods on "+o+" prior to initialization; "+"attempted to call method '"+n+"'")}):r=void 0:(i.length&&(n=x.widget.extend.apply(null,[n].concat(i))),this.each(function(){var t=x.data(this,a);t?(t.option(n||{}),t._init&&t._init()):x.data(this,a,new e(n,this))})),r}},x.Widget=function(){},x.Widget._childConstructors=[],x.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function t(e,n){n=x(n||this.defaultElement||this)[0],this.element=x(n),this.uuid=i++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=x(),this.hoverable=x(),this.focusable=x(),this.classesElementLookup={},n!==this&&(x.data(n,this.widgetFullName,this),this._on(!0,this.element,{remove:function t(e){e.target===n&&this.destroy()}}),this.document=x(n.style?n.ownerDocument:n.document||n),this.window=x(this.document[0].defaultView||this.document[0].parentWindow)),this.options=x.widget.extend({},this.options,this._getCreateOptions(),e),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function t(){return{}},_getCreateEventData:x.noop,_create:x.noop,_init:x.noop,destroy:function t(){var n=this;this._destroy(),x.each(this.classesElementLookup,function(t,e){n._removeClass(e,t)}),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:x.noop,widget:function t(){return this.element},option:function t(e,n){var i,r,o,a=e;if(0===arguments.length)return x.widget.extend({},this.options);if("string"==typeof e)if(a={},i=e.split("."),e=i.shift(),i.length){for(r=a[e]=x.widget.extend({},this.options[e]),o=0;i.length-1>o;o++)r[i[o]]=r[i[o]]||{},r=r[i[o]];if(e=i.pop(),1===arguments.length)return void 0===r[e]?null:r[e];r[e]=n}else{if(1===arguments.length)return void 0===this.options[e]?null:this.options[e];a[e]=n}return this._setOptions(a),this},_setOptions:function t(e){var n;for(n in e)this._setOption(n,e[n]);return this},_setOption:function t(e,n){return"classes"===e&&this._setOptionClasses(n),this.options[e]=n,"disabled"===e&&this._setOptionDisabled(n),this},_setOptionClasses:function t(e){var n,i,r;for(n in e)r=this.classesElementLookup[n],e[n]!==this.options.classes[n]&&r&&r.length&&(i=x(r.get()),this._removeClass(r,n),i.addClass(this._classes({element:i,keys:n,classes:e,add:!0})))},_setOptionDisabled:function t(e){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!e),e&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function t(){return this._setOptions({disabled:!1})},disable:function t(){return this._setOptions({disabled:!0})},_classes:function t(r){function e(t,e){var n,i;for(i=0;t.length>i;i++)n=a.classesElementLookup[t[i]]||x(),n=r.add?x(x.unique(n.get().concat(r.element.get()))):x(n.not(r.element).get()),a.classesElementLookup[t[i]]=n,o.push(t[i]),e&&r.classes[t[i]]&&o.push(r.classes[t[i]])}var o=[],a=this;return r=x.extend({element:this.element,classes:this.options.classes||{}},r),this._on(r.element,{remove:"_untrackClassesElement"}),r.keys&&e(r.keys.match(/\S+/g)||[],!0),r.extra&&e(r.extra.match(/\S+/g)||[]),o.join(" ")},_untrackClassesElement:function t(n){var i=this;x.each(i.classesElementLookup,function(t,e){-1!==x.inArray(n.target,e)&&(i.classesElementLookup[t]=x(e.not(n.target).get()))})},_removeClass:function t(e,n,i){return this._toggleClass(e,n,i,!1)},_addClass:function t(e,n,i){return this._toggleClass(e,n,i,!0)},_toggleClass:function t(e,n,i,r){r="boolean"==typeof r?r:i;var o="string"==typeof e||null===e,a={extra:o?n:i,keys:o?e:n,element:o?this.element:e,add:r};return a.element.toggleClass(this._classes(a),r),this},_on:function t(a,s,e){var l,c=this;"boolean"!=typeof a&&(e=s,s=a,a=!1),e?(s=l=x(s),this.bindings=this.bindings.add(s)):(e=s,s=this.element,l=this.widget()),x.each(e,function(t,e){function n(){return a||c.options.disabled!==!0&&!x(this).hasClass("ui-state-disabled")?("string"==typeof e?c[e]:e).apply(c,arguments):void 0}"string"!=typeof e&&(n.guid=e.guid=e.guid||n.guid||x.guid++);var i=t.match(/^([\w:-]*)\s*(.*)$/),r=i[1]+c.eventNamespace,o=i[2];o?l.on(r,o,n):s.on(r,n)})},_off:function t(e,n){n=(n||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.off(n).off(n),this.bindings=x(this.bindings.not(e).get()),this.focusable=x(this.focusable.not(e).get()),this.hoverable=x(this.hoverable.not(e).get())},_delay:function t(e,n){function i(){return("string"==typeof e?r[e]:e).apply(r,arguments)}var r=this;return setTimeout(i,n||0)},_hoverable:function t(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function t(e){this._addClass(x(e.currentTarget),null,"ui-state-hover")},mouseleave:function t(e){this._removeClass(x(e.currentTarget),null,"ui-state-hover")}})},_focusable:function t(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function t(e){this._addClass(x(e.currentTarget),null,"ui-state-focus")},focusout:function t(e){this._removeClass(x(e.currentTarget),null,"ui-state-focus")}})},_trigger:function t(e,n,i){var r,o,a=this.options[e];if(i=i||{},n=x.Event(n),n.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),n.target=this.element[0],o=n.originalEvent)for(r in o)r in n||(n[r]=o[r]);return this.element.trigger(n,i),!(x.isFunction(a)&&a.apply(this.element[0],[n].concat(i))===!1||n.isDefaultPrevented())}},x.each({show:"fadeIn",hide:"fadeOut"},function(o,a){x.Widget.prototype["_"+o]=function(e,t,n){"string"==typeof t&&(t={effect:t});var i,r=t?t===!0||"number"==typeof t?a:t.effect||a:o;t=t||{},"number"==typeof t&&(t={duration:t}),i=!x.isEmptyObject(t),t.complete=n,t.delay&&e.delay(t.delay),i&&x.effects&&x.effects.effect[r]?e[o](t):r!==o&&e[r]?e[r](t.duration,t.easing,n):e.queue(function(t){x(this)[o](),n&&n.call(e[0]),t()})}}),x.widget;var o,k=Math.max,C=Math.abs,r=/left|center|right/,a=/top|center|bottom/,l=/[\+\-]\d+(\.[\d]+)?%?/,c=/^\w+/,u=/%$/,D=x.fn.position,h=(x.position={scrollbarWidth:function t(){if(void 0!==o)return o;var e,n,i=x("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),r=i.children()[0];return x("body").append(i),e=r.offsetWidth,i.css("overflow","scroll"),n=r.offsetWidth,e===n&&(n=i[0].clientWidth),i.remove(),o=e-n},getScrollInfo:function t(e){var n=e.isWindow||e.isDocument?"":e.element.css("overflow-x"),i=e.isWindow||e.isDocument?"":e.element.css("overflow-y"),r="scroll"===n||"auto"===n&&e.width<e.element[0].scrollWidth,o="scroll"===i||"auto"===i&&e.height<e.element[0].scrollHeight;return{width:o?x.position.scrollbarWidth():0,height:r?x.position.scrollbarWidth():0}},getWithinInfo:function t(e){var n=x(e||window),i=x.isWindow(n[0]),r=!!n[0]&&9===n[0].nodeType,o=!i&&!r;return{element:n,isWindow:i,isDocument:r,offset:o?x(e).offset():{left:0,top:0},scrollLeft:n.scrollLeft(),scrollTop:n.scrollTop(),width:n.outerWidth(),height:n.outerHeight()}}},x.fn.position=function(h){if(!h||!h.of)return D.apply(this,arguments);h=x.extend({},h);var d,f,p,m,g,t,b=x(h.of),v=x.position.getWithinInfo(h.within),y=x.position.getScrollInfo(v),w=(h.collision||"flip").split(" "),_={};return t=e(b),b[0].preventDefault&&(h.at="left top"),f=t.width,p=t.height,m=t.offset,g=x.extend({},m),x.each(["my","at"],function(){var t,e,n=(h[this]||"").split(" ");1===n.length&&(n=r.test(n[0])?n.concat(["center"]):a.test(n[0])?["center"].concat(n):["center","center"]),n[0]=r.test(n[0])?n[0]:"center",n[1]=a.test(n[1])?n[1]:"center",t=l.exec(n[0]),e=l.exec(n[1]),_[this]=[t?t[0]:0,e?e[0]:0],h[this]=[c.exec(n[0])[0],c.exec(n[1])[0]]}),1===w.length&&(w[1]=w[0]),"right"===h.at[0]?g.left+=f:"center"===h.at[0]&&(g.left+=f/2),"bottom"===h.at[1]?g.top+=p:"center"===h.at[1]&&(g.top+=p/2),d=M(_.at,f,p),g.left+=d[0],g.top+=d[1],this.each(function(){var n,t,a=x(this),s=a.outerWidth(),l=a.outerHeight(),e=S(this,"marginLeft"),i=S(this,"marginTop"),r=s+e+S(this,"marginRight")+y.width,o=l+i+S(this,"marginBottom")+y.height,c=x.extend({},g),u=M(_.my,a.outerWidth(),a.outerHeight());"right"===h.my[0]?c.left-=s:"center"===h.my[0]&&(c.left-=s/2),"bottom"===h.my[1]?c.top-=l:"center"===h.my[1]&&(c.top-=l/2),c.left+=u[0],c.top+=u[1],n={marginLeft:e,marginTop:i},x.each(["left","top"],function(t,e){x.ui.position[w[t]]&&x.ui.position[w[t]][e](c,{targetWidth:f,targetHeight:p,elemWidth:s,elemHeight:l,collisionPosition:n,collisionWidth:r,collisionHeight:o,offset:[d[0]+u[0],d[1]+u[1]],my:h.my,at:h.at,within:v,elem:a})}),h.using&&(t=function t(e){var n=m.left-c.left,i=n+f-s,r=m.top-c.top,t=r+p-l,o={target:{element:b,left:m.left,top:m.top,width:f,height:p},element:{element:a,left:c.left,top:c.top,width:s,height:l},horizontal:0>i?"left":n>0?"right":"center",vertical:0>t?"top":r>0?"bottom":"middle"};s>f&&f>C(n+i)&&(o.horizontal="center"),l>p&&p>C(r+t)&&(o.vertical="middle"),o.important=k(C(n),C(i))>k(C(r),C(t))?"horizontal":"vertical",h.using.call(this,e,o)}),a.offset(x.extend(c,{using:t}))})},x.ui.position={fit:{left:function t(e,n){var i,r=n.within,o=r.isWindow?r.scrollLeft:r.offset.left,a=r.width,s=e.left-n.collisionPosition.marginLeft,l=o-s,c=s+n.collisionWidth-a-o;n.collisionWidth>a?l>0&&0>=c?(i=e.left+l+n.collisionWidth-a-o,e.left+=l-i):e.left=c>0&&0>=l?o:l>c?o+a-n.collisionWidth:o:l>0?e.left+=l:c>0?e.left-=c:e.left=k(e.left-s,e.left)},top:function t(e,n){var i,r=n.within,o=r.isWindow?r.scrollTop:r.offset.top,a=n.within.height,s=e.top-n.collisionPosition.marginTop,l=o-s,c=s+n.collisionHeight-a-o;n.collisionHeight>a?l>0&&0>=c?(i=e.top+l+n.collisionHeight-a-o,e.top+=l-i):e.top=c>0&&0>=l?o:l>c?o+a-n.collisionHeight:o:l>0?e.top+=l:c>0?e.top-=c:e.top=k(e.top-s,e.top)}},flip:{left:function t(e,n){var i,r,o=n.within,a=o.offset.left+o.scrollLeft,s=o.width,l=o.isWindow?o.scrollLeft:o.offset.left,c=e.left-n.collisionPosition.marginLeft,u=c-l,h=c+n.collisionWidth-s-l,d="left"===n.my[0]?-n.elemWidth:"right"===n.my[0]?n.elemWidth:0,f="left"===n.at[0]?n.targetWidth:"right"===n.at[0]?-n.targetWidth:0,p=-2*n.offset[0];0>u?(i=e.left+d+f+p+n.collisionWidth-s-a,(0>i||C(u)>i)&&(e.left+=d+f+p)):h>0&&(r=e.left-n.collisionPosition.marginLeft+d+f+p-l,(r>0||h>C(r))&&(e.left+=d+f+p))},top:function t(e,n){var i,r,o=n.within,a=o.offset.top+o.scrollTop,s=o.height,l=o.isWindow?o.scrollTop:o.offset.top,c=e.top-n.collisionPosition.marginTop,u=c-l,h=c+n.collisionHeight-s-l,d="top"===n.my[1],f=d?-n.elemHeight:"bottom"===n.my[1]?n.elemHeight:0,p="top"===n.at[1]?n.targetHeight:"bottom"===n.at[1]?-n.targetHeight:0,m=-2*n.offset[1];0>u?(r=e.top+f+p+m+n.collisionHeight-s-a,(0>r||C(u)>r)&&(e.top+=f+p+m)):h>0&&(i=e.top-n.collisionPosition.marginTop+f+p+m-l,(i>0||h>C(i))&&(e.top+=f+p+m))}},flipfit:{left:function t(){x.ui.position.flip.left.apply(this,arguments),x.ui.position.fit.left.apply(this,arguments)},top:function t(){x.ui.position.flip.top.apply(this,arguments),x.ui.position.fit.top.apply(this,arguments)}}},x.ui.position,x.extend(x.expr[":"],{data:x.expr.createPseudo?x.expr.createPseudo(function(e){return function(t){return!!x.data(t,e)}}):function(t,e,n){return!!x.data(t,n[3])}}),x.fn.scrollParent=function(t){var e=this.css("position"),n="absolute"===e,i=t?/(auto|scroll|hidden)/:/(auto|scroll)/,r=this.parents().filter(function(){var t=x(this);return n&&"static"===t.css("position")?!1:i.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))}).eq(0);return"fixed"!==e&&r.length?r:x(this[0].ownerDocument||document)},x.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),!1),d=(x(document).on("mouseup",function(){h=!1}),x.widget("ui.mouse",{version:"1.12.1",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function t(){var e=this;this.element.on("mousedown."+this.widgetName,function(t){return e._mouseDown(t)}).on("click."+this.widgetName,function(t){return!0===x.data(t.target,e.widgetName+".preventClickEvent")?(x.removeData(t.target,e.widgetName+".preventClickEvent"),t.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function t(){this.element.off("."+this.widgetName),this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function t(e){if(!h){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(e),this._mouseDownEvent=e;var n=this,i=1===e.which,r="string"==typeof this.options.cancel&&e.target.nodeName?x(e.target).closest(this.options.cancel).length:!1;return i&&!r&&this._mouseCapture(e)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){n.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(e)!==!1,!this._mouseStarted)?(e.preventDefault(),!0):(!0===x.data(e.target,this.widgetName+".preventClickEvent")&&x.removeData(e.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return n._mouseMove(t)},this._mouseUpDelegate=function(t){return n._mouseUp(t)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),e.preventDefault(),h=!0,!0)):!0}},_mouseMove:function t(e){if(this._mouseMoved){if(x.ui.ie&&(!document.documentMode||9>document.documentMode)&&!e.button)return this._mouseUp(e);if(!e.which)if(e.originalEvent.altKey||e.originalEvent.ctrlKey||e.originalEvent.metaKey||e.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(e)}return(e.which||e.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,e)!==!1,this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function t(e){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&x.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,h=!1,e.preventDefault()},_mouseDistanceMet:function t(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function t(){return this.mouseDelayMet},_mouseStart:function t(){},_mouseDrag:function t(){},_mouseStop:function t(){},_mouseCapture:function t(){return!0}}),x.widget("ui.sortable",x.ui.mouse,{version:"1.12.1",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function t(e,n,i){return e>=n&&n+i>e},_isFloating:function t(e){return/left|right/.test(e.css("float"))||/inline|table-cell/.test(e.css("display"))},_create:function t(){this.containerCache={},this._addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function t(e,n){this._super(e,n),"handle"===e&&this._setHandleClassName()},_setHandleClassName:function t(){var e=this;this._removeClass(this.element.find(".ui-sortable-handle"),"ui-sortable-handle"),x.each(this.items,function(){e._addClass(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item,"ui-sortable-handle")})},_destroy:function t(){this._mouseDestroy();for(var e=this.items.length-1;e>=0;e--)this.items[e].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function t(e,n){var i=null,r=!1,o=this;return this.reverting?!1:this.options.disabled||"static"===this.options.type?!1:(this._refreshItems(e),x(e.target).parents().each(function(){return x.data(this,o.widgetName+"-item")===o?(i=x(this),!1):void 0}),x.data(e.target,o.widgetName+"-item")===o&&(i=x(e.target)),i?!this.options.handle||n||(x(this.options.handle,i).find("*").addBack().each(function(){this===e.target&&(r=!0)}),r)?(this.currentItem=i,this._removeCurrentsFromItems(),!0):!1:!1)},_mouseStart:function t(e,n,i){var r,o,a=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(e),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},x.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,a.cursorAt&&this._adjustOffsetFromHelper(a.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),a.containment&&this._setContainment(),a.cursor&&"auto"!==a.cursor&&(o=this.document.find("body"),this.storedCursor=o.css("cursor"),o.css("cursor",a.cursor),this.storedStylesheet=x("<style>*{ cursor: "+a.cursor+" !important; }</style>").appendTo(o)),a.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",a.opacity)),a.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",a.zIndex)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",e,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!i)for(r=this.containers.length-1;r>=0;r--)this.containers[r]._trigger("activate",e,this._uiHash(this));return x.ui.ddmanager&&(x.ui.ddmanager.current=this),x.ui.ddmanager&&!a.dropBehaviour&&x.ui.ddmanager.prepareOffsets(this,e),this.dragging=!0,this._addClass(this.helper,"ui-sortable-helper"),this._mouseDrag(e),!0},_mouseDrag:function t(e){var n,i,r,o,a=this.options,s=!1;for(this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-e.pageY<a.scrollSensitivity?this.scrollParent[0].scrollTop=s=this.scrollParent[0].scrollTop+a.scrollSpeed:e.pageY-this.overflowOffset.top<a.scrollSensitivity&&(this.scrollParent[0].scrollTop=s=this.scrollParent[0].scrollTop-a.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-e.pageX<a.scrollSensitivity?this.scrollParent[0].scrollLeft=s=this.scrollParent[0].scrollLeft+a.scrollSpeed:e.pageX-this.overflowOffset.left<a.scrollSensitivity&&(this.scrollParent[0].scrollLeft=s=this.scrollParent[0].scrollLeft-a.scrollSpeed)):(e.pageY-this.document.scrollTop()<a.scrollSensitivity?s=this.document.scrollTop(this.document.scrollTop()-a.scrollSpeed):this.window.height()-(e.pageY-this.document.scrollTop())<a.scrollSensitivity&&(s=this.document.scrollTop(this.document.scrollTop()+a.scrollSpeed)),e.pageX-this.document.scrollLeft()<a.scrollSensitivity?s=this.document.scrollLeft(this.document.scrollLeft()-a.scrollSpeed):this.window.width()-(e.pageX-this.document.scrollLeft())<a.scrollSensitivity&&(s=this.document.scrollLeft(this.document.scrollLeft()+a.scrollSpeed))),s!==!1&&x.ui.ddmanager&&!a.dropBehaviour&&x.ui.ddmanager.prepareOffsets(this,e)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),n=this.items.length-1;n>=0;n--)if(i=this.items[n],r=i.item[0],o=this._intersectsWithPointer(i),o&&i.instance===this.currentContainer&&r!==this.currentItem[0]&&this.placeholder[1===o?"next":"prev"]()[0]!==r&&!x.contains(this.placeholder[0],r)&&("semi-dynamic"===this.options.type?!x.contains(this.element[0],r):!0)){if(this.direction=1===o?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(i))break;this._rearrange(e,i),this._trigger("change",e,this._uiHash());break}return this._contactContainers(e),x.ui.ddmanager&&x.ui.ddmanager.drag(this,e),this._trigger("sort",e,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function t(e,n){if(e){if(x.ui.ddmanager&&!this.options.dropBehaviour&&x.ui.ddmanager.drop(this,e),this.options.revert){var i=this,r=this.placeholder.offset(),o=this.options.axis,a={};o&&"x"!==o||(a.left=r.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),o&&"y"!==o||(a.top=r.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,x(this.helper).animate(a,parseInt(this.options.revert,10)||500,function(){i._clear(e)})}else this._clear(e,n);return!1}},cancel:function t(){if(this.dragging){this._mouseUp(new x.Event("mouseup",{target:null})),"original"===this.options.helper?(this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")):this.currentItem.show();for(var e=this.containers.length-1;e>=0;e--)this.containers[e]._trigger("deactivate",null,this._uiHash(this)),this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",null,this._uiHash(this)),this.containers[e].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),x.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?x(this.domPosition.prev).after(this.currentItem):x(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function t(e){var n=this._getItemsAsjQuery(e&&e.connected),i=[];return e=e||{},x(n).each(function(){var t=(x(e.item||this).attr(e.attribute||"id")||"").match(e.expression||/(.+)[\-=_](.+)/);t&&i.push((e.key||t[1]+"[]")+"="+(e.key&&e.expression?t[1]:t[2]))}),!i.length&&e.key&&i.push(e.key+"="),i.join("&")},toArray:function t(e){var n=this._getItemsAsjQuery(e&&e.connected),i=[];return e=e||{},n.each(function(){i.push(x(e.item||this).attr(e.attribute||"id")||"")}),i},_intersectsWith:function t(e){var n=this.positionAbs.left,i=n+this.helperProportions.width,r=this.positionAbs.top,o=r+this.helperProportions.height,a=e.left,s=a+e.width,l=e.top,c=l+e.height,u=this.offset.click.top,h=this.offset.click.left,d="x"===this.options.axis||r+u>l&&c>r+u,f="y"===this.options.axis||n+h>a&&s>n+h,p=d&&f;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>e[this.floating?"width":"height"]?p:n+this.helperProportions.width/2>a&&s>i-this.helperProportions.width/2&&r+this.helperProportions.height/2>l&&c>o-this.helperProportions.height/2},_intersectsWithPointer:function t(e){var n,i,r="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top,e.height),o="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left,e.width),a=r&&o;return a?(n=this._getDragVerticalDirection(),i=this._getDragHorizontalDirection(),this.floating?"right"===i||"down"===n?2:1:n&&("down"===n?2:1)):!1},_intersectsWithSides:function t(e){var n=this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top+e.height/2,e.height),i=this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left+e.width/2,e.width),r=this._getDragVerticalDirection(),o=this._getDragHorizontalDirection();return this.floating&&o?"right"===o&&i||"left"===o&&!i:r&&("down"===r&&n||"up"===r&&!n)},_getDragVerticalDirection:function t(){var e=this.positionAbs.top-this.lastPositionAbs.top;return 0!==e&&(e>0?"down":"up")},_getDragHorizontalDirection:function t(){var e=this.positionAbs.left-this.lastPositionAbs.left;return 0!==e&&(e>0?"right":"left")},refresh:function t(e){return this._refreshItems(e),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function t(){var e=this.options;return e.connectWith.constructor===String?[e.connectWith]:e.connectWith},_getItemsAsjQuery:function t(e){function n(){s.push(this)}var i,r,o,a,s=[],l=[],c=this._connectWith();if(c&&e)for(i=c.length-1;i>=0;i--)for(o=x(c[i],this.document[0]),r=o.length-1;r>=0;r--)a=x.data(o[r],this.widgetFullName),a&&a!==this&&!a.options.disabled&&l.push([x.isFunction(a.options.items)?a.options.items.call(a.element):x(a.options.items,a.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),a]);for(l.push([x.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):x(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),i=l.length-1;i>=0;i--)l[i][0].each(n);return x(s)},_removeCurrentsFromItems:function t(){var n=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=x.grep(this.items,function(t){for(var e=0;n.length>e;e++)if(n[e]===t.item[0])return!1;return!0})},_refreshItems:function t(e){this.items=[],this.containers=[this];var n,i,r,o,a,s,l,c,u=this.items,h=[[x.isFunction(this.options.items)?this.options.items.call(this.element[0],e,{item:this.currentItem}):x(this.options.items,this.element),this]],d=this._connectWith();if(d&&this.ready)for(n=d.length-1;n>=0;n--)for(r=x(d[n],this.document[0]),i=r.length-1;i>=0;i--)o=x.data(r[i],this.widgetFullName),o&&o!==this&&!o.options.disabled&&(h.push([x.isFunction(o.options.items)?o.options.items.call(o.element[0],e,{item:this.currentItem}):x(o.options.items,o.element),o]),this.containers.push(o));for(n=h.length-1;n>=0;n--)for(a=h[n][1],s=h[n][0],i=0,c=s.length;c>i;i++)l=x(s[i]),l.data(this.widgetName+"-item",a),u.push({item:l,instance:a,width:0,height:0,left:0,top:0})},refreshPositions:function t(e){this.floating=this.items.length?"x"===this.options.axis||this._isFloating(this.items[0].item):!1,this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var n,i,r,o;for(n=this.items.length-1;n>=0;n--)i=this.items[n],i.instance!==this.currentContainer&&this.currentContainer&&i.item[0]!==this.currentItem[0]||(r=this.options.toleranceElement?x(this.options.toleranceElement,i.item):i.item,e||(i.width=r.outerWidth(),i.height=r.outerHeight()),o=r.offset(),i.left=o.left,i.top=o.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(n=this.containers.length-1;n>=0;n--)o=this.containers[n].element.offset(),this.containers[n].containerCache.left=o.left,this.containers[n].containerCache.top=o.top,this.containers[n].containerCache.width=this.containers[n].element.outerWidth(),this.containers[n].containerCache.height=this.containers[n].element.outerHeight();return this},_createPlaceholder:function t(i){i=i||this;var r,o=i.options;o.placeholder&&o.placeholder.constructor!==String||(r=o.placeholder,o.placeholder={element:function t(){var e=i.currentItem[0].nodeName.toLowerCase(),n=x("<"+e+">",i.document[0]);return i._addClass(n,"ui-sortable-placeholder",r||i.currentItem[0].className)._removeClass(n,"ui-sortable-helper"),"tbody"===e?i._createTrPlaceholder(i.currentItem.find("tr").eq(0),x("<tr>",i.document[0]).appendTo(n)):"tr"===e?i._createTrPlaceholder(i.currentItem,n):"img"===e&&n.attr("src",i.currentItem.attr("src")),r||n.css("visibility","hidden"),n},update:function t(e,n){(!r||o.forcePlaceholderSize)&&(n.height()||n.height(i.currentItem.innerHeight()-parseInt(i.currentItem.css("paddingTop")||0,10)-parseInt(i.currentItem.css("paddingBottom")||0,10)),n.width()||n.width(i.currentItem.innerWidth()-parseInt(i.currentItem.css("paddingLeft")||0,10)-parseInt(i.currentItem.css("paddingRight")||0,10)))}}),i.placeholder=x(o.placeholder.element.call(i.element,i.currentItem)),i.currentItem.after(i.placeholder),o.placeholder.update(i,i.placeholder)},_createTrPlaceholder:function t(e,n){var i=this;e.children().each(function(){x("<td>&#160;</td>",i.document[0]).attr("colspan",x(this).attr("colspan")||1).appendTo(n)})},_contactContainers:function t(e){var n,i,r,o,a,s,l,c,u,h,d=null,f=null;for(n=this.containers.length-1;n>=0;n--)if(!x.contains(this.currentItem[0],this.containers[n].element[0]))if(this._intersectsWith(this.containers[n].containerCache)){if(d&&x.contains(this.containers[n].element[0],d.element[0]))continue;d=this.containers[n],f=n}else this.containers[n].containerCache.over&&(this.containers[n]._trigger("out",e,this._uiHash(this)),this.containers[n].containerCache.over=0);if(d)if(1===this.containers.length)this.containers[f].containerCache.over||(this.containers[f]._trigger("over",e,this._uiHash(this)),this.containers[f].containerCache.over=1);else{for(r=1e4,o=null,u=d.floating||this._isFloating(this.currentItem),a=u?"left":"top",s=u?"width":"height",h=u?"pageX":"pageY",i=this.items.length-1;i>=0;i--)x.contains(this.containers[f].element[0],this.items[i].item[0])&&this.items[i].item[0]!==this.currentItem[0]&&(l=this.items[i].item.offset()[a],c=!1,e[h]-l>this.items[i][s]/2&&(c=!0),r>Math.abs(e[h]-l)&&(r=Math.abs(e[h]-l),o=this.items[i],this.direction=c?"up":"down"));if(!o&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[f])return this.currentContainer.containerCache.over||(this.containers[f]._trigger("over",e,this._uiHash()),this.currentContainer.containerCache.over=1),void 0;o?this._rearrange(e,o,null,!0):this._rearrange(e,null,this.containers[f].element,!0),this._trigger("change",e,this._uiHash()),this.containers[f]._trigger("change",e,this._uiHash(this)),this.currentContainer=this.containers[f],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[f]._trigger("over",e,this._uiHash(this)),this.containers[f].containerCache.over=1}},_createHelper:function t(e){var n=this.options,i=x.isFunction(n.helper)?x(n.helper.apply(this.element[0],[e,this.currentItem])):"clone"===n.helper?this.currentItem.clone():this.currentItem;return i.parents("body").length||x("parent"!==n.appendTo?n.appendTo:this.currentItem[0].parentNode)[0].appendChild(i[0]),i[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!i[0].style.width||n.forceHelperSize)&&i.width(this.currentItem.width()),(!i[0].style.height||n.forceHelperSize)&&i.height(this.currentItem.height()),i},_adjustOffsetFromHelper:function t(e){"string"==typeof e&&(e=e.split(" ")),x.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function t(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&x.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&x.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function t(){if("relative"===this.cssPosition){var e=this.currentItem.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function t(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function t(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function t(){var e,n,i,r=this.options;"parent"===r.containment&&(r.containment=this.helper[0].parentNode),("document"===r.containment||"window"===r.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===r.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===r.containment?this.document.height()||document.body.parentNode.scrollHeight:this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(r.containment)||(e=x(r.containment)[0],n=x(r.containment).offset(),i="hidden"!==x(e).css("overflow"),this.containment=[n.left+(parseInt(x(e).css("borderLeftWidth"),10)||0)+(parseInt(x(e).css("paddingLeft"),10)||0)-this.margins.left,n.top+(parseInt(x(e).css("borderTopWidth"),10)||0)+(parseInt(x(e).css("paddingTop"),10)||0)-this.margins.top,n.left+(i?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(x(e).css("borderLeftWidth"),10)||0)-(parseInt(x(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,n.top+(i?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(x(e).css("borderTopWidth"),10)||0)-(parseInt(x(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function t(e,n){n||(n=this.position);var i="absolute"===e?1:-1,r="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&x.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,o=/(html|body)/i.test(r[0].tagName);return{top:n.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():o?0:r.scrollTop())*i,left:n.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():o?0:r.scrollLeft())*i}},_generatePosition:function t(e){var n,i,r=this.options,o=e.pageX,a=e.pageY,s="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&x.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=/(html|body)/i.test(s[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(e.pageX-this.offset.click.left<this.containment[0]&&(o=this.containment[0]+this.offset.click.left),e.pageY-this.offset.click.top<this.containment[1]&&(a=this.containment[1]+this.offset.click.top),e.pageX-this.offset.click.left>this.containment[2]&&(o=this.containment[2]+this.offset.click.left),e.pageY-this.offset.click.top>this.containment[3]&&(a=this.containment[3]+this.offset.click.top)),r.grid&&(n=this.originalPageY+Math.round((a-this.originalPageY)/r.grid[1])*r.grid[1],a=this.containment?n-this.offset.click.top>=this.containment[1]&&n-this.offset.click.top<=this.containment[3]?n:n-this.offset.click.top>=this.containment[1]?n-r.grid[1]:n+r.grid[1]:n,i=this.originalPageX+Math.round((o-this.originalPageX)/r.grid[0])*r.grid[0],o=this.containment?i-this.offset.click.left>=this.containment[0]&&i-this.offset.click.left<=this.containment[2]?i:i-this.offset.click.left>=this.containment[0]?i-r.grid[0]:i+r.grid[0]:i)),{top:a-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():l?0:s.scrollTop()),left:o-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():l?0:s.scrollLeft())}},_rearrange:function t(e,n,i,r){i?i[0].appendChild(this.placeholder[0]):n.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?n.item[0]:n.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var o=this.counter;this._delay(function(){o===this.counter&&this.refreshPositions(!r)})},_clear:function t(e,n){function i(e,n,i){return function(t){i._trigger(e,t,n._uiHash(n))}}this.reverting=!1;var r,o=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(r in this._storedCSS)("auto"===this._storedCSS[r]||"static"===this._storedCSS[r])&&(this._storedCSS[r]="");this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!n&&o.push(function(t){this._trigger("receive",t,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||n||o.push(function(t){this._trigger("update",t,this._uiHash())}),this!==this.currentContainer&&(n||(o.push(function(t){this._trigger("remove",t,this._uiHash())}),o.push(function(e){return function(t){e._trigger("receive",t,this._uiHash(this))}}.call(this,this.currentContainer)),o.push(function(e){return function(t){e._trigger("update",t,this._uiHash(this))}}.call(this,this.currentContainer)))),r=this.containers.length-1;r>=0;r--)n||o.push(i("deactivate",this,this.containers[r])),this.containers[r].containerCache.over&&(o.push(i("out",this,this.containers[r])),this.containers[r].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,n||this._trigger("beforeStop",e,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!n){for(r=0;o.length>r;r++)o[r].call(this,e);this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function t(){x.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function t(e){var n=e||this;return{helper:n.helper,placeholder:n.placeholder||x([]),position:n.position,originalPosition:n.originalPosition,offset:n.positionAbs,item:n.currentItem,sender:e?e.element:null}}}),"ui-effects-"),n="ui-effects-style",f="ui-effects-animated",p=x,m=(x.effects={effect:{}},p),g=void 0;function b(t,e,n){var i=P[e.type]||{};return null==t?n||!e.def?null:e.def:(t=i.floor?~~t:parseFloat(t),isNaN(t)?e.def:i.mod?(t+i.mod)%i.mod:0>t?0:t>i.max?i.max:t)}function v(a){var s=_(),l=s._rgba=[];return a=a.toLowerCase(),T(F,function(t,e){var n,i=e.re.exec(a),r=i&&e.parse(i),o=e.space||"rgba";return r?(n=s[o](r),s[E[o].cache]=n[E[o].cache],l=s._rgba=n._rgba,!1):g}),l.length?("0,0,0,0"===l.join()&&m.extend(l,w.transparent),s):w[a]}function y(t,e,n){return n=(n+1)%1,1>6*n?t+6*(e-t)*n:1>2*n?e:2>3*n?t+6*(e-t)*(2/3-n):t}var w,B="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",N=/^([\-+])=\s*(\d+\.?\d*)/,F=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function t(e){return[e[1],e[2],e[3],e[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function t(e){return[2.55*e[1],2.55*e[2],2.55*e[3],e[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function t(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function t(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function t(e){return[e[1],e[2]/100,e[3]/100,e[4]]}}],_=m.Color=function(t,e,n,i){return new m.Color.fn.parse(t,e,n,i)},E={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},P={byte:{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},A=_.support={},t=m("<p>")[0],T=m.each;function j(t){var e,n,i=t.ownerDocument.defaultView?t.ownerDocument.defaultView.getComputedStyle(t,null):t.currentStyle,r={};if(i&&i.length&&i[0]&&i[i[0]])for(n=i.length;n--;)e=i[n],"string"==typeof i[e]&&(r[x.camelCase(e)]=i[e]);else for(e in i)"string"==typeof i[e]&&(r[e]=i[e]);return r}function $(t,e){var n,i,r={};for(n in e)i=e[n],t[n]!==i&&(z[n]||(x.fx.step[n]||!isNaN(parseFloat(i)))&&(r[n]=i));return r}t.style.cssText="background-color:rgba(1,1,1,.5)",A.rgba=t.style.backgroundColor.indexOf("rgba")>-1,T(E,function(t,e){e.cache="_"+t,e.props.alpha={idx:3,type:"percent",def:1}}),(_.fn=m.extend(_.prototype,{parse:function t(r,e,n,i){if(r===g)return this._rgba=[null,null,null,null],this;(r.jquery||r.nodeType)&&(r=m(r).css(e),e=g);var o=this,a=m.type(r),s=this._rgba=[];return e!==g&&(r=[r,e,n,i],a="array"),"string"===a?this.parse(v(r)||w._default):"array"===a?(T(E.rgba.props,function(t,e){s[e.idx]=b(r[e.idx],e)}),this):"object"===a?(r instanceof _?T(E,function(t,e){r[e.cache]&&(o[e.cache]=r[e.cache].slice())}):T(E,function(t,n){var i=n.cache;T(n.props,function(t,e){if(!o[i]&&n.to){if("alpha"===t||null==r[t])return;o[i]=n.to(o._rgba)}o[i][e.idx]=b(r[t],e,!0)}),o[i]&&0>m.inArray(null,o[i].slice(0,3))&&(o[i][3]=1,n.from&&(o._rgba=n.from(o[i])))}),this):g},is:function t(e){var r=_(e),o=!0,a=this;return T(E,function(t,e){var n,i=r[e.cache];return i&&(n=a[e.cache]||e.to&&e.to(a._rgba)||[],T(e.props,function(t,e){return null!=i[e.idx]?o=i[e.idx]===n[e.idx]:g})),o}),o},_space:function t(){var n=[],i=this;return T(E,function(t,e){i[e.cache]&&n.push(t)}),n.pop()},transition:function t(e,a){var s=_(e),n=s._space(),i=E[n],r=0===this.alpha()?_("transparent"):this,l=r[i.cache]||i.to(r._rgba),c=l.slice();return s=s[i.cache],T(i.props,function(t,e){var n=e.idx,i=l[n],r=s[n],o=P[e.type]||{};null!==r&&(null===i?c[n]=r:(o.mod&&(r-i>o.mod/2?i+=o.mod:i-r>o.mod/2&&(i-=o.mod)),c[n]=b((r-i)*a+i,e)))}),this[n](c)},blend:function t(e){if(1===this._rgba[3])return this;var n=this._rgba.slice(),i=n.pop(),r=_(e)._rgba;return _(m.map(n,function(t,e){return(1-i)*r[e]+i*t}))},toRgbaString:function t(){var e="rgba(",n=m.map(this._rgba,function(t,e){return null==t?e>2?1:0:t});return 1===n[3]&&(n.pop(),e="rgb("),e+n.join()+")"},toHslaString:function t(){var e="hsla(",n=m.map(this.hsla(),function(t,e){return null==t&&(t=e>2?1:0),e&&3>e&&(t=Math.round(100*t)+"%"),t});return 1===n[3]&&(n.pop(),e="hsl("),e+n.join()+")"},toHexString:function t(e){var n=this._rgba.slice(),i=n.pop();return e&&n.push(~~(255*i)),"#"+m.map(n,function(t){return t=(t||0).toString(16),1===t.length?"0"+t:t}).join("")},toString:function t(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}})).parse.prototype=_.fn,E.hsla.to=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e,n,i=t[0]/255,r=t[1]/255,o=t[2]/255,a=t[3],s=Math.max(i,r,o),l=Math.min(i,r,o),c=s-l,u=s+l,h=.5*u;return e=l===s?0:i===s?60*(r-o)/c+360:r===s?60*(o-i)/c+120:60*(i-r)/c+240,n=0===c?0:.5>=h?c/u:c/(2-u),[Math.round(e)%360,n,h,null==a?1:a]},E.hsla.from=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e=t[0]/360,n=t[1],i=t[2],r=t[3],o=.5>=i?i*(1+n):i+n-i*n,a=2*i-o;return[Math.round(255*y(a,o,e+1/3)),Math.round(255*y(a,o,e)),Math.round(255*y(a,o,e-1/3)),r]},T(E,function(l,t){var n=t.props,a=t.cache,s=t.to,c=t.from;_.fn[l]=function(t){if(s&&!this[a]&&(this[a]=s(this._rgba)),t===g)return this[a].slice();var e,i=m.type(t),r="array"===i||"object"===i?t:arguments,o=this[a].slice();return T(n,function(t,e){var n=r["object"===i?t:e.idx];null==n&&(n=o[e.idx]),o[e.idx]=b(n,e)}),c?(e=_(c(o)),e[a]=o,e):_(o)},T(n,function(a,s){_.fn[a]||(_.fn[a]=function(t){var e,n=m.type(t),i="alpha"===a?this._hsla?"hsla":"rgba":l,r=this[i](),o=r[s.idx];return"undefined"===n?o:("function"===n&&(t=t.call(this,o),n=m.type(t)),null==t&&s.empty?this:("string"===n&&(e=N.exec(t),e&&(t=o+parseFloat(e[2])*("+"===e[1]?1:-1))),r[s.idx]=t,this[i](r)))})})}),(_.hook=function(t){var e=t.split(" ");T(e,function(t,a){m.cssHooks[a]={set:function t(e,n){var i,r,o="";if("transparent"!==n&&("string"!==m.type(n)||(i=v(n)))){if(n=_(i||n),!A.rgba&&1!==n._rgba[3]){for(r="backgroundColor"===a?e.parentNode:e;(""===o||"transparent"===o)&&r&&r.style;)try{o=m.css(r,"backgroundColor"),r=r.parentNode}catch(t){}n=n.blend(o&&"transparent"!==o?o:"_default")}n=n.toRgbaString()}try{e.style[a]=n}catch(t){}}},m.fx.step[a]=function(t){t.colorInit||(t.start=_(t.elem,a),t.end=_(t.end),t.colorInit=!0),m.cssHooks[a].set(t.elem,t.start.transition(t.end,t.pos))}})})(B),m.cssHooks.borderColor={expand:function t(n){var i={};return T(["Top","Right","Bottom","Left"],function(t,e){i["border"+e+"Color"]=n}),i}},w=m.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"};var U=["add","remove","toggle"],z={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};function L(t,e,n,i){return x.isPlainObject(t)&&(e=t,t=t.effect),t={effect:t},null==e&&(e={}),x.isFunction(e)&&(i=e,n=null,e={}),("number"==typeof e||x.fx.speeds[e])&&(i=n,n=e,e={}),x.isFunction(n)&&(i=n,n=null),e&&x.extend(t,e),n=n||e.duration,t.duration=x.fx.off?0:"number"==typeof n?n:n in x.fx.speeds?x.fx.speeds[n]:x.fx.speeds._default,t.complete=i||e.complete,t}function O(t){return!t||"number"==typeof t||x.fx.speeds[t]?!0:"string"!=typeof t||x.effects.effect[t]?x.isFunction(t)?!0:"object"!=(typeof t==="undefined"?"undefined":H(t))||t.effect?!1:!0:!0}function R(t,e){var n=e.outerWidth(),i=e.outerHeight(),r=/^rect\((-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto)\)$/,o=r.exec(t)||["",0,n,i,0];return{top:parseFloat(o[1])||0,right:"auto"===o[2]?n:parseFloat(o[2]),bottom:"auto"===o[3]?i:parseFloat(o[3]),left:parseFloat(o[4])||0}}x.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(t,e){x.fx.step[e]=function(t){("none"!==t.end&&!t.setAttr||1===t.pos&&!t.setAttr)&&(p.style(t.elem,e,t.end),t.setAttr=!0)}}),x.fn.addBack||(x.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),x.effects.animateClass=function(r,t,e,n){var o=x.speed(t,e,n);return this.queue(function(){var t,n=x(this),e=n.attr("class")||"",i=o.children?n.find("*").addBack():n;i=i.map(function(){var t=x(this);return{el:t,start:j(this)}}),t=function t(){x.each(U,function(t,e){r[e]&&n[e+"Class"](r[e])})},t(),i=i.map(function(){return this.end=j(this.el[0]),this.diff=$(this.start,this.end),this}),n.attr("class",e),i=i.map(function(){var e=this,n=x.Deferred(),t=x.extend({},o,{queue:!1,complete:function t(){n.resolve(e)}});return this.el.animate(this.diff,t),n.promise()}),x.when.apply(x,i.get()).done(function(){t(),x.each(arguments,function(){var e=this.el;x.each(this.diff,function(t){e.css(t,"")})}),o.complete.call(n[0])})})},x.fn.extend({addClass:function(r){return function(t,e,n,i){return e?x.effects.animateClass.call(this,{add:t},e,n,i):r.apply(this,arguments)}}(x.fn.addClass),removeClass:function(r){return function(t,e,n,i){return arguments.length>1?x.effects.animateClass.call(this,{remove:t},e,n,i):r.apply(this,arguments)}}(x.fn.removeClass),toggleClass:function(o){return function(t,e,n,i,r){return"boolean"==typeof e||void 0===e?n?x.effects.animateClass.call(this,e?{add:t}:{remove:t},n,i,r):o.apply(this,arguments):x.effects.animateClass.call(this,{toggle:t},e,n,i)}}(x.fn.toggleClass),switchClass:function t(e,n,i,r,o){return x.effects.animateClass.call(this,{add:n,remove:e},i,r,o)}}),x.expr&&x.expr.filters&&x.expr.filters.animated&&(x.expr.filters.animated=function(e){return function(t){return!!x(t).data(f)||e(t)}}(x.expr.filters.animated)),x.uiBackCompat!==!1&&x.extend(x.effects,{save:function t(e,n){for(var i=0,r=n.length;r>i;i++)null!==n[i]&&e.data(d+n[i],e[0].style[n[i]])},restore:function t(e,n){for(var i,r=0,o=n.length;o>r;r++)null!==n[r]&&(i=e.data(d+n[r]),e.css(n[r],i))},setMode:function t(e,n){return"toggle"===n&&(n=e.is(":hidden")?"show":"hide"),n},createWrapper:function t(n){if(n.parent().is(".ui-effects-wrapper"))return n.parent();var i={width:n.outerWidth(!0),height:n.outerHeight(!0),float:n.css("float")},e=x("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),r={width:n.width(),height:n.height()},o=document.activeElement;try{o.id}catch(t){o=document.body}return n.wrap(e),(n[0]===o||x.contains(n[0],o))&&x(o).trigger("focus"),e=n.parent(),"static"===n.css("position")?(e.css({position:"relative"}),n.css({position:"relative"})):(x.extend(i,{position:n.css("position"),zIndex:n.css("z-index")}),x.each(["top","left","bottom","right"],function(t,e){i[e]=n.css(e),isNaN(parseInt(i[e],10))&&(i[e]="auto")}),n.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),n.css(r),e.css(i).show()},removeWrapper:function t(e){var n=document.activeElement;return e.parent().is(".ui-effects-wrapper")&&(e.parent().replaceWith(e),(e[0]===n||x.contains(e[0],n))&&x(n).trigger("focus")),e}}),x.extend(x.effects,{version:"1.12.1",define:function t(e,n,i){return i||(i=n,n="effect"),x.effects.effect[e]=i,x.effects.effect[e].mode=n,i},scaledDimensions:function t(e,n,i){if(0===n)return{height:0,width:0,outerHeight:0,outerWidth:0};var r="horizontal"!==i?(n||100)/100:1,o="vertical"!==i?(n||100)/100:1;return{height:e.height()*o,width:e.width()*r,outerHeight:e.outerHeight()*o,outerWidth:e.outerWidth()*r}},clipToBox:function t(e){return{width:e.clip.right-e.clip.left,height:e.clip.bottom-e.clip.top,left:e.clip.left,top:e.clip.top}},unshift:function t(e,n,i){var r=e.queue();n>1&&r.splice.apply(r,[1,0].concat(r.splice(n,i))),e.dequeue()},saveStyle:function t(e){e.data(n,e[0].style.cssText)},restoreStyle:function t(e){e[0].style.cssText=e.data(n)||"",e.removeData(n)},mode:function t(e,n){var i=e.is(":hidden");return"toggle"===n&&(n=i?"show":"hide"),(i?"hide"===n:"show"===n)&&(n="none"),n},getBaseline:function t(e,n){var i,r;switch(e[0]){case"top":i=0;break;case"middle":i=.5;break;case"bottom":i=1;break;default:i=e[0]/n.height}switch(e[1]){case"left":r=0;break;case"center":r=.5;break;case"right":r=1;break;default:r=e[1]/n.width}return{x:r,y:i}},createPlaceholder:function t(e){var n,i=e.css("position"),r=e.position();return e.css({marginTop:e.css("marginTop"),marginBottom:e.css("marginBottom"),marginLeft:e.css("marginLeft"),marginRight:e.css("marginRight")}).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()),/^(static|relative)/.test(i)&&(i="absolute",n=x("<"+e[0].nodeName+">").insertAfter(e).css({display:/^(inline|ruby)/.test(e.css("display"))?"inline-block":"block",visibility:"hidden",marginTop:e.css("marginTop"),marginBottom:e.css("marginBottom"),marginLeft:e.css("marginLeft"),marginRight:e.css("marginRight"),float:e.css("float")}).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).addClass("ui-effects-placeholder"),e.data(d+"placeholder",n)),e.css({position:i,left:r.left,top:r.top}),n},removePlaceholder:function t(e){var n=d+"placeholder",i=e.data(n);i&&(i.remove(),e.removeData(n))},cleanUp:function t(e){x.effects.restoreStyle(e),x.effects.removePlaceholder(e)},setTransition:function t(i,e,r,o){return o=o||{},x.each(e,function(t,e){var n=i.cssUnit(e);n[0]>0&&(o[e]=n[0]*r+n[1])}),o}}),x.fn.extend({effect:function t(){function e(t){function e(){i.removeData(f),x.effects.cleanUp(i),"hide"===r.mode&&i.hide(),n()}function n(){x.isFunction(s)&&s.call(i[0]),x.isFunction(t)&&t()}var i=x(this);r.mode=c.shift(),x.uiBackCompat===!1||a?"none"===r.mode?(i[l](),n()):o.call(i[0],r,e):(i.is(":hidden")?"hide"===l:"show"===l)?(i[l](),n()):o.call(i[0],r,n)}var r=L.apply(this,arguments),o=x.effects.effect[r.effect],a=o.mode,n=r.queue,i=n||"fx",s=r.complete,l=r.mode,c=[],u=function t(e){var n=x(this),i=x.effects.mode(n,l)||a;n.data(f,!0),c.push(i),a&&("show"===i||i===a&&"hide"===i)&&n.show(),a&&"none"===i||x.effects.saveStyle(n),x.isFunction(e)&&e()};return x.fx.off||!o?l?this[l](r.duration,s):this.each(function(){s&&s.call(this)}):n===!1?this.each(u).each(e):this.queue(i,u).queue(i,e)},show:function(n){return function(t){if(O(t))return n.apply(this,arguments);var e=L.apply(this,arguments);return e.mode="show",this.effect.call(this,e)}}(x.fn.show),hide:function(n){return function(t){if(O(t))return n.apply(this,arguments);var e=L.apply(this,arguments);return e.mode="hide",this.effect.call(this,e)}}(x.fn.hide),toggle:function(n){return function(t){if(O(t)||"boolean"==typeof t)return n.apply(this,arguments);var e=L.apply(this,arguments);return e.mode="toggle",this.effect.call(this,e)}}(x.fn.toggle),cssUnit:function t(e){var n=this.css(e),i=[];return x.each(["em","px","%","pt"],function(t,e){n.indexOf(e)>0&&(i=[parseFloat(n),e])}),i},cssClip:function t(e){return e?this.css("clip","rect("+e.top+"px "+e.right+"px "+e.bottom+"px "+e.left+"px)"):R(this.css("clip"),this)},transfer:function t(e,n){var i=x(this),r=x(e.to),o="fixed"===r.css("position"),a=x("body"),s=o?a.scrollTop():0,l=o?a.scrollLeft():0,c=r.offset(),u={top:c.top-s,left:c.left-l,height:r.innerHeight(),width:r.innerWidth()},h=i.offset(),d=x("<div class='ui-effects-transfer'></div>").appendTo("body").addClass(e.className).css({top:h.top-s,left:h.left-l,height:i.innerHeight(),width:i.innerWidth(),position:o?"fixed":"absolute"}).animate(u,e.duration,e.easing,function(){d.remove(),x.isFunction(n)&&n()})}}),x.fx.step.clip=function(t){t.clipInit||(t.start=x(t.elem).cssClip(),"string"==typeof t.end&&(t.end=R(t.end,t.elem)),t.clipInit=!0),x(t.elem).cssClip({top:t.pos*(t.end.top-t.start.top)+t.start.top,right:t.pos*(t.end.right-t.start.right)+t.start.right,bottom:t.pos*(t.end.bottom-t.start.bottom)+t.start.bottom,left:t.pos*(t.end.left-t.start.left)+t.start.left})};var I={};x.each(["Quad","Cubic","Quart","Quint","Expo"],function(e,t){I[t]=function(t){return Math.pow(t,e+2)}}),x.extend(I,{Sine:function t(e){return 1-Math.cos(e*Math.PI/2)},Circ:function t(e){return 1-Math.sqrt(1-e*e)},Elastic:function t(e){return 0===e||1===e?e:-Math.pow(2,8*(e-1))*Math.sin((80*(e-1)-7.5)*Math.PI/15)},Back:function t(e){return e*e*(3*e-2)},Bounce:function t(e){for(var n,i=4;((n=Math.pow(2,--i))-1)/11>e;);return 1/Math.pow(4,3-i)-7.5625*Math.pow((3*n-2)/22-e,2)}}),x.each(I,function(t,e){x.easing["easeIn"+t]=e,x.easing["easeOut"+t]=function(t){return 1-e(1-t)},x.easing["easeInOut"+t]=function(t){return.5>t?e(2*t)/2:1-e(-2*t+2)/2}}),x.effects,x.effects.define("slide","show",function(t,e){var n,i,r=x(this),o={up:["bottom","top"],down:["top","bottom"],left:["right","left"],right:["left","right"]},a=t.mode,s=t.direction||"left",l="up"===s||"down"===s?"top":"left",c="up"===s||"left"===s,u=t.distance||r["top"===l?"outerHeight":"outerWidth"](!0),h={};x.effects.createPlaceholder(r),n=r.cssClip(),i=r.position()[l],h[l]=(c?-1:1)*u+i,h.clip=r.cssClip(),h.clip[o[s][1]]=h.clip[o[s][0]],"show"===a&&(r.cssClip(h.clip),r.css(l,h[l]),h.clip=n,h[l]=i),r.animate(h,{queue:!1,duration:t.duration,easing:t.easing,complete:e})})})?i.apply(e,n):i)&&(t.exports=e)},function(t,e,n){"use strict";
/*!
 * jQuery UI Touch Punch 0.2.3
 *
 * Copyright 20112014, Dave Furfero
 * Dual licensed under the MIT or GPL Version 2 licenses.
 *
 * Depends:
 *  jquery.ui.widget.js
 *  jquery.ui.mouse.js
 */function i(t,e){var n,i;1<t.originalEvent.touches.length||(t.preventDefault(),n=t.originalEvent.changedTouches[0],(i=document.createEvent("MouseEvents")).initMouseEvent(e,!0,!0,window,1,n.screenX,n.screenY,n.clientX,n.clientY,!1,!1,!1,!1,0,null),t.target.dispatchEvent(i))}var r,o,a,s,l;(r=jQuery).support.touch="ontouchend"in document,r.support.touch&&(a=r.ui.mouse.prototype,s=a._mouseInit,l=a._mouseDestroy,a._touchStart=function(t){!o&&this._mouseCapture(t.originalEvent.changedTouches[0])&&(o=!0,this._touchMoved=!1,i(t,"mouseover"),i(t,"mousemove"),i(t,"mousedown"))},a._touchMove=function(t){o&&(this._touchMoved=!0,i(t,"mousemove"))},a._touchEnd=function(t){o&&(i(t,"mouseup"),i(t,"mouseout"),this._touchMoved||i(t,"click"),o=!1)},a._mouseInit=function(){this.element.bind({touchstart:r.proxy(this,"_touchStart"),touchmove:r.proxy(this,"_touchMove"),touchend:r.proxy(this,"_touchEnd")}),s.call(this)},a._mouseDestroy=function(){this.element.unbind({touchstart:r.proxy(this,"_touchStart"),touchmove:r.proxy(this,"_touchMove"),touchend:r.proxy(this,"_touchEnd")}),l.call(this)})},function(t,e,n){"use strict";var i,J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};n=[n(150)],void 0!==(e="function"==typeof(i=function(Nt,Ft){"use strict";var i={beforeShow:t,move:t,change:t,show:t,hide:t,color:false,flat:false,showInput:false,allowEmpty:false,showButtons:true,clickoutFiresChange:true,showInitial:false,showPalette:false,showPaletteOnly:false,hideAfterPaletteSelect:false,togglePaletteOnly:false,showSelectionPalette:true,localStorageKey:false,appendTo:"body",maxSelectionSize:7,cancelText:"cancel",chooseText:"choose",togglePaletteMoreText:"more",togglePaletteLessText:"less",clearText:"Clear Color Selection",noColorSelectedText:"No Color Selected",preferredFormat:false,className:"",containerClassName:"",replacerClassName:"",showAlpha:false,theme:"sp-light",palette:[["#ffffff","#000000","#ff0000","#ff8000","#ffff00","#008000","#0000ff","#4b0082","#9400d3"]],selectionPalette:[],disabled:false,offset:null},$t=[],Ut=!!/msie/i.exec(window.navigator.userAgent),zt=function(){function t(t,e){return!!~(""+t).indexOf(e)}var e=document.createElement("div");var n=e.style;n.cssText="background-color:rgba(0,0,0,.5)";return t(n.backgroundColor,"rgba")||t(n.backgroundColor,"hsla")}(),Ht=["<div class='sp-replacer'>","<div class='sp-preview'><div class='sp-preview-inner'></div></div>","<div class='sp-dd'>&#9660;</div>","</div>"].join(""),qt=function(){var t="";if(Ut)for(var e=1;e<=6;e++)t+="<div class='sp-"+e+"'></div>";return["<div class='sp-container sp-hidden'>","<div class='sp-palette-container'>","<div class='sp-palette sp-thumb sp-cf'></div>","<div class='sp-palette-button-container sp-cf'>","<button type='button' class='sp-palette-toggle'></button>","</div>","</div>","<div class='sp-picker-container'>","<div class='sp-top sp-cf'>","<div class='sp-fill'></div>","<div class='sp-top-inner'>","<div class='sp-color'>","<div class='sp-sat'>","<div class='sp-val'>","<div class='sp-dragger'></div>","</div>","</div>","</div>","<div class='sp-clear sp-clear-display'>","</div>","<div class='sp-hue'>","<div class='sp-slider'></div>",t,"</div>","</div>","<div class='sp-alpha'><div class='sp-alpha-inner'><div class='sp-alpha-handle'></div></div></div>","</div>","<div class='sp-input-container sp-cf'>","<input class='sp-input' type='text' spellcheck='false'  />","</div>","<div class='sp-initial sp-thumb sp-cf'></div>","<div class='sp-button-container sp-cf'>","<a class='sp-cancel' href='#'></a>","<button type='button' class='sp-choose'></button>","</div>","</div>","</div>"].join("")}();function Wt(t,e,n,i){var r=[];for(var o=0;o<t.length;o++){var a=t[o];if(a){var s=tinycolor(a);var l=s.toHsl().l<.5?"sp-thumb-el sp-thumb-dark":"sp-thumb-el sp-thumb-light";l+=tinycolor.equals(e,a)?" sp-thumb-active":"";var c=s.toString(i.preferredFormat||"rgb");var u=zt?"background-color:"+s.toRgbString():"filter:"+s.toFilter();r.push('<span title="'+c+'" data-color="'+s.toRgbString()+'" class="'+l+'"><span class="sp-thumb-inner" style="'+u+';"></span></span>')}else{var h="sp-clear-display";r.push(Nt("<div />").append(Nt('<span data-color="" style="background-color:transparent;" class="'+h+'"></span>').attr("title",i.noColorSelectedText)).html())}}return"<div class='sp-cf "+n+"'>"+r.join("")+"</div>"}function Vt(){for(var t=0;t<$t.length;t++)if($t[t])$t[t].hide()}function Kt(t,e){var n=Nt.extend({},i,t);n.callbacks={move:r(n.move,e),change:r(n.change,e),show:r(n.show,e),hide:r(n.hide,e),beforeShow:r(n.beforeShow,e)};return n}function o(t,B){var c=Kt(B,t),i=c.flat,N=c.showSelectionPalette,n=c.localStorageKey,F=c.theme,r=c.callbacks,$=Xt(D,10),e=false,U=false,l=0,u=0,a=0,s=0,z=0,H=0,q=0,W=0,h=0,d=0,f=0,p=1,V=[],o=[],K={},m=c.selectionPalette.slice(0),Z=c.maxSelectionSize,G="sp-dragging",g=null;var b=t.ownerDocument,J=b.body,v=Nt(t),Y=false,y=Nt(qt,b).addClass(F),X=y.find(".sp-picker-container"),Q=y.find(".sp-color"),tt=y.find(".sp-dragger"),et=y.find(".sp-hue"),nt=y.find(".sp-slider"),w=y.find(".sp-alpha-inner"),it=y.find(".sp-alpha"),rt=y.find(".sp-alpha-handle"),_=y.find(".sp-input"),ot=y.find(".sp-palette"),at=y.find(".sp-initial"),st=y.find(".sp-cancel"),lt=y.find(".sp-clear"),ct=y.find(".sp-choose"),ut=y.find(".sp-palette-toggle"),ht=v.is("input"),dt=ht&&v.attr("type")==="color"&&Jt(),ft=ht&&!i,x=ft?Nt(Ht).addClass(F).addClass(c.className).addClass(c.replacerClassName):Nt([]),M=ft?x:v,S=x.find(".sp-preview-inner"),k=c.color||ht&&v.val(),C=false,E=c.preferredFormat,pt=!c.showButtons||c.clickoutFiresChange,P=!k,A=c.allowEmpty&&!dt;function mt(){if(c.showPaletteOnly)c.showPalette=true;ut.text(c.showPaletteOnly?c.togglePaletteMoreText:c.togglePaletteLessText);if(c.palette){V=c.palette.slice(0);o=Nt.isArray(V[0])?V:[V];K={};for(var t=0;t<o.length;t++)for(var e=0;e<o[t].length;e++){var n=tinycolor(o[t][e]).toRgbString();K[n]=true}}y.toggleClass("sp-flat",i);y.toggleClass("sp-input-disabled",!c.showInput);y.toggleClass("sp-alpha-enabled",c.showAlpha);y.toggleClass("sp-clear-enabled",A);y.toggleClass("sp-buttons-disabled",!c.showButtons);y.toggleClass("sp-palette-buttons-disabled",!c.togglePaletteOnly);y.toggleClass("sp-palette-disabled",!c.showPalette);y.toggleClass("sp-palette-only",c.showPaletteOnly);y.toggleClass("sp-initial-disabled",!c.showInitial);y.addClass(c.className).addClass(c.containerClassName);D()}function gt(){if(Ut)y.find("*:not(input)").attr("unselectable","on");mt();if(ft)v.after(x).hide();if(!A)lt.hide();if(i)v.after(y).hide();else{var t=c.appendTo==="parent"?v.parent():Nt(c.appendTo);if(t.length!==1)t=Nt("body");t.append(y)}bt();M.on("click.spectrum touchstart.spectrum",function(t){if(!Y)kt();t.stopPropagation();if(!Nt(t.target).is("input"))t.preventDefault()});if(v.is(":disabled")||c.disabled===true)It();y.click(Yt);_.change(St);_.on("paste",function(){setTimeout(St,1)});_.keydown(function(t){if(t.keyCode==13)St()});st.text(c.cancelText);st.on("click.spectrum",function(t){t.stopPropagation();t.preventDefault();At();T()});lt.attr("title",c.clearText);lt.on("click.spectrum",function(t){t.stopPropagation();t.preventDefault();P=true;O();if(i)I(true)});ct.text(c.chooseText);ct.on("click.spectrum",function(t){t.stopPropagation();t.preventDefault();if(Ut&&_.is(":focus"))_.trigger("change");if(Tt()){I(true);T()}});ut.text(c.showPaletteOnly?c.togglePaletteMoreText:c.togglePaletteLessText);ut.on("click.spectrum",function(t){t.stopPropagation();t.preventDefault();c.showPaletteOnly=!c.showPaletteOnly;if(!c.showPaletteOnly&&!i)y.css("left","-="+(X.outerWidth(true)+5));mt();Nt(window).trigger("resize.spectrum")});Gt(it,function(t,e,n){p=t/H;P=false;if(n.shiftKey)p=Math.round(p*10)/10;O()},xt,Mt);Gt(et,function(t,e){h=parseFloat(e/s);P=false;if(!c.showAlpha)p=1;O()},xt,Mt);Gt(Q,function(t,e,n){if(!n.shiftKey)g=null;else if(!g){var i=d*l;var r=u-f*u;var o=Math.abs(t-i)>Math.abs(e-r);g=o?"x":"y"}var a=!g||g==="x";var s=!g||g==="y";if(a)d=parseFloat(t/l);if(s)f=parseFloat((u-e)/u);P=false;if(!c.showAlpha)p=1;O()},xt,Mt);if(!!k){j(k);R();E=c.preferredFormat||tinycolor(k).format;vt(k)}else R();if(i)Ct();function e(t){if(t.data&&t.data.ignore){j(Nt(t.target).closest(".sp-thumb-el").data("color"));O()}else{j(Nt(t.target).closest(".sp-thumb-el").data("color"));O();if(c.hideAfterPaletteSelect){I(true);T()}else I()}return false}var n=Ut?"mousedown.spectrum":"click.spectrum touchstart.spectrum";ot.on(n,".sp-thumb-el",e);at.on(n,".sp-thumb-el:nth-child(1)",{ignore:true},e)}function bt(){if(n&&window.localStorage){try{var t=window.localStorage[n].split(",#");if(t.length>1){delete window.localStorage[n];Nt.each(t,function(t,e){vt(e)})}}catch(t){}try{m=window.localStorage[n].split(";")}catch(t){}}}function vt(t){if(N){var e=tinycolor(t).toRgbString();if(!K[e]&&Nt.inArray(e,m)===-1){m.push(e);while(m.length>Z)m.shift()}if(n&&window.localStorage)try{window.localStorage[n]=m.join(";")}catch(t){}}}function yt(){var t=[];if(c.showPalette)for(var e=0;e<m.length;e++){var n=tinycolor(m[e]).toRgbString();if(!K[n])t.push(m[e])}return t.reverse().slice(0,c.maxSelectionSize)}function wt(){var n=L();var t=Nt.map(o,function(t,e){return Wt(t,n,"sp-palette-row sp-palette-row-"+e,c)});bt();if(m)t.push(Wt(yt(),n,"sp-palette-row sp-palette-row-selection",c));ot.html(t.join(""))}function _t(){if(c.showInitial){var t=C;var e=L();at.html(Wt([t,e],e,"sp-palette-row-initial",c))}}function xt(){if(u<=0||l<=0||s<=0)D();U=true;y.addClass(G);g=null;v.trigger("dragstart.spectrum",[L()])}function Mt(){U=false;y.removeClass(G);v.trigger("dragstop.spectrum",[L()])}function St(){var t=_.val();if((t===null||t==="")&&A){j(null);O();I()}else{var e=tinycolor(t);if(e.isValid()){j(e);O();I()}else _.addClass("sp-validation-error")}}function kt(){if(e)T();else Ct()}function Ct(){var t=Nt.Event("beforeShow.spectrum");if(e){D();return}v.trigger(t,[L()]);if(r.beforeShow(L())===false||t.isDefaultPrevented())return;Vt();e=true;Nt(b).on("keydown.spectrum",Et);Nt(b).on("click.spectrum",Pt);Nt(window).on("resize.spectrum",$);x.addClass("sp-active");y.removeClass("sp-hidden");D();R();C=L();_t();r.show(C);v.trigger("show.spectrum",[C])}function Et(t){if(t.keyCode===27)T()}function Pt(t){if(t.button==2)return;if(U)return;if(pt)I(true);else At();T()}function T(){if(!e||i)return;e=false;Nt(b).off("keydown.spectrum",Et);Nt(b).off("click.spectrum",Pt);Nt(window).off("resize.spectrum",$);x.removeClass("sp-active");y.addClass("sp-hidden");r.hide(L());v.trigger("hide.spectrum",[L()])}function At(){j(C,true);I(true)}function j(t,e){if(tinycolor.equals(t,L())){R();return}var n,i;if(!t&&A)P=true;else{P=false;n=tinycolor(t);i=n.toHsv();h=i.h%360/360;d=i.s;f=i.v;p=i.a}R();if(n&&n.isValid()&&!e)E=c.preferredFormat||n.getFormat()}function L(t){t=t||{};if(A&&P)return null;return tinycolor.fromRatio({h:h,s:d,v:f,a:Math.round(p*1e3)/1e3},{format:t.format||E})}function Tt(){return!_.hasClass("sp-validation-error")}function O(){R();r.move(L());v.trigger("move.spectrum",[L()])}function R(){_.removeClass("sp-validation-error");jt();var t=tinycolor.fromRatio({h:h,s:1,v:1});Q.css("background-color",t.toHexString());var e=E;if(p<1&&!(p===0&&e==="name"))if(e==="hex"||e==="hex3"||e==="hex6"||e==="name")e="rgb";var n=L({format:e}),i="";S.removeClass("sp-clear-display");S.css("background-color","transparent");if(!n&&A)S.addClass("sp-clear-display");else{var r=n.toHexString(),o=n.toRgbString();if(zt||n.alpha===1)S.css("background-color",o);else{S.css("background-color","transparent");S.css("filter",n.toFilter())}if(c.showAlpha){var a=n.toRgb();a.a=0;var s=tinycolor(a).toRgbString();var l="linear-gradient(left, "+s+", "+r+")";if(Ut)w.css("filter",tinycolor(s).toFilter({gradientType:1},r));else{w.css("background","-webkit-"+l);w.css("background","-moz-"+l);w.css("background","-ms-"+l);w.css("background","linear-gradient(to right, "+s+", "+r+")")}}i=n.toString(e)}if(c.showInput)_.val(i);if(c.showPalette)wt();_t()}function jt(){var t=d;var e=f;if(A&&P){rt.hide();nt.hide();tt.hide()}else{rt.show();nt.show();tt.show();var n=t*l;var i=u-e*u;n=Math.max(-a,Math.min(l-a,n-a));i=Math.max(-a,Math.min(u-a,i-a));tt.css({top:i+"px",left:n+"px"});var r=p*H;rt.css({left:r-q/2+"px"});var o=h*s;nt.css({top:o-W+"px"})}}function I(t){var e=L(),n="",i=!tinycolor.equals(e,C);if(e){n=e.toString(E);vt(e)}if(ht)v.val(n);if(t&&i){r.change(e);v.trigger("change",[e])}}function D(){if(!e)return;l=Q.width();u=Q.height();a=tt.height();z=et.width();s=et.height();W=nt.height();H=it.width();q=rt.width();if(!i){y.css("position","absolute");if(c.offset)y.offset(c.offset);else y.offset(Zt(y,M))}jt();if(c.showPalette)wt();v.trigger("reflow.spectrum")}function Lt(){v.show();M.off("click.spectrum touchstart.spectrum");y.remove();x.remove();$t[Bt.id]=null}function Ot(t,e){if(t===Ft)return Nt.extend({},c);if(e===Ft)return c[t];c[t]=e;if(t==="preferredFormat")E=c.preferredFormat;mt()}function Rt(){Y=false;v.attr("disabled",false);M.removeClass("sp-disabled")}function It(){T();Y=true;v.attr("disabled",true);M.addClass("sp-disabled")}function Dt(t){c.offset=t;D()}gt();var Bt={show:Ct,hide:T,toggle:kt,reflow:D,option:Ot,enable:Rt,disable:It,offset:Dt,set:function t(e){j(e);I()},get:L,destroy:Lt,container:y};Bt.id=$t.push(Bt)-1;return Bt}function Zt(t,e){var n=0;var i=t.outerWidth();var r=t.outerHeight();var o=e.outerHeight();var a=t[0].ownerDocument;var s=a.documentElement;var l=s.clientWidth+Nt(a).scrollLeft();var c=s.clientHeight+Nt(a).scrollTop();var u=e.offset();var h=u.left;var d=u.top;d+=o;h-=Math.min(h,h+i>l&&l>i?Math.abs(h+i-l):0);d-=Math.min(d,d+r>c&&c>r?Math.abs(r+o-n):n);h-=i<601?15:0;return{top:d,bottom:u.bottom,left:h,right:u.right,width:u.width,height:u.height}}function t(){}function Yt(t){t.stopPropagation()}function r(t,e){var n=Array.prototype.slice;var i=n.call(arguments,2);return function(){return t.apply(e,i.concat(n.call(arguments)))}}function Gt(a,s,n,t){s=s||function(){};n=n||function(){};t=t||function(){};var l=document;var c=false;var u={};var h=0;var d=0;var f="ontouchstart"in window;var i={};i["selectstart"]=p;i["dragstart"]=p;i["touchmove mousemove"]=r;i["touchend mouseup"]=m;function p(t){if(t.stopPropagation)t.stopPropagation();if(t.preventDefault)t.preventDefault();t.returnValue=false}function r(t){if(c){if(Ut&&l.documentMode<9&&!t.button)return m();var e=t.originalEvent&&t.originalEvent.touches&&t.originalEvent.touches[0];var n=e&&e.pageX||t.pageX;var i=e&&e.pageY||t.pageY;var r=Math.max(0,Math.min(n-u.left,d));var o=Math.max(0,Math.min(i-u.top,h));if(f)p(t);s.apply(a,[r,o,t])}}function e(t){var e=t.which?t.which==3:t.button==2;if(!e&&!c)if(n.apply(a,arguments)!==false){c=true;h=Nt(a).height();d=Nt(a).width();u=Nt(a).offset();Nt(l).on(i);Nt(l.body).addClass("sp-dragging");r(t);p(t)}}function m(){if(c){Nt(l).off(i);Nt(l.body).removeClass("sp-dragging");setTimeout(function(){t.apply(a,arguments)},0)}c=false}Nt(a).on("touchstart mousedown",e)}function Xt(i,r,o){var a;return function(){var e=this,n=arguments;var t=function t(){a=null;i.apply(e,n)};if(o)clearTimeout(a);if(o||!a)a=setTimeout(t,r)}}function Jt(){return Nt.fn.spectrum.inputTypeColorSupport()}var a="spectrum.id",M=(Nt.fn.spectrum=function(n,t){if(typeof n=="string"){var i=this;var r=Array.prototype.slice.call(arguments,1);this.each(function(){var t=$t[Nt(this).data(a)];if(t){var e=t[n];if(!e)throw new Error("Spectrum: no such method: '"+n+"'");if(n=="get")i=t.get();else if(n=="container")i=t.container;else if(n=="option")i=t.option.apply(t,r);else if(n=="destroy"){t.destroy();Nt(this).removeData(a)}else e.apply(t,r)}});return i}return this.spectrum("destroy").each(function(){var t=Nt.extend({},Nt(this).data(),n);var e=o(this,t);Nt(this).data(a,e.id)})},Nt.fn.spectrum.load=true,Nt.fn.spectrum.loadOpts={},Nt.fn.spectrum.draggable=Gt,Nt.fn.spectrum.defaults=i,Nt.fn.spectrum.inputTypeColorSupport=function t(){if(typeof t._cachedResult==="undefined"){var e=Nt("<input type='color'/>")[0];t._cachedResult=e.type==="color"&&e.value!==""}return t._cachedResult},Nt.spectrum={},Nt.spectrum.localization={},Nt.spectrum.palettes={},Nt.fn.spectrum.processNativeColorInputs=function(){var t=Nt("input[type=color]");if(t.length&&!Jt())t.spectrum({preferredFormat:"hex6"})},/^[\s,#]+/),S=/\s+$/,k=0,d=Math,s=d.round,c=d.min,u=d.max,e=d.random,h=function t(e,n){e=e?e:"";n=n||{};if(e instanceof t)return e;if(!(this instanceof t))return new t(e,n);var i=C(e);this._originalInput=e;this._r=i.r;this._g=i.g;this._b=i.b;this._a=i.a;this._roundA=s(1e3*this._a)/1e3;this._format=n.format||i.format;this._gradientType=n.gradientType;if(this._r<1)this._r=s(this._r);if(this._g<1)this._g=s(this._g);if(this._b<1)this._b=s(this._b);this._ok=i.ok;this._tc_id=k++};function C(t){var e={r:0,g:0,b:0};var n=1;var i=false;var r=false;if(typeof t=="string")t=G(t);if((typeof t==="undefined"?"undefined":J(t))=="object"){if(t.hasOwnProperty("r")&&t.hasOwnProperty("g")&&t.hasOwnProperty("b")){e=E(t.r,t.g,t.b);i=true;r=String(t.r).substr(-1)==="%"?"prgb":"rgb"}else if(t.hasOwnProperty("h")&&t.hasOwnProperty("s")&&t.hasOwnProperty("v")){t.s=_(t.s);t.v=_(t.v);e=A(t.h,t.s,t.v);i=true;r="hsv"}else if(t.hasOwnProperty("h")&&t.hasOwnProperty("s")&&t.hasOwnProperty("l")){t.s=_(t.s);t.l=_(t.l);e=P(t.h,t.s,t.l);i=true;r="hsl"}if(t.hasOwnProperty("a"))n=t.a}n=g(n);return{ok:i,format:t.format||r,r:c(255,u(e.r,0)),g:c(255,u(e.g,0)),b:c(255,u(e.b,0)),a:n}}function E(t,e,n){return{r:b(t,255)*255,g:b(e,255)*255,b:b(n,255)*255}}function l(t,e,n){t=b(t,255);e=b(e,255);n=b(n,255);var i=u(t,e,n),r=c(t,e,n);var o,a,s=(i+r)/2;if(i==r)o=a=0;else{var l=i-r;a=s>.5?l/(2-i-r):l/(i+r);switch(i){case t:o=(e-n)/l+(e<n?6:0);break;case e:o=(n-t)/l+2;break;case n:o=(t-e)/l+4;break}o/=6}return{h:o,s:a,l:s}}function P(t,e,n){var i,r,o;t=b(t,360);e=b(e,100);n=b(n,100);function a(t,e,n){if(n<0)n+=1;if(n>1)n-=1;if(n<1/6)return t+(e-t)*6*n;if(n<1/2)return e;if(n<2/3)return t+(e-t)*(2/3-n)*6;return t}if(e===0)i=r=o=n;else{var s=n<.5?n*(1+e):n+e-n*e;var l=2*n-s;i=a(l,s,t+1/3);r=a(l,s,t);o=a(l,s,t-1/3)}return{r:i*255,g:r*255,b:o*255}}function f(t,e,n){t=b(t,255);e=b(e,255);n=b(n,255);var i=u(t,e,n),r=c(t,e,n);var o,a,s=i;var l=i-r;a=i===0?0:l/i;if(i==r)o=0;else{switch(i){case t:o=(e-n)/l+(e<n?6:0);break;case e:o=(n-t)/l+2;break;case n:o=(t-e)/l+4;break}o/=6}return{h:o,s:a,v:s}}function A(t,e,n){t=b(t,360)*6;e=b(e,100);n=b(n,100);var i=d.floor(t),r=t-i,o=n*(1-e),a=n*(1-r*e),s=n*(1-(1-r)*e),l=i%6,c=[n,a,o,o,s,n][l],u=[s,n,n,a,o,o][l],h=[o,o,s,n,n,a][l];return{r:c*255,g:u*255,b:h*255}}function n(t,e,n,i){var r=[w(s(t).toString(16)),w(s(e).toString(16)),w(s(n).toString(16))];if(i&&r[0].charAt(0)==r[0].charAt(1)&&r[1].charAt(0)==r[1].charAt(1)&&r[2].charAt(0)==r[2].charAt(1))return r[0].charAt(0)+r[1].charAt(0)+r[2].charAt(0);return r.join("")}function p(t,e,n,i){var r=[w(K(i)),w(s(t).toString(16)),w(s(e).toString(16)),w(s(n).toString(16))];return r.join("")}function T(t,e){e=e===0?0:e||10;var n=h(t).toHsl();n.s-=e/100;n.s=v(n.s);return h(n)}function j(t,e){e=e===0?0:e||10;var n=h(t).toHsl();n.s+=e/100;n.s=v(n.s);return h(n)}function L(t){return h(t).desaturate(100)}function O(t,e){e=e===0?0:e||10;var n=h(t).toHsl();n.l+=e/100;n.l=v(n.l);return h(n)}function R(t,e){e=e===0?0:e||10;var n=h(t).toRgb();n.r=u(0,c(255,n.r-s(255*-(e/100))));n.g=u(0,c(255,n.g-s(255*-(e/100))));n.b=u(0,c(255,n.b-s(255*-(e/100))));return h(n)}function I(t,e){e=e===0?0:e||10;var n=h(t).toHsl();n.l-=e/100;n.l=v(n.l);return h(n)}function D(t,e){var n=h(t).toHsl();var i=(s(n.h)+e)%360;n.h=i<0?360+i:i;return h(n)}function B(t){var e=h(t).toHsl();e.h=(e.h+180)%360;return h(e)}function N(t){var e=h(t).toHsl();var n=e.h;return[h(t),h({h:(n+120)%360,s:e.s,l:e.l}),h({h:(n+240)%360,s:e.s,l:e.l})]}function F(t){var e=h(t).toHsl();var n=e.h;return[h(t),h({h:(n+90)%360,s:e.s,l:e.l}),h({h:(n+180)%360,s:e.s,l:e.l}),h({h:(n+270)%360,s:e.s,l:e.l})]}function $(t){var e=h(t).toHsl();var n=e.h;return[h(t),h({h:(n+72)%360,s:e.s,l:e.l}),h({h:(n+216)%360,s:e.s,l:e.l})]}function U(t,e,n){e=e||6;n=n||30;var i=h(t).toHsl();var r=360/n;var o=[h(t)];for(i.h=(i.h-(r*e>>1)+720)%360;--e;){i.h=(i.h+r)%360;o.push(h(i))}return o}function z(t,e){e=e||6;var n=h(t).toHsv();var i=n.h,r=n.s,o=n.v;var a=[];var s=1/e;while(e--){a.push(h({h:i,s:r,v:o}));o=(o+s)%1}return a}h.prototype={isDark:function t(){return this.getBrightness()<128},isLight:function t(){return!this.isDark()},isValid:function t(){return this._ok},getOriginalInput:function t(){return this._originalInput},getFormat:function t(){return this._format},getAlpha:function t(){return this._a},getBrightness:function t(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},setAlpha:function t(e){this._a=g(e);this._roundA=s(1e3*this._a)/1e3;return this},toHsv:function t(){var e=f(this._r,this._g,this._b);return{h:e.h*360,s:e.s,v:e.v,a:this._a}},toHsvString:function t(){var e=f(this._r,this._g,this._b);var n=s(e.h*360),i=s(e.s*100),r=s(e.v*100);return this._a==1?"hsv("+n+", "+i+"%, "+r+"%)":"hsva("+n+", "+i+"%, "+r+"%, "+this._roundA+")"},toHsl:function t(){var e=l(this._r,this._g,this._b);return{h:e.h*360,s:e.s,l:e.l,a:this._a}},toHslString:function t(){var e=l(this._r,this._g,this._b);var n=s(e.h*360),i=s(e.s*100),r=s(e.l*100);return this._a==1?"hsl("+n+", "+i+"%, "+r+"%)":"hsla("+n+", "+i+"%, "+r+"%, "+this._roundA+")"},toHex:function t(e){return n(this._r,this._g,this._b,e)},toHexString:function t(e){return"#"+this.toHex(e)},toHex8:function t(){return p(this._r,this._g,this._b,this._a)},toHex8String:function t(){return"#"+this.toHex8()},toRgb:function t(){return{r:s(this._r),g:s(this._g),b:s(this._b),a:this._a}},toRgbString:function t(){return this._a==1?"rgb("+s(this._r)+", "+s(this._g)+", "+s(this._b)+")":"rgba("+s(this._r)+", "+s(this._g)+", "+s(this._b)+", "+this._roundA+")"},toPercentageRgb:function t(){return{r:s(b(this._r,255)*100)+"%",g:s(b(this._g,255)*100)+"%",b:s(b(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function t(){return this._a==1?"rgb("+s(b(this._r,255)*100)+"%, "+s(b(this._g,255)*100)+"%, "+s(b(this._b,255)*100)+"%)":"rgba("+s(b(this._r,255)*100)+"%, "+s(b(this._g,255)*100)+"%, "+s(b(this._b,255)*100)+"%, "+this._roundA+")"},toName:function t(){if(this._a===0)return"transparent";if(this._a<1)return false;return H[n(this._r,this._g,this._b,true)]||false},toFilter:function t(e){var n="#"+p(this._r,this._g,this._b,this._a);var i=n;var r=this._gradientType?"GradientType = 1, ":"";if(e){var o=h(e);i=o.toHex8String()}return"progid:DXImageTransform.Microsoft.gradient("+r+"startColorstr="+n+",endColorstr="+i+")"},toString:function t(e){var n=!!e;e=e||this._format;var i=false;var r=this._a<1&&this._a>=0;var o=!n&&r&&(e==="hex"||e==="hex6"||e==="hex3"||e==="name");if(o){if(e==="name"&&this._a===0)return this.toName();return this.toRgbString()}if(e==="rgb")i=this.toRgbString();if(e==="prgb")i=this.toPercentageRgbString();if(e==="hex"||e==="hex6")i=this.toHexString();if(e==="hex3")i=this.toHexString(true);if(e==="hex8")i=this.toHex8String();if(e==="name")i=this.toName();if(e==="hsl")i=this.toHslString();if(e==="hsv")i=this.toHsvString();return i||this.toHexString()},_applyModification:function t(e,n){var i=e.apply(null,[this].concat([].slice.call(n)));this._r=i._r;this._g=i._g;this._b=i._b;this.setAlpha(i._a);return this},lighten:function t(){return this._applyModification(O,arguments)},brighten:function t(){return this._applyModification(R,arguments)},darken:function t(){return this._applyModification(I,arguments)},desaturate:function t(){return this._applyModification(T,arguments)},saturate:function t(){return this._applyModification(j,arguments)},greyscale:function t(){return this._applyModification(L,arguments)},spin:function t(){return this._applyModification(D,arguments)},_applyCombination:function t(e,n){return e.apply(null,[this].concat([].slice.call(n)))},analogous:function t(){return this._applyCombination(U,arguments)},complement:function t(){return this._applyCombination(B,arguments)},monochromatic:function t(){return this._applyCombination(z,arguments)},splitcomplement:function t(){return this._applyCombination($,arguments)},triad:function t(){return this._applyCombination(N,arguments)},tetrad:function t(){return this._applyCombination(F,arguments)}},h.fromRatio=function(t,e){if((typeof t==="undefined"?"undefined":J(t))=="object"){var n={};for(var i in t)if(t.hasOwnProperty(i))if(i==="a")n[i]=t[i];else n[i]=_(t[i]);t=n}return h(t,e)},h.equals=function(t,e){if(!t||!e)return false;return h(t).toRgbString()==h(e).toRgbString()},h.random=function(){return h.fromRatio({r:e(),g:e(),b:e()})},h.mix=function(t,e,n){n=n===0?0:n||50;var i=h(t).toRgb();var r=h(e).toRgb();var o=n/100;var a=o*2-1;var s=r.a-i.a;var l;if(a*s==-1)l=a;else l=(a+s)/(1+a*s);l=(l+1)/2;var c=1-l;var u={r:r.r*l+i.r*c,g:r.g*l+i.g*c,b:r.b*l+i.b*c,a:r.a*o+i.a*(1-o)};return h(u)},h.readability=function(t,e){var n=h(t);var i=h(e);var r=n.toRgb();var o=i.toRgb();var a=n.getBrightness();var s=i.getBrightness();var l=Math.max(r.r,o.r)-Math.min(r.r,o.r)+Math.max(r.g,o.g)-Math.min(r.g,o.g)+Math.max(r.b,o.b)-Math.min(r.b,o.b);return{brightness:Math.abs(a-s),color:l}},h.isReadable=function(t,e){var n=h.readability(t,e);return n.brightness>125&&n.color>500},h.mostReadable=function(t,e){var n=null;var i=0;var r=false;for(var o=0;o<e.length;o++){var a=h.readability(t,e[o]);var s=a.brightness>125&&a.color>500;var l=3*(a.brightness/125)+a.color/500;if(s&&!r||s&&r&&l>i||!s&&!r&&l>i){r=s;i=l;n=h(e[o])}}return n};var m=h.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},H=h.hexNames=q(m);function q(t){var e={};for(var n in t)if(t.hasOwnProperty(n))e[t[n]]=n;return e}function g(t){t=parseFloat(t);if(isNaN(t)||t<0||t>1)t=1;return t}function b(t,e){if(W(t))t="100%";var n=V(t);t=c(e,u(0,parseFloat(t)));if(n)t=parseInt(t*e,10)/100;if(d.abs(t-e)<1e-6)return 1;return t%e/parseFloat(e)}function v(t){return c(1,u(0,t))}function y(t){return parseInt(t,16)}function W(t){return typeof t=="string"&&t.indexOf(".")!=-1&&parseFloat(t)===1}function V(t){return typeof t==="string"&&t.indexOf("%")!=-1}function w(t){return t.length==1?"0"+t:""+t}function _(t){if(t<=1)t=t*100+"%";return t}function K(t){return Math.round(parseFloat(t)*255).toString(16)}function Z(t){return y(t)/255}var x=function(){var t="[-\\+]?\\d+%?";var e="[-\\+]?\\d*\\.\\d+%?";var n="(?:"+e+")|(?:"+t+")";var i="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?";var r="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?";return{rgb:new RegExp("rgb"+i),rgba:new RegExp("rgba"+r),hsl:new RegExp("hsl"+i),hsla:new RegExp("hsla"+r),hsv:new RegExp("hsv"+i),hsva:new RegExp("hsva"+r),hex3:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex8:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function G(t){t=t.replace(M,"").replace(S,"").toLowerCase();var e=false;if(m[t]){t=m[t];e=true}else if(t=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n;if(n=x.rgb.exec(t))return{r:n[1],g:n[2],b:n[3]};if(n=x.rgba.exec(t))return{r:n[1],g:n[2],b:n[3],a:n[4]};if(n=x.hsl.exec(t))return{h:n[1],s:n[2],l:n[3]};if(n=x.hsla.exec(t))return{h:n[1],s:n[2],l:n[3],a:n[4]};if(n=x.hsv.exec(t))return{h:n[1],s:n[2],v:n[3]};if(n=x.hsva.exec(t))return{h:n[1],s:n[2],v:n[3],a:n[4]};if(n=x.hex8.exec(t))return{a:Z(n[1]),r:y(n[2]),g:y(n[3]),b:y(n[4]),format:e?"name":"hex8"};if(n=x.hex6.exec(t))return{r:y(n[1]),g:y(n[2]),b:y(n[3]),format:e?"name":"hex"};if(n=x.hex3.exec(t))return{r:y(n[1]+""+n[1]),g:y(n[2]+""+n[2]),b:y(n[3]+""+n[3]),format:e?"name":"hex"};return false}window.tinycolor=h,Nt(function(){if(Nt.fn.spectrum.load)Nt.fn.spectrum.processNativeColorInputs()})})?i.apply(e,n):i)&&(t.exports=e)},function(t,e,n){"use strict";var O,R,i,s,u,r,o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function l(t,e){this.bodyOverflowX,this.callbacks={hide:[],show:[]},this.checkInterval=null,this.Content,this.$el=O(t),this.$elProxy,this.elProxyPosition,this.enabled=!0,this.options=O.extend({},s,e),this.mouseIsOverProxy=!1,this.namespace="tooltipster-"+Math.round(1e5*Math.random()),this.Status="hidden",this.timerHide=null,this.timerShow=null,this.$tooltip,this.options.iconTheme=this.options.iconTheme.replace(".",""),this.options.theme=this.options.theme.replace(".",""),this._init()}function a(n,i){var r=!0;return O.each(n,function(t,e){if(void 0===i[t]||n[t]!==i[t])return r=!1}),r}function c(){return!r&&u}function h(){var t=(i.body||i.documentElement).style;if("string"==typeof t[e="transition"])return 1;v=["Moz","Webkit","Khtml","O","ms"];for(var e=e.charAt(0).toUpperCase()+e.substr(1),n=0;n<v.length;n++)if("string"==typeof t[v[n]+e])return 1}O=jQuery,R=window,i=document,s={animation:"fade",arrow:!0,arrowColor:"",autoClose:!0,content:null,contentAsHTML:!1,contentCloning:!0,debug:!0,delay:200,minWidth:0,maxWidth:null,functionInit:function(t,e){},functionBefore:function(t,e){e()},functionReady:function(t,e){},functionAfter:function(t){},hideOnClick:!1,icon:"(?)",iconCloning:!0,iconDesktop:!1,iconTouch:!1,iconTheme:"tooltipster-icon",interactive:!1,interactiveTolerance:350,multiple:!1,offsetX:0,offsetY:0,onlyOne:!1,position:"top",positionTracker:!1,positionTrackerCallback:function(t){"hover"==this.option("trigger")&&this.option("autoClose")&&this.hide()},restoration:"current",speed:350,timer:0,theme:"tooltipster-default",touchDevices:!0,trigger:"hover",updateAnimation:!0},l.prototype={_init:function(){var t,e=this;i.querySelector&&(t=null,void 0===e.$el.data("tooltipster-initialTitle")&&(t=e.$el.attr("title"),e.$el.data("tooltipster-initialTitle",t=void 0===t?null:t)),null!==e.options.content?e._content_set(e.options.content):e._content_set(t),void 0!==(t=e.options.functionInit.call(e.$el,e.$el,e.Content))&&e._content_set(t),e.$el.removeAttr("title").addClass("tooltipstered"),!u&&e.options.iconDesktop||u&&e.options.iconTouch?("string"==typeof e.options.icon?(e.$elProxy=O('<span class="'+e.options.iconTheme+'"></span>'),e.$elProxy.text(e.options.icon)):e.options.iconCloning?e.$elProxy=e.options.icon.clone(!0):e.$elProxy=e.options.icon,e.$elProxy.insertAfter(e.$el)):e.$elProxy=e.$el,"hover"==e.options.trigger?(e.$elProxy.on("mouseenter."+e.namespace,function(){c()&&!e.options.touchDevices||(e.mouseIsOverProxy=!0,e._show())}).on("mouseleave."+e.namespace,function(){c()&&!e.options.touchDevices||(e.mouseIsOverProxy=!1)}),u&&e.options.touchDevices&&e.$elProxy.on("touchstart."+e.namespace,function(){e._showNow()})):"click"==e.options.trigger&&e.$elProxy.on("click."+e.namespace,function(){c()&&!e.options.touchDevices||e._show()}))},_show:function(){var t=this;"shown"!=t.Status&&"appearing"!=t.Status&&(t.options.delay?t.timerShow=setTimeout(function(){("click"==t.options.trigger||"hover"==t.options.trigger&&t.mouseIsOverProxy)&&t._showNow()},t.options.delay):t._showNow())},_showNow:function(l){var c=this;c.options.functionBefore.call(c.$el,c.$el,function(){var t,e,n,i,r,o,a,s;c.enabled&&null!==c.Content&&(l&&c.callbacks.show.push(l),c.callbacks.hide=[],clearTimeout(c.timerShow),c.timerShow=null,clearTimeout(c.timerHide),c.timerHide=null,c.options.onlyOne&&O(".tooltipstered").not(c.$el).each(function(t,e){var r=O(e),e=r.data("tooltipster-ns");O.each(e,function(t,e){var e=r.data(e),n=e.status(),i=e.option("autoClose");"hidden"!==n&&"disappearing"!==n&&i&&e.hide()})}),t=function(){c.Status="shown",O.each(c.callbacks.show,function(t,e){e.call(c.$el)}),c.callbacks.show=[]},"hidden"!==c.Status?(e=0,"disappearing"===c.Status?(c.Status="appearing",h()?(c.$tooltip.clearQueue().removeClass("tooltipster-dying").addClass("tooltipster-"+c.options.animation+"-show"),0<c.options.speed&&c.$tooltip.delay(c.options.speed),c.$tooltip.queue(t)):c.$tooltip.stop().fadeIn(t)):"shown"===c.Status&&t()):(c.Status="appearing",e=c.options.speed,c.bodyOverflowX=O("body").css("overflow-x"),O("body").css("overflow-x","hidden"),n="tooltipster-"+c.options.animation,i="-webkit-transition-duration: "+c.options.speed+"ms; -webkit-animation-duration: "+c.options.speed+"ms; -moz-transition-duration: "+c.options.speed+"ms; -moz-animation-duration: "+c.options.speed+"ms; -o-transition-duration: "+c.options.speed+"ms; -o-animation-duration: "+c.options.speed+"ms; -ms-transition-duration: "+c.options.speed+"ms; -ms-animation-duration: "+c.options.speed+"ms; transition-duration: "+c.options.speed+"ms; animation-duration: "+c.options.speed+"ms;",r=c.options.minWidth?"min-width:"+Math.round(c.options.minWidth)+"px;":"",o=c.options.maxWidth?"max-width:"+Math.round(c.options.maxWidth)+"px;":"",a=c.options.interactive?"pointer-events: auto;":"",c.$tooltip=O('<div class="tooltipster-base '+c.options.theme+'" style="'+r+" "+o+" "+a+" "+i+'"><div class="tooltipster-content"></div></div>'),h()&&c.$tooltip.addClass(n),c._content_insert(),c.$tooltip.appendTo("body"),c.reposition(),c.options.functionReady.call(c.$el,c.$el,c.$tooltip),h()?(c.$tooltip.addClass(n+"-show"),0<c.options.speed&&c.$tooltip.delay(c.options.speed),c.$tooltip.queue(t)):c.$tooltip.css("display","none").fadeIn(c.options.speed,t),c._interval_set(),O(R).on("scroll."+c.namespace+" resize."+c.namespace,function(){c.reposition()}),c.options.autoClose&&(O("body").off("."+c.namespace),"hover"==c.options.trigger?(u&&setTimeout(function(){O("body").on("touchstart."+c.namespace,function(){c.hide()})},0),c.options.interactive?(u&&c.$tooltip.on("touchstart."+c.namespace,function(t){t.stopPropagation()}),s=null,c.$elProxy.add(c.$tooltip).on("mouseleave."+c.namespace+"-autoClose",function(){clearTimeout(s),s=setTimeout(function(){c.hide()},c.options.interactiveTolerance)}).on("mouseenter."+c.namespace+"-autoClose",function(){clearTimeout(s)})):c.$elProxy.on("mouseleave."+c.namespace+"-autoClose",function(){c.hide()}),c.options.hideOnClick&&c.$elProxy.on("click."+c.namespace+"-autoClose",function(){c.hide()})):"click"==c.options.trigger&&(setTimeout(function(){O("body").on("click."+c.namespace+" touchstart."+c.namespace,function(){c.hide()})},0),c.options.interactive)&&c.$tooltip.on("click."+c.namespace+" touchstart."+c.namespace,function(t){t.stopPropagation()}))),0<c.options.timer)&&(c.timerHide=setTimeout(function(){c.timerHide=null,c.hide()},c.options.timer+e))})},_interval_set:function(){var n=this;n.checkInterval=setInterval(function(){var t,e;0===O("body").find(n.$el).length||0===O("body").find(n.$elProxy).length||"hidden"==n.Status||0===O("body").find(n.$tooltip).length?("shown"!=n.Status&&"appearing"!=n.Status||n.hide(),n._interval_cancel()):n.options.positionTracker&&(e=!1,a((t=n._repositionInfo(n.$elProxy)).dimension,n.elProxyPosition.dimension)&&("fixed"===n.$elProxy.css("position")?a(t.position,n.elProxyPosition.position)&&(e=!0):a(t.offset,n.elProxyPosition.offset)&&(e=!0)),e||(n.reposition(),n.options.positionTrackerCallback.call(n,n.$el)))},200)},_interval_cancel:function(){clearInterval(this.checkInterval),this.checkInterval=null},_content_set:function(t){"object"===(void 0===t?"undefined":o(t))&&null!==t&&this.options.contentCloning&&(t=t.clone(!0)),this.Content=t},_content_insert:function(){var t=this.$tooltip.find(".tooltipster-content");"string"!=typeof this.Content||this.options.contentAsHTML?t.empty().append(this.Content):t.text(this.Content)},_update:function(t){var e=this;e._content_set(t),null!==e.Content?"hidden"!==e.Status&&(e._content_insert(),e.reposition(),e.options.updateAnimation)&&(h()?(e.$tooltip.css({width:"","-webkit-transition":"all "+e.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms","-moz-transition":"all "+e.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms","-o-transition":"all "+e.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms","-ms-transition":"all "+e.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms",transition:"all "+e.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms"}).addClass("tooltipster-content-changing"),setTimeout(function(){"hidden"!=e.Status&&(e.$tooltip.removeClass("tooltipster-content-changing"),setTimeout(function(){"hidden"!==e.Status&&e.$tooltip.css({"-webkit-transition":e.options.speed+"ms","-moz-transition":e.options.speed+"ms","-o-transition":e.options.speed+"ms","-ms-transition":e.options.speed+"ms",transition:e.options.speed+"ms"})},e.options.speed))},e.options.speed)):e.$tooltip.fadeTo(e.options.speed,.5,function(){"hidden"!=e.Status&&e.$tooltip.fadeTo(e.options.speed,1)})):e.hide()},_repositionInfo:function(t){return{dimension:{height:t.outerHeight(!1),width:t.outerWidth(!1)},offset:t.offset(),position:{left:parseInt(t.css("left")),top:parseInt(t.css("top"))}}},hide:function(t){var n=this,e=(t&&n.callbacks.hide.push(t),n.callbacks.show=[],clearTimeout(n.timerShow),n.timerShow=null,clearTimeout(n.timerHide),n.timerHide=null,function(){O.each(n.callbacks.hide,function(t,e){e.call(n.$el)}),n.callbacks.hide=[]});return"shown"==n.Status||"appearing"==n.Status?(n.Status="disappearing",t=function(){n.Status="hidden","object"==o(n.Content)&&null!==n.Content&&n.Content.detach(),n.$tooltip.remove(),n.$tooltip=null,O(R).off("."+n.namespace),O("body").off("."+n.namespace).css("overflow-x",n.bodyOverflowX),O("body").off("."+n.namespace),n.$elProxy.off("."+n.namespace+"-autoClose"),n.options.functionAfter.call(n.$el,n.$el),e()},h()?(n.$tooltip.clearQueue().removeClass("tooltipster-"+n.options.animation+"-show").addClass("tooltipster-dying"),0<n.options.speed&&n.$tooltip.delay(n.options.speed),n.$tooltip.queue(t)):n.$tooltip.stop().fadeOut(n.options.speed,t)):"hidden"==n.Status&&e(),n},show:function(t){return this._showNow(t),this},update:function(t){return this.content(t)},content:function(t){return void 0===t?this.Content:(this._update(t),this)},reposition:function(){var t=this;if(0!==O("body").find(t.$tooltip).length){var e=function(){var t=O(R).scrollLeft();A-t<0&&(i=A-t,A=t),r<A+a-t&&(i=A-(r+t-a),A=r+t-a)},n=function(t,e){o.offset.top-O(R).scrollTop()-s-j-12<0&&-1<e.indexOf("top")&&(L=t),o.offset.top+o.dimension.height+s+12+j>O(R).scrollTop()+O(R).height()&&-1<e.indexOf("bottom")&&(L=t,T=o.offset.top-s-j-12)},i=(t.$tooltip.css("width",""),t.elProxyPosition=t._repositionInfo(t.$elProxy),null),r=O(R).width(),o=t.elProxyPosition,a=t.$tooltip.outerWidth(!1),s=(t.$tooltip.innerWidth(),t.$tooltip.outerHeight(!1));if(t.$elProxy.is("area")){var l=t.$elProxy.attr("shape"),c=t.$elProxy.parent().attr("name"),c=O('img[usemap="#'+c+'"]'),u=c.offset().left,h=c.offset().top,d=void 0!==t.$elProxy.attr("coords")?t.$elProxy.attr("coords").split(","):void 0;if("circle"==l){var f=parseInt(d[0]),p=parseInt(d[1]),m=parseInt(d[2]);o.dimension.height=2*m,o.dimension.width=2*m,o.offset.top=h+p-m,o.offset.left=u+f-m}else if("rect"==l){var f=parseInt(d[0]),p=parseInt(d[1]),m=parseInt(d[2]),g=parseInt(d[3]);o.dimension.height=g-p,o.dimension.width=m-f,o.offset.top=h+p,o.offset.left=u+f}else if("poly"==l){for(var b=0,v=0,y=0,w=0,_="even",x=0;x<d.length;x++)var M=parseInt(d[x]),_="even"==_?(M<(b=y<M&&(y=M,0===x)?y:b)&&(b=M),"odd"):(M<(v=w<M&&(w=M,1==x)?w:v)&&(v=M),"even");o.dimension.height=w-v,o.dimension.width=y-b,o.offset.top=h+v,o.offset.left=u+b}else o.dimension.height=c.outerHeight(!1),o.dimension.width=c.outerWidth(!1),o.offset.top=h,o.offset.left=u}var S,k,C,E,P,A=0,g=0,T=0,j=parseInt(t.options.offsetY),m=parseInt(t.options.offsetX),L=t.options.position;"top"==L&&(P=o.offset.left+a-(o.offset.left+o.dimension.width),A=o.offset.left+m-P/2,T=o.offset.top-s-j-12,e(),n("bottom","top")),"top-left"==L&&(A=o.offset.left+m,T=o.offset.top-s-j-12,e(),n("bottom-left","top-left")),"top-right"==L&&(A=o.offset.left+o.dimension.width+m-a,T=o.offset.top-s-j-12,e(),n("bottom-right","top-right")),"bottom"==L&&(P=o.offset.left+a-(o.offset.left+o.dimension.width),A=o.offset.left-P/2+m,T=o.offset.top+o.dimension.height+j+12,e(),n("top","bottom")),"bottom-left"==L&&(A=o.offset.left+m,T=o.offset.top+o.dimension.height+j+12,e(),n("top-left","bottom-left")),"bottom-right"==L&&(A=o.offset.left+o.dimension.width+m-a,T=o.offset.top+o.dimension.height+j+12,e(),n("top-right","bottom-right")),"left"==L&&(A=o.offset.left-m-a-12,g=o.offset.left+m+o.dimension.width+12,S=o.offset.top+s-(o.offset.top+o.dimension.height),T=o.offset.top-S/2-j,A<0&&r<g+a?(k=2*parseFloat(t.$tooltip.css("border-width")),C=a+A-k,t.$tooltip.css("width",C+"px"),s=t.$tooltip.outerHeight(!1),A=o.offset.left-m-C-12-k,S=o.offset.top+s-(o.offset.top+o.dimension.height),T=o.offset.top-S/2-j):A<0&&(A=o.offset.left+m+o.dimension.width+12,i="left")),"right"==L&&(A=o.offset.left+m+o.dimension.width+12,g=o.offset.left-m-a-12,S=o.offset.top+s-(o.offset.top+o.dimension.height),T=o.offset.top-S/2-j,r<A+a&&g<0?(k=2*parseFloat(t.$tooltip.css("border-width")),C=r-A-k,t.$tooltip.css("width",C+"px"),s=t.$tooltip.outerHeight(!1),S=o.offset.top+s-(o.offset.top+o.dimension.height),T=o.offset.top-S/2-j):r<A+a&&(A=o.offset.left-m-a-12,i="right")),t.options.arrow&&(p="tooltipster-arrow-"+L,f=t.options.arrowColor.length<1?t.$tooltip.css("background-color"):t.options.arrowColor,i=i?"left"==i?(p="tooltipster-arrow-right",""):"right"==i?(p="tooltipster-arrow-left",""):"left:"+Math.round(i)+"px;":"",l="top"==L||"top-left"==L||"top-right"==L?(E=parseFloat(t.$tooltip.css("border-bottom-width")),t.$tooltip.css("border-bottom-color")):"bottom"==L||"bottom-left"==L||"bottom-right"==L?(E=parseFloat(t.$tooltip.css("border-top-width")),t.$tooltip.css("border-top-color")):"left"==L?(E=parseFloat(t.$tooltip.css("border-right-width")),t.$tooltip.css("border-right-color")):"right"==L?(E=parseFloat(t.$tooltip.css("border-left-width")),t.$tooltip.css("border-left-color")):(E=parseFloat(t.$tooltip.css("border-bottom-width")),t.$tooltip.css("border-bottom-color")),1<E&&E++,c="",0!==E&&(h="",u="border-color: "+l+";",-1!==p.indexOf("bottom")?h="margin-top: -"+Math.round(E)+"px;":-1!==p.indexOf("top")?h="margin-bottom: -"+Math.round(E)+"px;":-1!==p.indexOf("left")?h="margin-right: -"+Math.round(E)+"px;":-1!==p.indexOf("right")&&(h="margin-left: -"+Math.round(E)+"px;"),c='<span class="tooltipster-arrow-border" style="'+h+" "+u+';"></span>'),t.$tooltip.find(".tooltipster-arrow").remove(),P='<div class="'+p+' tooltipster-arrow" style="'+i+'">'+c+'<span style="border-color:'+f+';"></span></div>',t.$tooltip.append(P)),t.$tooltip.css({top:Math.round(T)+"px",left:Math.round(A)+"px"})}return t},enable:function(){return this.enabled=!0,this},disable:function(){return this.hide(),this.enabled=!1,this},destroy:function(){var t,n=this,e=(n.hide(),n.$el[0]!==n.$elProxy[0]&&n.$elProxy.remove(),n.$el.removeData(n.namespace).off("."+n.namespace),n.$el.data("tooltipster-ns"));return 1===e.length?(t=null,"previous"===n.options.restoration?t=n.$el.data("tooltipster-initialTitle"):"current"===n.options.restoration&&(t="string"==typeof n.Content?n.Content:O("<div></div>").append(n.Content).html()),t&&n.$el.attr("title",t),n.$el.removeClass("tooltipstered").removeData("tooltipster-ns").removeData("tooltipster-initialTitle")):(e=O.grep(e,function(t,e){return t!==n.namespace}),n.$el.data("tooltipster-ns",e)),n},elementIcon:function(){return this.$el[0]!==this.$elProxy[0]?this.$elProxy[0]:void 0},elementTooltip:function(){return this.$tooltip?this.$tooltip[0]:void 0},option:function(t,e){return void 0===e?this.options[t]:(this.options[t]=e,this)},status:function(){return this.Status}},O.fn.tooltipster=function(){var n,i,r,t,o,a=arguments;return 0===this.length?"string"==typeof a[0]&&(t=!0,"setDefaults"===a[0]?O.extend(s,a[1]):t=!1,!!t)||this:"string"==typeof a[0]?(n="#*$~&",this.each(function(){var t=O(this).data("tooltipster-ns"),t=t?O(this).data(t[0]):null;if(!t)throw new Error("You called Tooltipster's \""+a[0]+'" method on an uninitialized element');if("function"!=typeof t[a[0]])throw new Error('Unknown method .tooltipster("'+a[0]+'")');var e=t[a[0]](a[1],a[2]);if(e!==t)return n=e,!1}),"#*$~&"!==n?n:this):(i=[],t=a[0]&&void 0!==a[0].multiple,r=t&&a[0].multiple||!t&&s.multiple,t=a[0]&&void 0!==a[0].debug,o=t&&a[0].debug||!t&&s.debug,this.each(function(){var t=!1,e=O(this).data("tooltipster-ns"),n=null;!e||r?t=!0:o&&console.log('Tooltipster: one or more tooltips are already attached to this element: ignoring. Use the "multiple" option to attach more tooltips.'),t&&(n=new l(this,a[0]),(e=e||[]).push(n.namespace),O(this).data("tooltipster-ns",e),O(this).data(n.namespace,n)),i.push(n)}),r?i:this)},u=!!("ontouchstart"in R),r=!1,O("body").one("mousemove",function(){r=!0})},function(t,e,n){"use strict";var i,r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};window,
/*!
 * Cropper v3.1.6
 * https://github.com/fengyuanchen/cropper
 *
 * Copyright (c) 2014-2018 Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2018-03-01T13:33:48.179Z
 */
i=function(k){k=k&&k.hasOwnProperty("default")?k.default:k;var t="undefined"!=typeof window?window:{},l="cropper",r=l+"-crop",e=l+"-disabled",C=l+"-hidden",s=l+"-hide",c=l+"-modal",u=l+"-move",h="action",p="preview",d="crop",o="cropend",a="cropmove",f="cropstart",i=t.PointerEvent?"pointerdown":"touchstart mousedown",m=t.PointerEvent?"pointermove":"touchmove mousemove",g=t.PointerEvent?"pointerup pointercancel":"touchend touchcancel mouseup",b="wheel mousewheel DOMMouseScroll",D=/^(e|w|s|n|se|sw|ne|nw|all|crop|move|zoom)$/,B=/^data:/,N=/^data:image\/jpeg;base64,/,F=/^(img|canvas)$/i,v={viewMode:0,dragMode:"crop",aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:200,minContainerHeight:100,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},$=function(t,e,n){return e&&y(t.prototype,e),n&&y(t,n),t};function y(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function w(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}var U=Number.isNaN||t.isNaN;function _(t){return"number"==typeof t&&!U(t)}function x(t){return void 0===t}function M(i,r){for(var t=arguments.length,o=Array(2<t?t-2:0),e=2;e<t;e++)o[e-2]=arguments[e];return function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return i.apply(r,o.concat(e))}}var E=Object.keys||function(t){var e=[];return k.each(t,function(t){e.push(t)}),e},z=/\.\d*(?:0|9){12}\d*$/i;function S(t,e){e=1<arguments.length&&void 0!==e?e:1e11;return z.test(t)?Math.round(t*e)/e:t}var n=t.location,H=/^(https?:)\/\/([^:/?#]+):?(\d*)/i;function P(t){t=t.match(H);return t&&(t[1]!==n.protocol||t[2]!==n.hostname||t[3]!==n.port)}function A(t){var e="timestamp="+(new Date).getTime();return t+(-1===t.indexOf("?")?"?":"&")+e}function T(t){var e=t.rotate,n=t.scaleX,i=t.scaleY,r=t.translateX,t=t.translateY,o=[];return _(r)&&0!==r&&o.push("translateX("+r+"px)"),_(t)&&0!==t&&o.push("translateY("+t+"px)"),_(e)&&0!==e&&o.push("rotate("+e+"deg)"),_(n)&&1!==n&&o.push("scaleX("+n+")"),_(i)&&1!==i&&o.push("scaleY("+i+")"),o.length?o.join(" "):"none"}var j=t.navigator,q=j&&/(Macintosh|iPhone|iPod|iPad).*AppleWebKit/i.test(j.userAgent);function L(t,e){var n=t.pageX,t=t.pageY,i={endX:n,endY:t};return e?i:k.extend({startX:n,startY:t},i)}var W=Number.isFinite||t.isFinite;function O(t,e){function n(t){return W(t)&&0<t}var i,r=t.aspectRatio,o=t.height,t=t.width,e=1<arguments.length&&void 0!==e?e:"contain";return n(t)&&n(o)?(i=o*r,"contain"===e&&t<i||"cover"===e&&i<t?o=t/r:t=o*r):n(t)?o=t/r:n(o)&&(t=o*r),{width:t,height:o}}var V=String.fromCharCode;var K=/^data:.*,/;function Z(t){var e,n=new DataView(t),i=void 0,r=void 0,o=void 0,a=void 0;if(255===n.getUint8(0)&&216===n.getUint8(1))for(var s=n.byteLength,l=2;l<s;){if(255===n.getUint8(l)&&225===n.getUint8(l+1)){o=l;break}l+=1}if(a=o&&(t=o+10,"Exif"===function(t,e,n){var i="",r=void 0;for(n+=e,r=e;r<n;r+=1)i+=V(t.getUint8(r));return i}(n,o+4,4))&&((r=18761===(e=n.getUint16(t)))||19789===e)&&42===n.getUint16(t+2,r)&&8<=(e=n.getUint32(t+4,r))?t+e:a)for(var c,u=n.getUint16(a,r),h=void 0,h=0;h<u;h+=1)if(274===n.getUint16(c=a+12*h+2,r)){c+=8,i=n.getUint16(c,r),n.setUint16(c,1,r);break}return i}var G,j={render:function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},initContainer:function(){var t=this.$element,e=this.options,n=this.$container,i=this.$cropper;i.addClass(C),t.removeClass(C),i.css(this.container={width:Math.max(n.width(),Number(e.minContainerWidth)||200),height:Math.max(n.height(),Number(e.minContainerHeight)||100)}),t.addClass(C),i.removeClass(C)},initCanvas:function(){var t=this.container,e=this.image,n=this.options.viewMode,i=Math.abs(e.rotate)%180==90,r=i?e.naturalHeight:e.naturalWidth,i=i?e.naturalWidth:e.naturalHeight,o=r/i,a=t.width,s=t.height,o=(t.height*o>t.width?3===n?a=t.height*o:s=t.width/o:3===n?s=t.width/o:a=t.height*o,{aspectRatio:o,naturalWidth:r,naturalHeight:i,width:a,height:s});o.left=(t.width-a)/2,o.top=(t.height-s)/2,o.oldLeft=o.left,o.oldTop=o.top,this.canvas=o,this.limited=1===n||2===n,this.limitCanvas(!0,!0),this.initialImage=k.extend({},e),this.initialCanvas=k.extend({},o)},limitCanvas:function(t,e){var n=this.options,i=this.container,r=this.canvas,o=this.cropBox,a=n.viewMode,s=r.aspectRatio,l=this.cropped&&o;t&&(t=Number(n.minCanvasWidth)||0,n=Number(n.minCanvasHeight)||0,0<a&&(1<a?(t=Math.max(t,i.width),n=Math.max(n,i.height),3===a&&(t<n*s?t=n*s:n=t/s)):t?t=Math.max(t,l?o.width:0):n?n=Math.max(n,l?o.height:0):l&&((t=o.width)<(n=o.height)*s?t=n*s:n=t/s)),t=(s=O({aspectRatio:s,width:t,height:n})).width,n=s.height,r.minWidth=t,r.minHeight=n,r.maxWidth=1/0,r.maxHeight=1/0),e&&(0<a?(s=i.width-r.width,t=i.height-r.height,r.minLeft=Math.min(0,s),r.minTop=Math.min(0,t),r.maxLeft=Math.max(0,s),r.maxTop=Math.max(0,t),l&&this.limited&&(r.minLeft=Math.min(o.left,o.left+o.width-r.width),r.minTop=Math.min(o.top,o.top+o.height-r.height),r.maxLeft=o.left,r.maxTop=o.top,2===a)&&(r.width>=i.width&&(r.minLeft=Math.min(0,s),r.maxLeft=Math.max(0,s)),r.height>=i.height)&&(r.minTop=Math.min(0,t),r.maxTop=Math.max(0,t))):(r.minLeft=-r.width,r.minTop=-r.height,r.maxLeft=i.width,r.maxTop=i.height))},renderCanvas:function(t,e){var n,i,r,o,a=this.canvas,s=this.image;e&&(e={width:s.naturalWidth*Math.abs(s.scaleX||1),height:s.naturalHeight*Math.abs(s.scaleY||1),degree:s.rotate||0},s=e.width,o=e.height,e=e.degree,n=90==(e=Math.abs(e)%180)?{width:o,height:s}:(i=e%90*Math.PI/180,n=Math.sin(i),r=s*(i=Math.cos(i))+o*n,s=s*n+o*i,90<e?{width:s,height:r}:{width:r,height:s}),i=a.width*((o=n.width)/a.naturalWidth),r=a.height*((e=n.height)/a.naturalHeight),a.left-=(i-a.width)/2,a.top-=(r-a.height)/2,a.width=i,a.height=r,a.aspectRatio=o/e,a.naturalWidth=o,a.naturalHeight=e,this.limitCanvas(!0,!1)),(a.width>a.maxWidth||a.width<a.minWidth)&&(a.left=a.oldLeft),(a.height>a.maxHeight||a.height<a.minHeight)&&(a.top=a.oldTop),a.width=Math.min(Math.max(a.width,a.minWidth),a.maxWidth),a.height=Math.min(Math.max(a.height,a.minHeight),a.maxHeight),this.limitCanvas(!1,!0),a.left=Math.min(Math.max(a.left,a.minLeft),a.maxLeft),a.top=Math.min(Math.max(a.top,a.minTop),a.maxTop),a.oldLeft=a.left,a.oldTop=a.top,this.$canvas.css({width:a.width,height:a.height,transform:T({translateX:a.left,translateY:a.top})}),this.renderImage(t),this.cropped&&this.limited&&this.limitCropBox(!0,!0)},renderImage:function(t){var e=this.canvas,n=this.image,i=n.naturalWidth*(e.width/e.naturalWidth),r=n.naturalHeight*(e.height/e.naturalHeight);k.extend(n,{width:i,height:r,left:(e.width-i)/2,top:(e.height-r)/2}),this.$clone.css({width:n.width,height:n.height,transform:T(k.extend({translateX:n.left,translateY:n.top},n))}),t&&this.output()},initCropBox:function(){var t=this.options,e=this.canvas,n=t.aspectRatio,t=Number(t.autoCropArea)||.8,i={width:e.width,height:e.height};n&&(e.height*n>e.width?i.height=i.width/n:i.width=i.height*n),this.cropBox=i,this.limitCropBox(!0,!0),i.width=Math.min(Math.max(i.width,i.minWidth),i.maxWidth),i.height=Math.min(Math.max(i.height,i.minHeight),i.maxHeight),i.width=Math.max(i.minWidth,i.width*t),i.height=Math.max(i.minHeight,i.height*t),i.left=e.left+(e.width-i.width)/2,i.top=e.top+(e.height-i.height)/2,i.oldLeft=i.left,i.oldTop=i.top,this.initialCropBox=k.extend({},i)},limitCropBox:function(t,e){var n,i,r=this.options,o=this.container,a=this.canvas,s=this.cropBox,l=this.limited,c=r.aspectRatio;t&&(t=Number(r.minCropBoxWidth)||0,r=Number(r.minCropBoxHeight)||0,n=Math.min(o.width,(l?a:o).width),i=Math.min(o.height,(l?a:o).height),t=Math.min(t,o.width),r=Math.min(r,o.height),c&&(t&&r?t<r*c?r=t/c:t=r*c:t?r=t/c:r&&(t=r*c),n<i*c?i=n/c:n=i*c),s.minWidth=Math.min(t,n),s.minHeight=Math.min(r,i),s.maxWidth=n,s.maxHeight=i),e&&(l?(s.minLeft=Math.max(0,a.left),s.minTop=Math.max(0,a.top),s.maxLeft=Math.min(o.width,a.left+a.width)-s.width,s.maxTop=Math.min(o.height,a.top+a.height)-s.height):(s.minLeft=0,s.minTop=0,s.maxLeft=o.width-s.width,s.maxTop=o.height-s.height))},renderCropBox:function(){var t=this.options,e=this.container,n=this.cropBox;(n.width>n.maxWidth||n.width<n.minWidth)&&(n.left=n.oldLeft),(n.height>n.maxHeight||n.height<n.minHeight)&&(n.top=n.oldTop),n.width=Math.min(Math.max(n.width,n.minWidth),n.maxWidth),n.height=Math.min(Math.max(n.height,n.minHeight),n.maxHeight),this.limitCropBox(!1,!0),n.left=Math.min(Math.max(n.left,n.minLeft),n.maxLeft),n.top=Math.min(Math.max(n.top,n.minTop),n.maxTop),n.oldLeft=n.left,n.oldTop=n.top,t.movable&&t.cropBoxMovable&&this.$face.data(h,n.width>=e.width&&n.height>=e.height?"move":"all"),this.$cropBox.css({width:n.width,height:n.height,transform:T({translateX:n.left,translateY:n.top})}),this.cropped&&this.limited&&this.limitCanvas(!0,!0),this.disabled||this.output()},output:function(){this.preview(),this.completed&&this.trigger(d,this.getData())}},t={initPreview:function(){var i=this.crossOrigin,r=i?this.crossOriginUrl:this.url,t=document.createElement("img"),t=(i&&(t.crossOrigin=i),t.src=r,k(t));this.$preview=k(this.options.preview),this.$clone2=t,this.$viewBox.html(t),this.$preview.each(function(t,e){var e=k(e),n=document.createElement("img");e.data(p,{width:e.width(),height:e.height(),html:e.html()}),i&&(n.crossOrigin=i),n.src=r,n.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',e.html(n)})},resetPreview:function(){this.$preview.each(function(t,e){var e=k(e),n=e.data(p);e.css({width:n.width,height:n.height}).html(n.html).removeData(p)})},preview:function(){var s=this.image,t=this.canvas,e=this.cropBox,l=e.width,c=e.height,u=s.width,h=s.height,d=e.left-t.left-s.left,f=e.top-t.top-s.top;this.cropped&&!this.disabled&&(this.$clone2.css({width:u,height:h,transform:T(k.extend({translateX:-d,translateY:-f},s))}),this.$preview.each(function(t,e){var e=k(e),n=e.data(p),i=n.width,n=n.height,r=i,o=n,a=1;l&&(o=c*(a=i/l)),c&&n<o&&(r=l*(a=n/c),o=n),e.css({width:r,height:o}).find("img").css({width:u*a,height:h*a,transform:T(k.extend({translateX:-d*a,translateY:-f*a},s))})}))}},J={bind:function(){var t=this.$element,e=this.options,n=this.$cropper;k.isFunction(e.cropstart)&&t.on(f,e.cropstart),k.isFunction(e.cropmove)&&t.on(a,e.cropmove),k.isFunction(e.cropend)&&t.on(o,e.cropend),k.isFunction(e.crop)&&t.on(d,e.crop),k.isFunction(e.zoom)&&t.on("zoom",e.zoom),n.on(i,M(this.cropStart,this)),e.zoomable&&e.zoomOnWheel&&n.on(b,M(this.wheel,this)),e.toggleDragModeOnDblclick&&n.on("dblclick",M(this.dblclick,this)),k(this.element.ownerDocument).on(m,this.onCropMove=M(this.cropMove,this)).on(g,this.onCropEnd=M(this.cropEnd,this)),e.responsive&&k(window).on("resize",this.onResize=M(this.resize,this))},unbind:function(){var t=this.$element,e=this.options,n=this.$cropper;k.isFunction(e.cropstart)&&t.off(f,e.cropstart),k.isFunction(e.cropmove)&&t.off(a,e.cropmove),k.isFunction(e.cropend)&&t.off(o,e.cropend),k.isFunction(e.crop)&&t.off(d,e.crop),k.isFunction(e.zoom)&&t.off("zoom",e.zoom),n.off(i,this.cropStart),e.zoomable&&e.zoomOnWheel&&n.off(b,this.wheel),e.toggleDragModeOnDblclick&&n.off("dblclick",this.dblclick),k(this.element.ownerDocument).off(m,this.onCropMove).off(g,this.onCropEnd),e.responsive&&k(window).off("resize",this.onResize)}},Y={resize:function(){var n,i,r,t=this.options,e=this.$container,o=this.container,a=Number(t.minContainerWidth)||200,s=Number(t.minContainerHeight)||100;this.disabled||o.width<=a||o.height<=s||1==(n=e.width()/o.width)&&e.height()===o.height||(r=i=void 0,t.restore&&(i=this.getCanvasData(),r=this.getCropBoxData()),this.render(),t.restore&&(this.setCanvasData(k.each(i,function(t,e){i[t]=e*n})),this.setCropBoxData(k.each(r,function(t,e){r[t]=e*n}))))},dblclick:function(){this.disabled||"none"===this.options.dragMode||this.setDragMode(this.$dragBox.hasClass(r)?"move":"crop")},wheel:function(t){var e,n=this,i=t.originalEvent||t,r=Number(this.options.wheelZoomRatio)||.1;this.disabled||(t.preventDefault(),this.wheeling)||(this.wheeling=!0,setTimeout(function(){n.wheeling=!1},50),e=1,i.deltaY?e=0<i.deltaY?1:-1:i.wheelDelta?e=-i.wheelDelta/120:i.detail&&(e=0<i.detail?1:-1),this.zoom(-e*r,t))},cropStart:function(t){var e,n,i,r;this.disabled||(e=this.options,n=this.pointers,r=void 0,(i=t.originalEvent)&&i.changedTouches?k.each(i.changedTouches,function(t,e){n[e.identifier]=L(e)}):n[i&&i.pointerId||0]=L(i||t),r=1<E(n).length&&e.zoomable&&e.zoomOnTouch?"zoom":k(t.target).data(h),!D.test(r))||this.trigger(f,{originalEvent:i,action:r}).isDefaultPrevented()||(t.preventDefault(),this.action=r,this.cropping=!1,"crop"===r&&(this.cropping=!0,this.$dragBox.addClass(c)))},cropMove:function(t){var n,e,i=this.action;this.disabled||!i||(n=this.pointers,e=t.originalEvent,t.preventDefault(),this.trigger(a,{originalEvent:e,action:i}).isDefaultPrevented())||(e&&e.changedTouches?k.each(e.changedTouches,function(t,e){k.extend(n[e.identifier],L(e,!0))}):k.extend(n[e&&e.pointerId||0],L(e||t,!0)),this.change(t))},cropEnd:function(t){var e,n,i;this.disabled||(e=this.action,n=this.pointers,(i=t.originalEvent)&&i.changedTouches?k.each(i.changedTouches,function(t,e){delete n[e.identifier]}):delete n[i&&i.pointerId||0],e&&(t.preventDefault(),E(n).length||(this.action=""),this.cropping&&(this.cropping=!1,this.$dragBox.toggleClass(c,this.cropped&&this.options.modal)),this.trigger(o,{originalEvent:i,action:e})))}},X={change:function(t){function e(t){switch(t){case"e":g+S.x>w&&(S.x=w-g);break;case"w":d+S.x<v&&(S.x=v-d);break;case"n":f+S.y<y&&(S.y=y-f);break;case"s":b+S.y>_&&(S.y=_-b)}}var n,i,a,r=this.options,o=this.pointers,s=this.container,l=this.canvas,c=this.cropBox,u=this.action,h=r.aspectRatio,d=c.left,f=c.top,p=c.width,m=c.height,g=d+p,b=f+m,v=0,y=0,w=s.width,_=s.height,x=!0,M=(!h&&t.shiftKey&&(h=p&&m?p/m:1),this.limited&&(v=c.minLeft,y=c.minTop,w=v+Math.min(s.width,l.width,l.left+l.width),_=y+Math.min(s.height,l.height,l.top+l.height)),o[E(o)[0]]),S={x:M.endX-M.startX,y:M.endY-M.startY};switch(u){case"all":d+=S.x,f+=S.y;break;case"e":0<=S.x&&(w<=g||h&&(f<=y||_<=b))?x=!1:(e("e"),p+=S.x,h&&(m=p/h,f-=S.x/h/2),p<0&&(u="w",p=0));break;case"n":S.y<=0&&(f<=y||h&&(d<=v||w<=g))?x=!1:(e("n"),m-=S.y,f+=S.y,h&&(p=m*h,d+=S.y*h/2),m<0&&(u="s",m=0));break;case"w":S.x<=0&&(d<=v||h&&(f<=y||_<=b))?x=!1:(e("w"),p-=S.x,d+=S.x,h&&(m=p/h,f+=S.x/h/2),p<0&&(u="e",p=0));break;case"s":0<=S.y&&(_<=b||h&&(d<=v||w<=g))?x=!1:(e("s"),m+=S.y,h&&(p=m*h,d-=S.y*h/2),m<0&&(u="n",m=0));break;case"ne":if(h){if(S.y<=0&&(f<=y||w<=g)){x=!1;break}e("n"),m-=S.y,f+=S.y,p=m*h}else e("n"),e("e"),!(0<=S.x)||g<w?p+=S.x:S.y<=0&&f<=y&&(x=!1),(!(S.y<=0)||y<f)&&(m-=S.y,f+=S.y);p<0&&m<0?(u="sw",p=m=0):p<0?(u="nw",p=0):m<0&&(u="se",m=0);break;case"nw":if(h){if(S.y<=0&&(f<=y||d<=v)){x=!1;break}e("n"),m-=S.y,f+=S.y,p=m*h,d+=S.y*h}else e("n"),e("w"),!(S.x<=0)||v<d?(p-=S.x,d+=S.x):S.y<=0&&f<=y&&(x=!1),(!(S.y<=0)||y<f)&&(m-=S.y,f+=S.y);p<0&&m<0?(u="se",p=m=0):p<0?(u="ne",p=0):m<0&&(u="sw",m=0);break;case"sw":if(h){if(S.x<=0&&(d<=v||_<=b)){x=!1;break}e("w"),p-=S.x,d+=S.x,m=p/h}else e("s"),e("w"),!(S.x<=0)||v<d?(p-=S.x,d+=S.x):0<=S.y&&_<=b&&(x=!1),(!(0<=S.y)||b<_)&&(m+=S.y);p<0&&m<0?(u="ne",p=m=0):p<0?(u="se",p=0):m<0&&(u="nw",m=0);break;case"se":if(h){if(0<=S.x&&(w<=g||_<=b)){x=!1;break}e("e"),m=(p+=S.x)/h}else e("s"),e("e"),!(0<=S.x)||g<w?p+=S.x:0<=S.y&&_<=b&&(x=!1),(!(0<=S.y)||b<_)&&(m+=S.y);p<0&&m<0?(u="nw",p=m=0):p<0?(u="sw",p=0):m<0&&(u="ne",m=0);break;case"move":this.move(S.x,S.y),x=!1;break;case"zoom":this.zoom((n=o,i=k.extend({},n),a=[],k.each(n,function(t,o){delete i[t],k.each(i,function(t,e){var n=Math.abs(o.startX-e.startX),i=Math.abs(o.startY-e.startY),r=Math.abs(o.endX-e.endX),e=Math.abs(o.endY-e.endY),n=Math.sqrt(n*n+i*i),i=Math.sqrt(r*r+e*e);a.push((i-n)/n)})}),a.sort(function(t,e){return Math.abs(t)<Math.abs(e)}),a[0]),t.originalEvent),x=!1;break;case"crop":S.x&&S.y?(n=this.$cropper.offset(),d=M.startX-n.left,f=M.startY-n.top,p=c.minWidth,m=c.minHeight,0<S.x?u=0<S.y?"se":"ne":S.x<0&&(d-=p,u=0<S.y?"sw":"nw"),S.y<0&&(f-=m),this.cropped||(this.$cropBox.removeClass(C),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0))):x=!1}x&&(c.width=p,c.height=m,c.left=d,c.top=f,this.action=u,this.renderCropBox()),k.each(o,function(t,e){e.startX=e.endX,e.startY=e.endY})}},Q={crop:function(){this.ready&&!this.disabled&&(this.cropped||(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&this.$dragBox.addClass(c),this.$cropBox.removeClass(C)),this.setCropBoxData(this.initialCropBox))},reset:function(){this.ready&&!this.disabled&&(this.image=k.extend({},this.initialImage),this.canvas=k.extend({},this.initialCanvas),this.cropBox=k.extend({},this.initialCropBox),this.renderCanvas(),this.cropped)&&this.renderCropBox()},clear:function(){this.cropped&&!this.disabled&&(k.extend(this.cropBox,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),this.$dragBox.removeClass(c),this.$cropBox.addClass(C))},replace:function(t,e){!this.disabled&&t&&(this.isImg&&this.$element.attr("src",t),e?(this.url=t,this.$clone.attr("src",t),this.ready&&this.$preview.find("img").add(this.$clone2).attr("src",t)):(this.isImg&&(this.replaced=!0),this.options.data=null,this.load(t)))},enable:function(){this.ready&&(this.disabled=!1,this.$cropper.removeClass(e))},disable:function(){this.ready&&(this.disabled=!0,this.$cropper.addClass(e))},destroy:function(){var t=this.$element;this.loaded?(this.isImg&&this.replaced&&t.attr("src",this.originalUrl),this.unbuild(),t.removeClass(C)):this.isImg?t.off("load",this.start):this.$clone&&this.$clone.remove(),t.removeData(l)},move:function(t,e){var n=this.canvas,i=n.left,n=n.top;this.moveTo(x(t)?t:i+Number(t),x(e)?e:n+Number(e))},moveTo:function(t,e){var n=this.canvas,i=!1;x(e)&&(e=t),t=Number(t),e=Number(e),this.ready&&!this.disabled&&this.options.movable&&(_(t)&&(n.left=t,i=!0),_(e)&&(n.top=e,i=!0),i)&&this.renderCanvas(!0)},zoom:function(t,e){var n=this.canvas;t=Number(t),this.zoomTo(n.width*(t=t<0?1/(1-t):1+t)/n.naturalWidth,e)},zoomTo:function(t,e){var i,r,o,n=this.options,a=this.pointers,s=this.canvas,l=s.width,c=s.height,u=s.naturalWidth,h=s.naturalHeight;0<=(t=Number(t))&&this.ready&&!this.disabled&&n.zoomable&&(n=h*t,h=void 0,e&&(h=e.originalEvent),this.trigger("zoom",{originalEvent:h,oldRatio:l/u,ratio:(t=u*t)/u}).isDefaultPrevented()||(h?(u=this.$cropper.offset(),a=a&&E(a).length?(o=r=i=0,k.each(a,function(t,e){var n=e.startX,e=e.startY;i+=n,r+=e,o+=1}),{pageX:i/=o,pageY:r/=o}):{pageX:e.pageX||h.pageX||0,pageY:e.pageY||h.pageY||0},s.left-=(t-l)*((a.pageX-u.left-s.left)/l),s.top-=(n-c)*((a.pageY-u.top-s.top)/c)):(s.left-=(t-l)/2,s.top-=(n-c)/2),s.width=t,s.height=n,this.renderCanvas(!0)))},rotate:function(t){this.rotateTo((this.image.rotate||0)+Number(t))},rotateTo:function(t){_(t=Number(t))&&this.ready&&!this.disabled&&this.options.rotatable&&(this.image.rotate=t%360,this.renderCanvas(!0,!0))},scaleX:function(t){var e=this.image.scaleY;this.scale(t,_(e)?e:1)},scaleY:function(t){var e=this.image.scaleX;this.scale(_(e)?e:1,t)},scale:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:t,n=this.image,i=!1;t=Number(t),e=Number(e),this.ready&&!this.disabled&&this.options.scalable&&(_(t)&&(n.scaleX=t,i=!0),_(e)&&(n.scaleY=e,i=!0),i)&&this.renderCanvas(!0,!0)},getData:function(){var n,i=0<arguments.length&&void 0!==arguments[0]&&arguments[0],t=this.options,e=this.image,r=this.canvas,o=this.cropBox,a=void 0;return this.ready&&this.cropped?(a={x:o.left-r.left,y:o.top-r.top,width:o.width,height:o.height},n=e.width/e.naturalWidth,k.each(a,function(t,e){e/=n,a[t]=i?Math.round(e):e})):a={x:0,y:0,width:0,height:0},t.rotatable&&(a.rotate=e.rotate||0),t.scalable&&(a.scaleX=e.scaleX||1,a.scaleY=e.scaleY||1),a},setData:function(t){var e,n=this.options,i=this.image,r=this.canvas,o={};k.isFunction(t)&&(t=t.call(this.element)),this.ready&&!this.disabled&&k.isPlainObject(t)&&(e=!1,n.rotatable&&_(t.rotate)&&t.rotate!==i.rotate&&(i.rotate=t.rotate,e=!0),n.scalable&&(_(t.scaleX)&&t.scaleX!==i.scaleX&&(i.scaleX=t.scaleX,e=!0),_(t.scaleY))&&t.scaleY!==i.scaleY&&(i.scaleY=t.scaleY,e=!0),e&&this.renderCanvas(!0,!0),n=i.width/i.naturalWidth,_(t.x)&&(o.left=t.x*n+r.left),_(t.y)&&(o.top=t.y*n+r.top),_(t.width)&&(o.width=t.width*n),_(t.height)&&(o.height=t.height*n),this.setCropBoxData(o))},getContainerData:function(){return this.ready?k.extend({},this.container):{}},getImageData:function(){return this.loaded?k.extend({},this.image):{}},getCanvasData:function(){var n=this.canvas,i={};return this.ready&&k.each(["left","top","width","height","naturalWidth","naturalHeight"],function(t,e){i[e]=n[e]}),i},setCanvasData:function(t){var e=this.canvas,n=e.aspectRatio;k.isFunction(t)&&(t=t.call(this.$element)),this.ready&&!this.disabled&&k.isPlainObject(t)&&(_(t.left)&&(e.left=t.left),_(t.top)&&(e.top=t.top),_(t.width)?(e.width=t.width,e.height=t.width/n):_(t.height)&&(e.height=t.height,e.width=t.height*n),this.renderCanvas(!0))},getCropBoxData:function(){var t=this.cropBox;return this.ready&&this.cropped?{left:t.left,top:t.top,width:t.width,height:t.height}:{}},setCropBoxData:function(t){var e=this.cropBox,n=this.options.aspectRatio,i=void 0,r=void 0;k.isFunction(t)&&(t=t.call(this.$element)),this.ready&&this.cropped&&!this.disabled&&k.isPlainObject(t)&&(_(t.left)&&(e.left=t.left),_(t.top)&&(e.top=t.top),_(t.width)&&t.width!==e.width&&(i=!0,e.width=t.width),_(t.height)&&t.height!==e.height&&(r=!0,e.height=t.height),n&&(i?e.height=e.width/n:r&&(e.width=e.height*n)),this.renderCropBox())},getCroppedCanvas:function(){var t,e,n,i,r,o,a,s,l,c,u,h,d,f,p,m,g,b=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return this.ready&&window.HTMLCanvasElement?(a=this.canvas,f=this.$clone[0],d=this.image,m=a,r=b,s=void 0===(s=d.rotate)?0:s,h=void 0===(h=d.scaleX)?1:h,d=void 0===(d=d.scaleY)?1:d,n=m.aspectRatio,t=m.naturalWidth,m=m.naturalHeight,e=void 0===(e=r.fillColor)?"transparent":e,u=void 0===(u=r.imageSmoothingEnabled)||u,i=void 0===(i=r.imageSmoothingQuality)?"low":i,l=void 0===(l=r.maxWidth)?1/0:l,g=void 0===(g=r.maxHeight)?1/0:g,c=void 0===(c=r.minWidth)?0:c,r=void 0===(r=r.minHeight)?0:r,p=document.createElement("canvas"),o=p.getContext("2d"),l=O({aspectRatio:n,width:l,height:g}),g=O({aspectRatio:n,width:c,height:r},"cover"),n=Math.min(l.width,Math.max(g.width,t)),c=Math.min(l.height,Math.max(g.height,m)),r=[-n/2,-c/2,n,c],p.width=S(n),p.height=S(c),o.fillStyle=e,o.fillRect(0,0,n,c),o.save(),o.translate(n/2,c/2),o.rotate(s*Math.PI/180),o.scale(h,d),o.imageSmoothingEnabled=u,o.imageSmoothingQuality=i,o.drawImage.apply(o,[f].concat(w(k.map(r,function(t){return Math.floor(S(t))})))),o.restore(),t=p,this.cropped?(g=(l=this.getData()).x,m=l.y,e=l.width,n=l.height,1!=(c=t.width/Math.floor(a.naturalWidth))&&(g*=c,m*=c,e*=c,n*=c),h=O({aspectRatio:s=e/n,width:b.maxWidth||1/0,height:b.maxHeight||1/0}),d=O({aspectRatio:s,width:b.minWidth||0,height:b.minHeight||0},"cover"),i=(u=O({aspectRatio:s,width:b.width||(1!=c?t.width:e),height:b.height||(1!=c?t.height:n)})).width,f=u.height,i=Math.min(h.width,Math.max(d.width,i)),f=Math.min(h.height,Math.max(d.height,f)),o=(r=document.createElement("canvas")).getContext("2d"),r.width=S(i),r.height=S(f),o.fillStyle=b.fillColor||"transparent",o.fillRect(0,0,i,f),p=b.imageSmoothingEnabled,l=b.imageSmoothingQuality,o.imageSmoothingEnabled=void 0===p||p,l&&(o.imageSmoothingQuality=l),a=t.width,s=t.height,c=m,p=b=f=d=h=u=void 0,(l=g)<=-e||a<l?b=d=u=l=0:l<=0?(d=-l,l=0,b=u=Math.min(a,e+l)):l<=a&&(d=0,b=u=Math.min(e,a-l)),u<=0||c<=-n||s<c?p=f=h=c=0:c<=0?(f=-c,c=0,p=h=Math.min(s,n+c)):c<=s&&(f=0,p=h=Math.min(n,s-c)),m=[l,c,u,h],0<b&&0<p&&m.push(d*(g=i/e),f*g,b*g,p*g),o.drawImage.apply(o,[t].concat(w(k.map(m,function(t){return Math.floor(S(t))})))),r):t):null},setAspectRatio:function(t){var e=this.options;this.disabled||x(t)||(e.aspectRatio=Math.max(0,t)||NaN,this.ready&&(this.initCropBox(),this.cropped)&&this.renderCropBox())},setDragMode:function(t){var e,n,i=this.options;this.loaded&&!this.disabled&&(n=i.movable&&"move"===t,this.$dragBox.data(h,t=(e="crop"===t)||n?t:"none").toggleClass(r,e).toggleClass(u,n),i.cropBoxMovable||this.$face.data(h,t).toggleClass(r,e).toggleClass(u,n))}},R=($(I,[{key:"init",value:function(){var t=this.$element,e=void 0;if(t.is("img")){if(this.isImg=!0,e=t.attr("src")||"",!(this.originalUrl=e))return;e=t.prop("src")}else t.is("canvas")&&window.HTMLCanvasElement&&(e=t[0].toDataURL());this.load(e)}},{key:"trigger",value:function(t,e){t=k.Event(t,e);return this.$element.trigger(t),t}},{key:"load",value:function(t){var e,n,i,r,o,a,s=this;t&&(this.url=t,this.image={},e=this.$element,(n=this.options).checkOrientation&&window.ArrayBuffer?B.test(t)?N.test(t)?this.read((i=(i=t).replace(K,""),r=atob(i),i=new ArrayBuffer(r.length),o=new Uint8Array(i),k.each(o,function(t){o[t]=r.charCodeAt(t)}),i)):this.clone():((a=new XMLHttpRequest).onerror=function(){s.clone()},a.onload=function(){s.read(a.response)},n.checkCrossOrigin&&P(t)&&!e.prop("crossOrigin")&&(t=A(t)),a.open("get",t),a.responseType="arraybuffer",a.withCredentials="use-credentials"===e.prop("crossOrigin"),a.send()):this.clone())}},{key:"read",value:function(t){var e,n,i,r=this.options,o=this.image,a=Z(t),s=0,l=1,c=1;1<a&&(this.url=(e=t,n="image/jpeg",e=new Uint8Array(t),i="",k.each(e,function(t,e){i+=V(e)}),"data:"+n+";base64,"+btoa(i)),s=(t=function(t){var e=0,n=1,i=1;switch(t){case 2:n=-1;break;case 3:e=-180;break;case 4:i=-1;break;case 5:e=90,i=-1;break;case 6:e=90;break;case 7:e=90,n=-1;break;case 8:e=-90}return{rotate:e,scaleX:n,scaleY:i}}(a)).rotate,l=t.scaleX,c=t.scaleY),r.rotatable&&(o.rotate=s),r.scalable&&(o.scaleX=l,o.scaleY=c),this.clone()}},{key:"clone",value:function(){var t=this.$element,e=this.options,n=this.url,i="",r=void 0,e=(e.checkCrossOrigin&&P(n)&&(r=(i=t.prop("crossOrigin"))?n:(i="anonymous",A(n))),this.crossOrigin=i,this.crossOriginUrl=r,document.createElement("img")),i=(i&&(e.crossOrigin=i),e.src=r||n,k(e));this.$clone=i,this.isImg?this.element.complete?this.start():t.one("load",k.proxy(this.start,this)):i.one("load",k.proxy(this.start,this)).one("error",k.proxy(this.stop,this)).addClass(s).insertAfter(t)}},{key:"start",value:function(){var t,e,n=this,i=this.$clone,r=this.$element;this.isImg||(i.off("error",this.stop),r=i),i=r[0],t=function(t,e){k.extend(n.image,{naturalWidth:t,naturalHeight:e,aspectRatio:t/e}),n.loaded=!0,n.build()},i.naturalWidth&&!q?t(i.naturalWidth,i.naturalHeight):((e=document.createElement("img")).onload=function(){t(e.width,e.height)},e.src=i.src)}},{key:"stop",value:function(){this.$clone.remove(),this.$clone=null}},{key:"build",value:function(){var t,e,n,i,r,o,a=this;this.loaded&&(this.ready&&this.unbuild(),t=this.$element,e=this.options,n=this.$clone,o=(r=(i=k('<div class="cropper-container"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-action="e"></span><span class="cropper-line line-n" data-action="n"></span><span class="cropper-line line-w" data-action="w"></span><span class="cropper-line line-s" data-action="s"></span><span class="cropper-point point-e" data-action="e"></span><span class="cropper-point point-n" data-action="n"></span><span class="cropper-point point-w" data-action="w"></span><span class="cropper-point point-s" data-action="s"></span><span class="cropper-point point-ne" data-action="ne"></span><span class="cropper-point point-nw" data-action="nw"></span><span class="cropper-point point-sw" data-action="sw"></span><span class="cropper-point point-se" data-action="se"></span></div></div>')).find(".cropper-crop-box")).find(".cropper-face"),this.$container=t.parent(),this.$cropper=i,this.$canvas=i.find(".cropper-canvas").append(n),this.$dragBox=i.find(".cropper-drag-box"),this.$cropBox=r,this.$viewBox=i.find(".cropper-view-box"),this.$face=o,t.addClass(C).after(i),this.isImg||n.removeClass(s),this.initPreview(),this.bind(),e.aspectRatio=Math.max(0,e.aspectRatio)||NaN,e.viewMode=Math.max(0,Math.min(3,Math.round(e.viewMode)))||0,this.cropped=e.autoCrop,e.autoCrop?e.modal&&this.$dragBox.addClass(c):r.addClass(C),e.guides||r.find(".cropper-dashed").addClass(C),e.center||r.find(".cropper-center").addClass(C),e.cropBoxMovable&&o.addClass(u).data(h,"all"),e.highlight||o.addClass("cropper-invisible"),e.background&&i.addClass(l+"-bg"),e.cropBoxResizable||r.find(".cropper-line,.cropper-point").addClass(C),this.setDragMode(e.dragMode),this.render(),this.ready=!0,this.setData(e.data),this.completing=setTimeout(function(){k.isFunction(e.ready)&&t.one("ready",e.ready),a.trigger("ready"),a.trigger(d,a.getData()),a.completed=!0},0))}},{key:"unbuild",value:function(){this.ready&&(this.completed||clearTimeout(this.completing),this.ready=!1,this.completed=!1,this.initialImage=null,this.initialCanvas=null,this.initialCropBox=null,this.container=null,this.canvas=null,this.cropBox=null,this.unbind(),this.resetPreview(),this.$preview=null,this.$viewBox=null,this.$cropBox=null,this.$dragBox=null,this.$canvas=null,this.$container=null,this.$cropper.remove(),this.$cropper=null)}}],[{key:"setDefaults",value:function(t){k.extend(v,k.isPlainObject(t)&&t)}}]),I);function I(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=this,i=I;if(!(n instanceof i))throw new TypeError("Cannot call a class as a function");if(!t||!F.test(t.tagName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=t,this.$element=k(t),this.options=k.extend({},v,k.isPlainObject(e)&&e),this.completed=!1,this.cropped=!1,this.disabled=!1,this.isImg=!1,this.limited=!1,this.loaded=!1,this.ready=!1,this.replaced=!1,this.wheeling=!1,this.originalUrl="",this.canvas=null,this.cropBox=null,this.pointers={},this.init()}k.extend&&k.extend(R.prototype,j,t,J,Y,X,Q),k.fn&&(G=k.fn.cropper,k.fn.cropper=function(o){for(var t=arguments.length,a=Array(1<t?t-1:0),e=1;e<t;e++)a[e-1]=arguments[e];var s=void 0;return this.each(function(t,e){var n=k(e);if(!(r=n.data(l))){if(/destroy/.test(o))return;var i=k.extend({},n.data(),k.isPlainObject(o)&&o),r=new R(e,i);n.data(l,r)}"string"==typeof o&&(e=r[o],k.isFunction(e))&&(s=e.apply(r,a))}),x(s)?this:s},k.fn.cropper.Constructor=R,k.fn.cropper.setDefaults=R.setDefaults,k.fn.cropper.noConflict=function(){return k.fn.cropper=G,this})},"object"===r(e)&&void 0!==t?i(n(150)):(r=[n(150)],void 0!==(i="function"==typeof(n=i)?n.apply(e,r):n)&&(t.exports=i))},function(t,e,n){"use strict";window.ImageCompressor=function(){"use strict";function t(t,e){return e={exports:{}},t(e,e.exports),e.exports}var P=t(function(e){(function(t){var r=t.HTMLCanvasElement&&t.HTMLCanvasElement.prototype;var u=t.Blob&&function(){try{return Boolean(new Blob)}catch(t){return false}}();var h=u&&t.Uint8Array&&function(){try{return new Blob([new Uint8Array(100)]).size===100}catch(t){return false}}();var d=t.BlobBuilder||t.WebKitBlobBuilder||t.MozBlobBuilder||t.MSBlobBuilder;var f=/^data:((.*?)(;charset=.*?)?)(;base64)?,/;var o=(u||d)&&t.atob&&t.ArrayBuffer&&t.Uint8Array&&function(t){var e,n,i,r,o,a,s,l,c;e=t.match(f);if(!e)throw new Error("invalid data URI");n=e[2]?e[1]:"text/plain"+(e[3]||";charset=US-ASCII");i=!!e[4];r=t.slice(e[0].length);if(i)o=atob(r);else o=decodeURIComponent(r);a=new ArrayBuffer(o.length);s=new Uint8Array(a);for(l=0;l<o.length;l+=1)s[l]=o.charCodeAt(l);if(u)return new Blob([h?s:a],{type:n});c=new d;c.append(a);return c.getBlob(n)};if(t.HTMLCanvasElement&&!r.toBlob)if(r.mozGetAsFile)r.toBlob=function(t,e,n){var i=this;setTimeout(function(){if(n&&r.toDataURL&&o)t(o(i.toDataURL(e,n)));else t(i.mozGetAsFile("blob",e))})};else if(r.toDataURL&&o)r.toBlob=function(t,e,n){var i=this;setTimeout(function(){t(o(i.toDataURL(e,n)))})};if(false);else if(true&&e.exports)e.exports=o;else t.dataURLtoBlob=o})(window)}),n=Object.prototype.toString,a=function t(e){return e instanceof Blob||n.call(e)==="[object Blob]"},e={checkOrientation:true,maxWidth:Infinity,maxHeight:Infinity,minWidth:0,minHeight:0,width:undefined,height:undefined,quality:.8,mimeType:"auto",convertSize:5e6,beforeDraw:null,drew:null,success:null,error:null},i=/^image\/.+$/;function A(t){return i.test(t)}function o(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;var n=A(t)?t.substr(6):"";if(n==="jpeg")n="jpg";if(n&&e)n="."+n;return n}var s=String.fromCharCode;function m(t,e,n){var i="";var r=void 0;n+=e;for(r=e;r<n;r+=1)i+=s(t.getUint8(r));return i}var r,l=window.btoa;function c(t,e){var n=new Uint8Array(t);var i=n.length;var r="";var o=void 0;for(o=0;o<i;o+=1)r+=s(n[o]);return"data:"+e+";base64,"+l(r)}function u(t){var e=new DataView(t);var n=void 0;var i=void 0;var r=void 0;var o=void 0;if(e.getUint8(0)===255&&e.getUint8(1)===216){var a=e.byteLength;var s=2;while(s<a){if(e.getUint8(s)===255&&e.getUint8(s+1)===225){r=s;break}s+=1}}if(r){var l=r+4;var c=r+10;if(m(e,l,4)==="Exif"){var u=e.getUint16(c);i=u===18761;if(i||u===19789)if(e.getUint16(c+2,i)===42){var h=e.getUint32(c+4,i);if(h>=8)o=c+h}}}if(o){var d=e.getUint16(o,i);var f=void 0;var p=void 0;for(p=0;p<d;p+=1){f=o+p*12+2;if(e.getUint16(f,i)===274){f+=8;n=e.getUint16(f,i);e.setUint16(f,1,i);break}}}return n}function h(t){var e=0;var n=1;var i=1;switch(t){case 2:n=-1;break;case 3:e=-180;break;case 4:i=-1;break;case 5:e=90;i=-1;break;case 6:e=90;break;case 7:e=90;n=-1;break;case 8:e=-90;break;default:}return{rotate:e,scaleX:n,scaleY:i}}var d=/\.\d*(?:0|9){12}\d*$/i;function T(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1e11;return d.test(t)?Math.round(t*e)/e:t}var f=function t(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")},p=function(){function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(t,i.key,i)}}return function(t,e,n){if(e)i(t.prototype,e);if(n)i(t,n);return t}}(),g=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i))t[i]=n[i]}return t},b=window,v=b.ArrayBuffer,y=b.FileReader,w=window.URL||window.webkitURL,_=/\.\w+$/,x;function M(t,e){f(this,M);this.result=null;if(t)this.compress(t,e)}return p(M,[{key:"compress",value:function t(S,k){var C=this;var E=new Image;k=g({},e,k);if(!v)k.checkOrientation=false;return new Promise(function(i,t){if(!a(S)){t(new Error("The first argument must be a File or Blob object."));return}var r=S.type;if(!A(r)){t(new Error("The first argument must be an image File or Blob object."));return}if(!w&&!y){t(new Error("The current browser does not support image compression."));return}if(w&&!k.checkOrientation)i({url:w.createObjectURL(S)});else if(y){var e=new y;var o=k.checkOrientation&&r==="image/jpeg";e.onload=function(t){var e=t.target;var n=e.result;i(o?g({url:c(n,r)},h(u(n))):{url:n})};e.onabort=t;e.onerror=t;if(o)e.readAsArrayBuffer(S);else e.readAsDataURL(S)}}).then(function(n){return new Promise(function(t,e){E.onload=function(){return t(g({},n,{naturalWidth:E.naturalWidth,naturalHeight:E.naturalHeight}))};E.onabort=e;E.onerror=e;E.alt=S.name;E.src=n.url})}).then(function(t){var y=t.naturalWidth,w=t.naturalHeight,e=t.rotate,_=e===undefined?0:e,n=t.scaleX,x=n===undefined?1:n,i=t.scaleY,M=i===undefined?1:i;return new Promise(function(n){var t=document.createElement("canvas");var e=t.getContext("2d");var i=y/w;var r=Math.max(k.maxWidth,0)||Infinity;var o=Math.max(k.maxHeight,0)||Infinity;var a=Math.max(k.minWidth,0)||0;var s=Math.max(k.minHeight,0)||0;var l=y;var c=w;if(r<Infinity&&o<Infinity)if(o*i>r)o=r/i;else r=o*i;else if(r<Infinity)o=r/i;else if(o<Infinity)r=o*i;if(a>0&&s>0)if(s*i>a)s=a/i;else a=s*i;else if(a>0)s=a/i;else if(s>0)a=s*i;if(k.width>0){var u=k;l=u.width;c=l/i}else if(k.height>0){var h=k;c=h.height;l=c*i}l=Math.min(Math.max(l,a),r);c=Math.min(Math.max(c,s),o);var d=-l/2;var f=-c/2;var p=l;var m=c;if(Math.abs(_)%180===90){var g={width:c,height:l};l=g.width;c=g.height}t.width=T(l);t.height=T(c);if(!A(k.mimeType))k.mimeType=S.type;var b="transparent";if(S.size>k.convertSize&&k.mimeType==="image/png"){b="#fff";k.mimeType="image/jpeg"}e.fillStyle=b;e.fillRect(0,0,l,c);e.save();e.translate(l/2,c/2);e.rotate(_*Math.PI/180);e.scale(x,M);if(k.beforeDraw)k.beforeDraw.call(C,e,t);e.drawImage(E,Math.floor(T(d)),Math.floor(T(f)),Math.floor(T(p)),Math.floor(T(m)));if(k.drew)k.drew.call(C,e,t);e.restore();var v=function t(e){n({naturalWidth:y,naturalHeight:w,result:e})};if(t.toBlob)t.toBlob(v,k.mimeType,k.quality);else v(P(t.toDataURL(k.mimeType,k.quality)))})}).then(function(t){var e=t.naturalWidth,n=t.naturalHeight,i=t.result;if(w&&!k.checkOrientation)w.revokeObjectURL(E.src);if(i)if(i.size>S.size&&k.mimeType===S.type&&!(k.width>e||k.height>n||k.minWidth>e||k.minHeight>n))i=S;else{var r=new Date;i.lastModified=r.getTime();i.lastModifiedDate=r;i.name=S.name;if(i.name&&i.type!==S.type)i.name=i.name.replace(_,o(i.type))}else i=S;C.result=i;if(k.success)k.success.call(C,i);return Promise.resolve(i)}).catch(function(t){if(!k.error)throw t;k.error.call(C,t)})}}]),M}()},function(t,e,n){"use strict";var i,r,o,a,s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function l(){if(i)r=!0;else{r=!(i=!0);for(var t=0;t<o.length;)!function(e){var t,n=[];if(e.deps){for(var i=0;i<e.deps.length;i++){var r=e.deps[i].replace(/\(\)$/,"");if(!(r in a))return;n.push(a[r])}for(i=0;i<e.deps.length;i++)if(/\(\)$/.test(e.deps[i]))try{n[i]=n[i](e)}catch(t){console.error("Error while execute include",e.deps[i],"for module",e,t)}}try{t=e.func.apply(e,n)}catch(t){console.error("Error while execute module ",e.path||e.name,t)}"object"==(void 0===t?"undefined":s(t))&&t.then?t.then(function(t){c(e,t)},function(t){console.error("Error while execute module ",e.path||e.name,t),c(e)}):c(e,t);return 1}(o[t])?t++:o.splice(t,1);r&&setTimeout(l,1),r=i=!1}}function c(t,e){t.result=e,(t.name||t.path)&&(t.name&&(a[t.name]=e),t.path&&(a[t.path]=e),l())}o=[],a={},window.defineM=function(t,e,n){for(var i={},r=0;r<3;r++)"string"==typeof arguments[r]?i.name=arguments[r]:"function"==typeof arguments[r]?i.func=arguments[r]:"object"==s(arguments[r])&&arguments[r]instanceof Array&&(i.deps=arguments[r]);if(i.func)return i.path=function(){var t=document.getElementsByTagName("script"),t=t[t.length-1],t=t&&t.src||"",e=/^([^?]*)\/[^?]*/.exec(window.location.href)[1]+"/";t.startsWith(e)&&(t=t.replace(e,""));return t}(),i.name=i.name||i.path.replace(/\.js$/,""),o.push(i),l(),i;console.error("Error: no function while module define",arguments)}},function(t,e,n){"use strict";defineM("mbrApp",function(i,o){function t(){this.$iframeOverlay=i("<div>").hide().css({position:"absolute",left:0,top:65,right:0,bottom:0}).appendTo("body"),o.isMobile&&i("html").addClass("device"),this.$window=i(window),this.$body=i("body")}var r={},a={},s=(t.prototype.on=function(t,e){if(i.isArray(t))for(var n in t)this.on(t[n],e);else if(t in a){if(e)try{e.apply(this,a[t])}catch(t){console.error(t)}}else(r[t]||(r[t]=[])).push(e)},t.prototype.off=function(t,e){if(!r[t])return!1;if(e)for(var n=0;n<r[t].length;n++)r[t][n]===e&&(r[t][n]=void 0);else delete r[t]},t.prototype.fire=function(t){o&&1&o.debug&&console.log("fire mbrApp::"+t);var e=[].slice.call(arguments,1);if(void 0!==r[t])for(var n in r[t])if(r[t][n])try{r[t][n].apply(this,e)}catch(t){console.error(t)}},t.prototype.fireOnce=function(t){if(o&&1&o.debug&&console.log("fire mbrApp::"+t),!(t in a)){var e,n=[].slice.call(arguments,1);for(e in a[t]=n,r[t])if(r[t][e])try{r[t][e].apply(this,n),r[t][e]=void 0}catch(t){console.error(t)}}},{}),l=(t.prototype.addFilter=function(t,e){(s[t]||(s[t]=[])).push(e)},t.prototype.applyFilter=function(t){o&&2&o.debug&&console.log("applyFilter App:"+t);var e=[].slice.call(arguments,1);if(s[t])for(var n=s[t],i=0,r=n.length;i<r;i++)try{e[0]=n[i].apply(this,e),void 0===e[0]&&console.warn("handle of "+t+" filter return undefined: ",n[i])}catch(t){console.error(t)}return e[0]},{}),e=(t.prototype.regExtension=t.prototype.registerExtension=function(t){if(!t.name||void 0!==l[t.name])return!1;if((l[t.name]=t).global)for(var e in t.global)e in this?console.error("Error re-definition method mbrApp."+e+" by module "+t.name):this[e]=t.global[e];if(t.events)for(var n in t.events)this.on(n,t.events[n]);if(t.filters)for(var n in t.filters)this.addFilter(n,t.filters[n]);return o&&8&o.debug&&console.log("mbrApp.regExtension"+t.name),!0},t.prototype.rmExtension=t.prototype.removeExtension=function(t){if(!l[t])return!1;var e=l[t].global;if(e)for(var n in e)this.k&&delete this.k;return delete l[t],!0},t.prototype.bridgeInit=function(){this.fireOnce("bridgeInit")},0);return t.prototype.uniqNum=function(){return e++},t.prototype.resetUniqNum=function(t){e=0,t&&this.Core.resetUniqNum()},window.mbrApp=new t,o.setOnReady(function(){o.bind("drop",function(t){for(var e in t)window.mbrApp.fire("incomingFile",t[e])}),i(function(){window.mbrApp.bridgeInit()})}),window.mbrApp},["jQuery","Bridge"])},function(t,e,n){"use strict";defineM("aws-app-core",function(n,t,e,i){var r=n(".app-template > iframe")[0];t.regExtension({name:"aws-app-core",global:{$iframe:n(r),iframe:r,iwindow:r.contentWindow||r,Core:void 0,appElements:{window:{width:0,height:0},iframe:{width:0,height:0},iframeBody:{width:0,height:0},sidebar:{width:0,height:0},componentsLayer:{width:0,height:0,left:0,top:0},paramsLayer:{width:0,height:0,left:0,top:0}},$template:void 0,publishKW:"",listKW:[""],preloaderHTML:'<div class="preloader preloader-spinner"><div class="mobirise-spinner"><i></i><i></i><i></i><i></i><i></i></div></div>',path2core:function(t){return t=i.path2app(t),/^(\w*\:)?\/\//.test(t)?t:"../../"+t},core2path:function(t){return/^(\w*\:)?\/\//.test(t)?t:i.path2app("web/app/builder/"+t)},appElementsUpdate:function(){var t=this;t.appElements={window:{width:t.$window.width(),height:t.$window.height()},iframe:{width:t.$iframe.width(),height:t.$iframe.height()},iframeBody:{width:t.Core.$body.width(),height:t.Core.$body.height()},sidebar:{width:t.$sidebar.width(),height:t.$sidebar.height()},componentsLayer:{width:t.$componentsLayer.width(),height:t.$componentsLayer.height()},paramsLayer:{width:t.$componentsParams.width(),height:t.$componentsParams.height()}}},coreInit:function(){var e=this;e.appElementsUpdate(),e.$window.on("resize",function(t){e.appElementsUpdate(),e.fire("resizeInterface",t)}),n(e.iwindow).on("resize",function(t){e.appElementsUpdate(),e.fire("resizeTemplate",t)}),n(e.$body).on("click",function(t){n(t.target).is(".modal")||n(t.target).parents(".modal").length||e.fire("clickBody",t)}),n(e.iwindow).on("click",function(t){e.fire("clickTemplate",t)})}},events:{bridgeInit:function(){var t=this,e=(t.fireOnce("createUI"),n(t.iframe).one("load",function(){t.$template=n(t.iframe.contentDocument||t.iframe.contentWindow.document),t.Core=t.iwindow.mbrAppCore,(t.iwindow.mbrAppCore.APP=t).fireOnce("beforeAppLoad"),t.on("addonsReady",function(){t.on("accountInited",function(){t.fireOnce("appLoaded")})})}),n(t.iframe).attr("data-src"));i.loadLocalFile(e,function(t){r.src="about:blank",r.contentWindow.document.open(),r.contentWindow.document.write(t.replace(/<head>/i,'<head><base href="'+i.path2app(e)+'"/>')),r.contentWindow.document.close()})},started:function(){n(".preloader").delay(100).fadeOut(1e3,function(){n(this).remove()})}}})},["jQuery","mbrApp","TR()","Bridge"])},function(t,e,n){"use strict";var r=n(25);function a(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}defineM("app-init",function(t,o){o.regExtension({name:"app-init",global:{startApplicationProject:function(t,e,n){var i=this;function r(){i.fireOnce("beforeCoreLoad"),i.Core.fireOnce("load"),i.fireOnce("coreLoad"),i.coreInit(),i.fireOnce("load"),i._forceLoadProject(e,t,n)}o.loadThemeAddon(t&&t.settings&&t.settings.theme&&t.settings.theme.name||!1,function(t){t||console.error("Critical: default theme is wrong!"),i.getUserInfo()?i.loadAddons(r,{type:"plugin"}):r()})},_forceLoadProject:function(t,e,n){var i=this;function r(){i.createProject(e&&e.settings&&e.settings.name||"My Site",e,0,n,function(t){return n()})}t?i.loadProject(t,e,{noSave:!0,onError:r,onDone:function(){return n()}}):r()},startRecent:function(n){var i=this;o.getRecentProject(function(t,e){e?i._forceLoadProject(e,t,function(t){t&&o.showError(t);i._emitStartComplete(),n&&n()}):i.newProject(!0,function(){i._emitStartComplete(),n&&n()})})},startApplicationRecent:function(){var i=this;o.getRecentProject(function(t,e,n){if(t)return o.showError("Failed to load project list");n?o.startApplicationProject(e,n,function(t){t?o.showError(t.message||t):i._emitStartComplete()}):i.createProject("My Site",0,0,function(t){t&&o.showError(t.message||t)})},!0)},createProjectWithPresets:function(t,e,n){n=n||function(){},this._readProjectWithPresets(t,e).then(function(t){o.createProject(e.name,t,0,n,function(){return n()})}).catch(n)},_readProjectWithPresets:function(t,e){var n=this;return this._readPresetProject(t).then(function(t){return n.presetProjectParams(t,e)})},_readPresetProject:function(i){return new Promise(function(e,n){r.Bridge.loadLocalFile((o.theme&&o.theme.path||o.getAddonDir(o.DEFAULT_THEME))+"/projects/"+i+"/project.mobirise",function(t){t=t.replace(/\@PROJECT_PATH\@/g,"@THEME_PATH@/projects/"+i);try{e(JSON.parse(t))}catch(t){n(t)}})})},applyProjectPresets:function(e,t,n){if("string"==typeof(t=t||o.prepareProjectText()))try{t=JSON.parse(o.prepareProjectText())}catch(t){}this.presetProjectParams(t,e).then(function(t){o.loadProject(o.projectPath,t,{onError:function(t){o._emitStartComplete(),n&&n(t)},onDone:function(){o._emitStartComplete(),n&&n()}}),r.Bridge.changeRecentSettings(o.projectPath,{name:e.name},function(t){console.warn("Can't apply project name to recent list")})}).catch(function(t){o._emitStartComplete(),n&&n(t)})},_emitStartComplete:function(){o.fireOnce("loaded"),o.fireOnce("started")},presetProjectParams:function(i,r){return i.settings=i.settings||{},i.settings.sourceProject=i.settings.sourceProject||i.settings.name.toLowerCase(),i.settings.name=r.name||i.settings.name,i.pages=i.pages||{},i.pages["index.html"]=i.pages["index.html"]||{},i.pages["index.html"].components=i.pages["index.html"].components||[],r.email=o.getUserInfo().email,r.year=o.getCurrentYear(),new Promise(function(e){function n(){var t,n;n=r,(t=i).pages["index.html"].settings=t.pages["index.html"].settings||{},t.pages["index.html"].settings.title=n.name,t.pages["index.html"].components.forEach(function(t){var e=void 0;try{e=(new DOMParser).parseFromString(t._customHTML,"text/html")}catch(t){return void console.error(t)}[].concat(a(e.querySelectorAll("[mbr-link-type=address],[mbr-link-type=phone],[mbr-link-type=email],[mbr-link-type=name],[mbr-link-type=year]"))).forEach(function(t){n[t.getAttribute("mbr-link-type")]&&(t.innerHTML=n[t.getAttribute("mbr-link-type")])}),n.email&&n.account!=n.email&&[].concat(a(e.querySelectorAll("form"))).forEach(function(t){return t.setAttribute("action",n.email)}),n.address&&n.place_id&&[].concat(a(e.querySelectorAll("input[type=map]"))).forEach(function(t){t.setAttribute("place-id",n.place_id),t.setAttribute("value",t.address)}),t._customHTML=e.body.innerHTML}),e(i)}i.settings.authorLocation?(r.address=i.settings.authorLocation.address,n()):(o.fire("setAuthorProjectLocation"),o.userPosPromise.then(function(t){i.settings.authorLocation=t,r.address=t.address,r.phone="+"+t.phoneCode+"-000-000-0000",n()},function(t){n()}))})}},events:{appLoaded:function(){r.Bridge.isDev||window.addEventListener("beforeunload",function(t){(t||window.event).returnValue=""}),window.stopStart||o.startApplicationRecent()}}})},["jQuery","mbrApp","app-plugin-map"])},function(t,e,n){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};defineM("app-common",function(l,s,c,u,e){function r(t){return(new TextEncoder).encode(t)}function o(t,e,n,i){return function(){var t=Array.prototype.slice.call(arguments),n=t.reduce(function(t,e){if(e instanceof ArrayBuffer||ArrayBuffer.isView(e))return t+e.byteLength;throw new TypeError("Every argument must be an ArrayBuffer of ArrayBuffer view")},0);return t.reduceRight(function(t,e){return n-=e.byteLength,t.set(ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.length*e.BYTES_PER_ELEMENT):new Uint8Array(e),n),t},new Uint8Array(n)).buffer}((r=t.length,o=e.length,n=n,(a=new DataView(new ArrayBuffer(6))).setUint8(0,r),a.setUint8(1,o),a.setUint32(2,n),a.buffer),t,e,i);var r,o,a}var a,h;s.regExtension({name:"common",global:{redirectLinks:function(t,e){var n=this;l("a[href^=http]",t).each(function(){l(this).data("link",l(this).attr("href"))}).attr("href","javascript:void(0)").click(function(t){t.stopPropagation(),s.openUrl(l(this).data("link"))}),l("iframe",t).each(function(){n.redirectLinks(this.contentWindow.document.documentElement,e)})},openUrl:function(t){t=s.applyFilter("openUrl",t),(t=u.substUrl(t))&&u.openUrl(t)},criticalError:function(t,e){var n="<i>"+c("This is a critical error, some functions of the program may not work correctly, please send information to the developers.")+"</i>",i=this;if(e){if(0<=i._criticalErrorShown.indexOf(e))return;if(0<=i._criticalErrorShowed.indexOf(t))return;i._criticalErrorShown.push(e),i._criticalErrorShowed.push(t)}bootbox.dialog({title:c("Critical error"),message:(t||"")+"<br/>"+n,buttons:{cancel:{label:c("Cancel"),className:"btn-default",callback:function(){}},success:{label:c("Send Error Report"),className:"btn-primary",callback:function(){}}}}).on("hidden.bs.modal",function(){i._criticalErrorShowed.slice(i._criticalErrorShowed.indexOf(t),1)})},_criticalErrorShown:[],_criticalErrorShowed:[],showDialog:function(n){var i=!1;if(this.$body.find(".bootbox.modal").length&&this.$body.find(".bootbox.modal").each(function(t,e){(l(e).find(".modal-title").length&&l(e).find(".modal-title").html()===n.title||l(e).find(".modal-body").length&&l(e).find(".modal-body").html()===n.body)&&(i=!0)}),!i){var t,e,r=this,o={};if((n=n||{}).cancel&&(o.cancel={label:n.cancelLabel||c("Cancel"),className:"btn-default",callback:function(){n.cancel.call(t,t)}}),n.success&&(o.success={label:n.successLabel||c("Ok"),className:"btn-primary",callback:function(){n.success.call(t,t)}}),n.buttons)for(var a in n.buttons)!function(t){o[a]={label:t.label||"",className:(t.className||"")+" "+(/btn-primary|btn-default/.test(t.className)?"":t.default?"btn-primary":"btn-default"),callback:function(){if(t.callback)return t.callback()}}}(n.buttons[a]);for(e in t=bootbox.dialog({size:n.size,title:n.title,className:n.className+(n.flex?" mbr-flex":""),message:n.body||"\x3c!-- Empty body --\x3e",buttons:o,onEscape:n.oncancel||function(){},show:!1}),n.id&&t.attr("id",n.id),n.buttons)t.find("[data-bb-handler="+e+"]").attr("name",e);return n.create&&n.create.call(t,t),t.find("select").dropdown({absolutePos:!0,align:"right"}),t.find("input.mbr-color").each(function(){function n(t,e){return-1==(e=e.map(function(t){return t.toUpperCase()})).indexOf(t.toUpperCase())}var e=l(this);e.spectrum("destroy").spectrum({showButtons:!1,preferredFormat:"hex",allowEmpty:!0,showInput:!0,showPaletteOnly:!0,togglePaletteOnly:!0,togglePaletteMoreText:c("More")+" >",togglePaletteLessText:c("Less")+" <",replacerClassName:e.hasClass("pull-right")?"pull-right":"",appendTo:"#innerFontDialog",maxSelectionSize:1,palette:s.getThemeColorsSet(7),move:function(t){e.val(t&&t.toHexString()),e.trigger("change")},hide:function(t){var e;t&&((e=s.projectSettings.theme.additionalSetColors)?n(t.toHexString(),e)&&n(t.toHexString(),s.getThemeColorsSet(7)[0])&&(e.length<7?e.push(t.toHexString()):(e.unshift(t.toHexString()),e.pop())):n(t.toHexString(),s.getThemeColorsSet(7)[0])?s.projectSettings.theme.additionalSetColors=[t.toHexString()]:s.projectSettings.theme.additionalSetColors=[])}})}),n.show&&n.show.call(t,t),t.on("shown.bs.modal",function(){r.fire("modalDialogShow",t,n)}),l(t).on("hide.bs.modal",function(){t.find("select").each(function(){l(l(this).data("dropdownjs-ul")).remove()}),t.find("input.mbr-color").spectrum("hide"),r.fire("modalDialogHide",t)}),t.on("hidden.bs.modal",function(){s.$body.find(".modal:visible").length&&s.$body.addClass("modal-open"),t.find("input.mbr-color").spectrum("destroy"),n.onhide&&(n.onhide.call(t,t),console.log("Warning: Using showDialog.onhide is depracated, use showDialog.hide instead")),n.hide&&n.hide.call(t,t),r.fire("modalDialogHidden",t)}),t.modal("show"),t}},showError:function(t,e){(t="object"!=(void 0===t?"undefined":i(t))?{message:t||"Unknown error"}:t).callback=t.callback||e,bootbox.alert(t)},confirmDlg:function(t,e){return"object"!==(void 0===t?"undefined":i(t))?t={body:t,cancel:function(){e(!1)},success:function(){e(!0)},oncancel:function(){e(!1)}}:(t.body=t.message,t.buttons?(t.buttons.cancel.callback=function(){t.callback(!1)},t.buttons.confirm.callback=function(){t.callback(!0)},t.buttons.confirm.default=!0):(t.cancel=function(){t.callback(!1)},t.success=function(){t.callback(!0)},t.oncancel=function(){t.callback(!1)}),t.oncancel=function(){t.callback(!1)}),s.showDialog(t)},alertDlg:function(t){return s.showDialog({body:t,success:function(){}})},Accordion:function(e,n,i){return i=l.extend({autoCollapse:!0},i),e=l(e),n=l(n),e.click(function(){var t=n.eq(e.index(this));i.autoCollapse&&n.not(t).slideUp(),t.slideToggle()}),(i.autoCollapse?(n.hide(),l(i.start_panel||n.get(0))):n).show(),{collapse:function(t){l(t||n).hide()},expand:function(t){l(t||n).show()},open:function(t){n.hide(),l(t).show()},close:function(t){l(t).hide()}}},initPopoverRange:function(t){var e=this;l(t).popover({trigger:"click,focus",content:function(){return e.renderRangeSlider(t)},html:!0,placement:"top"})},renderRangeSlider:function(t){var n=l(t),i=l('<div class="slider" style="width:150px" />').get(0),r=parseFloat(n.attr("data-min"))||0,o=parseFloat(n.attr("data-max"))||10,t=parseFloat(n.attr("data-step"))||1,a=(noUiSlider.create(i,{start:parseFloat(n.val())||r,step:t,range:{min:r,max:o}}),l("<span></span>").appendTo(l(i).find(".noUi-handle"))),s=0;return i.noUiSlider.on("update",function(t,e){s?(t=parseFloat(t[e]),l(i).removeClass("noUi-first noUi-last"),t==r?l(i).addClass("noUi-first"):t==o&&l(i).addClass("noUi-last"),a.html("<span>"+t+"</span>"),n.val(t).trigger("change")):s=1}),i},runIframe:function(t,e,n){(n=n||{}).base=n.base||window.location.href;var i="",i="<html><head>";if(i+='<base href="'+n.base+'"/>',n.links)for(var r=0;r<n.links.length;r++)i+='<link rel="stylesheet" href="'+n.links[r]+'"/>';return i=(i+="</head><body"+(s.appSettings&&(!0===s.appSettings.darkMode?' class="dark-mode"':""))+">")+(e||"")+"</body></html>",t.style.visibility="hidden",n.noScroll&&(t.setAttribute("scrolling","no"),t.style.overflow="hidden"),t.onload=function(){t.onload="",this.style.visibility="visible",n.onload&&n.onload(t.contentWindow.document.documentElement)},t.contentWindow.document.open(),t.contentWindow.document.write(i),t.contentWindow.document.close(),t},addAppResource:function(t,e){if(t)return(e=void 0===e?/\.js$/.test(t.split("?")[0]):e)?this.addAppScript(t):(this.addAppStyle(t),l.Deferred().resolve())},addCoreResource:function(t,e){var n;if(t)return void 0===e&&(e=/\.js$/.test(t.split("?")[0])),0<=(n=s.Core.$body.data("files")||[]).indexOf(t)?l.Deferred().resolve():(n.push(t),s.Core.$body.data("files",n),e?this.addCoreScript(t):(t=s.path2core(t),s.Core.$document.find("#insertBefore").before('<link rel="stylesheet" href="'+t+'"/>'),l.Deferred().resolve()))},addAppScript:function(t){var e=l.Deferred();return this.appendScriptAsync(u.path2app(t),s.$window.get(0),function(t){return e.resolve()}),e.promise()},addAppStyle:function(t){s.$body.find("#insertBefore").before('<link rel="stylesheet" href="'+u.path2app(t)+'">')},addCoreScript:function(t){var e=l.Deferred();return this.appendScriptAsync(s.path2core(t),s.iwindow,function(t){return e.resolve()}),e.promise()},appendScriptAsync:function(e,t,n){var i=document.createElement("script");i.addEventListener("load",n),i.addEventListener("error",function(t){console.warn("Error while script loading "+e,t),n&&n()}),i.src=e,(t||window).document.head.appendChild(i)},checkScriptSyntaxError:function(t,e){var i,n=document.createElement("iframe");n.style.visibility="hidden",window.document.body.appendChild(n),n.myerrors=function(t,e,n){return t&&!t.indexOf("SyntaxError:")&&((i=new Error(t)).fileName=e,i.lineNumber=n),!0},n.onload=function(){window.document.body.removeChild(n),e&&e(i)},n.contentWindow.document.open();try{n.contentWindow.document.write('<html><head><script> window.onerror = window.frameElement.myerrors <\/script><script src="'+t+'"><\/script></head><body></body></html>'),n.contentWindow.document.close()}catch(i){}},evalScript:function(e,t){var a=(t=t||{}).globals||{},n=!!t.noCheckErrors,s=t.context||window,i=t.callback_error||function(){};if((!s.eval||!s.location)&&(!(s=(s=s.ownerDocument||s).defaultView||s).eval||!s.location))return t=new Error("Wrong context of evalScript",s),console.error(t),void i(t);function r(r,o){u.loadLocalFile(r,function(t){if(t){var e,n,i={};for(n in a)i[n]=s[n],s[n]=a[n];try{s.eval(t)}catch(t){console.error(t.message,r,t.stack),e=t}for(n in i)s[n]=i[n];o(e)}else console.error("Empty script",r),o(new Error("Empty script",r))})}/^[\w]*:/.test(e)||(t=(t=s.location.href).substring(0,t.lastIndexOf("/")+1),e=t+e),n?setTimeout(function(){r(e,i)},1):this.checkScriptSyntaxError(e,function(t){t?(console.error("Script error:",t,e),i(t)):setTimeout(function(){r(e,i)},1)})},spinText:function(t){for(var i=function(t){return t[e=0,t=t.length,Math.floor(Math.random()*(t-e))+e];var e};/\{[^{}]*\}/.exec(t);)t=t.replace(/\{([^{}]*)\}(\s?)/g,function(t,e,n){return(e=i(e.split("|")))&&(e+=n),e});return t.replace(/\s$/,"")},escapeHtml:function(t){var e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};return String(t).replace(/[&<>"'\/]/g,function(t){return e[t]})},http:function(t,e){return u.http(t,e)},encrypt:(a=window.crypto,h=a&&(a.subtle||a.webkitSubtle),function(e,t){var n,i;return h?"string"!=typeof e?Promise.reject(new TypeError('"content" must be a string')):"string"!=typeof t?Promise.reject(new TypeError('"password" must be a string')):(n=a.getRandomValues(new Uint8Array(16)),i=a.getRandomValues(new Uint8Array(32)),h.importKey("raw",r(t),"PBKDF2",!1,["deriveKey"]).then(function(t){return h.deriveKey({name:"PBKDF2",salt:i,iterations:5e5,hash:"SHA-256"},t,{name:"AES-GCM",length:256},!1,["encrypt"])}).then(function(t){return h.encrypt({name:"AES-GCM",iv:n},t,r(e))}).then(function(t){return o(i,n,5e5,t)}).then(function(t){for(var e="",n=new Uint8Array(t),i=n.byteLength,r=0;r<i;r++)e+=String.fromCharCode(n[r]);return window.btoa(e)})):Promise.reject(new Error("Crypto.subtle is not implemented"))}),reloadTranslator:function(t){"MobiriseTranslator"===t.name&&u.reload()},resizeWindow:function(){s.$window.resize()},runFileDialog:function(t){return t.path&&(t.path=u.docLocation+"/"+t.path),$Bridge.runFileDialog2(t)},showPreloader:function(t){var e;s.$body.find(".preloader").length?(s.$body.find(".preloader").css({opacity:".8",transition:"0.2s"}),t&&t()):(e=l(s.preloaderHTML),s.$body.append(e),e.css({opacity:".8",transition:"0.2s"}),e.one("transitionend",function(){t&&t()}))},hidePreloader:function(t){var e=s.$body.find(".preloader");e.one("transitionend",function(){e.remove(),t&&t()}),e.css("opacity",0)},openImage:function(t,e,n,i,r,o,a){u.openImage(t,e,n,i,r,o,a)},mbrServerGet:function(t){return e.get("storage/"+t)},stopIfRepeatDecorator:function(n,i){var r=null;return function(){var t=this,e=arguments;clearTimeout(r),r=setTimeout(function(){n.apply(t,e)},i)}}},events:{beforeAppLoad:function(){l(document).on("show.bs.modal",function(t){l(t.target).find(".close").addClass("mbr-icon-times").empty()})},translateLoaded:function(){l(".preloader .logo").last().html(c("LOADING..."))}}})},["jQuery","mbrApp","TR()","Bridge","mbrServer"])},function(t,e,n){"use strict";var r=n(25);defineM("app-migrate",function(t,i){i.regExtension({name:"migrate",global:{dirList:function(t,e,n){r.Bridge.dirList(t,e,n)},transformImage:function(t,e,n){r.Bridge.transformImage(t,e,n)},getComponent:function(t){return i.Core.getComponent(t)},getCoreTemplate:function(){return i.Core.$template},removeComponent:function(t,e,n){return i.Core.removeComponent(t,e,n)},getUniqCompName:function(){return i.Core.getUniqCompName()},getCoreUniqNum:function(){return i.Core.uniqNum()}},events:{load:function(){i.Core.on("savedMediaIconFontDialog",function(t,e,n){i.fire("savedMediaIconFontDialog",t,e,n)}),i.Core.on("updateGlobalComponents",function(t,e){i.fire("updateGlobalComponents",t,e)}),i.Core.addFilter("getComponentsAnchorList",function(t){return i.applyFilter("getComponentsAnchorList",t)})},loaded:function(){i.addFilter("additionalSiteSettings",function(t){return i.applyFilter("additionalPageSettings",t)})}}})},["jQuery","mbrApp"])},function(t,e,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=n(160),f=(i=i)&&i.__esModule?i:{default:i},p=n(25);defineM("TR",function(h,d){var a={},n={},i=h.Deferred();function c(t,i){function o(t){var e=t;function n(){return"global"!==i&&a.groups.global[t]?a.groups.global[t]:t}return i=i||"global",e=a.groups?a.groups[i]&&a.groups[i][t]||n():e}return t&&("string"==typeof t&&t.search(/<[^>]+\/?>/)<0?o:function(t){var e;if("string"==typeof t)(e=document.implementation.createHTMLDocument("fake doc").createElement("div")).innerHTML=t;else{if(!t.nodeType)return t;e=t}return function t(e){var n;if(1===e.nodeType?e.hasAttribute("title")&&e.setAttribute("title",o(e.getAttribute("title").trim())):3===e.nodeType&&(n=e.textContent,!/^\s+$/.test(n))&&/[A-Za-z]+/.test(n)&&(e.textContent=e.textContent.replace(e.textContent.trim(),o(e.textContent.trim()))),e.childNodes.length)for(var i=0,r=e.childNodes.length;i<r;i++)t(e.childNodes[i])}(e),e.innerHTML})(t)}function e(){var e,n;f.default.getSettings("language").then(function(t){return e=t.split('"')[1]||t||"en",f.default.osLocale()}).then(function(t){var s,l;n=(n=t.match(/([a-z]+)_/))&&n[1]||"",s=e,l=n,d.getTranslateFilesInfo().then(function(t){for(var e,n,i="",r="",o=0,a=t.length;o<a;o++)r=l===t[o].language?"selected":"",i+='<option value="'+t[o].language+'" '+r+">"+t[o].title+"</option>";e=['<div class="form-group">','   <select class="lang-select">',i,"   </select>","</div>"],n=d.showDialog({title:c("Change language?"),className:"change_language",body:e.join("\n"),buttons:{success:{label:c("Ok"),className:"btn-primary",callback:function(){var t=n.find(".lang-select").val();t!==s&&f.default.setSettings("language",t).then(function(){p.Bridge.reload()}).fail(function(){d.alertDlg(c("Error setup language!"))})}}},show:function(t){r||t.find("select.lang-select").val("en").change()},cancel:function(){}})})}).fail(function(t){console.error(t)})}return n.updateLangObj=function(t){for(var e in t.language&&!a.language&&(a.language=t.language),t.title&&!a.title&&(a.title=t.title),a.groups||(a.groups={}),t.groups)if(t.groups[e].length){a.groups[e]||(a.groups[e]={});for(var n=0,i=t.groups[e].length;n<i;n++)a.groups[e][t.groups[e][n].phrase]=t.groups[e][n].translate}},n.init=function(o){var a=this;return d.on("themeLoaded",function(){d.getTranslateFileData(o,d.theme.name).then(function(t,e){t&&a.updateLangObj(t)})}),d.getTranslateFileData(o).then(function(t,e){var r=h.Deferred();t&&a.updateLangObj(t),d.getPluginsExtensions().then(function(t){!function n(i){i<t.length?d.getTranslateFileData(o,t[i].name).then(function(t,e){t&&a.updateLangObj(t),n(++i)}):r.resolve()}(0)}).fail(function(t){console.error(t)}).always(function(){r.resolve()})})},d.regExtension({name:"translate",global:{languageList:{af:"Afrikaans",am:"Amharic",ar:"Arabic",az:"Azerbaijani",be:"Belarusian",bg:"Bulgarian",bh:"Bihari",bn:"Bengali",br:"Breton",bs:"Bosnian",ca:"Catalan",co:"Corsican",cs:"Czech",cy:"Welsh",da:"Danish",de:"German",el:"Greek",en:"English",eo:"Esperanto",es:"Spanish",et:"Estonian",eu:"Basque",fa:"Persian",fi:"Finnish",fil:"Filipino",fo:"Faroese",fr:"French",fy:"Frisian",ga:"Irish",gd:"Scots Gaelic",gl:"Galician",gn:"Guarani",gu:"Gujarati",ha:"Hausa",haw:"Hawaiian",he:"Hebrew",hi:"Hindi",hr:"Croatian",hu:"Hungarian",hy:"Armenian",ia:"Interlingua",id:"Indonesian",is:"Icelandic",it:"Italian",ja:"Japanese",jw:"Javanese",ka:"Georgian",kk:"Kazakh",km:"Cambodian",kn:"Kannada",ko:"Korean",ku:"Kurdish",ky:"Kyrgyz",la:"Latin",ln:"Lingala",lo:"Laothian",lt:"Lithuanian",lv:"Latvian",mk:"Macedonian",ml:"Malayalam",mn:"Mongolian",mo:"Moldavian",mr:"Marathi",ms:"Malay",mt:"Maltese",ne:"Nepali",nl:"Dutch",no:"Norwegian",oc:"Occitan",om:"Oromo",or:"Oriya",pa:"Punjabi",pl:"Polish",ps:"Pashto",pt:"Portuguese",qu:"Quechua",rm:"Romansh",ro:"Romanian",ru:"Russian",sd:"Sindhi",sh:"Serbo-Croatian",si:"Sinhalese",sk:"Slovak",sl:"Slovenian",sn:"Shona",so:"Somali",sq:"Albanian",sr:"Serbian",st:"Sesotho",su:"Sundanese",sv:"Swedish",sw:"Swahili",ta:"Tamil",te:"Telugu",tg:"Tajik",th:"Thai",ti:"Tigrinya",tk:"Turkmen",tlh:"Klingon",to:"Tonga",tr:"Turkish",tt:"Tatar",tw:"Twi",ug:"Uighur",uk:"Ukrainian",ur:"Urdu",uz:"Uzbek",vi:"Vietnamese",xh:"Xhosa",yi:"Yiddish",yo:"Yoruba",zh:"Chinese",zu:"Zulu"},TR:c,getAccountTranslateDir:function(){return d.getAccountPath()?d.getAccountPath()+"/translations":""},getSrcTranslationsFolder:function(t){return"interface"!==t&&t?d.getAddonDir(t)+"/translations":"web/assets/translations"},getTranslationsFolder:function(t){var e=d.getAccountTranslateDir();return"interface"!==t&&t?e?e+"/"+t:"":e},validateTranslationData:function(i){return d.languageList[i.language]===i.title&&function(){if(i.groups)for(var t in i.groups)if(i.groups[t].length)for(var e=0,n=i.groups[t].length;e<n;e++)if(i.groups[t][e].phrase&&void 0!==i.groups[t][e].translate)return!0;return!1}()},getTranslateFileData:function(t,e){var i=h.Deferred(),r=[];return e&&d.getTranslationsFolder(e)&&r.push(d.getTranslationsFolder(e)+"/"+t+".json"),d.getSrcTranslationsFolder(e)&&r.push(d.getSrcTranslationsFolder(e)+"/"+t+".json"),function e(n){r.length<=n?i.resolve():f.default.loadLocalFile(r[n]).then(function(t){try{t=JSON.parse(t),d.validateTranslationData(t)?i.resolve(t,r[n]):e(++n)}catch(t){e(++n)}})}(0),i.promise()},getPluginsExtensions:function(){var i=h.Deferred();return d.getAddons(function(t){var e=[];if(t)for(var n in t)"plugin"===t[n].type&&e.push(t[n]);i.resolve(e)}),i.promise()},getTranslateFilesPaths:function(e){var c=[],n=h.Deferred(),o=d.getTranslationsFolder(e),u=d.getSrcTranslationsFolder(e),i=u+"/en.json",r=o+"/en.json";return f.default.isExistsLocal(d.path2core(i)).then(function(t){return d.isValidTranslateFile(t?i:r)}).then(function(t){t?(o?f.default.dirList(o,{names:["*.json"],filter:1,recursive:!1}).then(function(t){var r=h.Deferred();return function e(n){var i;n<t.length?(i=o+"/"+t[n],"en"!==p.Bridge.splitPath(i).name?d.isValidTranslateFile(i).then(function(t){t&&c.push(i),e(++n)}):e(++n)):r.resolve()}(0),r.promise()}):h.Deferred().resolve()).then(function(){return"interface"!==e&&e?f.default.dirList(u,{names:["*.json"],filter:1,recursive:!1}):f.default.getLocalJSON(u+"/list.json")}).then(function(s){var l=h.Deferred();return function e(n){var i,t,r=!1;if(n<s.length){if(i=u+"/"+s[n],t=p.Bridge.splitPath(i).name,c.length)for(var o=0,a=c.length;o<a;o++)if(t===p.Bridge.splitPath(c[o]).name){r=!0;break}r?e(++n):d.isValidTranslateFile(i).then(function(t){t&&c.push(i),e(++n)})}else l.resolve()}(0),l.promise()}).then(function(){n.resolve(c)}):n.resolve([])}),n.promise()},isValidTranslateFile:function(t){var e=h.Deferred();return p.Bridge.getLocalJSON(t,function(t){t?e.resolve(d.validateTranslationData(t)):e.resolve(!1)},function(t){t&&console.error(t),e.resolve(!1)}),e.promise()},getTranslateFilesInfo:function(t){return d.getTranslateFilesPaths(t).then(function(t){var i=h.Deferred(),r=[];return function e(n){n<t.length?f.default.loadLocalFile(t[n]).then(function(t){if(t)try{t=JSON.parse(t),d.validateTranslationData(t)&&r.push({title:t.title,language:t.language})}catch(t){}e(++n)}):i.resolve(r)}(0),i.promise()})},getLangInfo:function(){return a},startLanguageSelect:e},events:{load:function(){c(d.$sidebar[0]),c(d.$pagesList[0]),c(d.$pageSettings[0]),c(d.$componentsLayer[0]),c(d.$themeToggleBtn[0]),bootbox.setLocale(a.language),f.default.getSettings("language").then(function(t){t?a.language=t.split('"')[1]||t:e()}),d.addFilter("addAppSettingsItem",function(t){return[t,"<div>",'   <label class="col-md-3">'+c("Language")+"</label>",'   <div class="col-md-9">',"       "+(d.Core.isMobile?"":"<br>"),'       <div class="setting">','           <div class="row">','               <div class="input-group">','                   <select class="form-control" name="language"></select>',"               </div>","           </div>","       </div>","   </div>","</div>"].join("\n")})},beforeAppLoad:function(){d.Core.addFilter("loadComponentTemplate",function(t,e,n,i){return t=d.isSecondaryComponent(e)?t&&c(t,d.theme.name):t})},showAppSettings:function(o){d.getTranslateFilesInfo().then(function(t){var e="";if(t.length)for(var n=0,i=t.length;n<i;n++)e+='<option value="'+t[n].language+'">'+t[n].title+"</option>";h("select[name=language]").append(e),h("select[name=language]").change();var r=o.find('[name="language"]');a.language&&(r.val(a.language),r.trigger("change"))})},applyAppSettings:function(t){t=t.find('[name="language"]');a.language&&t.val()&&t.val()!==a.language&&p.Bridge.setSettings("language",t.val(),function(){p.Bridge.reload()})},accountInited:function(t){var e=void 0;f.default.getSettings("language").then(function(t){return t?"en"==(e=t.split('"')[1]||t):f.default.osLocale().then(function(t){return(t=t&&t.split("_")[0])&&(e=t,f.default.setSettings("language",t)),t})}).then(function(t){return!t&&d.getTranslationsFolder()?d.isValidTranslateFile(d.getTranslationsFolder()+"/"+e+".json"):t}).then(function(t){return!t&&d.getSrcTranslationsFolder()?d.isValidTranslateFile(d.getSrcTranslationsFolder()+"/"+e+".json"):t}).then(function(t){if(t&&e)return n.init(e);f.default.setSettings("language","en"),e="en"}).fail(function(t){console.error("Error translate file",t)}).always(function(){i.resolve(function(n){return"object"==(void 0===n?"undefined":r(n))&&n.func?function(t,e){return c(t,e=e||(n.name+".js"===n.path?"web/"+n.path:n.name))}:c.apply(null,arguments)}),d.fire("translateLoaded")})}}}),i},["jQuery","mbrApp"])},function(t,e,n){"use strict";var r=n(25);defineM(function(e,a,i){var n=!1;a.regExtension({name:"aws",global:{getUserInfo:function(){return n&&e.extend({},!0,n)},checkUserInfo:function(t){t=t||function(){},n&&n.id&&"verified"in n?t(this.getUserInfo()):t()},getAccountPath:function(){return""},signUp:function(t,e){i.signup(t).then(function(t){e()}).catch(function(t){e(t)})},signIn:function(t,e,n){i.signin({email:t,password:e}).then(function(t){n()}).catch(function(t){n(t)})},signInWith:function(t,e){console.warn("Try to sign-in"),e&&e("Signin is denided")},signOut:function(){i.signout().then(function(t){a.fire("logout",a.getUserInfo().email),setTimeout(function(t){r.Bridge.goLogin()},1)})},logout:function(){this.signOut()},resetPassword:function(){var t=a.getUserInfo().email;i.lostpassword(t).then(function(){a.alertDlg("We've sent an email with instructions on how to reset your password to the email address $email$".replace("$email$",t)),a.fire("sendResetPassword",t)}).catch(function(t){a.alertDlg(t.message)})},serverAddons:function(t){return e.Deferred().reject(null)},connectUsrDomain:function(t,e){return r.Bridge._REST("sites/"+a.projectSettings.id+"/domains",{method:"POST",data:JSON.stringify({name:t})})},deleteUsrDomain:function(e){return a.infoUsrDomain(e).then(function(t){if(t)return r.Bridge._REST("sites/"+e+"/domains/"+a.projectSettings.domains[1].id,{method:"DELETE"});throw new Error("Invalid site information")},function(t){throw new Error(t)})},changeUsrDomain:function(t){return r.Bridge._REST("sites/"+a.projectSettings.id+"/domains/0",{method:"PUT",data:JSON.stringify({name:t+".@"})})},infoUsrDomain:function(t){return r.Bridge._REST("sites/"+t,{method:"GET"})},checkSign:function(e,t){var n,i=a.getUserInfo();function r(){n=!0}i&&i.email?e(!0):(n=!1,a.on("signedin",r),a.on("closedSignForm",function t(){a.off("closedSignForm",t),a.off("signedin",r),e&&e(n)}),a.showSignForm(SSF_DEFAULT,t))},handleServerError:function(t,e){403==e&&n&&n.token&&a.fire("accountAccessExpired")},isPremiumUser:function(){return i.licenses().then(function(t){return!!t.filter(function(t){return t.items.some(function(t){return"subscription"===t.type&&!t.expired})}).length})},goToBuyPremium:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=t.alert,t=t.delay,t=void 0===t?2e3:t;void 0!==e&&!e||a.confirmDlg({message:"This feature is available with our premium plans",buttons:{cancel:{label:"Cancel",className:"btn-default"},confirm:{label:"Upgrade",className:"btn-primary"}},callback:function(t){t&&a.goToBuyPremium({alert:!1,delay:!1})}}),setTimeout(function(){a.openUrl("https://mobirise.com/p/?u="+a.getUserInfo().id)},t||0)},reqUserInfo:function(){return a.getUserInfo()?Promise.resolve(a.getUserInfo()):i.getProfile()}},events:{bridgeInit:function(t){var e=this;i.getProfile().then(function(t){n=t,e.fireOnce("accountInited",t)}).catch(function(){console.error("Account is unavailable, need to re-login..."),e.fire("needLogin")}),r.Bridge.bind("auth-error",function(t){a.fire("authError",t)})},load:function(){a.addFilter("getPluginResource",function(t,e,n,i,r,o){return void 0!==a.projectSettings.theme.staticStyles&&0===e.indexOf("Theme")&&"css"===n&&a.appSettings.removeMobiriseReferences&&(result.css=""),t}),a.addFilter("publishFiles",function(t){for(var e=0;e<t.length;){var n=t[e];if(0<=n.dest.indexOf("project.mobirise"))t.splice(e,1);else{if(n.srcList&&n.srcList.length)for(var i=0;i<n.srcList.length;i++)n.srcList[i].src.startsWith(a.projectPath)&&(console.warn("Publish source is in project",n),t.splice(e,1));e++}}return t}),a.addFilter("publishHTML",function(t,e,n){return t=t.replace(/(?:href|src)\=\"([^\"#\?]+)/gim,function(t,e){var n;return!/^http[s]?\:/.test(e)&&!/\.html$|\.htm$|\.xht$|\.xhta$|\.xhtml$|\.shtml$|\.shtm$|\.php$|\.php3$|\.php4$|\.php5$|\.phps$|\.phpt$|\.phtml$|\.asp$|\.aspx$|\.jsp$|\.cgi$|\.pl$|\.py$/i.test(e)&&(n=void 0,e.startsWith(".")?n=a.projectSettings.resourcesUrl+e.replace(/^.\//,"")+"?rnd="+Date.now():e.startsWith("assets/")&&(n=a.projectSettings.resourcesUrl+e+"?rnd="+Date.now()),n)?t.replace(e,n):t})}),a.addFilter("initFontsForFrame",function(n,t){return t.forEach(function(t,e){/^http[s]?\:/.test(t.url)&&(n[e]=t.url)}),n}),a.addFilter("checkProjectFonts",function(t){return[]}),a.addFilter("downloadFonts",function(t){return[]}),a.Core.addFilter("getComponent",function(t,e,n,i){return t&&(t._customHTML=a.Core.replaceSystemVariables(t._customHTML,t)),t})},modalDialogShow:function(t,e){"google-fonts"==e.className&&t.find("#media-tabs li:first button").hide()},authError:function(t){a.showError(t,function(){a.fire("needLogin")})},needLogin:function(){r.Bridge.goLogin()}}}),a.on("openThemeSettings",function(){e("[data-setting-name=isScrollToTopButton]").hide()})},["jQuery","mbrApp","mbrServer"])},function(t,e,n){"use strict";defineM("app-plugin-sidebar",function(r,t){t.regExtension({name:"plugin-sidebar",global:{$sidebar:r(".app-sidebar"),$sidebarToggle:r(".sidebar-toggle .mbr-icon-bars"),$sidebarClose:r(".sidebar-close"),openSidebar:function(){var e=this;this.$body.hasClass("app-page-settings-open")||this.$body.hasClass("app-component-code-editor-open")||(this.$body.toggleClass("app-sidebar-open"),t.$body.on("keyup.escListenerSidebar",function(t){"Escape"!==t.key||e.$body.hasClass("modal-open")||e.$body[0].className.replace("app-sidebar-open","").trim().includes("open")||(e.closeSidebar(),t.stopPropagation())}),this.fire("sidebarOpened"))},closeSidebar:function(){this.$body.hasClass("app-page-settings-open")||(this.$body.removeClass("app-sidebar-open"),t.$body.off("keyup.escListenerSidebar"),this.fire("sidebarClosed"))},addSidebarItem:function(t,e){e||(e=t,t=""),(e=r.extend({title:t,description:e.tooltip||e.title,className:"sidebar-block",subTitle:"",subClass:"",hover:!0,customHTML:""},e)).hover&&(e.className+=" hover-block");var n,i='<div class="hover-block @className@" data-tooltipster="right" title="@description@"><span class="hover-block-arrow mbr-icon-angle-right"></span><h4>@title@</h4></div>';for(n in e)i=i.replace(new RegExp("@"+n+"@","g"),e[n]);return i=r(i),e.customHTML&&i.append(e.customHTML),i.appendTo(this.$sidebar),e.onclick&&i.click(e.onclick),i}},events:{load:function(){var e=this;e.$sidebarToggle.on("mouseenter touchenter",function(t){e.openSidebar()}),e.$sidebarClose.on("click",function(){e.closeSidebar()})},clickBody:function(t){r(t.target).is(".mbr-icon-bars")||r(t.target).is(".app-sidebar")||r(t.target).parents(".app-sidebar").length||r(t.target).parents(".app-layer").length||r(t.target).is(".app-layer")||r(t.target).is("ul, li")||this.closeSidebar()},toggleComponents:function(){this.closeSidebar()}}})},["jQuery","mbrApp"])},function(t,e,n){"use strict";defineM("app-user-account",function(t,i,r,n,e){var o=0;i.regExtension({name:"user-account-dialog",global:{$btnAccountBlock:t(".account-block"),$accountSettings:t("#app-account-settings"),updateAccountBlock:function(){this.fire("updateAccountBlock");var t=this.$btnAccountBlock.find(".app-user-email"),e=r("Please, Sign Up"),n=i.getUserInfo();n&&n.email?(this.$btnAccountBlock.addClass("app-user-signed"),e=n.email):this.$btnAccountBlock.removeClass("app-user-signed"),t.text(e),this.fire("updatedAccountBlock")},showAccountSettings:function(){var e=this;this.$body.hasClass("app-account-settings-open")||(this.fire("showSideBarsSection",this.$accountSettings),this.fire("showAccountSettings"),t(".account-email").text(i.getUserInfo().email),this.$body.addClass("app-account-settings-open"),i.$body.on("keyup.escListenerAccountSettings",function(t){"Escape"!==t.key||e.$body.hasClass("modal-open")||(e.hideAccountSettings(),t.stopPropagation())}),this.fire("showedAccountSettings"))},hideAccountSettings:function(){this.$body.hasClass("app-account-settings-open")&&(this.fire("hideAccountSettings"),this.$body.removeClass("app-account-settings-open"),i.$body.off("keyup.escListenerAccountSettings"),this.fire("hiddenAccountSettings"))},_initAccountSettings:function(){var e=this;e.$accountSettings.on("click",function(t){t.stopPropagation()}),e.$accountSettings.on("click",".app-layer-close",function(t){e.hideAccountSettings()}),e.on("clickBody",function(){e.hideAccountSettings()}),r(i.$accountSettings[0]),i.fire("initAccountSettings",e.$accountSettings)}},events:{accountInited:function(){i.getUserInfo()&&this.updateAccountBlock()},signedin:function(){this.updateAccountBlock()},load:function(){var e=this;e._initAccountSettings(),e.$btnAccountBlock.on("click",function(t){t.preventDefault(),t.stopPropagation(),i.getUserInfo()?e.showAccountSettings():e.showSignForm()}),t("#accountResetPassword").click(function(){e.resetPassword()}),t("#accountLogout").click(function(){e.logout()})},published:function(){var e=this;i.getUserInfo()||o||(o++,n.getSettings("showSignFormOnLoad",function(t){"no"!==t&&""!==t&&e.showSignForm(1)}))},showSideBarsSection:function(){this.hideAccountSettings()},sidebarClosed:function(){this.hideAccountSettings()}}})},["jQuery","mbrApp","TR()","Bridge","mbrServer"])},function(t,e,n){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=n(160),d=(r=r)&&r.__esModule?r:{default:r},l=n(25);defineM("app-fonts",function(f,p,m){var a="AIzaSyAHKXsrK2fMCl5gJJBy4N8t-_959d1zDls";function h(t,e){this.API_KEY=t,this.settingName=e,this.gFonts={},this.$iframeGoogle="",this.$iframeLocal="",this.loadQuantity=20,this._blockScroll=!1,this._lastIndex=0,this.$loader=f(p.preloaderHTML),this.fontsPath=p.projectPath+"/fonts",this.requestUrl="https://www.googleapis.com/webfonts/v1/webfonts?sort=popularity&key="+this.API_KEY,this.init=function(){var o=this;function t(t,e){p.runIframe(o.$modalFonts.find("#"+t).get(0),['<ul class="gf-list">',"</ul>"].join("\n"),{onload:e,links:["assets/bootstrap/bootstrap.min.css","assets/bootstrap-material/css/material.min.css","app/interface/app-plugin-iconfont.css","css/main.css","assets/fonts/fonts.css"]})}o.$modalFonts=p.showDialog({title:m("Fonts"),className:"google-fonts",body:['<div class="row">','   <div class="col-md-12">','       <form class="google-fonts-form">','           <div class="form-group clearfix">','               <div class="col-md-12" id="media-tabs">','                   <ul class="nav nav-tabs">',l.Bridge.isMobile?"":'                       <li>                           <button style="margin: 0 5px 0 0" class="btn btn-primary '+(p.isAMP()?"disabled":"")+'" id="browse-font">'+m("Browse Computer")+"</button>                       </li>",'                       <li class="active">','                           <a href="#1" data-toggle="tab">'+m("Google Fonts")+"</a>","                       </li>",l.Bridge.isMobile?"":'                       <li>                           <a href="#2" data-toggle="tab" id="downloaded-fonts-tab">'+m("Site Fonts")+"</a>                       </li>","                   </ul>",'                   <div class="tab-content">','                       <div class="tab-pane active" id="1">','                           <iframe id="gf-iframe" frameborder="0" width="100%" height="500px" src="about:blank"></iframe>',"                       </div>",'                       <div class="tab-pane" id="2">','                           <iframe id="lf-iframe" frameborder="0" width="100%" height="500px" src="about:blank"></iframe>',"                       </div>","                   </div>","               </div>","           </div>","       </form>","   </div>","</div>"].join("\n"),buttons:{fontsOk:{label:m("Ok"),className:"btn-primary"}},hide:function(){p.redrawStyleChanger()},cancel:function(){}}),o.$modalFonts.find(".modal-content").before(o.$loader),o.$loader.css({opacity:.8}),o.$loader.show(),o.$modalFonts.find("#browse-font").on("click",function(t){t.preventDefault(),l.Bridge.runFileDialog(m("Select font"),l.Bridge.docLocation,"Fonts file (*.eot *.woff *.ttf)",function(t){var e,n,i,r;t&&(o.$loader.show(),e=l.Bridge.splitPath(t),n=decodeURI(e.name),i=o.fontsPath+"/"+e.name,r=i+"/font."+e.ext,p.getProjectFont(n)?(o.fillCards(o.$iframeLocal,p.projectSettings.siteFonts,function(){o.$loader.hide()},!0),p.alertDlg("'"+n+"' font is already loaded!")):l.Bridge.copyLocal(t,r,function(t){t?(t=["@font-face {","   font-family: '"+n+"';","   src: url('"+t+"');","}\n"].join("\n"),l.Bridge.saveLocalFile(i+"/style.css",t,function(t){t?(p.projectSettings.siteFonts.push({css:"'"+n+"'",name:n,url:null,file:r}),o.activateFont(n)):(o.fillCards(o.$iframeLocal,p.projectSettings.siteFonts,function(){o.$loader.hide()},!0),p.alertDlg(m("Error saving style.css for $font name$").replace("$font name$","'"+n+"'")))})):(o.fillCards(o.$iframeLocal,p.projectSettings.siteFonts,function(){o.$loader.hide()},!0),p.alertDlg("Error copying file!"))}))})}),t("gf-iframe",function(){o.$iframeGoogle=o.$modalFonts.find("#gf-iframe").contents(),o.$iframeGoogle.find("body").addClass("gf-body"),o.$iframeGoogle.find("head").append('<link id="insertBefore">'),o.$iframeGoogle.find("body").prepend(['<div class="gf-form clearfix">','   <input class="form-control gf-form__input" value="" type="text" placeholder="'+m("Search by font name")+'">',"</div>"].join("\n")),o.$iframeGoogle.find(".gf-form .gf-form__input").on("keydown",function(t){var i=f(this),r=setTimeout(function(){var t=i.val().trim(),e=o.searchFonts(t),n=(o.$iframeGoogle.find("#insertBefore").nextAll().remove(),o.$iframeGoogle.find(".gf-list").replaceWith('<ul class="gf-list"></ul>'),o.$iframeGoogle.find(".gf-list"));o.$loader.show(),e.length?t?(o.$iframeGoogle.off(),o._lastIndex=0,o._blockScroll=!0,o.$loader.show(),o.fillCards(o.$iframeGoogle,e,function(){o.$loader.hide()}),o._blockScroll=!1,n.on("scroll",function(){o._blockScroll||n.height()+n.scrollTop()>n[0].scrollHeight-10&&(o._blockScroll=!0,o.$loader.show(),o.fillCards(o.$iframeGoogle,e,function(){o.$loader.hide()}),o._blockScroll=!1)})):(o._lastIndex=0,o.fillCards(o.$iframeGoogle,o.gFonts,function(){o.$loader.hide()})):(n.append('<h2 class="gf-list__error">No fonts found!</h2>'),o.$loader.hide()),clearTimeout(r)},300)}),o.getGoogleFonts(function(t,e){t?(o.$loader.hide(),p.alertDlg("Connection error!")):(o.gFonts=e,o.fillCards(o.$iframeGoogle,o.gFonts,function(){o.$loader.hide(),o.$iframeGoogle.find(".gf-list").on("scroll",function(){var t;o._blockScroll||(t=o.$iframeGoogle.find(".gf-list")).height()+t.scrollTop()>t[0].scrollHeight-10&&(o._blockScroll=!0,o.$loader.show(),o.fillCards(o.$iframeGoogle,o.gFonts,function(){o.$loader.hide()}),o._blockScroll=!1)})}))})}),t("lf-iframe",function(){o.$iframeLocal=o.$modalFonts.find("#lf-iframe").contents(),o.$iframeLocal.find("body").addClass("lf-body"),f("#downloaded-fonts-tab").on("click",function(){f(this).parent().hasClass("active")||(o.$loader.show(),o.fillCards(o.$iframeLocal,p.projectSettings.siteFonts,function(){o.$loader.hide()},!0))})})}}function t(){f("#theme-settings").find(".app-layer-font .dropdownjs").each(function(){var t=f(this).data("select"),t=f(t.data("dropdownjs-ul")),e=f(this).closest("[data-setting-name]").data("setting-name"),e=f('<button name="fontManager" class="btn  btn-primary" data-setting-name="'+e+'">'+m("More fonts")+"</button>");t.find('button[name="fontManager"]').length||(t.append(e),e.on("click",function(){new h(a,f(this).data("setting-name")).init()}))})}h.prototype.$loader=f(p.preloaderHTML),h.prototype.searchFonts=function(t){for(var e=[],n=new RegExp(t,"i"),i=0,r=this.gFonts.length;i<r;i++)0<=this.gFonts[i].family.search(n)&&e.push(this.gFonts[i]);return e},h.prototype.getGoogleFonts=function(i){l.Bridge.http(this.requestUrl,{success:function(t,e){var n;if(200===e.statusCode||200===e.code||200==e.status)try{n=JSON.parse(t).items,i(null,n)}catch(t){i(!0)}else i(!0)},error:function(){i(!0)},withCredentials:!1})},h.prototype.getFontLink=function(t){for(var e,n="https://fonts.googleapis.com/css?family="+t.family.replace(/\s/g,"+"),i="",r=0,o=t.variants.length;r<o;r++)(e=t.variants[r]).match(/\d+italic/)?e=e.replace("italic","i"):e.match("italic")?e=e.replace("italic","400i"):e.match("regular")&&(e=e.replace("regular","400")),i+=r<o-1?e+",":e;return n+=":"+i},h.prototype.activateFont=function(t){this.$modalFonts.trigger("hidden.bs.modal");var e='.app-layer-font[data-setting-name="'+this.settingName+'"] select',e=f("#theme-settings").find(e);e.val(t),e.trigger("change")},h.prototype.fillCards=function(n,i,r,t){var o=this;if(t)p.initFontsForFrame(n,function(){n.find(".gf-list").replaceWith('<ul class="gf-list"></ul>');for(var t=0,e=i.length;t<e;t++)o.appendCard(n,i[t],!0);r&&r()});else if(o._lastIndex>=o.gFonts.length)r();else{for(var e=o._lastIndex,a=o._lastIndex+o.loadQuantity;e<a&&i[e];e++)n.find("head").append('<link href="'+o.getFontLink(i[e])+'" rel="stylesheet">'),o.appendCard(n,i[e]);o._lastIndex=e,setTimeout(function(){r&&r()},1e3)}},h.prototype.appendCard=function(t,r,l){var c=this,u=l?r.name:r.family,e=p.getProjectFont(u),h=f(['<li class="gf-list__item">','   <div class="gf-card ',e?"gf-card_downloaded":"",'   ">','       <div class="gf-card__controls">','           <ul class="gf-controls">','               <li class="gf-controls__item">','                   <span class="gf-controls__button ',e?"gf-controls__button_del mbr-icon-trash":"gf-controls__button_add mbr-icon-plus",'                   "></span>',"               </li>","           </ul>","       </div>",'       <p class="gf-card__title">',"           "+u,"       </p>",'       <p class="gf-card__text">',m("The quick brown fox jumps over the lazy dog."),"       </p>","   </div>","</li>"].join("\n"));function d(t){function e(e){c.downloadFonts(e,function(t){t?p.alertDlg(m("Download font error!")):(c.$loader.show(),c.activateFont(e.family),p.fire("downloadedFont",e)),c.$loader.hide()})}if(t.preventDefault(),c.$loader.show(),r.files)e(r);else for(var n=0,i=c.gFonts.length;n<i;n++)if(r.name===c.gFonts[n].family){e(c.gFonts[n]);break}}t.find(".gf-list").append(h),h.find(".gf-card__text").css({"font-family":u}),e?h.find(".gf-controls__button").off().on("click",function(t){t.preventDefault();var s=f(this);c.$loader.show(),c.isFontInUse(u)?(p.alertDlg(m("This is the font used in the project!")),c.$loader.hide()):c.removeFont(u,function(t){if(t){if(l){h.remove();var e=c.$iframeGoogle.find(".gf-list").find('.gf-card__title:contains("'+u+'")');if(e.length)for(var n=0,i=e.length;n<i;n++){var r=f(e[n]),o=r.prev().find(".gf-controls__button"),a=o.closest(".gf-card");if(r.text().trim()===u){c.triggerFontButton(o),o.off(),a.on("click",d);break}}}else c.triggerFontButton(s),s.off(),s.closest(".gf-card").on("click",d);p.fire("deletedFont",u),p.alertDlg(m("This font has been successfully removed."))}else p.alertDlg(m("Font removal error!"));c.$loader.hide()})}):h.find(".gf-card").off().on("click",d)},h.prototype.triggerFontButton=function(t){t.hasClass("gf-controls__button_add")?t.removeClass("gf-controls__button_add mbr-icon-plus").addClass("gf-controls__button_del mbr-icon-trash").closest(".gf-card").addClass("gf-card_downloaded"):t.removeClass("gf-controls__button_del mbr-icon-trash").addClass("gf-controls__button_add mbr-icon-plus").closest(".gf-card").removeClass("gf-card_downloaded")},h.prototype.downloadFonts=function(o,e){var t,a=p.projectPath+"/fonts/"+o.family,s="",n=[],i=this;for(t in o.files)n.push({weight:t,file:o.files[t]});function r(t){p.getProjectFont(t.family)||p.projectSettings.siteFonts.push({css:"'"+t.family+"', "+t.category,name:t.family,url:i.getFontLink(t)})}n=p.applyFilter("downloadFonts",n),p.waitAllAndDo(n,function(i,r){l.Bridge.download2(i.file,function(t){var n;t?(n=a+"/"+i.weight+".ttf",l.Bridge.moveLocal(t,n,function(t){var e;t?(t=(t=i.weight.match(/([0-9]+)([a-z]+)?/))?(e=t[2]||"normal",t[1]):(e=i.weight,400),s+=["@font-face {","   font-family: '"+o.family+"';","   font-style: "+e+";","   font-weight: "+t+";","   src: url('"+n+"') format('truetype');","}\n"].join("\n"),r(s)):(r(""),0)})):(r(""),0)})},function(){s?l.Bridge.saveLocalFile(a+"/style.css",s,function(t){t?(r(o),e()):e(m("Error file saving!"))}):(r(o),e())})},h.prototype.removeFont=function(i,r){var t=p.projectPath+"/fonts/"+i;l.Bridge.removeLocal(t,function(t){if(t){var e,n=i;for(e in p.projectSettings.siteFonts)if(p.projectSettings.siteFonts[e].name===n){p.projectSettings.siteFonts.splice(e,1),r(!0);break}}else r(!1)})},h.prototype.isFontInUse=function(t){var e=p.getUsedFonts(),n=e.length;if(n)for(var i=0;i<n;i++)if(t===e[i].name)return!0;return!1},p.regExtension({name:"fonts",global:{getThemeFonts:function(){var t=[];return"object"===i(this.theme.params.theme)&&this.theme.params.theme.fonts&&(t=f.extend([],this.theme.params.theme.fonts)),this.applyFilter("getThemeFonts",t)||[]},getAccesibleFonts:function(){var i=[].concat(p.projectSettings.siteFonts||[]),r=i.length;return p.getThemeFonts().forEach(function(t){for(var e=t.name,n=0;n<r;n++)if(e==i[n].name)return;i.push(t)}),i},getFont:function(t){for(var e=this.getAccesibleFonts(),n=0;n<e.length;n++)if(e[n].name===t)return e[n];return{}},waitAllAndDo:function t(e,n,i){if(!e.length)return i();n(e.splice(0,1)[0],function(){t(e,n,i)})},getUsedFonts:function(){var i=f("#theme-settings").find(".app-layer-select select, .app-layer-font select"),r=[];if(i.length)for(var o=0,t=i.length;o<t;o++){var e=p.getProjectFont(i[o].value);!e||!function(){for(var t=i[o].value,e=0,n=r.length;e<n;e++)if(t===r[e].name)return;return 1}()||r.push(e)}return r},getProjectFont:function(t){for(var e=0,n=p.projectSettings.siteFonts.length;e<n;e++)if(t===p.projectSettings.siteFonts[e].name)return p.projectSettings.siteFonts[e];return!1},initFontsForFrame:function(t,e){t instanceof Array||(t=[t]);var i="",n=p.projectSettings.siteFonts.map(function(t){return p.projectPath+"/fonts/"+t.name+"/style.css"});p.waitAllAndDo(p.applyFilter("initFontsForFrame",n,p.projectSettings.siteFonts),function(e,n){/^http[s]?\:/.test(e)?(t.forEach(function(t){f(t).find("head").append('<link href="'+e+'" rel="stylesheet">')}),n()):l.Bridge.loadLocalFile(e,function(t){i+=t,n()})},function(){i&&t.forEach(function(t){f(t).find("#userFonts").length?f(t).find("#userFonts").text(i):f(t).find("body").append("<style id='userFonts'>"+i+"</style>")}),e&&e()})},checkProjectFonts:function(u){var n,i,r,t,o=[];try{for(i in n=p.projectSettings.theme.styling)/display\dFont/g.test(i)&&!function(){if(o.length)for(var t=0,e=o.length;t<e;t++)if(n[i]===o[t])return 1}()&&o.push(n[i])}catch(t){p.showError(t.message)}function e(){p.redrawStyleChanger(),p.Core.render()}(o=p.applyFilter("checkProjectFonts",o)).length?(r=o,t=f.Deferred(),function e(n){n<r.length?function(t){for(var e=p.projectSettings.siteFonts,n=0,i=e.length;n<i;n++)if(e[n].name===t&&(e[n].url||e[n].file)&&e[n].css)return d.default.isExistsLocal(u+"/fonts/"+t);return f.Deferred().resolve(!1)}(r[n]).then(function(t){var s,l,c;t?e(++n):(s=r[n],l=new h(a),c=f.Deferred(),l.getGoogleFonts(function(t,e){if(t)return c.resolve();for(var r,o,a,n=0,i=e.length;n<i;n++)if(e[n].family===s)return l.downloadFonts(e[n],function(t){c.resolve()});r=s,o=u+"assets/fonts/"+encodeURI(r),a=u+"fonts/"+encodeURI(r),d.default.dirList(o,{names:["*.ttf","*.eot","*.woff","*.woff2"],recursive:!1}).then(function(t){var e,n,i=f.Deferred();return t.length?(e=o+"/"+t[0],n=a+"/"+t[0],d.default.copyLocal(e,n).then(function(t){var e=["@font-face {","   font-family: '"+r+"';","   font-display: swap;","   src: url('"+n+"');","}\n"].join("\n");t?d.default.saveLocalFile(a+"/style.css",e).then(function(){p.projectSettings.siteFonts.push({css:"'"+r+"'",name:r,url:null,file:n}),i.resolve()}).fail(function(){i.resolve()}):i.resolve()}).fail(function(){i.resolve()})):i.resolve(),i.promise()}).then(function(){c.resolve()})}),c.promise().then(function(){e(++n)}))}):t.resolve()}(0),t.promise().then(e)):e()}},events:{load:function(){var i=[];function t(t){var e=p.getUsedFonts(),n=[];if(e.length){for(var i=0,r=e.length;i<r;i++)e[i].url||(t.push({srcList:[{src:e[i].file}],dest:"assets/fonts/"+e[i].name+"/"+l.Bridge.splitPath(e[i].file).fullname}),t.push({srcList:[{src:p.projectPath+"/fonts/"+e[i].name+"/style.css"}],dest:"assets/fonts/"+e[i].name+"/style.css"}),n.push({src:p.projectPath+"/fonts/"+e[i].name+"/style.css",filter:"template"}));n.length&&t.push({srcList:n,dest:"assets/fonts/style.css"})}return t}p.on("getPublishFonts",function(t){i=Array.from(new Set(t))}),p.addFilter("publishAssets",function(e,t){var n=p.projectSettings.cookiesAlert&&"3"===p.projectSettings.cookiesAlertType;return p.getUsedFonts().some(function(t){return!t.url})&&(e.css+="<link "+(n?"data-href":"href")+'="assets/fonts/style.css" rel="stylesheet">\n  '),!p.isAMP()&&i.length&&(i.forEach(function(t){e.css+='<link rel="preload" '+(n?"data-href":"href")+'="'+t+'&display=swap" as="style" onload="this.onload=null;this.rel=\'stylesheet\'">\n  <noscript><link rel="stylesheet" '+(n?"data-href":"href")+'="'+t+'&display=swap"></noscript>\n  '}),i=[]),e}),p.addFilter("publishFiles",t),p.addFilter("exportProjectFiles",t),p.addFilter("publishTemplating",function(t,e){var n=p.getUsedFonts();if(n.length)for(var i=0,r=n.length;i<r;i++)if(e===p.projectPath+"/fonts/"+n[i].name+"/style.css")return["@font-face {","   font-family: '"+n[i].name+"';","   font-display: swap;","   src: url('"+n[i].name+"/"+l.Bridge.splitPath(n[i].file).fullname+"');","}\n"].join("\n");return t})},loadProjectCore:function(t,e){p.projectSettings.siteFonts=p.projectSettings.siteFonts||[],this.checkProjectFonts(e)},initSettingsSidebar:function(){t()},redrawStyleChanger:function(){this.initFontsForFrame([p.$template,p.$body]),t()}}})},["jQuery","mbrApp","TR()"])},function(t,e,n){"use strict";var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u=n(25);function h(t){return function(){var s=t.apply(this,arguments);return new Promise(function(o,a){return function e(t,n){try{var i=s[t](n),r=i.value}catch(t){return void a(t)}if(!i.done)return Promise.resolve(r).then(function(t){e("next",t)},function(t){e("throw",t)});o(r)}("next")})}}defineM("app-themes",function(a,s,l){var c="startm5";s.regExtension({name:"themes",global:{DEFAULT_THEME:c,DEFAULT_THEME_TITLE:"startm5",getSecondaryThemesList:function(t){var i=[];a.when(s.getAddonsEx(function(t){i.push(c);for(var e=0,n=t.length;e<n;e++)t[e].theme&&"object"==o(t[e].theme)&&"secondary"===t[e].theme.type&&i.push(t[e].name)},{type:"theme"})).then(function(){t(i)})},calcProjectTheme:function(t){var e="default",n=u.Bridge.appName;return t?(t.settings&&t.settings.theme&&(n="object"===o(t.settings.theme)?(e=t.settings.theme.name||e,t.settings.theme.title||n):(e=t.settings.theme||e,t.settings.theme||n)),{name:e,title:n}):{}},requestTheme:function(e,n){var i,r,o=a.Deferred(),t=this;return e?e==(t.theme&&t.theme.name)?o.resolve(!0):(i=e,r=(r=function(t){t?o.resolve(!1):s.alertDlg(l("This site uses the theme $theme title$ that isn't available.").replace("$theme title$","<strong>"+(n||e)+"</strong>").replace(". ",".<br>"))})||function(){},t.getThemeAddonsEx(function(t){for(var e=0;e<t.length;e++)if(t[e].name===i)return void u.Bridge.getLocalJSON(s.getAddonDir(i)+"/params.json",r);r()},{type:"theme"})):o.reject("Wrong project"),o.promise()},loadThemeAddon:function(n,i){e=h(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch(e);case 3:t.sent.ok||(n=c,r.createProject("My Site",!1,!1,i)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log("An error occurred while fetching the JSON:",t.t0);case 10:case"end":return t.stop()}},t,this,[[0,7]])}));var e,t=function(t){return e.apply(this,arguments)},r=this,o=("startm5"!==n&&"mobirise5"!==n&&t("https://e.mobirise.com/"+n+"/params.json"),n||console.warn("Warning: Force default theme will be loaded"),n=n||c,s.getAddonDir(n));s.readAddon(o,function(t){function e(){r.fire("themeLoaded"),i(!!t)}n===c||t?(r.theme=r.Core.theme={},a.extend(r.theme,{name:n,path:u.Bridge.path2app(o),pathCore:s.path2core(o),pathExport:o}),r.theme.params=t||{},t?r.loadEachAddon(o,t,!1,function(t){setTimeout(e,0)}):e()):i(!1)})},getThemeButtonColors:function(){var t={"btn-default":"#e6e6e6","btn-primary":"#286090","btn-success":"#449d44","btn-info":"#31b0d5","btn-warning":"#ec971f","btn-danger":"#c9302c"};return"object"===o(this.theme.params.theme)&&this.theme.params.theme.buttonColors&&(t=this.theme.params.theme.buttonColors),this.applyFilter("getThemeButtonColors",t)},hasButtonOutlineColors:function(){return this.theme.params.theme&&this.theme.params.theme.hasButtonOutlineColors},getThemeLinkColors:function(){var t={"text-muted":"#777","text-primary":"#337ab7","text-success":"#3c763d","text-info":"#31708f","text-warning":"#8a6d3b","text-danger":"#a94442"};return"object"===o(this.theme.params.theme)&&this.theme.params.theme.linkColors&&(t=this.theme.params.theme.linkColors),this.applyFilter("getThemeLinkColors",t)},getThemeColorsSet:function(t){var e=["#7ac673","#1ABC9C","#27aae0","#2C82C9","#9365B8","#4c6972","#FFFFFF","#41A85F","#00A885","#3D8EB9","#2969B0","#553982","#475577","#EFEFEF","#F7DA64","#faaf40","#EB6B56","#E25041","#A38F84","#28324E","#CCCCCC","#FAC51C","#f97352","#D14841","#B8312F","#7C706B","#000000","#c1c1c1"];if("object"===o(this.theme.params.theme)&&this.theme.params.theme.colorsSet&&(e=this.theme.params.theme.colorsSet),e=this.applyFilter("getThemeColorsSet",e),s.projectSettings.theme.additionalSetColors&&(e=e.concat(s.projectSettings.theme.additionalSetColors)),"number"==typeof t){for(var n=[],i=0,r=[];i<e.length;i++)r.push(e[i]),i%t===t&&(n.push(r),r=[]);n.push(r),e=n}return e}},events:{load:function(){}}})},["jQuery","mbrApp","TR()"])},function(t,e,n){"use strict";defineM("app-bs5-support",function(t,c){var u=/(data-)(ride|target|slide|slide-to|toggle|parent|interval|dismiss)(=".+?")(?=[^<>]*>)/g,h=/data-bs-version="(\d+(\.\d+)?)"(?=[^<>]*>)/;function d(t){return(t=t&&t.match(h))?Number(t[1]):4}function f(t,e){t=t.toString(),e=e.toString();for(var n,i=/(\.0+)+$/,r=t.replace(i,"").split("."),o=e.replace(i,"").split("."),a=Math.min(r.length,o.length),s=0;s<a;s++)if(n=parseInt(r[s],10)-parseInt(o[s],10))return n;return r.length-o.length}c.on("beforeAppLoad",function(){c.Core.addFilter("loadComponentTemplate",function(t,e,n){if(!n){n=c.theme.params.theme;if(!(n.base&&"bootstrap"===n.base.name&&4<n.base.version)||e.alias||"secondary"!==c.theme.type||c.isAMP())return t;n=e._customHTML||t;f(d(n),5.1)&&(o=e,0<=f(d(r=n),5)||r&&(r=(r=r.replace(u,function(t,e,n,i){return t+" "+e+"bs-"+n+i})).replace(/sr-only(?=[^<>]*>)/g,"sr-only visually-hidden"),a=o._styles,s=".active.carousel-item-right, .carousel-item-next",l=".active.carousel-item-left, .carousel-item-prev",o._name.toLowerCase().includes("slider")&&(a[s]&&a[l]&&(delete o._styles[s],delete o._styles[l]),delete o._styles[".mbr-overlay"]),r=(r=1<(r.match(/form-group(?=[^<>]*>)/g)||[]).length?r.replace(/form-group(?=[^<>]*>)/g,"form-group mb-3"):r).replace(/form-row(?=[^<>]*>)/g,"row")),n=a=0<=f(d(a=n=n=r),5.1)?a:a.replace(/data-bs-toggle="dropdown-submenu"/g,'data-bs-toggle="dropdown"'),i=5.1,n=s=(s=n=a)&&(h.test(s)?s.replace(h,function(){return'data-bs-version="'+i+'"'}):s.replace(/<section/,'<section data-bs-version="'+i+'"')),e._customHTML?e._customHTML=n:t=n)}var i,r,o,a,s,l;return t})}),c.regExtension({name:"bs5-support",events:{loadedComponent:function(t,e,n,i){var r,o,a=c.theme.params.theme;a.base&&"bootstrap"===a.base.name&&4<a.base.version&&t._plugins&&(r=["BootstrapCarouselSwipe","mbr-testimonials-slider","mbr-gradient-svg","mbr-flip-card","TouchSwipe"],(o=t._plugins.split(/,\s?/g)).forEach(function(e,n){r.forEach(function(t){e.toLowerCase()===t.toLocaleLowerCase()&&o.splice(n,1)})}),t._plugins=o.join(","))}}})},["jQuery","mbrApp"])},function(t,e,n){"use strict";defineM("app-settings",function(r,o,e,a){var n=void 0;function i(t){t="false"!==t&&!1!==t;!0==(o.appSettings.showPageSiteNames=t)?r(".navbar-nav .navbar-project-info").show():r(".navbar-nav .navbar-project-info").hide()}function s(t){"true"===(o.appSettings.showAllViews=t)?(o.$navbarDevices.find("> li").show(),o.$navbarDevices.find("> li.active").siblings().removeClass("active")):(o.$navbarDevices.find("> li").hide(),(o.$navbarDevices.find('> [data-device="phone"]').hasClass("active")?o.$navbarDevices.find('> [data-device="desktop"]'):o.$navbarDevices.find('> [data-device="phone"]')).show())}function l(t){"false"===(o.appSettings.showRedo=t)&&o.$redoButton.hide()}function c(t){o.appSettings.showAllBlockButtons=o.applyFilter("showAllBlockButtons",t)}var t,u,h,d="mobirise";function f(t){t&&(d=t,o.$body.hasClass("app-component-code-editor-open")&&(o.$codeEditorHTML.codemirror.setOption("theme",d),o.$codeEditorCSS.codemirror.setOption("theme",d)),o.$body.hasClass("app-site-code-editor-open"))&&(o.$codeEditorStaticCSS.codemirror.setOption("theme",d),o.$codeEditorDynamicCSS.codemirror.setOption("theme",d),o.$codeEditorParamsJSON.codemirror.setOption("theme",d))}function p(t){o.$codeEditor&&(o.appSettings.removeMobiriseReferences="true"===t||null===t)}function m(t){o.appSettings.showCodeEditorUndo="true"===t,o.$codeEditor&&(o.appSettings.showCodeEditorUndo?(o.$codeEditor.find(".code-editor-undo").show(),o.$codeEditor.find(".code-editor-redo").show()):(o.$codeEditor.find(".code-editor-undo").hide(),o.$codeEditor.find(".code-editor-redo").hide())),o.$siteCodeEditor&&(o.appSettings.showCodeEditorUndo?(o.$siteCodeEditor.find(".code-editor-undo").show(),o.$siteCodeEditor.find(".code-editor-redo").show()):(o.$siteCodeEditor.find(".code-editor-undo").hide(),o.$siteCodeEditor.find(".code-editor-redo").hide()))}function g(t){"true"===(o.appSettings.showSiteStylesBtn=t)?"secondary"===o.theme.type&&o.$themeToggleBtn.css("visibility","visible"):"secondary"===o.theme.type&&o.$themeToggleBtn.css("visibility","hidden")}function b(t){t="true"===t||!0===t;!0==(o.appSettings.darkMode=t)?(o.$body.addClass("dark-mode"),o.Core.$body.addClass("dark-mode")):(o.$body.removeClass("dark-mode"),o.Core.$body.removeClass("dark-mode"))}function v(t){t="true"===t||!0===t;!0==(o.appSettings.fullscreenCanvas=t)?o.Core.$body.removeClass("rounded-canvas"):o.Core.$body.addClass("rounded-canvas")}o.regExtension({name:"app-settings",global:{appSettings:{},showAppSettings:function(){o.showDialog({title:e("App Settings"),className:"app-settings-dialog",body:'<div class="row"><div class="col-md-12"><div><label class="col-md-3">'+e("Top Toolbar")+'</label><div class="col-md-9">'+(a.isMobile?"":"<br>")+'<div class="setting"><div class="row"><div class="togglebutton"><label data-tooltipster="right" data-tooltip-class="setting-image" data-tooltip-src="app/builder/images/app_settings/show-page-site-names.jpg"><input name="show-page-site-names" type="checkbox"'+(!0===o.appSettings.showPageSiteNames?'checked="checked"':"")+'><span style="margin-top:-3px;" class="toggle"></span>'+e("Show Page & Site Names")+'</label></div></div></div><div class="setting"><div class="row"><div class="togglebutton"><label data-tooltipster="right" data-tooltip-class="setting-image" data-tooltip-src="app/builder/images/app_settings/show-all-views.jpg"><input name="show-all-views" type="checkbox"'+("true"===o.appSettings.showAllViews?'checked="checked"':"")+'><span style="margin-top:-3px;" class="toggle"></span>'+e("Show All Views")+'</label></div></div></div><div class="setting"><div class="row"><div class="togglebutton"><label data-tooltipster="right" data-tooltip-class="setting-image" data-tooltip-src="app/builder/images/app_settings/show-redo.jpg"><input name="show-redo" type="checkbox"'+("true"===o.appSettings.showRedo?'checked="checked"':"")+'><span style="margin-top:-3px;" class="toggle"></span>'+e("Show Redo")+'</label></div></div></div></div></div><div><label class="col-md-3">'+e("APP")+'</label><div class="col-md-9">'+(a.isMobile?"":"<br>")+'<div class="setting"><div class="row"><div class="togglebutton"><label data-tooltipster="right" data-tooltip-class="setting-image" data-tooltip-src="app/builder/images/app_settings/dark-mode.jpg"><input name="app-setting-dark-mode" type="checkbox"'+(!0===o.appSettings.darkMode?'checked="checked"':"")+'><span style="margin-top:-3px;" class="toggle"></span>'+e("Dark Mode")+'</label></div></div></div><div class="setting"><div class="row"><div class="togglebutton"><label data-tooltipster="right" data-tooltip-class="setting-image" data-tooltip-src="app/builder/images/app_settings/fullscreen-canvas.jpg"><input name="app-setting-fullscreen-canvas" type="checkbox"'+(!0===o.appSettings.fullscreenCanvas?'checked="checked"':"")+'><span style="margin-top:-3px;" class="toggle"></span>'+e("Fullscreen Canvas")+'</label></div></div></div><div class="setting"><div class="row"><div class="togglebutton"><label data-tooltipster="right" data-tooltip-class="setting-image" data-tooltip-src="app/builder/images/app_settings/show-block-panel.jpg"><input name="show-all-block-buttons" type="checkbox"'+("true"===o.appSettings.showAllBlockButtons?'checked="checked"':"")+'><span style="margin-top:-3px;" class="toggle"></span>'+e("Show All Block Buttons")+'</label></div></div></div><div class="setting"><div class="row"><div class="togglebutton"><label data-tooltipster="right" data-tooltip-class="setting-image" data-tooltip-src="app/builder/images/app_settings/show-site-styles-button.jpg"><input name="show-site-styles-btn" type="checkbox"'+("true"===o.appSettings.showSiteStylesBtn?'checked="checked"':"")+'><span style="margin-top:-3px;" class="toggle"></span>'+e("Show Site Styles Button")+"</label></div></div></div></div></div>"+o.applyFilter("addAppSettingsItem","")+"</div></div>",success:function(t){a.setSettings("appSettings/showPageSiteNames",t.find('[name="show-page-site-names"]').prop("checked"),function(t){t&&a.getSettings("appSettings/showPageSiteNames",function(t){i(t)})}),a.setSettings("appSettings/showAllViews",t.find('[name="show-all-views"]').prop("checked"),function(t){t&&a.getSettings("appSettings/showAllViews",function(t){s(t)})}),a.setSettings("appSettings/showRedo",t.find('[name="show-redo"]').prop("checked"),function(t){t&&a.getSettings("appSettings/showRedo",function(t){l(t)})}),a.setSettings("appSettings/showAllBlockButtons",t.find('[name="show-all-block-buttons"]').prop("checked"),function(t){t&&a.getSettings("appSettings/showAllBlockButtons",function(t){o.appSettings.showAllBlockButtons!==t&&(c(t),"true"===t?(o.$template.find(".app-component .app-component-edit").children().removeClass("hidden-interface"),o.$template.find(".app-component .component-show-more").hide()):a.setSettings("appSettings/showAllBlockButtonsTEMP","false",function(t){o.$template.find(".app-component-edit").css("width","").children(":not(.component-params, .component-show-more)").addClass("hidden-interface"),o.$template.find(".app-component .component-show-more").show()}))})}),t.find('[name="show-code-editor-undo"]').length&&a.setSettings("appSettings/showCodeEditorUndo",t.find('[name="show-code-editor-undo"]').prop("checked"),function(t){t&&a.getSettings("appSettings/showCodeEditorUndo",function(t){o.appSettings.showCodeEditorUndo!==t&&m(t)})}),t.find('[name="theme"]').length&&a.setSettings("appSettings/codeEditorTheme",t.find('[name="theme"]').val(),function(t){t&&a.getSettings("appSettings/codeEditorTheme",function(t){f(t)})}),t.find('[name="remove-mobirise-references"]').length&&a.setSettings("appSettings/removeMobiriseReferences",t.find('[name="remove-mobirise-references"]').prop("checked"),function(t){t&&a.getSettings("appSettings/removeMobiriseReferences",function(t){p(t)})}),a.setSettings("appSettings/showSiteStylesBtn",t.find('[name="show-site-styles-btn"]').prop("checked"),function(t){t&&a.getSettings("appSettings/showSiteStylesBtn",function(t){g(t)})});var e=t.find('[name="app-setting-dark-mode"]').prop("checked"),e=(a.setSettings("appSettings/darkMode",e),b(e),t.find('[name="app-setting-fullscreen-canvas"]').prop("checked"));a.setSettings("appSettings/fullscreenCanvas",e),v(e),o.fire("applyAppSettings",t)},show:function(t){o.fire("showAppSettings",t)}}),o.initTooltips()},getSettings:function(t){return $Bridge.getSettings(t)},setSettings:function(t,e){return $Bridge.setSettings(t,e)}},events:(h=function(){a.getSettings("lastAppVersion",function(t){t||(a.setSettings("lastAppVersion",a.version),a.setSettings("appSettings/showSiteStylesBtn",!0),a.setSettings("appSettings/darkMode",!0))})},(u="bridgeInit")in(t={bridgeInit:function(){a.getSettings("appSettings/darkMode",function(t){"true"===(n=t)&&r(".preloader-logo, .preloader-logo .svg-el, .preloader-logo .svg-el .mbr-overlay").css({"background-color":"#373c48",transition:"background-color 1.5s ease"})})},load:function(){r("#app-settings-btn").click(function(){o.showAppSettings()}),r("#app-settings-redeem").click(function(){o.checkSign(function(t){t&&o.showRedeem(a.reload)})}),n?b(n):a.getSettings("appSettings/darkMode",function(t){b(t)}),a.getSettings("appSettings/fullscreenCanvas",function(t){v(t)}),a.getSettings("appSettings/showPageSiteNames",function(t){i(t)}),a.getSettings("appSettings/showAllViews",function(t){s(t)}),a.getSettings("appSettings/showRedo",function(t){l(t)}),a.getSettings("appSettings/showAllBlockButtons",function(t){c(t)}),o.$template.on("click",".app-component .component-show-more",function(){o.$template.find(".app-component .app-component-edit").each(function(t,e){var e=r(e),n=e.find("> .mbr-btn"),i=n.first().outerWidth(!0)*(n.length-1)+5;e.animate({width:i},300,"swing",function(){n.removeClass("hidden-interface")})}),o.$template.find(".app-component .component-show-more").hide(),a.setSettings("appSettings/showAllBlockButtonsTEMP","true",function(t){t||console.warn("Unabale to save appSettings/showAllBlockButtonsTEMP")})}),o.Core.on("loadedComponent",function(t,e,n,i){var r=n.find("[data-app-component-id="+t._id+"] > .app-component-menu");"true"===o.appSettings.showAllBlockButtons?r.find(".component-show-more").hide():a.getSettings("appSettings/showAllBlockButtonsTEMP",function(t){"true"===t?r.find(".component-show-more").hide():r.find(".app-component-edit").children(":not(.component-params, .component-show-more)").addClass("hidden-interface")})}),a.regQuitTask(function(t){a.setSettings("appSettings/showAllBlockButtonsTEMP","false",t)})},loaded:function(){a.getSettings("appSettings/showCodeEditorUndo",function(t){m(t)}),a.getSettings("appSettings/codeEditorTheme",function(t){f(t)}),a.getSettings("appSettings/removeMobiriseReferences",function(t){p(t)})},showCodeEditor:function(){o.$codeEditorHTML.codemirror.setOption("theme",d),o.$codeEditorCSS.codemirror.setOption("theme",d)},showSiteCodeEditor:function(){o.$codeEditorStaticCSS.codemirror.setOption("theme",d),o.$codeEditorDynamicCSS.codemirror.setOption("theme",d),o.$codeEditorParamsJSON.codemirror.setOption("theme",d)},showAppSettings:function(t){t.find('[name="theme"]').val(d).trigger("change")},initAccountSettings:function(t){t.find(".app-layer-title").after('<div class="hover-block" id="app-settings-btn"><label>'+e("App Settings")+'</label></div><div class="hover-block" id="app-settings-redeem"><label>'+e("Redeem")+"</label></div>")},loadedProject:function(){a.getSettings("appSettings/showSiteStylesBtn",function(t){g(t)})}})?Object.defineProperty(t,u,{value:h,enumerable:!0,configurable:!0,writable:!0}):t[u]=h,t)})},["jQuery","mbrApp","TR()","Bridge"])},function(t,e,n){"use strict";window.mbrScript=function(){function e(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)}function s(t){return"string"==typeof t?"'"+t.replace(n,e)+"'":"number"==typeof t?t.toString():!0===t?"true":!1===t?"false":null===t?"null":"undefined"}var n=/[^ a-zA-Z0-9]/g;function i(t,e,n){this.name="mbrScriptError",this.message=t,Error.captureStackTrace?Error.captureStackTrace(this,i):this.stack=(new Error).stack,this.line=e,this.token=n}function r(t){r.parser.yy.parseError||(r.parser.yy.parseError=function(t,e){throw new i("Parse error: Unexpected '"+(e.text||e.token)+"'",e.line,e.text||e.token)});t=r.parser.parse(t);return"RepeatStatement"==t.type?new c(t.key,t.value,new a(t.expression)):new a(t)}(i.prototype=Object.create(Error.prototype)).constructor=i,r.filters={},r.filter=function(t,e){return r.filters[t]=e(),this};t.prototype.plus=function(t,e){return void 0===t?e:void 0===e?t:t+e},t.prototype.filter=function(t){var e=Array.prototype.slice.call(arguments,1);if(r.filters[t])return r.filters[t].apply(null,e);throw new Error('Filter "'+t+'" not defined.')},t.prototype.call=function(t){var e=Array.prototype.slice.call(arguments,1);if("function"==typeof t)return t.apply(this.scopes[0],e)},t.prototype.get=function(t){for(var e=Array.prototype.slice.call(arguments,1);;){var n=e.shift();if(void 0===n)break;if(null==t)break;t=t[n]}return t},t.prototype.getProp=function(t){for(var e=0;e<this.scopes.length;e++)if(void 0!==this.scopes[e][t])return this.scopes[e][t]};var o=t;function t(t){this.scopes=t}l.prototype.createFunction=function(t){var e=new o(Array.prototype.slice.call(arguments));return new Function("","var result = ("+this.code+'); if (result === undefined || result === null) return ""; return result;').bind(e)},l.prototype.getDependencies=function(){return this._dependencies.slice()},l.prototype._getCode=function(t,e){var i="",e=e||[];switch(t.type){case"ArrayExpression":i+="[",t.elements.map(function(t,e){i+=e?", ":"",t&&(i+=this._getCode(t))},this),i+="]";break;case"ObjectExpression":i+="{",t.properties.map(function(t,e){var n="Identifier"==t.key.type?t.key.name:this._getCode(t.key);i+=(e?", ":"")+n+":"+this._getCode(t.value)},this),i+="}";break;case"UnaryExpression":i+=t.operator+this._getCode(t.argument);break;case"BinaryExpression":case"LogicalExpression":"+"==t.operator?i+="this.plus("+this._getCode(t.left)+", "+this._getCode(t.right)+")":i+="("+this._getCode(t.left)+" "+t.operator+" "+this._getCode(t.right)+")";break;case"ConditionalExpression":i=(i=(i=(i+="(")+(this._getCode(t.test)+" ? "))+(this._getCode(t.consequent)+" : "))+this._getCode(t.alternate)+")";break;case"FilterExpression":i+="this.filter("+s(t.name),[t.expression].concat(t.arguments).map(function(t){i+=", "+this._getCode(t)},this),i+=")";break;case"CallExpression":i+="this.call("+this._getCode(t.callee),t.arguments.map(function(t){i+=", "+this._getCode(t)},this),i+=")";break;case"MemberExpression":var n=t.object;if("Identifier"==n.type||"Literal"==n.type){i+="this.get("+this._getCode(n,[]);for(var r=[t],o=e.length-1;0<=o;o--)r.push(e[o]);var a=n.name;r.map(function(t){i+=", "+s(t.property.name),a+="."+t.property.name},this),"Identifier"==n.type&&this._dependencies.push(a),i+=")"}else i+=this._getCode(n,e.concat(t));break;case"Identifier":i+="this.getProp("+s(t.name)+")",arguments.length<2&&this._dependencies.push(t.name);break;case"Literal":i+=s(t.value)}return i};var a=l;function l(t){this._dependencies=[],this.type="expression",this.code=this._getCode(t)}function c(t,e,n){this.key=t,this.type="repeat",this.value=e,this.expression=n}return r.Error=i,r.Context=o,r.Expression=a,r.RepeatStatement=c,r}()},function(t,e,n){"use strict";window.mbrScript=window.mbrScript||{},mbrScript.parser=function(){function t(t,e,n,i){for(n=n||{},i=t.length;i--;n[t[i]]=e);return n}var e=[1,5],n=[1,6],i=[1,35],r=[1,29],o=[1,18],a=[1,19],s=[1,20],l=[1,21],c=[1,36],u=[1,37],h=[1,38],d=[1,39],f=[1,40],p=[1,41],m=[5,13,15,18,20],D=[1,43],B=[2,4],N=[1,44],F=[5,13,15,18,20,64],g=[5,13,15,18,20,24,64],$=[1,48],U=[5,13,15,18,20,24,60,62,64],z=[1,49],H=[5,13,15,18,20,24,58,60,62,64],q=[1,50],W=[1,51],V=[1,52],K=[1,53],b=[5,13,15,18,20,24,53,54,55,56,58,60,62,64],v=[1,54],y=[1,55],w=[1,56],_=[1,57],x=[5,13,15,18,20,24,48,49,50,51,53,54,55,56,58,60,62,64],M=[1,58],S=[1,59],Z=[5,13,15,18,20,24,38,39,48,49,50,51,53,54,55,56,58,60,62,64],G=[1,60],J=[1,61],Y=[1,62],k=[5,13,15,18,20,24,38,39,43,44,45,48,49,50,51,53,54,55,56,58,60,62,64],C=[1,64],E=[1,65],P=[1,71],A=[5,12,13,15,18,20,24,29,38,39,43,44,45,48,49,50,51,53,54,55,56,58,60,62,64],X=[1,81],Q=[1,83],tt=[1,86],et=[1,87],nt=[1,84],it=[1,85],rt=[1,91],ot=[18,20],at=[1,122],st=[9,12,14,15,18,19,38,39,40,41,71,72,73,74,75,76],lt=[15,18],ct=[13,18],T={trace:function(){},yy:{},symbols_:{error:2,Program:3,Expression:4,EOF:5,PrimaryExpression:6,PrimaryExpressionNoBrace:7,ObjectLiteral:8,IDENTIFIER:9,Literal:10,ArrayLiteral:11,"(":12,")":13,"[":14,"]":15,Elision:16,ElementList:17,",":18,"{":19,"}":20,PropertyNameAndValueList:21,PropertyAssignment:22,PropertyName:23,":":24,IdentifierName:25,StringLiteral:26,NumericLiteral:27,MemberExpression:28,".":29,CallExpression:30,Arguments:31,ReservedWord:32,ArgumentList:33,LeftHandSideExpression:34,PostfixExpression:35,UnaryExpression:36,UnaryExpr:37,"+":38,"-":39,"~":40,"!":41,MultiplicativeExpression:42,"*":43,"/":44,"%":45,AdditiveExpression:46,RelationalExpression:47,"<":48,">":49,"<=":50,">=":51,EqualityExpression:52,"==":53,"!=":54,"===":55,"!==":56,LogicalANDExpression:57,"&&":58,LogicalORExpression:59,"||":60,ConditionalExpression:61,"?":62,FilterExpression:63,"|":64,FilterArguments:65,IterationStatement:66,IN:67,NullLiteral:68,UndefinedLiteral:69,BooleanLiteral:70,NULL:71,UNDEFINED:72,TRUE:73,FALSE:74,NUMERIC_LITERAL:75,STRING_LITERAL:76,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",9:"IDENTIFIER",12:"(",13:")",14:"[",15:"]",18:",",19:"{",20:"}",24:":",29:".",38:"+",39:"-",40:"~",41:"!",43:"*",44:"/",45:"%",48:"<",49:">",50:"<=",51:">=",53:"==",54:"!=",55:"===",56:"!==",58:"&&",60:"||",62:"?",64:"|",67:"IN",71:"NULL",72:"UNDEFINED",73:"TRUE",74:"FALSE",75:"NUMERIC_LITERAL",76:"STRING_LITERAL"},productions_:[0,[3,2],[6,1],[6,1],[7,1],[7,1],[7,1],[7,3],[11,2],[11,3],[11,3],[11,4],[11,5],[17,1],[17,2],[17,3],[17,4],[16,1],[16,2],[8,2],[8,3],[21,1],[21,3],[22,3],[23,1],[23,1],[23,1],[28,1],[28,3],[30,2],[30,2],[30,3],[25,1],[25,1],[31,2],[31,3],[33,1],[33,3],[34,1],[34,1],[35,1],[36,1],[36,1],[37,2],[37,2],[37,2],[37,2],[42,1],[42,3],[42,3],[42,3],[46,1],[46,3],[46,3],[47,1],[47,3],[47,3],[47,3],[47,3],[52,1],[52,3],[52,3],[52,3],[52,3],[57,1],[57,3],[59,1],[59,3],[61,1],[61,5],[63,1],[63,3],[63,4],[65,2],[65,3],[66,1],[66,3],[66,7],[4,1],[10,1],[10,1],[10,1],[10,1],[10,1],[68,1],[69,1],[70,1],[70,1],[27,1],[26,1],[32,1],[32,1],[32,1],[32,1],[32,1]],performAction:function(t,e,n,i,r,o,a){var s,l=o.length-1;switch(r){case 1:return this.$;case 4:case 32:case 33:this.$=new vt(o[l],j(null,a[l],a[l]));break;case 7:case 35:this.$=o[l-1];break;case 8:this.$=new L([],j(null,a[l-1],a[l]));break;case 9:case 10:this.$=new L(o[l-1],j(null,a[l-2],a[l]));break;case 11:this.$=new L(o[l-2].concat(null),j(null,a[l-3],a[l]));break;case 12:this.$=new L(o[l-3].concat(o[l-1]),j(null,a[l-4],a[l]));break;case 13:case 21:case 36:case 73:this.$=[o[l]];break;case 14:this.$=o[l-1].slice(1).concat(o[l]);break;case 15:case 22:case 37:case 74:this.$=o[l-2].concat(o[l]);break;case 16:this.$=o[l-3].concat(o[l-1].slice(1)).concat(o[l]);break;case 17:this.$=[null,null];break;case 18:this.$=o[l-1].concat(null);break;case 19:this.$=new dt([],j(null,a[l-1],a[l]));break;case 20:this.$=new dt(o[l-1],j(null,a[l-2],a[l]));break;case 23:this.$={key:o[l-2],value:o[l]};break;case 28:case 31:this.$=new bt(o[l-2],o[l],j(null,a[l-2],a[l]));break;case 29:case 30:this.$=new gt(o[l-1],o[l],j(null,a[l-1],a[l]));break;case 34:this.$=[];break;case 43:this.$=new O("+",!0,o[l],j(null,a[l-1],a[l]));break;case 44:this.$=new O("-",!0,o[l],j(null,a[l-1],a[l]));break;case 45:this.$=new O("~",!0,o[l],j(null,a[l-1],a[l]));break;case 46:this.$=new O("!",!0,o[l],j(null,a[l-1],a[l]));break;case 48:this.$=new R("*",o[l-2],o[l],j(null,a[l-2],a[l]));break;case 49:this.$=new R("/",o[l-2],o[l],j(null,a[l-2],a[l]));break;case 50:this.$=new R("%",o[l-2],o[l],j(null,a[l-2],a[l]));break;case 52:this.$=new R("+",o[l-2],o[l],j(null,a[l-2],a[l]));break;case 53:this.$=new R("-",o[l-2],o[l],j(null,a[l-2],a[l]));break;case 55:this.$=new R("<",o[l-2],o[l],j(null,a[l-2],a[l]));break;case 56:this.$=new R(">",o[l-2],o[l],j(null,a[l-2],a[l]));break;case 57:this.$=new R("<=",o[l-2],o[l],j(null,a[l-2],a[l]));break;case 58:this.$=new R(">=",o[l-2],o[l],j(null,a[l-2],a[l]));break;case 60:this.$=new R("==",o[l-2],o[l],j(null,a[l-2],a[l]));break;case 61:this.$=new R("!=",o[l-2],o[l],j(null,a[l-2],a[l]));break;case 62:this.$=new R("===",o[l-2],o[l],j(null,a[l-2],a[l]));break;case 63:this.$=new R("!==",o[l-2],o[l],j(null,a[l-2],a[l]));break;case 65:this.$=new ft("&&",o[l-2],o[l],j(null,a[l-2],a[l]));break;case 67:this.$=new ft("||",o[l-2],o[l],j(null,a[l-2],a[l]));break;case 69:this.$=new pt(o[l-4],o[l-2],o[l],j(null,a[l-4],a[l]));break;case 71:this.$=new mt(o[l-2],o[l],[],j(null,a[l-2],a[l]));break;case 72:this.$=new mt(o[l-3],o[l-1],o[l],j(null,a[l-3],a[l]));break;case 76:this.$=new ht(null,o[l-2],o[l],j(null,a[l-2],a[l]));break;case 77:this.$=new ht(o[l-5],o[l-3],o[l],j(null,a[l-6],a[l]));break;case 84:this.$=new I(null,j(null,a[l],a[l]));break;case 85:this.$=new I(void 0,j(null,a[l],a[l]));break;case 86:this.$=new I(!0,j(null,a[l],a[l]));break;case 87:this.$=new I(!1,j(null,a[l],a[l]));break;case 88:this.$=new I("0"===(s=o[l]).charAt(0)?"x"===s.charAt(1).toLowerCase()?parseInt(s,16):"."===s.charAt(1)?Number(s):parseInt(s,8):Number(s),j(null,a[l],a[l]));break;case 89:this.$=new I(o[l].slice(1,-1),j(null,a[l],a[l]))}},table:[{3:1,4:2,6:24,7:25,8:26,9:e,10:27,11:28,12:n,14:i,19:r,26:34,27:33,28:22,30:23,34:17,35:15,36:14,37:16,38:o,39:a,40:s,41:l,42:13,46:12,47:11,52:10,57:9,59:8,61:7,63:4,66:3,68:30,69:31,70:32,71:c,72:u,73:h,74:d,75:f,76:p},{1:[3]},{5:[1,42]},t(m,[2,78]),t(m,[2,75],{64:D}),t([5,12,13,15,18,20,29,38,39,43,44,45,48,49,50,51,53,54,55,56,58,60,62,64],B,{67:N}),{4:46,6:24,7:25,8:26,9:[1,45],10:27,11:28,12:n,14:i,19:r,26:34,27:33,28:22,30:23,34:17,35:15,36:14,37:16,38:o,39:a,40:s,41:l,42:13,46:12,47:11,52:10,57:9,59:8,61:7,63:4,66:3,68:30,69:31,70:32,71:c,72:u,73:h,74:d,75:f,76:p},t(F,[2,70]),t(g,[2,68],{60:$,62:[1,47]}),t(U,[2,66],{58:z}),t(H,[2,64],{53:q,54:W,55:V,56:K}),t(b,[2,59],{48:v,49:y,50:w,51:_}),t(x,[2,54],{38:M,39:S}),t(Z,[2,51],{43:G,44:J,45:Y}),t(k,[2,47]),t(k,[2,41]),t(k,[2,42]),t(k,[2,40]),{6:24,7:25,8:26,9:C,10:27,11:28,12:E,14:i,19:r,26:34,27:33,28:22,30:23,34:17,35:15,36:63,37:16,38:o,39:a,40:s,41:l,68:30,69:31,70:32,71:c,72:u,73:h,74:d,75:f,76:p},{6:24,7:25,8:26,9:C,10:27,11:28,12:E,14:i,19:r,26:34,27:33,28:22,30:23,34:17,35:15,36:66,37:16,38:o,39:a,40:s,41:l,68:30,69:31,70:32,71:c,72:u,73:h,74:d,75:f,76:p},{6:24,7:25,8:26,9:C,10:27,11:28,12:E,14:i,19:r,26:34,27:33,28:22,30:23,34:17,35:15,36:67,37:16,38:o,39:a,40:s,41:l,68:30,69:31,70:32,71:c,72:u,73:h,74:d,75:f,76:p},{6:24,7:25,8:26,9:C,10:27,11:28,12:E,14:i,19:r,26:34,27:33,28:22,30:23,34:17,35:15,36:68,37:16,38:o,39:a,40:s,41:l,68:30,69:31,70:32,71:c,72:u,73:h,74:d,75:f,76:p},t(k,[2,38],{31:70,12:P,29:[1,69]}),t(k,[2,39],{31:72,12:P,29:[1,73]}),t(A,[2,27]),t(A,[2,2]),t(A,[2,3]),t(A,[2,5]),t(A,[2,6]),{9:X,20:[1,74],21:75,22:76,23:77,25:78,26:79,27:80,32:82,67:Q,71:tt,72:et,73:nt,74:it,75:f,76:p},t(A,[2,79]),t(A,[2,80]),t(A,[2,81]),t(A,[2,82]),t(A,[2,83]),{4:92,6:24,7:25,8:26,9:e,10:27,11:28,12:n,14:i,15:[1,88],16:89,17:90,18:rt,19:r,26:34,27:33,28:22,30:23,34:17,35:15,36:14,37:16,38:o,39:a,40:s,41:l,42:13,46:12,47:11,52:10,57:9,59:8,61:7,63:4,66:3,68:30,69:31,70:32,71:c,72:u,73:h,74:d,75:f,76:p},t(A,[2,84]),t(A,[2,85]),t(A,[2,86]),t(A,[2,87]),t(A,[2,88]),t(A,[2,89]),{1:[2,1]},{9:[1,93]},{6:24,7:25,8:26,9:C,10:27,11:28,12:E,14:i,19:r,26:34,27:33,28:22,30:23,34:17,35:15,36:14,37:16,38:o,39:a,40:s,41:l,42:13,46:12,47:11,52:10,57:9,59:8,61:7,63:94,68:30,69:31,70:32,71:c,72:u,73:h,74:d,75:f,76:p},t([12,13,29,38,39,43,44,45,48,49,50,51,53,54,55,56,58,60,62,64],B,{18:[1,95],67:N}),{13:[1,96]},{6:24,7:25,8:26,9:C,10:27,11:28,12:E,14:i,19:r,26:34,27:33,28:22,30:23,34:17,35:15,36:14,37:16,38:o,39:a,40:s,41:l,42:13,46:12,47:11,52:10,57:9,59:8,61:97,68:30,69:31,70:32,71:c,72:u,73:h,74:d,75:f,76:p},{6:24,7:25,8:26,9:C,10:27,11:28,12:E,14:i,19:r,26:34,27:33,28:22,30:23,34:17,35:15,36:14,37:16,38:o,39:a,40:s,41:l,42:13,46:12,47:11,52:10,57:98,68:30,69:31,70:32,71:c,72:u,73:h,74:d,75:f,76:p},{6:24,7:25,8:26,9:C,10:27,11:28,12:E,14:i,19:r,26:34,27:33,28:22,30:23,34:17,35:15,36:14,37:16,38:o,39:a,40:s,41:l,42:13,46:12,47:11,52:99,68:30,69:31,70:32,71:c,72:u,73:h,74:d,75:f,76:p},{6:24,7:25,8:26,9:C,10:27,11:28,12:E,14:i,19:r,26:34,27:33,28:22,30:23,34:17,35:15,36:14,37:16,38:o,39:a,40:s,41:l,42:13,46:12,47:100,68:30,69:31,70:32,71:c,72:u,73:h,74:d,75:f,76:p},{6:24,7:25,8:26,9:C,10:27,11:28,12:E,14:i,19:r,26:34,27:33,28:22,30:23,34:17,35:15,36:14,37:16,38:o,39:a,40:s,41:l,42:13,46:12,47:101,68:30,69:31,70:32,71:c,72:u,73:h,74:d,75:f,76:p},{6:24,7:25,8:26,9:C,10:27,11:28,12:E,14:i,19:r,26:34,27:33,28:22,30:23,34:17,35:15,36:14,37:16,38:o,39:a,40:s,41:l,42:13,46:12,47:102,68:30,69:31,70:32,71:c,72:u,73:h,74:d,75:f,76:p},{6:24,7:25,8:26,9:C,10:27,11:28,12:E,14:i,19:r,26:34,27:33,28:22,30:23,34:17,35:15,36:14,37:16,38:o,39:a,40:s,41:l,42:13,46:12,47:103,68:30,69:31,70:32,71:c,72:u,73:h,74:d,75:f,76:p},{6:24,7:25,8:26,9:C,10:27,11:28,12:E,14:i,19:r,26:34,27:33,28:22,30:23,34:17,35:15,36:14,37:16,38:o,39:a,40:s,41:l,42:13,46:104,68:30,69:31,70:32,71:c,72:u,73:h,74:d,75:f,76:p},{6:24,7:25,8:26,9:C,10:27,11:28,12:E,14:i,19:r,26:34,27:33,28:22,30:23,34:17,35:15,36:14,37:16,38:o,39:a,40:s,41:l,42:13,46:105,68:30,69:31,70:32,71:c,72:u,73:h,74:d,75:f,76:p},{6:24,7:25,8:26,9:C,10:27,11:28,12:E,14:i,19:r,26:34,27:33,28:22,30:23,34:17,35:15,36:14,37:16,38:o,39:a,40:s,41:l,42:13,46:106,68:30,69:31,70:32,71:c,72:u,73:h,74:d,75:f,76:p},{6:24,7:25,8:26,9:C,10:27,11:28,12:E,14:i,19:r,26:34,27:33,28:22,30:23,34:17,35:15,36:14,37:16,38:o,39:a,40:s,41:l,42:13,46:107,68:30,69:31,70:32,71:c,72:u,73:h,74:d,75:f,76:p},{6:24,7:25,8:26,9:C,10:27,11:28,12:E,14:i,19:r,26:34,27:33,28:22,30:23,34:17,35:15,36:14,37:16,38:o,39:a,40:s,41:l,42:108,68:30,69:31,70:32,71:c,72:u,73:h,74:d,75:f,76:p},{6:24,7:25,8:26,9:C,10:27,11:28,12:E,14:i,19:r,26:34,27:33,28:22,30:23,34:17,35:15,36:14,37:16,38:o,39:a,40:s,41:l,42:109,68:30,69:31,70:32,71:c,72:u,73:h,74:d,75:f,76:p},{6:24,7:25,8:26,9:C,10:27,11:28,12:E,14:i,19:r,26:34,27:33,28:22,30:23,34:17,35:15,36:110,37:16,38:o,39:a,40:s,41:l,68:30,69:31,70:32,71:c,72:u,73:h,74:d,75:f,76:p},{6:24,7:25,8:26,9:C,10:27,11:28,12:E,14:i,19:r,26:34,27:33,28:22,30:23,34:17,35:15,36:111,37:16,38:o,39:a,40:s,41:l,68:30,69:31,70:32,71:c,72:u,73:h,74:d,75:f,76:p},{6:24,7:25,8:26,9:C,10:27,11:28,12:E,14:i,19:r,26:34,27:33,28:22,30:23,34:17,35:15,36:112,37:16,38:o,39:a,40:s,41:l,68:30,69:31,70:32,71:c,72:u,73:h,74:d,75:f,76:p},t(k,[2,43]),t(A,B),{4:46,6:24,7:25,8:26,9:e,10:27,11:28,12:n,14:i,19:r,26:34,27:33,28:22,30:23,34:17,35:15,36:14,37:16,38:o,39:a,40:s,41:l,42:13,46:12,47:11,52:10,57:9,59:8,61:7,63:4,66:3,68:30,69:31,70:32,71:c,72:u,73:h,74:d,75:f,76:p},t(k,[2,44]),t(k,[2,45]),t(k,[2,46]),{9:X,25:113,32:82,67:Q,71:tt,72:et,73:nt,74:it},t(A,[2,29]),{4:116,6:24,7:25,8:26,9:e,10:27,11:28,12:n,13:[1,114],14:i,19:r,26:34,27:33,28:22,30:23,33:115,34:17,35:15,36:14,37:16,38:o,39:a,40:s,41:l,42:13,46:12,47:11,52:10,57:9,59:8,61:7,63:4,66:3,68:30,69:31,70:32,71:c,72:u,73:h,74:d,75:f,76:p},t(A,[2,30]),{9:X,25:117,32:82,67:Q,71:tt,72:et,73:nt,74:it},t(A,[2,19]),{18:[1,119],20:[1,118]},t(ot,[2,21]),{24:[1,120]},{24:[2,24]},{24:[2,25]},{24:[2,26]},t(A,[2,32]),t(A,[2,33]),t(A,[2,90]),t(A,[2,91]),t(A,[2,92]),t(A,[2,93]),t(A,[2,94]),t(A,[2,8]),{4:123,6:24,7:25,8:26,9:e,10:27,11:28,12:n,14:i,15:[1,121],18:at,19:r,26:34,27:33,28:22,30:23,34:17,35:15,36:14,37:16,38:o,39:a,40:s,41:l,42:13,46:12,47:11,52:10,57:9,59:8,61:7,63:4,66:3,68:30,69:31,70:32,71:c,72:u,73:h,74:d,75:f,76:p},{15:[1,124],18:[1,125]},t(st,[2,17]),t(lt,[2,13]),t(F,[2,71],{65:126,24:[1,127]}),t(m,[2,76],{64:D}),{9:[1,128]},t(A,[2,7]),{24:[1,129]},t(U,[2,67],{58:z}),t(H,[2,65],{53:q,54:W,55:V,56:K}),t(b,[2,60],{48:v,49:y,50:w,51:_}),t(b,[2,61],{48:v,49:y,50:w,51:_}),t(b,[2,62],{48:v,49:y,50:w,51:_}),t(b,[2,63],{48:v,49:y,50:w,51:_}),t(x,[2,55],{38:M,39:S}),t(x,[2,56],{38:M,39:S}),t(x,[2,57],{38:M,39:S}),t(x,[2,58],{38:M,39:S}),t(Z,[2,52],{43:G,44:J,45:Y}),t(Z,[2,53],{43:G,44:J,45:Y}),t(k,[2,48]),t(k,[2,49]),t(k,[2,50]),t(A,[2,28]),t(A,[2,34]),{13:[1,130],18:[1,131]},t(ct,[2,36]),t(A,[2,31]),t(A,[2,20]),{9:X,22:132,23:77,25:78,26:79,27:80,32:82,67:Q,71:tt,72:et,73:nt,74:it,75:f,76:p},{4:133,6:24,7:25,8:26,9:e,10:27,11:28,12:n,14:i,19:r,26:34,27:33,28:22,30:23,34:17,35:15,36:14,37:16,38:o,39:a,40:s,41:l,42:13,46:12,47:11,52:10,57:9,59:8,61:7,63:4,66:3,68:30,69:31,70:32,71:c,72:u,73:h,74:d,75:f,76:p},t(A,[2,9]),t(st,[2,18]),t(lt,[2,14]),t(A,[2,10]),{4:136,6:24,7:25,8:26,9:e,10:27,11:28,12:n,14:i,15:[1,134],16:135,18:rt,19:r,26:34,27:33,28:22,30:23,34:17,35:15,36:14,37:16,38:o,39:a,40:s,41:l,42:13,46:12,47:11,52:10,57:9,59:8,61:7,63:4,66:3,68:30,69:31,70:32,71:c,72:u,73:h,74:d,75:f,76:p},t(F,[2,72],{24:[1,137]}),{6:24,7:25,8:26,9:C,10:27,11:28,12:E,14:i,19:r,26:34,27:33,28:22,30:23,34:17,35:15,36:14,37:16,38:o,39:a,40:s,41:l,42:13,46:12,47:11,52:10,57:9,59:138,68:30,69:31,70:32,71:c,72:u,73:h,74:d,75:f,76:p},{13:[1,139]},{6:24,7:25,8:26,9:C,10:27,11:28,12:E,14:i,19:r,26:34,27:33,28:22,30:23,34:17,35:15,36:14,37:16,38:o,39:a,40:s,41:l,42:13,46:12,47:11,52:10,57:9,59:8,61:140,68:30,69:31,70:32,71:c,72:u,73:h,74:d,75:f,76:p},t(A,[2,35]),{4:141,6:24,7:25,8:26,9:e,10:27,11:28,12:n,14:i,19:r,26:34,27:33,28:22,30:23,34:17,35:15,36:14,37:16,38:o,39:a,40:s,41:l,42:13,46:12,47:11,52:10,57:9,59:8,61:7,63:4,66:3,68:30,69:31,70:32,71:c,72:u,73:h,74:d,75:f,76:p},t(ot,[2,22]),t(ot,[2,23]),t(A,[2,11]),{4:143,6:24,7:25,8:26,9:e,10:27,11:28,12:n,14:i,15:[1,142],18:at,19:r,26:34,27:33,28:22,30:23,34:17,35:15,36:14,37:16,38:o,39:a,40:s,41:l,42:13,46:12,47:11,52:10,57:9,59:8,61:7,63:4,66:3,68:30,69:31,70:32,71:c,72:u,73:h,74:d,75:f,76:p},t(lt,[2,15]),{6:24,7:25,8:26,9:C,10:27,11:28,12:E,14:i,19:r,26:34,27:33,28:22,30:23,34:17,35:15,36:14,37:16,38:o,39:a,40:s,41:l,42:13,46:12,47:11,52:10,57:9,59:144,68:30,69:31,70:32,71:c,72:u,73:h,74:d,75:f,76:p},t(g,[2,73],{60:$}),{67:[1,145]},t(g,[2,69]),t(ct,[2,37]),t(A,[2,12]),t(lt,[2,16]),t(g,[2,74],{60:$}),{6:24,7:25,8:26,9:C,10:27,11:28,12:E,14:i,19:r,26:34,27:33,28:22,30:23,34:17,35:15,36:14,37:16,38:o,39:a,40:s,41:l,42:13,46:12,47:11,52:10,57:9,59:8,61:7,63:146,68:30,69:31,70:32,71:c,72:u,73:h,74:d,75:f,76:p},t(m,[2,77],{64:D})],defaultActions:{42:[2,1],78:[2,24],79:[2,25],80:[2,26]},parseError:function(t,e){var n;if(!e.recoverable)throw(n=function(t,e){this.message=t,this.hash=e}).prototype=Error,new n(t,e);this.trace(t)},parse:function(t){var e,n=this,i=[0],r=[null],o=[],a=this.table,s="",l=0,c=0,u=0,h=1,d=o.slice.call(arguments,1),f=Object.create(this.lexer),p={yy:{}};for(e in this.yy)Object.prototype.hasOwnProperty.call(this.yy,e)&&(p.yy[e]=this.yy[e]);f.setInput(t,p.yy),p.yy.lexer=f,p.yy.parser=this,void 0===f.yylloc&&(f.yylloc={});var m=f.yylloc,g=(o.push(m),f.options&&f.options.ranges);"function"==typeof p.yy.parseError?this.parseError=p.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var b,v,y,w,_,x,M,S=function(){var t=f.lex()||h;return t="number"!=typeof t?n.symbols_[t]||t:t},k={};;){if(y=i[i.length-1],void 0===(w=this.defaultActions[y]||(null==b&&(b=S()),a[y]&&a[y][b]))||!w.length||!w[0]){var C="",E=[];for(_ in a[y])this.terminals_[_]&&2<_&&E.push("'"+this.terminals_[_]+"'");C=f.showPosition?"Parse error on line "+(l+1)+":\n"+f.showPosition()+"\nExpecting "+E.join(", ")+", got '"+(this.terminals_[b]||b)+"'":"Parse error on line "+(l+1)+": Unexpected "+(b==h?"end of input":"'"+(this.terminals_[b]||b)+"'"),this.parseError(C,{text:f.match,token:this.terminals_[b]||b,line:f.yylineno,loc:m,expected:E})}if(w[0]instanceof Array&&1<w.length)throw new Error("Parse Error: multiple actions possible at state: "+y+", token: "+b);switch(w[0]){case 1:i.push(b),r.push(f.yytext),o.push(f.yylloc),i.push(w[1]),b=null,v?(b=v,v=null):(c=f.yyleng,s=f.yytext,l=f.yylineno,m=f.yylloc,0<u&&u--);break;case 2:if(x=this.productions_[w[1]][1],k.$=r[r.length-x],k._$={first_line:o[o.length-(x||1)].first_line,last_line:o[o.length-1].last_line,first_column:o[o.length-(x||1)].first_column,last_column:o[o.length-1].last_column},g&&(k._$.range=[o[o.length-(x||1)].range[0],o[o.length-1].range[1]]),void 0!==(M=this.performAction.apply(k,[s,c,l,p.yy,w[1],r,o].concat(d))))return M;x&&(i=i.slice(0,-1*x*2),r=r.slice(0,-1*x),o=o.slice(0,-1*x)),i.push(this.productions_[w[1]][0]),r.push(k.$),o.push(k._$),M=a[i[i.length-2]][i[i.length-1]],i.push(M);break;case 3:return!0}}return!0}};function j(t,e,n){return new yt(t,new wt(e.first_line,e.first_column),new wt(n.last_line,n.last_column))}var ut=T.parse;function ht(t,e,n,i){this.type="RepeatStatement",this.key=t,this.value=e,this.expression=n,this.loc=i}function L(t,e){this.type="ArrayExpression",this.elements=t,this.loc=e}function dt(t,e){this.type="ObjectExpression",this.properties=t,this.loc=e}function O(t,e,n,i){this.type="UnaryExpression",this.operator=t,this.prefix=e,this.argument=n,this.loc=i}function R(t,e,n,i){this.type="BinaryExpression",this.operator=t,this.left=e,this.right=n,this.loc=i}function ft(t,e,n,i){this.type="LogicalExpression",this.operator=t,this.left=e,this.right=n,this.loc=i}function pt(t,e,n,i){this.type="ConditionalExpression",this.test=t,this.consequent=e,this.alternate=n,this.loc=i}function mt(t,e,n,i){this.type="FilterExpression",this.expression=t,this.name=e,this.arguments=n,this.loc=i}function gt(t,e,n){this.type="CallExpression",this.callee=t,this.arguments=e,this.loc=n}function bt(t,e,n){if("Literal"==t.type&&(void 0===t.value||null===t.value))throw new TypeError(t.value+" has no properties",null,t.loc.start.line);this.type="MemberExpression",this.object=t,this.property=e,this.loc=n}function vt(t,e){this.type="Identifier",this.name=t,this.loc=e}function I(t,e){this.type="Literal",this.value=t,this.loc=e}function yt(t,e,n){this.source=t,this.start=e,this.end=n}function wt(t,e){this.line=t,this.column=e}T.parse=function(t,e){return T.wasNewLine=!1,T.newLine=!1,ut.call(this,t)},T.parseError=function(t,e){throw new SyntaxError(t)},T.ast={},T.ast.RepeatStatementNode=ht,T.ast.ArrayExpressionNode=L,T.ast.ObjectExpressionNode=dt,T.ast.UnaryExpressionNode=O,T.ast.BinaryExpressionNode=R,T.ast.LogicalExpressionNode=ft,T.ast.ConditionalExpressionNode=pt,T.ast.FilterExpressionNode=mt,T.ast.CallExpressionNode=gt,T.ast.MemberExpressionNode=bt,T.ast.IdentifierNode=vt,T.ast.LiteralNode=I;_t=(P={EOF:1,parseError:function(t,e){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,e)},setInput:function(t,e){return this.yy=e||this.yy||{},this._input=t,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t=this._input[0];return this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t,t.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},unput:function(t){var e=t.length,n=t.split(/(?:\r\n?|\n)/g),t=(this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e),this.offset-=e,this.match.split(/(?:\r\n?|\n)/g)),i=(this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1),this.yylloc.range);return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===t.length?this.yylloc.first_column:0)+t[t.length-n.length].length-n[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[i[0],i[0]+this.yyleng-e]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(t){this.unput(this.match.slice(t))},pastInput:function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(20<t.length?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(20<t.length?"...":"")).replace(/\n/g,"")},showPosition:function(){var t=this.pastInput(),e=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},test_match:function(t,e){var n,i;if(this.options.backtrack_lexer&&(i={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges)&&(i.yylloc.range=this.yylloc.range.slice(0)),(n=t[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=n.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:n?n[n.length-1].length-n[n.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],n=this.performAction.call(this,this.yy,this,e,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),n)return n;if(this._backtrack)for(var r in i)this[r]=i[r];return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var t,e,n,i,r=this._currentRules(),o=0;o<r.length;o++)if((n=this._input.match(this.rules[r[o]]))&&(!e||n[0].length>e[0].length))if(e=n,i=o,this.options.backtrack_lexer){if(!1!==(t=this.test_match(n,r[o])))return t;if(!this._backtrack)return!1;e=!1}else if(!this.options.flex)break;return e?!1!==(t=this.test_match(e,r[i]))&&t:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var t=this.next();return t||this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){return 0<this.conditionStack.length-1?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return(this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]]:this.conditions.INITIAL).rules},topState:function(t){return 0<=(t=this.conditionStack.length-1-Math.abs(t||0))?this.conditionStack[t]:"INITIAL"},pushState:function(t){this.begin(t)},stateStackSize:function(){return this.conditionStack.length},options:{flex:!0},performAction:function(t,e,n,i){switch(n){case 0:case 1:case 2:e.yytext.match(/\r|\n/)&&(T.newLine=!0);break;case 3:return"STRING_LITERAL";case 4:return"IN";case 5:return"TRUE";case 6:return"FALSE";case 7:return"NULL";case 8:return"UNDEFINED";case 9:return"IDENTIFIER";case 10:case 11:case 12:return"NUMERIC_LITERAL";case 13:return"{";case 14:return"}";case 15:return"(";case 16:return")";case 17:return"[";case 18:return"]";case 19:return".";case 20:return";";case 21:return",";case 22:return"?";case 23:return":";case 24:return"===";case 25:return"==";case 26:return"!==";case 27:return"!=";case 28:return"!";case 29:return"<=";case 30:return"<";case 31:return">=";case 32:return">";case 33:return"+";case 34:return"-";case 35:return"*";case 36:return"/";case 37:return"%";case 38:return"&&";case 39:return"||";case 40:return"|";case 41:return"~";case 42:return"EOF";case 43:return"ERROR";case 44:console.log(e.yytext)}},rules:[/^(?:\s+)/,/^(?:\/\*(.|\r|\n)*?\*\/)/,/^(?:\/\/.*($|\r\n|\r|\n))/,/^(?:(("(([^\"\\]+)|(\\((([\'\"\\bfnrtv])|([^\'\"\\bfnrtv0-9xu]))|((?:[1-7][0-7]{0,2}|[0-7]{2,3}))|([x]([0-9a-fA-F]){2})|([u]([0-9a-fA-F]){4})))|(\\(\r\n|\r|\n)))*")|('(([^\'\\]+)|(\\((([\'\"\\bfnrtv])|([^\'\"\\bfnrtv0-9xu]))|((?:[1-7][0-7]{0,2}|[0-7]{2,3}))|([x]([0-9a-fA-F]){2})|([u]([0-9a-fA-F]){4})))|(\\(\r\n|\r|\n)))*')))/,/^(?:in)/,/^(?:true)/,/^(?:false)/,/^(?:null)/,/^(?:undefined)/,/^(?:(([$_a-zA-Z]|(\\[u]([0-9a-fA-F]){4}))(([$_a-zA-Z]|(\\[u]([0-9a-fA-F]){4}))|[0-9])*))/,/^(?:((([0]|(([1-9])([0-9]+)*))\.([0-9]+)*(([eE])([+-]?[0-9]+))?)|(\.([0-9]+)(([eE])([+-]?[0-9]+))?)|(([0]|(([1-9])([0-9]+)*))(([eE])([+-]?[0-9]+))?)))/,/^(?:([0][xX]([0-9a-fA-F])+))/,/^(?:([0]([0-7])+))/,/^(?:\{)/,/^(?:\})/,/^(?:\()/,/^(?:\))/,/^(?:\[)/,/^(?:\])/,/^(?:\.)/,/^(?:;)/,/^(?:,)/,/^(?:\?)/,/^(?::)/,/^(?:===)/,/^(?:==)/,/^(?:!==)/,/^(?:!=)/,/^(?:!)/,/^(?:<=)/,/^(?:<)/,/^(?:>=)/,/^(?:>)/,/^(?:\+)/,/^(?:-)/,/^(?:\*)/,/^(?:\/)/,/^(?:%)/,/^(?:&&)/,/^(?:\|\|)/,/^(?:\|)/,/^(?:~)/,/^(?:$)/,/^(?:.)/,/^(?:.)/],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44],inclusive:!0}}}).lex,P.lex=function(){return T.wasNewLine=T.newLine,T.newLine=!1,_t.call(this)};var _t,N=P;function xt(){this.yy={}}return T.lexer=N,new((xt.prototype=T).Parser=xt)}()},function(t,e,n){"use strict";mbrScript.filter("lowercase",function(){return function(t){return"string"==typeof t?t.toLowerCase():t}}),mbrScript.filter("uppercase",function(){return function(t){return"string"==typeof t?t.toUpperCase():t}}),mbrScript.filter("json",function(){return function(t,e){if(void 0!==t)return void 0===e?e=2:"number"!=typeof e&&(e=e?2:null),JSON.stringify(t,null,e)}})},function(t,e,n){"use strict";var l,c,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function r(){this._css=[]}function o(t,e){this.message=t,this.node=e,Error.captureStackTrace?Error.captureStackTrace(this,o):this.stack=(new Error).stack}function u(t){return"object"==(void 0===t?"undefined":i(t))}function h(t,e){return e in t||(t[e]={}),t[e]}function d(t){return t.replace(/^\((.+)\)$/,"$1")}function f(t,e){if(e=e||{},!u(t))return t;switch(t.type||""){case"Alpha":return"alpha(opacity="+f(t.value)+")";case"Anonymous":case"UnicodeDescriptor":case"Keyword":return t.value;case"Assignment":return f(t.key)+"="+f(t.value);case"Attribute":var n=f(t.key);return"["+(n=t.op?(n+=t.op)+f(t.value):n)+"]";case"Call":n=t.args.map(function(t){return d(f(t))});return t.name+"("+n.join(", ")+")";case"Color":return t.toCSS({});case"Combinator":return l(t);case"Comment":break;case"Condition":var n=t.op,i=f(t.rvalue),r=f(t.lvalue);return"="==n&&"true"==i||(r=r+("or"==n?",":" "+n)+" "+i),r="and"!=n&&"or"!=n&&(r="("+r+")",t.negate)?"not "+r:r;case"DetachedRuleset":case"RulesetCall":throw new c("Detached rulesets are not supported",t);case"Dimension":return f(t.value)+f(t.unit);case"Directive":t.rules?(o=t.name,t.value&&(o+=" "+f(t.value)),f.rules(t,h(e,o))):t.value&&(e[t.name]=f(t.value));break;case"Element":return f(t.combinator)+f(t.value);case"Expression":return f.join(t.value," ");case"Extend":throw new c("Selector :extend is not supported",t);case"Import":throw new c("Directive @import is not supported",t);case"JavaScript":throw new c("JavaScript is not supported",t);case"Media":var o="@media "+f.join(t.features.value,", ");f.rules(t,h(e,o));break;case"MixinCall":case"MixinDefinition":throw new c("Mixins are not supported",t);case"Negative":return"-"+f(t.value);case"Operation":return"("+f.join(t.operands," "+t.op+" ")+")";case"Paren":if(u(r=f(t.value))){var a,s=[];for(a in r)s.push("("+a+": "+r[a]+")");return s.join(" ")}return"("+r+")";case"Quoted":return(t.escaped?"~":"")+t.quote+t.value+t.quote;case"Rule":var o=f.join(t.name),i=f(t.value);0==o.indexOf("@")&&(i=d(i)),e[o]=i+t.important;break;case"Ruleset":t.selectors&&"&"!=(o=f.join(t.selectors,",").replace(/^\s+/,""))&&(e=h(e,o)),f.rules(t,e);break;case"Selector":n=f.join(t.elements);return t.condition&&(n+=" when "+f(t.condition)),n;case"Unit":return t.toString();case"Url":return"url("+f(t.value)+")";case"Value":return f.join(t.value,", ");case"Variable":return t.name}return e}window.objectifyCSS=(r.prototype.add=function(t){this._css.push(t)},r.prototype.toCSS=function(){return this._css.join("")},r.prototype.genCSS=function(t){return t.genCSS({},this),this.toCSS()},l=function(t){return(new r).genCSS(t)},c=(o.prototype=Object.create(Error.prototype)).constructor=o,f.rules=function(t,e){t.rules&&t.rules.forEach(function(t){f(t,e)})},f.join=function(t,e){return Array.isArray(t)?t.map(function(t){return f(t)}).join(e||""):f(t)},function(n,t,i){"function"==typeof(t=t||{})&&(i=t,t={});var r=t.lessjs||less;r.parse(n,function(t,e){if(t)i(t);else try{i(null,f(e))}catch(t){t.node&&"index"in t.node&&(e=r.utils.getLocation(t.node.index,n),t.line="number"==typeof e.line?e.line+1:null,t.column=e.column),i(t)}})})},function(t,e,n){"use strict";var U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};defineM("secondary-components",function(v,h,d){var t,r=(t={url:function(t){return t&&"url("+t+")"}}).global=t,D=(((e.prototype=Object.create(mbrScript.Context.prototype)).constructor=e).prototype.getProp=function(t){if(this.scopes[0]._params&&void 0!==this.scopes[0]._params[t])return this.scopes[0]._params[t];for(var e=1;e<this.scopes.length;e++)if(void 0!==this.scopes[e][t])return this.scopes[e][t]},e);function e(){mbrScript.Context.apply(this,arguments)}i.prototype.on=function(t,e){return"function"==typeof e&&(this._listeners[t]=this._listeners[t]||[],this._listeners[t].push(e)),this},i.prototype.emit=function(t){var e;return this._listeners[t]&&(e=Array.prototype.slice.call(arguments,1),h.fire(t+this._appEventNamespace+".SecondaryComponent",e),this._listeners[t].forEach(function(t){t.apply(this,e)},this)),this},i.prototype.removeAllListeners=function(t){return arguments.length?delete this._listeners[t]:this._listeners={},this},i.prototype.removeListener=function(t,e){return this._listeners[t]&&0<=(e=this._listeners[t].indexOf(e))&&this._listeners[t].splice(e,1),this},i.createChildClass=function(t,e){if("function"!=typeof t)throw Error('"constructor" is not a function');function n(){i.call(this,e),t.apply(this,arguments)}return(n.prototype=Object.create(i.prototype)).constructor=n};var o=i;function i(t){this._listeners={},this._appEventNamespace=t?"."+t:""}s.prototype.getTemplate=function(t){return this.template},s.prototype.initialize=function(t,e){var n=e.item.scope;return n.this={_params:{index:e.index}},n._params=e.global._params,n},s.prototype.remove=function(){var t=this.arrivo.sourceFragment;t.parentNode&&t.parentNode.removeChild(t)},s.prototype.clone=function(){var t,e="",i=new s;for(t in this)this.hasOwnProperty(t)&&(i[t]=this[t]);return i.$listSourceElement.find("> *:last").each(function(){e=this.outerHTML}),i.arrivo.getParent().fork().on("ready",function(t,e,n){i.template=e.outerHTML,i.arrivo=this,i.scope=t,i.$listSourceElement.append(n)}).process(e),i};var a,n,B=s;function s(t){for(var e in(t=t||{}).template=t.template||"<div></div>",t)this[e]=t[e]}h.objectifyCSS=function(t){var n=v.Deferred();return objectifyCSS(t,{lessjs:h.iwindow.less},function(t,e){t?n.reject(t):n.resolve(e)}),n.promise()},h.getUID=(a="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n="object"==("undefined"==typeof crypto?"undefined":U(crypto))&&crypto.getRandomValues?function(){var t=a.length,e=new Uint8Array(1);return window.crypto.getRandomValues(e),e[0]>=Math.floor(256/t)*t?n():a.charAt(e[0]%t)}:function(){return a.charAt(Math.random()*a.length|0)},function(t,e){"object"==(void 0===t?"undefined":U(t))?e=t:(e=e||{}).length=t||22;t="";return e.timePrefix&&(t+=function(){for(var t=(new Date).getTime(),e=a.length,n="";0<t;)n=a.charAt(t%e)+n,t=(t-t%e)/e;return n||"0"}()),e.length&&(t+=Array.apply(null,{length:e.length}).map(n).join("")),t});var l=h.isSecondaryComponent=function(t){var e;if("object"==(void 0===t?"undefined":U(t)))e=t;else{if(!/^\d+$/.test(t))return!1;e=h.Core.getComponent(t)}return!e.alias&&"secondary"==h.theme.type||e._isSecondary};function c(t){var e=document.implementation.createHTMLDocument("").createElement("DIV");return v(e).append(v.trim(t)),e}function u(t){return t.hasOwnProperty("_sc")||Object.defineProperty(t,"_sc",{value:new k(t)}),t._sc}function f(t){var e=t.alias,n=t._sourceTheme;return e?h.path2core(h.getAddonDir(e))+"/"+t._name+"/":n?h.path2core(h.getAddonDir(n)+"/components")+"/"+t._name+"/":h.path2core(h.theme.pathExport+"/components")+"/"+t._name+"/"}function p(e){var t=e;return v.isArray(e)?t=e.map(p).join(" "):"object"==(void 0===e?"undefined":U(e))&&(t=Object.keys(e).filter(function(t){return e[t]}).join(" ")),t}h.on("themeLoaded",function(){h.theme.type=h.theme.params.theme.type||"primary"}),h.on("beforeAppLoad",function(){h.on("beforeShowCodeEditor",function(t){t=h.Core.getComponent(t);l(t)||"pro.custom-html"===t._name&&"secondary"===h.theme.type?v("body").addClass("fullwidth-code-editor"):v("body").removeClass("fullwidth-code-editor")}),h.on("showCodeEditor",function(t){var e,t=h.Core.getComponent(t);l(t)&&(h.Core.destroySummernote(),t._styles?(e=h.Core.getComponentStyles({_styles:t._styles}),t._customCSS=e.css):t._customCSS="")}),h.on("savedCodeEditor",function(t){arguments.length&&(t=h.Core.getComponent(t),l(t)&&(t._alwaysTop||t._alwaysBottom)&&h.Core.$body.closest("html").stop().animate({scrollTop:t._alwaysTop?0:h.Core.$template.height()},1e3),l(t))&&h.Core.updateGlobalComponents(t._id,function(t,e){for(var n in e)"_styles"!==n&&"_customHTML"!==n&&("object"===U(e[n])||"function"==typeof e[n]||/^_/g.test(n))||(e[n]=t[n])})}),h.$template.on("click",".component-code",function(t){var e=v(this).closest("[data-app-component-id]").attr("data-app-component-id"),e=h.Core.getComponent(e);!l(e)||h.registeredAddons&&h.registeredAddons["code-editor"]&&16<parseInt(h.registeredAddons["code-editor"].version)||(t.stopImmediatePropagation(),bootbox.dialog({message:'<p><b>You can\'t edit this block. Please update "Code Editor".</b></p>',buttons:{cancel:{label:"Ok",className:"btn-primary"}}}))});var t,g,b=h.iwindow.rivets,i=(b.formatters.fakeFilter=new h.iwindow.Function("v, f",'if (typeof f == "function") return f(v); return "";'),b.formatters.toNULL=new h.iwindow.Function("v",'if (v === "" || v === false) return null; return v;'),b.formatters.grow=new h.iwindow.Function("items, count","count = Math.max(1, Math.min(500, parseInt(count) || 0));if (count < items.length) {Array.prototype.splice.call(items, count, items.length).forEach(function(item){ item.remove(); });} else if (count > items.length) {var item = items[ items.length - 1 ];for (var i = items.length; i < count; i++) {items[i] = item.clone();}}return items;"),t="active-components",g="active-component",b.components[g]={attributes:["collection","global","index","item"],template:function(t){return t.item.getTemplate(t)},initialize:function(t,e){return e.item.initialize(t,e)}},b.binders[t]={block:!1,priority:b.binders["each-*"].priority,unbind:b.binders["each-*"].unbind,update:b.binders["each-*"].update},b.binders[t].bind=function(t){var e,n,i,r;if(null==this.iterated)e=[this.view.prefix,this.type].join("-").replace("--","-"),this.iterated=[],t.removeAttribute(e);else for(n=0,i=(r=this.iterated).length;n<i;n++)r[n].bind()},b.binders[t].routine=function(t,e){var n,i,r,o,a,s,l,c,u,h,d,f,p,m;if(this.iterated.length>(e=e||[]).length)for(h=0,f=this.iterated.length-e.length;h<f;h++)(u=this.iterated.pop()).unbind(),t.removeChild(u.childElement);for(i=d=0,p=e.length;d<p;i=++d)if(o=e[i],u=this.iterated[i],n={collection:e,global:this.view.models,index:i,item:o},(a=null==u)||u.models.item!==o){if(!a){for(s=0,h=i+1,f=(m=this.iterated).length;h<f;h++)if(m[h].models.item===o){s=h;break}if(s){this.iterated.splice(i,0,this.iterated.splice(s,1)[0]),t.insertBefore(t.children[s],t.children[i]);continue}u.unbind()}for(r in c=document.createElement(g),n)c.setAttribute(r,r);(l=this.view.options()).preloadData=!0,(u=new b._.View(c,n,l)).bind(),u.childElement=c.firstChild,a?(this.iterated.push(u),t.appendChild(u.childElement)):(this.iterated[i]=u,t.replaceChild(u.childElement,t.children[i]))}},b.binders["static-html"]={priority:2e3,bind:function(t){var e=this.observer?this.observer.value():this.value,e=this.formattedValue("function"!=typeof e||this.binder.function?e:e.call(this.model));return t.innerHTML=null!=e?e:"",t},routine:function(t,e){return null!=e?e:""}},b.binders.style2={routine:function(t,e){var n=v(t),i=v(t).data("old-styles");if(i&&e!==i)for(var r in i)n.css(r,"");"object"!=(void 0===e?"undefined":U(e))&&(e={}),n.css(e),v(t).data("old-styles",e)}},b.binders.media);function r(t,e){return t.filter(function(t){return e.indexOf(t)<0})}b.binders.media={routine:function(t,e){if(!t.getAttribute("mbr-media-simple"))return i.apply(this,arguments);var n=Object.keys(e)[0],e=e[n];"image"==n?m.update(v(t),e):"video"!=n&&"iconFont"==n&&w.update(v(t),e)}},b.binders.class2={routine:function(t,e){v(t);var n,i=v(t).data("old-classes");i!=(e=p(e))&&(n=e&&e.split(" ")||[],i=i&&i.split(" ")||[],(i={add:r(n,i).join(" "),remove:r(i,n).join(" ")}).add&&v(t).addClass(i.add),i.remove&&v(t).removeClass(i.remove),v(t).data("old-classes",e))}};var n,o="data-rv-view",a=(b.originalBind=b.bind,b.bind=function(t,e,n){b.boundViews=b.boundViews||{};e=b.originalBind(t,e,n);return v(t).attr(o,e.models._rv),b.boundViews[e.models._rv]=e},b.unbind=function(t){var e="["+o+"]";return v(t).find(e).addBack(e).each(function(){var t=v(this).attr(o),e=b.boundViews[t];e.unbind(),delete b.boundViews[t],delete e.models._rv}),this},b.unbindAll=function(){b.boundViews.forEach(function(t){t.unbind()}),b.boundViews=[]},h.Core);function s(t){return'"'+(""+t).replace(/"/g,'\\"').replace(/\r/g,"").replace(/\n/g," ")+'"'}a.isSecondaryComponent=l,a.getSecondaryComponent=u,a.transformSecondaryComponentForProject=function(t){var e,n=["_anchor","_checkPublish","_cid","_customHTML","_protectedParams","_JSplaceholders","_name","_PHPplaceholders","_styles","alias","_once","_global","_isUserblock","_sourceTheme","_isSecondary","typeCompatible","_popupId"],i=t._protectedParams||[];for(e in t)if("_params"==e)for(var r in t._params)i.indexOf(r)<0&&delete t._params[r];else n.indexOf(e)<0&&delete t[e];return t},a.on("rivetsBlur",function(t){h.iwindow.$(t).trigger("change-component-node")}),a.addFilter("getComponentStyles",function(t,e){if(l(e)){if(!e._id&&!e._name)return t;var n,i=u(e).getDefaultParams(),r="";for(n in i){var o=e._params[n];switch(i[n].type||"none"){case"fonts":r+="@"+n+": "+(o.css||"false")+";\n";break;case"color":case"range":case"switch":case"switch-off":r+="@"+n+": "+o+";\n";break;case"none":case"image":case"select":r+="@"+n+": "+s(o)+";\n";break;case"background":r=(r+="@"+n+"-value: "+("color"==o.type?o.value:"image"==o.type?s(h.path2core(o.value)):'""')+";\n")+("@"+n+"-type: "+s(o.type)+";\n"),o.color&&(r+="@"+n+"-color-value: "+o.color.value+";\n"),o.image&&(r+="@"+n+"-parallax: "+o.parallax+";\n")}}t.css=r+"\n"+t.css}return t}),a.addFilter("beforeRenderStyles",function(t,e,n,i,r){return t="@isPublish: "+n+";\n"+t}),a.addFilter("componentSelector",function(t,e){return t=l(e)?"."+k.getClassName(e):t}),a.on("changedComponentParams",function(t,e,n){t=a.getComponent(t);l(t)&&u(t).changeParam(e,n),a.$document.trigger("change.cards"),"secondary"!==h.theme.type||l(t)||a.$template.find("[data-app-component-id="+t._id+"] .app-component-content > *").trigger("change.cards")}),a.on("loadedComponent",function(t,e,n,i){i||"secondary"!==h.theme.type||a.$template.find("[data-app-component-id="+t._id+"] .app-component-content > *").trigger("add.cards"),l(t)&&i&&-1!=t._customHTML.indexOf("mbr-form")&&i&&(y.clean(t,n),y.prefix(t,n)),l(t)&&i&&v(n[0]).find("[data-app-component-id="+t._id+"] .app-component-content > section").removeAttr("data-rv-view").find("img, span").removeAttr("media-simple")}),a.on("changedComponentPosition",function(t,e){var n=a.getComponent(t);l(n)&&(n=void 0!==e&&a.$template.find("[data-app-component-id="+e+"] .app-component-content > *")[0],a.$template.find("[data-app-component-id="+t+"] .app-component-content > *").trigger("drag.cards",n||[]))}),a.on("removeComponent",function(t){var e=a.getComponent(t);l(e)&&a.$template.find("[data-app-component-id="+t+"] .app-component-content > *").trigger("delete.cards")}),a.on("addedComponent",function(e){clearTimeout(n),n=setTimeout(function(){var t=a.getComponent(e);l(t)&&t._alwaysTop&&a.$body.closest("html").stop().animate({scrollTop:0},1e3)},50)}),a.addFilter("loadComponentTemplate",function(t,e,n,i){return l(e)?(e._customHTML=e._customHTML||t,e._customCSS="","_styles"in e||(e._styles=i),i=u(e),n&&(i._arrivo._scope.isPublish=!0),i.getTemplate()):t}),a.addFilter("getComponentParams",function(t,e){e=a.getComponent(e);return l(e)&&(t.default=a.convertComponentParams(u(e).getDefaultParams())),t})});var m={update:function(t,e){var n,i=t.closest("a");t.attr({src:h.path2core(e.src),alt:e.alt,title:e.title}),h.isAMP()&&(n=t.closest("amp-img"),e.lightbox?(t.attr("lightbox",e.lightbox),n.attr("lightbox",e.lightbox),e.link=void 0):n.removeAttr("lightbox"),e.title?n.attr("title",e.title):n.removeAttr("title")),e.link?(i.length||(i=t.after("<a/>").next())[0].appendChild(t[0]),i.attr("href",e.link),e.linkInNewWindow?i.attr("target","_blank"):i.removeAttr("target"),i=h.applyFilter("secondaryImgLinkUpdate",i,e)):i.length&&i.contents().each(function(){i[0].parentNode.insertBefore(this,i[0])}).end().remove()}},y={update:function(i,r){var t=i.find("[data-form-alert]"),i="FORM"==i[0].tagName?i:i.find("form");t.html(r.alerts.success),i.attr("action",r.action),v(i[0].elements).each(function(){var t=v(this).attr("name"),e=i.find("[for='"+v(this).attr("name")+"']")||"",n=i.find("[data-for='"+v(this).attr("name")+"']")||"";t&&r.fields[t]&&(!function(t){var e,n=0;for(e in t.fields)t.fields[e].visible&&n++;return!n}(r)||(r.fields[t].visible=!0),r.fields[t].visible?(v(this).removeAttr("hidden"),e.removeAttr("hidden"),n.removeAttr("hidden")):(v(this).attr("hidden","true"),e&&e.attr("hidden","hidden"),n&&n.attr("hidden","hidden")),r.fields[t].customTitle?v(this).attr("placeholder",r.fields[t].customTitle):v(this).removeAttr("placeholder"))})},clean:function(t,e){var n,i=v(e[0]).find("[data-app-component-id="+t._id+"] [mbr-form]"),r=t[i.attr("mbr-form")];for(n in r.fields)r.fields[n].visible||(i.find("[name='"+n+"']").remove(),i.find("[for='"+n+"']").remove(),i.find("[data-for='"+n+"']").remove())},prefix:function(t,e){var n=t._id,i=t._anchor,r=v(e[0]).find("[data-app-component-id="+n+"] form");v(r[0].elements).each(function(){var t=v(this).attr("name"),e=r.find("[for='"+v(this).attr("name")+"']")||"",n=t+"-"+i;t&&v(this).attr("id",n),e&&e.attr("for",n)})}},w={init:g,update:function(t,e){var n=t.closest("a"),i=h.iconFonts[e.family];i?(t.removeClass(t.data("old-icon-classes")),i.prefix?t.addClass(i.prefix+e.name).removeAttr("data-name").html(""):t.html("&#x"+i.codes[i.names.indexOf(e.name)]).attr("data-name",e.name),i.class&&t.addClass(i.class),g(t,e),t.css({"font-size":e.size?parseInt(e.size,10)+"px":"",color:e.color||"",fill:e.color||""}),e.link?(n.length||(n=t.after("<a/>").next())[0].appendChild(t[0]),n.attr("href",e.link),e.newWindow?n.attr("target","_blank"):n.removeAttr("target"),n=h.applyFilter("secondaryIconLinkUpdate",n,e)):n.length&&n.contents().each(function(){n[0].parentNode.insertBefore(this,n[0])}).end().remove()):console.warn("IconFont not found in fonts list",e,t)}};function g(t,e){var n=h.iconFonts[e.family],i=[];n?(n.prefix&&i.push(n.prefix+e.name),n.class&&i.push(n.class)):console.warn("IconFont not found in fonts list",e,t),t.data("old-icon-classes",i.join(" "))}x.prototype.set=function(t,e){this._params[t]=encodeURIComponent(e)},x.prototype.toString=function(){var t,e="";for(t in this._params)e&&(e+="&"),e+=t+"="+this._params[t];return e=e&&"?"+e},b=x,M.prototype.toString=function(){return this._prefix+this.searchParams.toString()+this.hash},_=M;var b,_,N={update:function(t,e){var n=t.find("iframe"),i=new _(e.src);n.length||(n=t.append("<iframe/>").find("iframe")),"4:3"==e.aspectratio?n.attr({width:800,height:600}):n.removeAttr("width height"),i.searchParams.set("loop",e.loop?1:0),i.searchParams.set("autoplay",e.autoplay?1:0),n.attr("src",i.toString())}};function x(t){this._params={},t&&t.replace(/^\?/,"").split("&").forEach(function(t){var e,n;(t=t.split("="))[0]&&(e=t[0],n="",1<t.length&&(n=t.slice(1).join("=")),this._params[e]=n)},this)}function M(t){var e,n=this;this.hash="",this._prefix=t.replace(/#.*$/,function(t){return 1<t.length&&(n.hash=t),""}).replace(/\?.*$/,function(t){return 1<t.length&&(e=t),""}),this.searchParams=new b(e)}S.prototype.reset=function(){return this.lastError=null,this.nextNode=null,this.isBreaked=this.isStopped,this.isIgnoredChildren=!1,this.isTraverseForOneNode=!1,this.node=null,this.attr=null,this},S.prototype.hardReset=function(){return this.isStopped=!1,this.reset(),this},S.prototype.error=function(t){return this.lastError=t,this},S.prototype.ignoreChildren=function(){return this.isIgnoredChildren=!0,this},S.prototype.traverseForOneNode=function(){return this.isTraverseForOneNode=!0,this},S.prototype.break=function(){return this.isBreaked=!0,this},S.prototype.test=function(t){return this.isTest=t,this},S.prototype.stop=function(){return this.isStopped=this.isBreaked=!0,this},S.prototype.next=function(t){return this.nextNode=t,this};var F=S;function S(){this.isTest=!1,this.hardReset()}var k=h.SecondaryComponent=(C.prototype.getDefaultParams=function(){return this._defaultParams},C.prototype.getTemplate=function(){return this._template},C.prototype.createElementFromTemplate=function(){return c(this.getTemplate()).firstChild},C.prototype.getClassName=function(){return C.getClassName(this._component)},C.prototype.changeParam=function(t,e){var n=new j.ParamEvent("change");this._arrivo.emit("changeParam",n,t,e),n.defaultPrevented||h.Core.renderComponentsStyles(null,null,this._component)},C.prototype.changeNode=function(t,e){this._arrivo.emit("changeNode",new j.NodeEvent("change"),t,e)},C.prototype.isActualTemplate=function(){return this._arrivo&&this._arrivo._template==this._component._customHTML},C.prototype.update=function(){var c=this,u=this._component;return this.isActualTemplate()||(this._arrivo=new j(this._component._customHTML,{component:u}).on("ready",function(t,e,n){for(var i in c._template=e,c._defaultParams=n,t._params={},n){var r=n[i];t._params[i]=r.default}if(u._params)for(var i in u._params){var o;(r=c._arrivo.getParam(i))&&r.isProtected()&&((o=u._params[i])instanceof Object&&(o=v.extend(!0,Array.isArray(o)?[]:{},o)),t._params[i]=o)}var a=["_anchor","_checkPublish","_cid","_customCSS","_customHTML","_id","_JSplaceholders","_name","_PHPplaceholders","_styles","alias","_isUserblock","_sourceTheme","_isSecondary","typeCompatible","_popupId"];for(i in u)a.indexOf(i)<0&&delete u[i];delete u._rv,v.extend(!0,u,t);var s,e=h.$template.find("[data-app-component-id="+u._id+"]"),l=(e[(u._noDrag?"add":"remove")+"Class"]("no-sortable"),e[(u._positionAbsolute?"add":"remove")+"Class"]("pos-absolute"),u._alwaysBottom?e.attr("data-app-always-bottom","true").appendTo(e.parent()):e.removeAttr("data-app-always-bottom"),u._alwaysTop?e.attr("data-app-always-top","true").prependTo(e.parent()):e.removeAttr("data-app-always-top"),u._noDrag?e.find(".sortable").remove():e.find(".sortable").length||e.find(".app-component-edit").prepend('<span class="mbr-btn sortable mbr-icon-arrows-vertical" data-tooltipster="bottom" title="Drag Block"></span>'),!1);for(s in n)if(n[s].type){l=!0;break}l?e.find(".component-params").length||e.find(".component-remove").before('<span class="mbr-btn component-params mbr-icon-cog" data-tooltipster="bottom" title="'+d("Block Parameters")+'"></span>'):e.find(".component-params").remove()}).on("changedTemplate",function(t){t=t.replace(/<([-a-z0-9]+)(\s[^<>]+)>/g,function(t,e,n){return"<"+e+(n=n.replace(/\s([-a-z]+)="([^"]*)"/g,function(t,e,n){return"checked"!=e&&"selected"!=e&&n?" "+e+'="'+(n=n.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&"))+'"':" "+e}))+">"}),u._customHTML=t,this._template=t}).on("changedParam",function(t,e,n){"object"==(void 0===e?"undefined":U(e))&&(e=v.extend(!0,{},e)),h.Core.$template.find("[data-app-component-id="+u._id+"] .app-component-content > *").trigger("changeParameter.cards",[t,e].concat(n&&String(n)||[]))}).on("changedNode",function(t,e){var n;switch(e.type){case"icon":case"image":case"video":n='[mbr-media="'+t+'"]'}n&&h.Core.$template.find("[data-app-component-id="+u._id+"] .app-component-content > *").find(n).trigger("changeContent.cards",[e.type])}),this._arrivo.process(),h.cleanOnceComponents()),this},C.validate=function(t){var e=v.Deferred();return new j(t,{component:{},test:!0}).on("ready",function(){e.resolve()}).on("error",function(t){e.reject(t)}).process(),e.promise()},C.getClassName=function(t){return"cid-"+t._cid},C);function C(t){this._defaultParams={},this._component=t,this._template="",t._cid||(t._cid=h.getUID(3,{timePrefix:!0})),this.update()}var E,P,A,T,j=h.Arrivo=(E={tags:{},attrs:{}},(P=o.createChildClass(function(t,e){this.flow=new F,e.test&&this.flow.test(!0),this._uid=0,this._template=t,this._component=e.component,this._scope={},this._nodes={},this._params={},this._newComponent={_protectedParams:[]},this.on("changeParam",function(t,e,n){e in this._params&&(t.target=this._params[e],t.targetName=e,t.target.trigger(t,n),this.emit("changedTemplate",this.sourceFragment.innerHTML),t.isPropagationStopped||this.emit("changedParam",e,n))}).on("changeNode",function(t,e,n){e in this._nodes&&(t.target=this._nodes[e],t.targetName=e,t.target.trigger(t,n),this.emit("changedTemplate",this.sourceFragment.innerHTML),t.isPropagationStopped||this.emit("changedNode",e,t.target))})})).prototype.getUName=function(){return"uname__"+ ++this._uid},P.prototype.getComponent=function(){return this._component},P.prototype.getComponentsDir=function(){var t=this._component.alias,e=this._component._sourceTheme;return t?h.path2core(h.getAddonDir(t))+"/":e?h.path2core(h.getAddonDir(e))+"/components/":h.path2core(h.theme.pathExport+"/components")+"/"},P.prototype._bindNodes=function(t,e){for(var n,i=[t],r=[e];t=i.pop();)if(e=r.pop(),((n=t.nodeType)==t.TEXT_NODE||n==t.ELEMENT_NODE)&&((e._assocElement=t)._assocElement=e,n==t.ELEMENT_NODE))for(var o=0;o<t.childNodes.length;o++)i.push(t.childNodes[o]),r.push(e.childNodes[o])},P.prototype.findErrorLine=function(){var t,e,n,i=0,r=h.getUID();return this.flow.node&&(this.flow.attr?(e=this.flow.attr.value,n=this.flow.attr.name,this.flow.node.setAttribute(n,r),t=this.sourceFragment.innerHTML.indexOf(r),this.flow.node.setAttribute(n,e)):this.flow.node.nodeType==this.flow.node.TEXT_NODE&&(e=this.flow.node.nodeValue,this.flow.node.nodeValue=r,t=this.sourceFragment.innerHTML.indexOf(r),this.flow.node.nodeValue=e),0<=t)&&(n=this.sourceFragment.innerHTML.substr(0,t).split(e).length,i=this._template.split(e,n).join(e).split("\n").length),i},P.prototype.process=function(){var t=this._template;if(this.sourceFragment=c(t),this.resultFragment=c(t),this._bindNodes(this.sourceFragment,this.resultFragment),this._process(this.sourceFragment,!0),this.flow.isTest&&this.flow.lastError)"line"in this.flow.lastError&&(t=this.findErrorLine())&&(this.flow.lastError.line+=t),this.flow.attr&&(this.flow.lastError.message=this.flow.lastError.message.replace(/^\s*Parse error:/,'Parse error in "'+this.flow.attr.name+'" attribute:')),this.emit("error",this.flow.lastError);else{var e,n={};for(e in this._params)n[e]=this._params[e].prop();this.emit("ready",this._newComponent,this.resultFragment.innerHTML,n)}},P.prototype._process=function(t,e){var n,i,r=this.flow.isTraverseForOneNode,o=r?t:t.firstChild;for(e&&this.flow.hardReset();o;){if(this.flow.isStopped)return;if(this.flow.reset(),i=(this.flow.node=o).nextSibling,o.nodeType==o.ELEMENT_NODE){if(o.hasAttributes())for(var a=o.attributes,s=0;s<a.length;s++){this.flow.attr=a[s];var l=a[s].name;if((n=E.attrs[l])?n.call(this,v(o._assocElement),v(o),a[s].value,l):(n=E.attrs["*"])&&n.call(this,o._assocElement,o,a[s].value,l),this.flow.isBreaked)return}this.flow.attr=null;var c=e?":root":o.tagName.toLowerCase();if((n=E.tags[c])?n.call(this,v(o._assocElement),v(o),c):(n=E.tags["*"])&&n.call(this,o._assocElement,o,c),this.flow.isBreaked)return;this.flow.nextNode&&(i=this.flow.nextNode),this.flow.isIgnoredChildren||this._process(o,!1)}else if(o.nodeType==o.TEXT_NODE&&E.text&&(E.text.call(this,o._assocElement),this.flow.isBreaked))return;if(r)return;o=i}},P.prototype.addParam=function(t,e){if(t in this._params){if(this._params[t]===e)return;this._params[t].trigger("delete")}var n,i=e.elm();return i&&!e.prop("condition")&&(n=i.attr("condition"))&&(this.flow.node=i[0],this.flow.attr={name:"condition",value:n},i=this.getScript(n),n=this.getUName(),i?this.addProp(n,this.createFunction(i)):this.addProp(n,function(){return!1}),e.prop("condition",n)),e.isProtected()&&(i=this._newComponent._protectedParams)&&i.indexOf(t)<0&&i.push(t),this._params[t]=e,this},P.prototype.getParam=function(t){return this._params[t]},P.prototype.addNode=function(t,e){if(t in this._nodes){if(this._nodes[t]===e)return;this._nodes[t].trigger("delete")}return this._nodes[t]=e,this},P.prototype.getNode=function(t){return this._nodes[t]},P.prototype.addProp=function(t,e){if("object"==(void 0===t?"undefined":U(t)))for(var n in t)null!=(e=t[n])&&(this._newComponent[n]=e);else this._newComponent[t]=e;return this},P.prototype.getProp=function(t){return this._newComponent[t]},P.prototype.getScript=function(t){try{var e=mbrScript(t);if("repeat"==e.type)throw e=null,new mbrScript.Error("Parse error: Operator 'in' is not supported",0)}catch(t){this.flow.error(t),this.flow.isTest?this.flow.stop():console.error(t)}return e},P.prototype.createFunction=function(t){var e=new D([this.getComponent(),this._scope,r]);return new h.iwindow.Function("","var result = ("+t.code+'); if (result === undefined || result === null) return ""; return result;').bind(e)},P.prototype.fork=function(){return new P.Scope(this).on("changedTemplate",function(){this._parent.emit("changedTemplate",this._parent.sourceFragment.innerHTML)}).on("changedNode",function(t,e){this._parent.emit("changedNode",t,e)})},P.Scope=function(){((t.prototype=Object.create(mbrScript.Context.prototype)).constructor=t).prototype.getProp=function(t){if("this"==t)return this.scopes[0]&&this.scopes[0]._params;if(this.scopes[1]._params&&void 0!==this.scopes[1]._params[t])return this.scopes[1]._params[t];for(var e=2;e<this.scopes.length;e++)if(void 0!==this.scopes[e][t])return this.scopes[e][t]};var n=t;function t(){mbrScript.Context.apply(this,arguments)}var e,i=o.createChildClass(function(t){this.flow=t.flow,this._uid=0,this._parent=t,this._template=t._template,this._component=t._component,this._scope=t._scope,this._nodes={},this._params={},this._newComponent={_checkPublish:function(){return!!t._scope.isPublish}},this.on("changeNode",function(t,e,n){e in this._nodes&&(t.target=this._nodes[e],t.targetName=e,t.target.trigger(t,n),this.emit("changedTemplate"),t.isPropagationStopped||this.emit("changedNode",e,t.target))})});for(e in i.prototype.addParam=function(){},i.prototype.getParam=function(){},i.prototype.getUName=function(){return this._parent.getUName()},i.prototype.getParent=function(){return this._parent},i.prototype.process=function(t){var e,n;return"string"==typeof t?(e=c(n=t),n=c(n),P.prototype._bindNodes(e,n),this._process(e),t=n.firstChild):(this.flow.traverseForOneNode(),this._process(t._assocElement)),this.resultFragment=t,this.sourceFragment=t._assocElement,this.flow.isTest&&this.flow.lastError||this.emit("ready",this._newComponent,this.resultFragment,this.sourceFragment),this},i.prototype.createFunction=function(t){var e=new n([null,this.getComponent(),this._scope,r]);return new h.iwindow.Function("scope","this.scopes[0] = scope; var result = ("+t.code+'); if (result === undefined || result === null) return ""; return result;').bind(e)},P.prototype)e in i.prototype||(i.prototype[e]=P.prototype[e]);return i}(),P.Param=(O.prototype.on=function(t,e){return L(t).forEach(function(t){o.prototype.on.call(this,t,e)},this),this},O.prototype.off=function(t,e){var n;return arguments.length?(n="remove"+(1<arguments.length?"Listener":"AllListeners"),L(t).forEach(function(t){o.prototype[n].call(this,t,e)},this)):o.prototype.removeAllListeners.call(this),this},O.prototype.trigger=function(t){t="object"==(void 0===t?"undefined":U(t))?[t]:L(t).map(function(t){return new P.ParamEvent(t,{target:this})},this);var e=Array.prototype.slice.call(arguments,1);return t.forEach(function(t){o.prototype.emit.apply(this,[t.type,t].concat(e))},this),this},O.prototype.elm=function(t){return arguments.length?(this._elm=t,this):this._elm},O.prototype.prop=function(t,e){var n=arguments.length;return 1<n?(this._props[t]=e,this):"object"==(void 0===t?"undefined":U(t))?(this._props=t,this):n?this._props[t]:this._props},O.prototype.removeProp=function(t){return delete this._props[t],this},O.prototype.protect=function(){return this._protected=!0,this},O.prototype.isProtected=function(){return this._protected},O),P.Node=(R.prototype.on=P.Param.prototype.on,R.prototype.off=P.Param.prototype.off,R.prototype.trigger=P.Param.prototype.trigger,R.prototype.elm=function(t){return arguments.length?(this._elm=t,this):this._elm},R),P.ParamEvent=function(t,e){var n=!1,i=!1;if(this.preventDefault=function(){n=!0},this.stopPropagation=function(){i=!0},Object.defineProperties(this,{type:{value:t,enumerable:!0},defaultPrevented:{get:function(){return n},enumerable:!0},isPropagationStopped:{get:function(){return i},enumerable:!0}}),"object"==(void 0===e?"undefined":U(e)))for(var r in e)this[r]=e[r]},P.NodeEvent=P.ParamEvent,P.addHandler=function(t,e,n){return E[t]||(E[t]={}),E[t][e]=n,P},P.tag=function(t,e){return P.addHandler("tags",t.toLowerCase(),e)},P.attr=function(t,e){return P.addHandler("attrs",t,e)},P.text=function(t){return E.text=t,P},P.handlers=E,P);function L(t){return"string"==typeof t&&(t=t.replace(/^\s+|\s+$/g,""))?t.split(/\s+/):[]}function O(t){o.call(this,"Param"),this._props="object"==(void 0===t?"undefined":U(t))?t:{},this._protected=!1}function R(t,e){o.call(this,"Node"),Object.defineProperty(this,"type",{get:function(){return t},enumerable:!0}),this._elm=e}function I(t){for(var e,n=t.firstElementChild;n;){if(this.flow.isBreaked)return;for(var i in e=v(n),r=!0,j.handlers.params)if(e.is(i)){this.flow.node=n;var r=!1,o=e.attr("name");if(o&&!/^[_a-zA-Z][_a-zA-Z0-9]*$/.test(o)){var a=new Error('Incorrect parameter name: "'+o+'"');if(a.line=0,this.flow.isTest)return this.flow.attr={name:"name",value:o},void this.flow.error(a).stop();console.error(a)}a=j.handlers.params[i].call(this,e,e.attr("title")||o,e.val());a&&this.addParam(o||this.getUName(),a);break}r&&I.call(this,n),n=n.nextElementSibling}}function $(t){return t.split(A).filter(function(t){return t}).map(function(t){return"{{"==t.slice(0,2)&&"}}"==t.slice(-2)?"("+t.slice(2,-2).replace(/\\\{/g,"{").replace(/\\\}/g,"}")+")":"'"+T(t).replace(/\\/g,"\\\\").replace(/'/g,"\\'")+"'"}).join(" + ")}j.param=function(t,e){return j.addHandler("params",t,e)},j.tag("mbr-parameters",function(t,e){t.remove(),this.flow.ignoreChildren(),j.handlers.params&&I.call(this,e[0])}),j.param("hr, header",function(t){return new j.Param({type:"separator",title:t.html()||""}).elm(t)}),j.param("label",function(t){return new j.Param({type:"label",title:t.html()||"label"}).elm(t)}),j.param("input[type=text], textarea",function(n,t,e){var i=n.is("textarea");return new j.Param({type:i?"textarea":"text",title:t||"Text",default:e||""}).elm(n).on("change",function(t,e){i?n.text(e):n.attr("value",e)})}),j.param("input[type=checkbox]",function(n,t){var e=void 0!==n.attr("inverted");return new j.Param({type:"switch"+(e?"-off":""),title:t||(e?"Disable":"Enable"),default:n.prop("checked")}).elm(n).on("change",function(t,e){e?n.attr("checked",!0):n.removeAttr("checked")})}),j.param("input[type=radio]",function(n,t,i){var r=this,o=n.attr("name")||this.getUName(),e=this.getParam(o),a=n.prop("checked"),t=(e||((e=new j.Param({default:""})).radioGroup=this.getUName(),this.addParam(o,e)),n.attr("title")||(t=n.is("[title]")||!i?"":i),n.is("[value]")||(i=t),new j.Param({type:"radio",name:e.radioGroup,title:t,default:a}).elm(n).on("change",function(t,e){t.stopPropagation(),e?(n.attr("checked",!0),r.getComponent()._params[o]=i,r.emit("changedParam",o,i)):(n.removeAttr("checked"),t.preventDefault())}));this.addParam(this.getUName(),t),a&&e.prop("default",i)}),j.param("select",function(e,t,n){var i={};return e.find("option").each(function(){var t=v(this),e=t.attr("value"),t=t.html();i[e=void 0===e?t:e]=t}),new j.Param({type:"select",title:t||"Select",values:i,inline:e.is("[inline]"),multiple:e.is("[multiple]"),default:n}).elm(e).on("change",function(t,i){e.find("option[selected]").removeAttr("selected"),e.find("option").each(function(){var t=v(this),e=t.attr("value");if(void 0===e&&(e=t.html()),Array.isArray(i)){for(var n=0;n<i.length;n++)if(e===i[n]){t.attr("selected",!0);break}}else e==i&&t.attr("selected",!0)})})}),j.param("fieldset[type=background]",function(s,t,e){var l,c,u,h,d,f,p,m,n=s.find("image, color, video".replace(/(\w+)/g,"input[type=$1]:last"));n.length&&(c={},u=[],h=(l=this).getUName(),d=s.is("[parallax]"),f=j.handlers.params,p=s.attr("name")||this.getUName(),m=new j.Param({type:"background"}).elm(s).on("select",function(t,e){var n=l.getComponent()._params[p];n.type=e,n.value=n[e].value,n.parallax=d&&"image"==e&&n[e].parallax,l.emit("changedParam",p,n,"type")}).on("change",function(t,e,n,i){var r=l.getComponent()._params[p];r.type===e&&(r[n]=i),r[e][n]=i,l.emit("changedParam",p,r,n)}),n.each(function(){var n=v(this),i=n.attr("type"),t=n.attr("title"),e=n.is("[selected]"),r=(f["input[type="+i+"]"]||v.noop).call(l,n,"",n.val());if(r){var o=new j.Param({type:"radio",name:h,default:e}).elm(n).on("change",function(t,e){t.stopPropagation(),e?(n.attr("selected",!0),m.trigger("select",i)):(n.removeAttr("selected"),t.preventDefault())});switch(i){case"image":r.prop("title",""),o.prop("title",t||"Background Image"),c[i]={value:r.prop("default"),parallax:d&&n.is("[parallax]")};break;case"color":o.prop("title",t||"Background Color"),c[i]={value:r.prop("default")};break;case"video":r.prop("default",{url:r.prop("default").url}),o.prop("title",t||"Background Video"),c[i]={value:r.prop("default")}}l.addParam(l.getUName(),o);var a=l.getUName();l.addProp(a,l.createFunction(l.getScript(p+'.type == "'+i+'"'))),r.on("change",function(t,e){t.stopPropagation(),m.trigger("change",i,"value",e)}).prop("condition",a),u.push(r),d&&"image"==i&&u.push(new j.Param({type:"switch",title:s.attr("parallax")||"Parallax",default:n.is("[parallax]"),condition:a}).elm(n).on("change",function(t,e){t.stopPropagation(),e?n.attr("parallax",""):n.removeAttr("parallax"),m.trigger("change",i,"parallax",e)})),!e&&c.type||(c.type=i,c.value=c[i].value,c.parallax="image"==i&&c[i].parallax)}}),u.forEach(function(t){l.addParam(l.getUName(),t)}),this.addParam(p,m.prop("default",c)))}),j.param("input[type=color]",function(n,t,e){return new j.Param({type:"color",title:t||"Color",default:e||"#ffffff"}).elm(n).on("change",function(t,e){n.attr("value",e)})}),j.param("input[type=range]",function(n,t,e){var i=n.attr("min")||0,r=n.attr("max")||100;return new j.Param({type:"range",min:i,max:r,step:n.attr("step")||1,title:t||"Range",inline:n.is("[inline]"),default:e||(parseFloat(r)+parseFloat(i))/2}).elm(n).on("change",function(t,e){n.attr("value",e)})}),j.param("input[type=font]",function(n,t,e){for(var i,r=h.getAccesibleFonts(),o=0;o<r.length;o++)if(e===r[o].name){i=r[o];break}return new j.Param({type:"fonts",title:t||"Font",inline:!0,default:i||r[0]||{}}).elm(n).on("change",function(t,e){n.attr("value",e.name)})}),j.param("input[type=image]",function(n,t,e){return e&&0!==e.indexOf("@SITES@")&&e.indexOf(":/")<0&&(e=f(this.getComponent())+e),new j.Param({type:"image",title:t||"Image",default:e}).elm(n).on("change",function(t,e){n.attr("value",e)})}),j.param("input[type=video]",function(n,t,e){return new j.Param({type:"video",title:t||"Video",default:{url:e||"http://www.youtube.com/watch?v=uNCr7NdOJgw",loop:!0}}).elm(n).on("change",function(t,e){n.attr("value",e.rawUrl)})}),j.param("input[type=hidden]",function(t,e,n){return new j.Param({default:n||""})}),j.param("input[type=id]",function(t){return new j.Param({default:h.getUID(3,{timePrefix:!0})})}),j.tag(":root",function(t,e){var n=(n=e.attr("plugins"))&&n.replace(/\s*,\s*/g,",");this.addProp({_alwaysBottom:e.is("[always-bottom]"),_alwaysTop:e.is("[always-top]"),_global:e.is("[global]"),_noDrag:e.is("[not-draggable]"),_plugins:n||null,_positionAbsolute:e.is("[position-absolute]"),_once:e.is("[once]")&&(e.attr("once")||!0)}),t.attr("mbr-id","_anchor").addClass(k.getClassName(this.getComponent())).removeAttr("plugins group always-top always-bottom position-absolute not-draggable global")}),j.attr("mbr-list",function(t,e){var n,i=[],r=this.getUName(),o=this;t.find("> *").each(function(){var n=new B({$listSourceElement:e});o.fork().on("ready",function(t,e){n.template=e.outerHTML,n.arrivo=this,n.scope=t}).process(this),i.push(n)}).remove(),n=(n=e.attr("mbr-list-grow"))?" | grow _params."+n:"",t.attr("mbr-active-components",r+n).removeAttr("mbr-list mbr-list-grow"),this.addProp(r,i),this.flow.ignoreChildren()}),j.attr("mbr-text",function(t,n){var i,e,r=this.getUName(),o=new j.Node("content",n).on("change",function(t,e){n.html(e)});t.attr({"data-app-edit":"content","mbr-static-html":r,"mbr-content-edit":r,"data-app-placeholder":d("Type Text"),"mbr-on-change-component-node":(e=(i=this).getUName(),i.addProp(e,function(t,e){i.emit("changeNode",new j.NodeEvent("change",{originalEvent:t}),r,e[r])}),e)}),t.is("[mbr-article]")&&t.attr({"data-app-edit":"full","data-multiline":!0,"data-app-placeholder":d("Type Content")}),t.removeAttr("mbr-text mbr-article"),this.addNode(r,o),this.addProp(r,n.html()),this.flow.ignoreChildren()}),j.attr("mbr-article",j.handlers.attrs["mbr-text"]),["h1","h2","h3","h4","h5","h6","p"].forEach(function(t){j.tag(t,j.handlers.attrs["mbr-text"])}),j.attr("mbr-buttons",function(t,n,e,i){var r,o,a=this.getUName(),s=t.is("[mbr-buttons]")?"buttons":"menu",l=new j.Node(s,n).on("change",function(t,e){n.html(e)});t.attr({"data-app-edit":s,"mbr-static-html":a,"mbr-content-edit":a,"mbr-on-change-component-node":(o=(r=this).getUName(),r.addProp(o,function(t,e){var t=new j.NodeEvent("change",{originalEvent:t});r.emit("changeNode",t,a,(t=e[a],(t=v(c(t))).find("a").removeAttr("data-app-btn data-toolbar"),t.html()))}),o)}).attr(i,this.getUName()).find("a").attr({"data-app-btn":"true","data-app-placeholder":d("Type Text")}),"menu"==s&&t.attr("data-app-modern-menu",!0),this.addNode(a,l),this.addProp(a,t.html()),this.flow.ignoreChildren(),t.html("")}),j.attr("mbr-menu",j.handlers.attrs["mbr-buttons"]),j.attr("mbr-icon",function(t,n){var i,r=this.getUName(),e=v.extend(h.extractIconFont(t[0]),{link:"",newWindow:!1}),o=new j.Node("icon",n).on("change",function(t,e){w.update(n,e.iconFont)});n.closest("a").each(function(){e.link=v(this).attr("href")||"#",e.newWindow=v(this).is("[target=_blank]")}),w.init(n,e),t.attr({"mbr-media":r,"mbr-media-simple":!0,"mbr-on-click":(t=(i=this).getUName(),i.addProp(t,function(t,e){t.preventDefault(),t.stopPropagation(),h.Core.showMediaIconFontDialog(v.extend(!0,{},e[r]),function(t){e[r]=t,i.emit("changeNode",new j.NodeEvent("change"),r,e[r]),h.Core.updateGlobalComponents(i.getComponent()._id,function(t,e){for(var n in e)"_customHTML"!==n&&("object"===U(e[n])||"function"==typeof e[n]||/^_/g.test(n))||(e[n]=t[n]);u(e).update()})},t.target)}),t)}).removeAttr("mbr-icon"),this.addNode(r,o),this.addProp(r,{iconFont:e}),this.flow.ignoreChildren()}),j.tag("img",function(t,n){var i,r,o={active:!0},a=this.getUName(),e=new j.Node("image",n).on("change",function(t,e){m.update(n,e.image)}),s=(["src","alt","title","width","height"].forEach(function(t){var e=n.attr(t);(e||"width"!=t&&"height"!=t)&&(o[t]=e)}),o.src.indexOf(":/")<0&&o.src.indexOf("app/themes")<0&&0!==o.src.indexOf("@SITES@")&&(0===o.src.indexOf("../")?((s=(s=f(this.getComponent())).split("/")).splice(-2,2),s=s.join("/"),o.src=s+o.src.slice(2)):o.src=f(this.getComponent())+o.src),n.closest("a").each(function(){o.link=v(this).attr("href")||"#",o.linkInNewWindow=v(this).is("[target=_blank]")}),0<o.width&&(o.width=2*o.width),0<o.height&&(o.height=2*o.height),t.closest("amp-img")),l=!1,c=!1;v(s).hasClass("image-without-link")&&(c=!0),v(s).is(".lb-image")&&(l=!0),!v(s).attr("lightbox")&&""!=v(s).attr("lightbox")||(o.lightbox=v(s).attr("lightbox")||!0),t.attr({"mbr-media":a,"mbr-media-simple":!0,"mbr-on-click":(s=(r=this).getUName(),r.addProp(s,function(t,e){t.preventDefault(),t.stopPropagation(),i={width:2*v(t.target).width()},h.showMediaImageDialog(v.extend(!0,{},e[a],{image:i}),function(t){e[a]=t,r.emit("changeNode",new j.NodeEvent("change"),a,e[a]),h.Core.updateGlobalComponents(r.getComponent()._id,function(t,e){for(var n in e)"_customHTML"!==n&&("object"===U(e[n])||"function"==typeof e[n]||/^_/g.test(n))||(e[n]=t[n]);u(e).update()})},!1,c,!1,e._id,l,v(t.target))}),s)}),this.addNode(a,e),this.addProp(a,{image:o})}),j.attr("mbr-video",function(t,n){var i,r=this.getUName(),o={active:!0,src:"http://www.youtube.com/watch?v=uNCr7NdOJgw",aspectratio:"16:9",autoplay:!1,loop:!1},e=new j.Node("video",n).on("change",function(t,e){N.update(n,e.video)});n.find("iframe:last").each(function(){var t,e=v(this),n=e.attr("height"),i=e.attr("width"),e=e.attr("src");e&&(o.src=e,t=(e=new URL(o.src)).searchParams.get("autoplay"),e=e.searchParams.get("loop"),o.autoplay="1"===t||void 0===t,o.loop="1"===e||void 0===e),i&&n&&i/n<1.4&&(o.aspectratio="4:3")}),t.attr({"mbr-media":r,"mbr-on-click":(t=(i=this).getUName(),i.addProp(t,function(t,e){t.preventDefault(),t.stopPropagation(),h.showMediaVideoDialog(v.extend(!0,{},e[r]),function(t){e[r]=t,i.emit("changeNode",new j.NodeEvent("change"),r,e[r]),h.Core.updateGlobalComponents(i.getComponent()._id,function(t,e){for(var n in e)"_customHTML"!==n&&("object"===U(e[n])||"function"==typeof e[n]||/^_/g.test(n))||(e[n]=t[n]);u(e).update()})})}),t)}).removeAttr("mbr-video").html(""),this.addNode(r,e),this.addProp(r,{video:o}),this.flow.ignoreChildren()}),j.attr("mbr-if",function(t,e,n,i){var r;n?(n=this.getScript(n))?(r=this.getUName(),this.addProp(r,this.createFunction(n)),r="this | fakeFilter "+[r].concat(n.getDependencies().map(function(t){return"_params."+t})).join(" "),"mbr-style"==i?t.removeAttr(i).attr("mbr-style2",r):t.attr(i,r)):"mbr-style"==i?t.removeAttr(i):t.attr(i,"false"):t.removeAttr(i)}),j.attr("mbr-style",j.handlers.attrs["mbr-if"]),j.attr("mbr-form",function(t,n,e,i){var o={title:"",action:"",alerts:{},fields:{}},r="FORM"==t[0].tagName?t:t.find("form"),a=t.find("[data-form-alert]").html(),s=this.getUName(),l=new j.Node("form",n).on("change",function(t,e){y.update(n,e)});o.title=r.attr("name"),o.action=r.attr("action")||h.getUserInfo().email,a&&(o.alerts.success=a.trim()),v(r[0].elements).each(function(){var t,e=v(this).attr("name"),n=v(this).attr("data-form-field")||"",i=v(this).attr("placeholder")||"",r=!v(this).attr("hidden");null!=v(this).attr("type")?t=v(this).attr("type"):v(this).is("select")?t="select":v(this).is("textarea")&&(t="textarea"),e&&(o.fields[e]={visible:r,title:n,customTitle:i,type:t})}),t.removeAttr(i),this.addNode(s,l),this.addProp(s,o),y.update(r,o),r.attr({action:"https://mobirise.eu/","mbr-form":s}).removeAttr("name")}),j.attr("mbr-theme-style",function(t,n,e,i){var r,o,a;e&&"secondary"===h.theme.type&&(r=this.getUName(),t.attr({"mbr-class-var":r,"mbr-on-change-theme-style":(a=(o=this).getUName(),o.addProp(a,function(t,e){n.attr(i,t.themeStyle),o.emit("changedTemplate",o.sourceFragment.innerHTML)}),a)}),this.addProp(r,e)),t.removeAttr(i)}),h.on("formoidSucces",function(t,e,n,i){t=h.Core.getComponent(t);l(t)&&(y.update(i,n),u(t).changeNode(e,n))}),A=/(\{\{[\s\S]*?\}\})/,T=function(t){return t.replace(/\\{\\{/g,"{{").replace(/\\}\\}/g,"}}")},j.attr("mbr-class",function(t,e,n,i){t.removeAttr(i);var i=e.attr("class");i&&A.test(i)&&(e=$(i),n=n?"["+e+", "+n+"]":e),n&&(i=this.getScript(n))&&(e=this.getUName(),this.addProp(e,this.createFunction(i)),n="this | fakeFilter "+[e].concat(i.getDependencies().map(function(t){return"_params."+t})).join(" "),t.attr("mbr-class2",n))}),j.attr("*",function(t,e,n,i){var r;/^mbr-/.test(i)?t.removeAttribute(i):A.test(n)?"class"==i?(e.hasAttribute("mbr-class")||j.handlers.attrs["mbr-class"].call(this,v(t),v(e),"","mbr-class"),t.removeAttribute(i)):(e=$(n),(e=this.getScript(e))&&(r=this.getUName(),this.addProp(r,this.createFunction(e)),r="this | fakeFilter "+[r].concat(e.getDependencies().map(function(t){return"_params."+t})).join(" "),v(t).removeAttr(i).attr("mbr-"+i,r+" | toNULL"))):t.getAttribute(i)===n&&"["!=i[0]&&t.setAttribute(i,T(n))})},["jQuery","mbrApp","TR()"])},function(t,e,n){"use strict";defineM("carousel",function(t,e,o){var a=e.Arrivo;a.param("input[type=carousel]",function(t,e,n){e=e||"Slides";var i=this.getComponentsDir()+"_images/",r=t.attr("name")||this.getUName();this.addParam(r+"__autoplay",new a.Param({type:"select",title:o("Autoplay"),values:{false:"False",hover:"Pause on hover",true:"Autoplay"},default:"false"}).protect()),this.addParam(r+"__autoplayInterval",new a.Param({type:"range",title:o("Autoplay Interval (ms)"),min:1e3,max:8e3,inline:!0,default:4e3,step:1e3,condition:r+"__autoplayCondition"}).protect()),this.addProp(r+"__autoplayCondition",function(){return"false"!==this._params[r+"__autoplay"]}),this.addProp("carouselFunction",function(t){return("hover"===t||"true"===t)&&"carousel"}),this.addProp("intervalFunction",function(t){return!/^false/.test(t)&&t.replace(/^hover |true /,"")}),this.addParam(r+"__showBullets",new a.Param({type:"switch",title:o("Show Bullets"),default:!0}).protect()),this.addParam(r,new a.Param({type:"image-tabs",subtype:"carousel",title:e,_params:(e=r,{playVideo:{type:"switch",title:o("Play Video"),default:!1},videoUrl:{type:"text",title:o("Youtube or Vimeo"),condition:[e+".playVideo"],default:"https://www.youtube.com/watch?v=fwkKc6M60-0"},image:{type:"image",title:o("Image"),condition:["!"+e+".playVideo"]},showTitle:{type:"switch",title:o("Show Title")},showText:{type:"switch",title:o("Show Text")},showButtons:{type:"switch",title:o("Show Buttons")},overlay:{type:"switch",title:"Overlay",default:!1},overlayColor:{type:"color",title:o("Color"),default:"#000000",condition:[e+".overlay"]},overlayOpacity:{type:"range",title:o("Opacity"),min:0,max:1,step:.1,inline:!0,default:.5,condition:[e+".overlay"]},contentAlign:{type:"select",title:o("Content Align"),values:{left:"left",center:"center",right:"right"}}}),default:[{image:(e=i)+"background1.jpg",active:!0,showButtons:!0,showText:!0,showTitle:!0,playVideo:!1,videoUrl:"https://www.youtube.com/watch?v=fwkKc6M60-0",customStyle1:"display-1",customStyle2:"display-5",customStyle3:"display-4",alt:o(""),title:o(""),textTitle:o("FULL SCREEN SLIDER"),overlay:!0,contentAlign:"center",text:o("Choose from the large selection of latest pre-made blocks - jumbotrons, hero images, parallax scrolling, video backgrounds, hamburger menu, sticky header and more."),buttons:'<a data-app-btn="true" class="btn btn-success" data-app-placeholder="'+o("Type Text")+'" href="https://mobirise.com">'+o("FOR WINDOWS")+'</a> <a data-app-btn="true" class="btn  btn-white-outline" data-app-placeholder="'+o("Type Text")+'" href="https://mobirise.com">'+o("FOR MAC")+"</a>"},{image:e+"background2.jpg",active:!1,showButtons:!0,showText:!0,showTitle:!0,playVideo:!1,videoUrl:"https://www.youtube.com/watch?v=fwkKc6M60-0",customStyle1:"display-1",customStyle2:"display-5",customStyle3:"display-4",alt:o(""),title:o(""),textTitle:o("VIDEO SLIDE"),overlay:!0,contentAlign:"left",text:o("Slide with youtube video background and color overlay. Title and text are aligned to the left."),buttons:'<a data-app-btn="true" class="btn btn-primary" data-app-placeholder="'+o("Type Text")+'" href="https://mobirise.com">'+o("FOR WINDOWS")+'</a> <a data-app-btn="true" class="btn  btn-white-outline" data-app-placeholder="'+o("Type Text")+'" href="https://mobirise.com">'+o("FOR MAC")+"</a>"},{image:e+"background3.jpg",active:!1,showButtons:!0,showText:!0,showTitle:!0,playVideo:!1,videoUrl:"https://www.youtube.com/watch?v=fwkKc6M60-0",customStyle1:"display-1",customStyle2:"display-5",customStyle3:"display-4",alt:o(""),title:o(""),textTitle:o("IMAGE SLIDE"),overlay:!0,contentAlign:"right",text:o("Choose from the large selection of latest pre-made blocks - jumbotrons, hero images, parallax scrolling, video backgrounds, hamburger menu, sticky header and more."),buttons:'<a data-app-btn="true" class="btn btn-info" data-app-placeholder="'+o("Type Text")+'" href="https://mobirise.com">'+o("FOR WINDOWS")+'</a> <a data-app-btn="true" class="btn  btn-white-outline" data-app-placeholder="'+o("Type Text")+'" href="https://mobirise.com">'+o("FOR MAC")+"</a>"}]}).elm(t).protect())}),a.attr("mbr-carousel",function(t,e,n,i){t.html(n?'<div class="mbr-slider slide carousel" mbr-data-ride="_params.%paramName%__autoplay | fakeFilter carouselFunction" mbr-data-bs-ride="_params.%paramName%__autoplay | fakeFilter carouselFunction" mbr-data-interval="_params.%paramName%__autoplay | concatenatio _params.%paramName%__autoplayInterval | fakeFilter intervalFunction" mbr-data-bs-interval="_params.%paramName%__autoplay | concatenatio _params.%paramName%__autoplayInterval | fakeFilter intervalFunction" mbr-data-interval="_params.%paramName%__autoplay | concatenatio _params.%paramName%__autoplayInterval | fakeFilter intervalFunction" mbr-data-bs-pause="_params.%paramName%__autoplay" mbr-data-pause="_params.%paramName%__autoplay" data-keyboard="false" data-bs-keyboard="false"><ol class="carousel-indicators" mbr-if="_params.%paramName%__showBullets"><li data-app-prevent-settings mbr-each-this="_params.%paramName%" mbr-data-target="_anchor | pref \'#\'" mbr-data-target="_anchor | pref \'#\'" mbr-data-bs-target="_anchor | pref \'#\'" mbr-class-active="this.active" mbr-data-slide-to="index" mbr-data-bs-slide-to="index"></li></ol><div class="carousel-inner" role="listbox"><div class="carousel-item slider-fullscreen-image"mbr-each-this="_params.%paramName%"mbr-bg-image="this.image | unless this.playVideo"mbr-data-bg-video-slide="this.videoUrl | if this.playVideo"mbr-class-active="this.active"><div class="mbr-overlay" mbr-if="this.overlay | if this.playVideo" mbr-opacity="this.overlayOpacity" mbr-bg-color="this.overlayColor"></div><div class="container container-slide"><div class="image_wrapper"><div class="mbr-overlay" mbr-if="this.overlay | unless this.playVideo" mbr-opacity="this.overlayOpacity" mbr-bg-color="this.overlayColor"></div><img mbr-unless="this.playVideo" mbr-src="this.image" mbr-alt="this.alt" mbr-title="this.title"><div class="carousel-caption justify-content-center"><div class="col-10"mbr-class-align-left="this.contentAlign | eq \'left\'"mbr-class-align-center="this.contentAlign | eq \'center\'"mbr-class-align-right="this.contentAlign | eq \'right\'"><h2 class="mbr-fonts-style" mbr-class-var="this.customStyle1" mbr-if="this.showTitle" mbr-static-html="this.textTitle" mbr-content-edit="this.textTitle" data-app-edit="content" data-app-placeholder="Type Title"></h2><p class="lead mbr-text mbr-fonts-style"mbr-class-var="this.customStyle2"mbr-if="this.showText"mbr-static-html="this.text" mbr-content-edit="this.text" data-app-edit="content"data-app-placeholder="Type Text"></p><div class="mbr-section-btn"mbr-buttons mbr-if="this.showButtons | if this.buttons"mbr-static-html="this.buttons" mbr-content-edit="this.buttons" mbr-class-var="this.customStyle3" data-app-edit="buttons"data-toolbar="-mbrBtnMove"></div></div></div></div></div></div></div><a data-app-prevent-settings class="carousel-control carousel-control-prev" mbr-href="_anchor | pref \'#\'" role="button" data-slide="prev" data-bs-slide="prev"><span aria-hidden="true" class="mbri-left mbr-iconfont"></span><span class="sr-only visually-hidden">Previous</span></a><a data-app-prevent-settings class="carousel-control carousel-control-next" mbr-href="_anchor | pref \'#\'" role="button" data-slide="next" data-bs-slide="next"><span aria-hidden="true" class="mbri-right mbr-iconfont"></span><span class="sr-only visually-hidden">Next</span></a></div>'.replace(/%paramName%/g,n):""),this.flow.ignoreChildren();t=e.is("["+i+"-embedded]");this.addParam(n+"__embedded",new a.Param({default:t})),(e=this.getParam(n))&&(t?e.prop("fullscreen",!0):e.prop("default").forEach(function(t){t.customStyle1="display-2",t.customStyle2="display-7",t.showTitle=!1,t.showButtons=!1,t.contentAlign="center"}))})},["jQuery","mbrApp","TR()"])},function(t,e,n){"use strict";defineM("gallery",function(p,t,a){var s=t.Arrivo,m='\x3c!-- Filter --\x3e<div class="mbr-gallery-filter container" mbr-if="_params.%paramName%__filter" mbr-class-gallery-filter-active="_params.%paramName%__filter"><ul data-toolbar="-mbrBtnMove,-mbrBtnAdd,-mbrBtnRemove,-mbrLink,-mbrFonts,-mbrFontSize,-iconFont" data-app-edit="buttons"></ul></div>\x3c!-- Gallery --\x3e<div class=\'mbr-gallery-row\' mbr-class-container="fullWidth"><div class="mbr-gallery-layout-default"><div><div><div class="mbr-gallery-item" mbr-add-class="\'mbr-gallery-item--p\' | suff _params.%paramName%__spacing" mbr-each-this="_params.%paramName%" mbr-class-video-slide="this.playVideo" mbr-data-video-url="this.videoUrl | if this.playVideo" mbr-data-tags="this.tags"><div mbr-href="_anchor | pref \'#lb-\'" mbr-data-slide-to="index" mbr-data-bs-slide-to="index"><div mbr-if="this.playVideo"></div><img mbr-if="this.playVideo" mbr-src="this.videoPreview" alt=""><img mbr-unless="this.playVideo" mbr-src="this.thumb | else this.image" mbr-alt="this.alt" mbr-title="this.title"><span mbr-if="this.playVideo" class="icon-video"></span><span mbr-unless="this.playVideo" class="icon-focus"></span><span mbr-if="_params.%paramName%__showText" mbr-html="this.caption" data-app-edit="content" data-app-placeholder="'+a("Type Text")+'" data-app-selector=".mbr-gallery-item > div > span" class="mbr-gallery-title mbr-fonts-style" mbr-class-var="this.customStyle1"></span></div></div></div></div><div class="clearfix"></div></div></div>',g='\x3c!-- Gallery --\x3e<div class=\'gallery-row\' mbr-class-container="fullWidth"><div class="mbr-gallery-layout-default"><div  mbr-add-class="\'row justify-content-center m-0\' | if _params.%paramName%__flexDirection"><div class=\'row-first row justify-content-center m-0\' mbr-add-class="12 | / _params.%paramName%__count | pref \'col-md-10 p-0 col-lg-\' | if _params.%paramName%__flexDirection"><div class="mbr-gallery-item" mbr-add-class="12 | / _params.%paramName%__firstCount | pref \'col-lg-\' | concatenatio _params.%paramName%__firstCount | fakeFilter suffMD  | concatenatio \'col-sm-12\' | unless _params.%paramName%__flexDirection | concatenatio \'p-\' | suff _params.%paramName%__spacing" mbr-each-this="_params.%paramName%" mbr-class-video-slide="this.playVideo" mbr-data-video-url="this.videoUrl | if this.playVideo" mbr-if="_params.%paramName%__firstCount | gt index"><div mbr-href="_anchor | pref \'#lb-\'" mbr-data-slide-to="index" mbr-data-bs-slide-to="index"><div mbr-if="this.playVideo"></div><img mbr-if="this.playVideo" mbr-src="this.videoPreview" alt=""><img mbr-unless="this.playVideo" mbr-src="this.thumb | else this.image" mbr-alt="this.alt" mbr-title="this.title"><span mbr-if="this.playVideo" class="icon-video"></span><span mbr-unless="this.playVideo" class="icon-focus"></span><span mbr-if="_params.%paramName%__showText" mbr-html="this.caption" data-app-edit="content" data-app-placeholder="'+a("Type Text")+'" data-app-selector=".mbr-gallery-title" class="mbr-gallery-title mbr-fonts-style" mbr-class-var="this.customStyle1"></span></div></div></div><div class=\'row-second row justify-content-center m-0\' mbr-if="_params.%paramName%__count | gt 1"  mbr-add-class="12 | / _params.%paramName%__count | pref \'col-md-10 p-0 col-lg-\' | if _params.%paramName%__flexDirection"><div class="mbr-gallery-item" mbr-add-class="12 | / _params.%paramName%__secondCount | pref \'col-lg-\' | concatenatio _params.%paramName%__secondCount | fakeFilter suffMD | concatenatio \'col-sm-12\' | unless _params.%paramName%__flexDirection | concatenatio \'p-\' | suff _params.%paramName%__spacing" mbr-each-this="_params.%paramName%" mbr-class-video-slide="this.playVideo" mbr-data-video-url="this.videoUrl | if this.playVideo" mbr-if="index | concatenatio _params.%paramName%__firstCount | concatenatio _params.%paramName%__secondCount | fakeFilter filterImg"><div mbr-href="_anchor | pref \'#lb-\'" mbr-data-slide-to="index" mbr-data-bs-slide-to="index"><div mbr-if="this.playVideo"></div><img mbr-if="this.playVideo" mbr-src="this.videoPreview" alt=""><img mbr-unless="this.playVideo" mbr-src="this.thumb | else this.image" mbr-alt="this.alt" mbr-title="this.title"><span mbr-if="this.playVideo" class="icon-video"></span><span mbr-unless="this.playVideo" class="icon-focus"></span><span mbr-if="_params.%paramName%__showText" mbr-html="this.caption" data-app-edit="content" data-app-placeholder="'+a("Type Text")+'" data-app-selector=".mbr-gallery-title" class="mbr-gallery-title mbr-fonts-style" mbr-class-var="this.customStyle1"></span></div></div></div><div class=\'row-third row justify-content-center m-0\' mbr-if="_params.%paramName%__count | gt 2"  mbr-add-class="12 | / _params.%paramName%__count | pref \'col-md-10 p-0 col-lg-\' | if _params.%paramName%__flexDirection"><div class="mbr-gallery-item" mbr-add-class="12 | / _params.%paramName%__thirdCount | pref \'col-lg-\' | concatenatio _params.%paramName%__thirdCount | fakeFilter suffMD | concatenatio \'col-sm-12\' | unless _params.%paramName%__flexDirection | concatenatio \'p-\' | suff _params.%paramName%__spacing" mbr-each-this="_params.%paramName%" mbr-class-video-slide="this.playVideo" mbr-data-video-url="this.videoUrl | if this.playVideo" mbr-if="index | concatenatio _params.%paramName%__firstCount | concatenatio _params.%paramName%__secondCount | concatenatio _params.%paramName%__thirdCount | fakeFilter filterImg"><div mbr-href="_anchor | pref \'#lb-\'" mbr-data-slide-to="index" mbr-data-bs-slide-to="index"><div mbr-if="this.playVideo"></div><img mbr-if="this.playVideo" mbr-src="this.videoPreview" alt=""><img mbr-unless="this.playVideo" mbr-src="this.thumb | else this.image" mbr-alt="this.alt" mbr-title="this.title"><span mbr-if="this.playVideo" class="icon-video"></span><span mbr-unless="this.playVideo" class="icon-focus"></span><span mbr-if="_params.%paramName%__showText" mbr-html="this.caption" data-app-edit="content" data-app-placeholder="'+a("Type Text")+'" data-app-selector=".mbr-gallery-title" class="mbr-gallery-title mbr-fonts-style" mbr-class-var="this.customStyle1"></span></div></div></div><div class=\'row-fourth row justify-content-center m-0\' mbr-if="_params.%paramName%__count | gt 3"  mbr-add-class="12 | / _params.%paramName%__count | pref \'col-md-10 p-0 col-lg-\' | if _params.%paramName%__flexDirection"><div class="mbr-gallery-item" mbr-add-class="12 | / _params.%paramName%__fourthCount | pref \'col-lg-\' | concatenatio _params.%paramName%__fourthCount | fakeFilter suffMD | concatenatio \'col-sm-12\' | unless _params.%paramName%__flexDirection | concatenatio \'p-\' | suff _params.%paramName%__spacing" mbr-each-this="_params.%paramName%" mbr-class-video-slide="this.playVideo" mbr-data-video-url="this.videoUrl | if this.playVideo" mbr-if="index | concatenatio _params.%paramName%__firstCount | concatenatio _params.%paramName%__secondCount | concatenatio _params.%paramName%__thirdCount | concatenatio _params.%paramName%__fourthCount | fakeFilter filterImg"><div mbr-href="_anchor | pref \'#lb-\'" mbr-data-slide-to="index" mbr-data-bs-slide-to="index"><div mbr-if="this.playVideo"></div><img mbr-if="this.playVideo" mbr-src="this.videoPreview" alt="" ><img mbr-unless="this.playVideo" mbr-src="this.thumb | else this.image" mbr-alt="this.alt" mbr-title="this.title"><span mbr-if="this.playVideo" class="icon-video"></span><span mbr-unless="this.playVideo" class="icon-focus"></span><span mbr-if="_params.%paramName%__showText" mbr-html="this.caption" data-app-edit="content" data-app-placeholder="'+a("Type Text")+'" data-app-selector=".mbr-gallery-title" class="mbr-gallery-title mbr-fonts-style" mbr-class-var="this.customStyle1"></span></div></div></div></div><div class="clearfix"></div></div></div>';s.param("input[type=gallery]",function(t,e,n){e=e||"Gallery";var i=this.getComponentsDir()+"_images/",r=t.attr("name")||this.getUName(),o=t.attr("subtype")||"default";"flex"===o&&(this.addParam(r+"__flexDirection",new s.Param({type:"switch",title:a("Row/Column"),default:!1})),this.addParam(r+"__count",new s.Param({type:"range",min:1,max:4,title:a("Containers Count"),inline:!0,default:2})),this.addParam(r+"__firstCount",new s.Param({type:"range",min:1,max:4,title:a("1st Container Items"),inline:!0,default:4})),this.addParam(r+"__secondCount",new s.Param({type:"range",min:1,max:4,title:a("2nd Container Items"),inline:!0,default:4,condition:r+"__secondCountCondition"})),this.addParam(r+"__thirdCount",new s.Param({type:"range",min:1,max:4,title:a("3rd Container Items"),inline:!0,default:4,condition:r+"__thirdCountCondition"})),this.addParam(r+"__fourthCount",new s.Param({type:"range",min:1,max:4,title:a("4th Container Items"),inline:!0,default:4,condition:r+"__fourthCountCondition"})),this.addProp(r+"__secondCountCondition",function(){return 1<this._params[r+"__count"]}),this.addProp(r+"__thirdCountCondition",function(){return 2<this._params[r+"__count"]}),this.addProp(r+"__fourthCountCondition",function(){return 3<this._params[r+"__count"]}),this.addProp("suffMD",function(t){var e;return!!t&&(e="3"==t[t.length-1]?"col-md-4":"col-md-6",t.substring(0,t.length-1)+e)}),this.addProp("filterImg",function(t){var e=t.split(" ");if(e.length){for(var t=Number(e[0]),n=Number(e[1]),i=Number(e[e.length-1]),r=2;r<e.length-1;r++)n+=Number(e[r]);return i+=n,n<=t&&t<i}return!1})),this.addParam(r+"__spacing",new s.Param({type:"range",min:0,max:"flex"===o?5:6,title:"Spacing",inline:!0,default:1})),this.addParam(r+"__showBullets",new s.Param({type:"switch",title:a("Show Bullets"),default:!0})),this.addParam(r+"__showText",new s.Param({type:"switch",title:a("Show Text"),default:!1})),"flex"!==o&&(this.addParam(r+"__filter",new s.Param({type:"switch",title:a("Show Tags"),default:!1})),this.addParam("text_all",new s.Param({type:"hidden",default:"All"}).elm(t).protect()),this.addParam(r+"__filtersTextStyle",new s.Param({type:"hidden",default:"display-7"}).elm(t).protect()),this.addParam(r+"__filtersBtnStyle",new s.Param({type:"hidden",default:"btn-primary-outline"}).elm(t).protect())),this.addParam(r,new s.Param({type:"image-tabs",title:e,defaultImg:i+"logo.jpg",_params:function(t,e,n){return n=2<arguments.length&&void 0!==n&&n,e={videoPreview:{default:e+"gallery/preview.jpg"},playVideo:{type:"switch",title:a("Play Video"),default:!1},videoUrl:{type:"text",title:a("Video URL"),condition:[t+".playVideo"],default:"https://www.youtube.com/watch?v=xTvvQ65jWVs"},image:{type:"image",title:a("Image"),condition:["!"+t+".playVideo"]}},n||(e.tags={type:"text",title:a("Tags"),default:a("Awesome image"),condition:[t+"__filter"]}),e}(r,i,"flex"===o),default:function(t){for(var e=[],n=[a("Awesome"),a("Responsive"),a("Creative"),a("Animated"),a("Awesome"),a("Awesome"),a("Responsive"),a("Animated")],i=0;i<8;i++)e.push({tags:n[i],videoPreview:t+"gallery/preview.jpg",playVideo:!1,videoUrl:"https://www.youtube.com/watch?v=fwkKc6M60-0",image:t+"gallery/gallery0"+i+".jpg",thumb:t+"gallery/gallery0"+i+".jpg",alt:"",title:"",customStyle1:"display-7",caption:a("Type caption here"),active:!i});return e}(i)}).elm(t).protect())}),t.on("beforeAppLoad",function(){t.iwindow.rivets.formatters.concatenatio=new t.iwindow.Function("v, v1",'if (!v) if(v != "0") v="";if (!v1) if(v1 != "0") v1= "";return v + " " + v1;')}),s.attr("mbr-gallery",function(t,n,i,e){var r=e+"-show-text",o=e+"-show-bullets",a=e+"-show-filter",s=e+"-spacing",l=e+"-count",c=e+"-first-count",u=e+"-second-count",h=e+"-third-count",d=e+"-fourth-count",f=e+"-flex-vertical";t.html(i?((n.is("["+l+"]")?g:m)+'\x3c!-- Lightbox --\x3e<div data-app-prevent-settings class="mbr-slider modal fade carousel slide" mbr-id="_anchor | pref \'lb-\'" tabindex="-1" data-keyboard="true" data-bs-keyboard="true" data-interval="false" data-bs-interval="false"><div class="modal-dialog"><div class="modal-content"><div class="modal-body"><ol class="carousel-indicators" mbr-if="_params.%paramName%__showBullets"><li data-app-prevent-settings mbr-each-this="_params.%paramName%" mbr-data-target="_anchor | pref \'#lb-\'" mbr-data-bs-target="_anchor | pref \'#lb-\'" mbr-class-active="this.active" mbr-data-slide-to="index" mbr-data-bs-slide-to="index"></li></ol><div class="carousel-inner"><div class="carousel-item" mbr-class-active="this.active" mbr-each-this="_params.%paramName%" mbr-class-video-container="this.playVideo"><img mbr-src="this.image" mbr-alt="this.alt" mbr-title="this.title"></div></div><a class="carousel-control carousel-control-prev" mbr-href="_anchor | pref \'#lb-\'" role="button" data-slide="prev" data-bs-slide="prev"><span class="mbri-left mbr-iconfont" aria-hidden="true"></span><span class="sr-only visually-hidden">Previous</span></a><a class="carousel-control carousel-control-next" mbr-href="_anchor | pref \'#lb-\'" role="button" data-slide="next" data-bs-slide="next"><span class="mbri-right mbr-iconfont" aria-hidden="true"></span><span class="sr-only visually-hidden">Next</span></a><a class="close" href="#" role="button" data-dismiss="modal" data-bs-dismiss="modal"><span class="sr-only visually-hidden">Close</span></a></div></div></div></div>').replace(/%paramName%/g,i):""),this.addProp(i+"__filters",new Function("","var className = this._params."+i+'__filtersBtnStyle; return "<li class=\\"mbr-gallery-filter-all active\\"><a class=\\"btn btn-md " + className + "\\" data-app-btn=\\"true\\" data-app-placeholder=\\"Type Text\\" href>" + this._params.text_all + "</a></li>";')),this.addProp(i+"__onChangeFiltersBtnStyle",function(t,e){e._params[i+"__filtersBtnStyle"]=t.addedClass}),this.addProp(i+"__onChangeFiltersBtnText",function(t,e){t=p(t.target).find(".mbr-gallery-filter-all a").html();e._params.text_all=t}),t.find(".mbr-gallery-filter ul").attr({"mbr-buttons":"","mbr-static-html":i+"__filters","mbr-content-edit":i+"__filters","mbr-class-var":"_params."+i+"__filtersTextStyle","mbr-on-change-button-color":i+"__onChangeFiltersBtnStyle","mbr-on-change-component-node":i+"__onChangeFiltersBtnText"}),this.flow.ignoreChildren(),i&&((e=this.getParam(i+"__flexDirection"))&&e.on("change",function(t,e){e?n.attr(f,""):n.removeAttr(f)}).prop("default",n.is("["+f+"]")),(e=this.getParam(i+"__showText"))&&e.on("change",function(t,e){e?n.attr(r,""):n.removeAttr(r)}).prop("default",n.is("["+r+"]")),(e=this.getParam(i+"__showBullets"))&&e.on("change",function(t,e){e?n.attr(o,""):n.removeAttr(o)}).prop("default",n.is("["+o+"]")),(e=this.getParam(i+"__filter"))&&e.on("change",function(t,e){e?n.attr(a,""):n.removeAttr(a)}).prop("default",n.is("["+a+"]")),(e=this.getParam(i+"__spacing"))&&e.on("change",function(t,e){-1<e?n.attr(s,e):n.removeAttr(s)}).prop("default",parseInt(n.attr(s))||0),(e=this.getParam(i+"__count"))&&e.on("change",function(t,e){0<e?n.attr(l,e):n.removeAttr(l)}).prop("default",parseInt(n.attr(l))||1),(e=this.getParam(i+"__firstCount"))&&e.on("change",function(t,e){0<e?n.attr(c,e):n.removeAttr(c)}).prop("default",parseInt(n.attr(c))||1),(e=this.getParam(i+"__secondCount"))&&e.on("change",function(t,e){0<e?n.attr(u,e):n.removeAttr(u)}).prop("default",parseInt(n.attr(u))||1),(e=this.getParam(i+"__thirdCount"))&&e.on("change",function(t,e){0<e?n.attr(h,e):n.removeAttr(h)}).prop("default",parseInt(n.attr(h))||1),e=this.getParam(i+"__fourthCount"))&&e.on("change",function(t,e){0<e?n.attr(d,e):n.removeAttr(d)}).prop("default",parseInt(n.attr(d))||1)})},["jQuery","mbrApp","TR()"])},function(t,e,n){"use strict";defineM("map",function(t,e,o){var a=e.Arrivo;a.param("input[type=map]",function(n,t,e){var i=n.attr("place-id"),r={address:'<iframe src="https://www.google.com/maps/embed?pb=!1m14!1m8!1m3!1d6045.3003145248895!2d-73.9884657!3d40.7477229!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x89c259a9ac1f1b85%3A0x7e33d1c0e7af3be4!2zMzUwIDV0aCBBdmUsIE5ldyBZb3JrLCBOWSAxMDExOCwg0KHQqNCQ!5e0!3m2!1sru!2sru!4v1689597362021!5m2!1sen!2sen" width="600" height="450" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>'};return i&&i!=r.placeId&&(r.placeId=i,r.address=e),new a.Param({type:"map",title:t||o("Address"),default:r}).elm(n).on("change",function(t,e){n.attr({"place-id":e.address,value:e.address})})}),a.attr("mbr-map",function(t,e,n){n&&t.attr("mbr-map","_params."+n).html(""),this.flow.ignoreChildren()})},["jQuery","mbrApp","TR()"])},function(t,e,n){"use strict";defineM("shop",function(h,d,f){var p,l=d.Arrivo,m='\x3c!-- Shop Gallery --\x3e<div class=" col-md-12 sort-buttons clearfix" mbr-if="_params.%paramName%__showSortButtons"><div class="sort-buttons"><div class="filter-by-d mbr-section-btn item-button" data-app-edit="content" mbr-html="_params.filter_by_d" data-app-edit="buttons" data-toolbar="-mbrBtnExtendedColor,-mbrBtnMove,-mbrBtnRemove,-mbrLink,-mbrBtnAdd,-mbrFonts,-mbrFontSize,-iconFont"></div><div class="filter-by-pu mbr-section-btn" data-app-edit="content" mbr-class-var="this.customStyle7" mbr-html="_params.filter_by_pu" data-app-edit="buttons" data-toolbar="-mbrBtnExtendedColor,-mbrBtnMove,-mbrBtnRemove,-mbrLink,-mbrBtnAdd,-mbrFonts,-mbrFontSize,-iconFont"></div><div class="filter-by-pd mbr-section-btn" data-app-edit="content" mbr-class-var="this.customStyle7" mbr-html="_params.filter_by_pd" data-app-edit="buttons" data-toolbar="-mbrBtnExtendedColor,-mbrBtnMove,-mbrBtnRemove,-mbrLink,-mbrBtnAdd,-mbrFonts,-mbrFontSize,-iconFont"></div></div></div><div class="row mbr-shop__row col-md-12"><div class="wrapper-shop-items" mbr-class-col-md-12="\'true\' | unless _params.%paramName%__showSidebar" mbr-class-col-xl-9="_params.%paramName%__showSidebar" ><div class="mbr-gallery-row"><div mbr-class-col-md-8="articleLayout" mbr-class-offset-md-2="articleLayout"><div class="shop-items"><div class="mbr-gallery-item" mbr-each-this="_params.%paramName%" mbr-data-tags="this.tags" mbr-data-seller="this.bestSeller" mbr-data-slide-to="index" mbr-data-bs-slide-to="index"><div class="item_overlay"></div><div class="galleryItem"><div class="style_overlay"></div><div class="img_wraper"><img mbr-src="this.thumb | else this.image" mbr-alt="this.alt" mbr-title="this.title"></div><span class="onsale mbr-fonts-style" mbr-class-var="this.customStyleSale" data-app-selector=".onsale" mbr-html="this.sale" mbr-data-onsale="this.onSale" mbr-show="this.onSale" mbr-content-edit="this.sale" data-app-edit="content" data-app-placeholder="'+f("Sale")+'"></span><div class="sidebar_wraper"><h4 class="item-title mbr-fonts-style mbr-text" mbr-class-var="this.customStyle5" data-app-selector=".item-title" mbr-html="this.itemTitle" mbr-content-edit="this.itemTitle" data-app-edit="content" data-app-placeholder="'+f("Type Title")+'"></h4><div class="price-block"><span class="shop-item-price mbr-fonts-style" mbr-class-var="this.customStyle5" data-app-selector=".shop-item-price,.price-block" mbr-html="this.itemPrice" mbr-content-edit="this.itemPrice" data-app-edit="content" data-app-placeholder="'+f("Type Price")+'"></span><span class="oldprice mbr-fonts-style" mbr-class-var="this.customStyle7" data-app-selector=".oldprice,.price-block" mbr-html="this.oldPriceValue" mbr-content-edit="this.oldPriceValue" data-app-edit="content" mbr-show="this.oldPrice" data-app-placeholder="'+f("Type Price")+'"></span></div><div class="card-description" mbr-html="this.itemDescription" data-app-edit="full" data-multiline data-app-selector=".card-description" data-app-placeholder="'+f("Type Caption")+'"></div><div class="mbr-section-btn" mbr-buttons mbr-html="this.button" mbr-content-edit="this.button" mbr-class-var="this.customStyle7" mbr-show="_params.%paramName%__showCardButtons"data-app-edit="buttons" data-toolbar="-mbrBtnMove,-mbrBtnAdd,-mbrFonts,-mbrBtnRemove,-mbrFontSize,-iconFont"></div></div></div></div></div></div><div class="clearfix"></div></div></div><div class="col-xl-3 sidebar" mbr-if="_params.%paramName%__showSidebar"><div class="sidebar-background"></div><div class="sidebar-block container bestseller-block" mbr-if="_params.%paramName%__showBestSellers"><h4 data-app-edit="content"class="sidebar-title mbr-fonts-style mbr-text"mbr-class-var="this.customStyle7"data-app-selector=".sidebar-title"mbr-html="_params.sidebar1" mbr-content-edit="_params.sidebar1" data-app-edit="content" data-app-placeholder="'+f("Type Title")+'"></h4><div class="bestsellers col-md-12" onselectstart="return false"><div class="bestsellers-img"></div><div class="bestsellers-title"></div></div></div><div class="sidebar-block container range-slider" mbr-if="_params.%paramName%__showPriceRange"><h4 class="sidebar-title mbr-fonts-style mbr-text"mbr-class-var="this.customStyle7" data-app-selector=".sidebar-title" mbr-html="_params.sidebar2" mbr-content-edit="_params.sidebar2" data-app-edit="content" data-app-placeholder="'+f("Type Title")+'"></h4><div class="filter-cost" onselectstart="return false"><div class="price-controls"><label class="min-price"><input class="min-input" type="text" value="auto" name="min"></label><label class="max-price"><input class="max-input" type="text" value="auto" name="max"></label></div><div class="range-controls"><div class="scale"><div class="bar"></div></div><div class="toggle min-toggle"></div><div class="toggle max-toggle"></div></div></div> <div class="price-range mbr-section-btn" mbr-buttons mbr-static-html="_params.price_range" mbr-content-edit="_params.price_range" mbr-class-var="this.customStyle7" data-app-edit="buttons" data-toolbar="-mbrBtnMove,-mbrLink,-mbrBtnRemove,-mbrFonts,-mbrFontSize,-mbrBtnAdd,-iconFont"></div><div class="price-range-reset mbr-section-btn" mbr-buttons mbr-static-html="_params.price_range_reset" mbr-content-edit="_params.price_range_reset" mbr-class-var="this.customStyle7" data-app-edit="buttons" data-toolbar="-mbrBtnMove,-mbrLink,-mbrBtnRemove,-mbrFonts,-mbrFontSize,-mbrBtnAdd,-iconFont"></div></div><div class="sidebar-block container sidebar-categories" mbr-if="_params.%paramName%__showTags"><h4 class="sidebar-title mbr-fonts-style mbr-text" mbr-class-var="this.customStyle7" data-app-selector=".sidebar-title" mbr-html="_params.sidebar3" mbr-content-edit="_params.sidebar3" data-app-edit="content" data-app-placeholder="'+f("Type Title")+'"></h4><div class="categories col-md-12"><div class="categories-titles">\x3c!-- Filter --\x3e<div class="mbr-gallery-filter mbr-shop-filter container" mbr-class-gallery-filter-active="_params.%paramName%__showTags" mbr-class-gallery-filter><ul><li class="mbr-gallery-filter-all active display-7" mbr-html="_params.text_all" data-app-edit="content"></li> </ul></div></div></div></div></div></div>\x3c!-- Lightbox --\x3e<div class="shopItemsModal_wraper"><div class="shopItemsModalBg"></div><div class="shopItemsModal row"><div class="col-md-6 image-modal"></div><div class="col-md-6 text-modal"></div><div class="closeModal"><div class="close-modal-wrapper"></div></div></div></div>';function g(t){var e;switch(t){case"secondary":e="btn-secondary";break;case"success":e="btn-success";break;case"info":e="btn-info";break;case"warning":e="btn-warning";break;case"danger":e="btn-danger";break;case"white":e="btn-white";break;case"black":e="btn-black";break;default:e="btn-primary"}return e}l.param("input[type=shop]",function(t,e,n){e=e||"Shop";var i=this.getComponentsDir()+"_images/shop/",r=t.attr("name")||this.getUName();this.addParam(r+"__showSidebar",new l.Param({type:"switch",title:f("Show Sidebar"),default:!1}).protect()),this.addParam(r+"__reverseSidebar",new l.Param({type:"switch",title:f("Reverse Sidebar:"),default:!1,condition:[r+"__showSidebar"]}).protect()),this.addParam(r+"__showSortButtons",new l.Param({type:"switch",title:f("Show Sorting Buttons"),default:!1}).protect()),this.addParam(r+"__showBestSellers",new l.Param({type:"switch",title:f("Show Best Sellers"),default:!1,condition:[r+"__showSidebar"]}).protect()),this.addParam(r+"__showPriceRange",new l.Param({type:"switch",title:f("Show Price Range"),default:!1,condition:[r+"__showSidebar"]}).protect()),this.addParam(r+"__showTags",new l.Param({type:"switch",title:f("Show Tags"),default:!0,condition:[r+"__showSidebar"]}).protect()),this.addParam("text_all",new l.Param({type:"hidden",default:"All"}).elm(t).protect()),this.addParam("sidebar1",new l.Param({type:"hidden",default:"Best Sellers"}).elm(t).protect()),this.addParam("sidebar2",new l.Param({type:"hidden",default:"Price Range"}).elm(t).protect()),this.addParam("sidebar3",new l.Param({type:"hidden",default:"Tags"}).elm(t).protect()),this.addParam(r+"__filtersTextStyle",new l.Param({type:"hidden",default:"display-7"}).elm(t).protect()),this.addParam("buttons_default_class",new l.Param({type:"hidden",default:t.attr("buttons")}).elm(t).protect()),this.addParam("filter_by_d",new l.Param({type:"hidden",default:'<a class="btn btn-sm '+g(t.attr("buttons"))+' disableSortButton" href="">'+f("Default sorting")+"</a>"}).elm(t).protect()),this.addParam("filter_by_pu",new l.Param({type:"hidden",default:'<a class="btn btn-sm '+g(t.attr("buttons"))+'-outline disableSortButton" href="">'+f("Price: low to high")+"</a>"}).elm(t).protect()),this.addParam("filter_by_pd",new l.Param({type:"hidden",default:'<a class="btn btn-sm '+g(t.attr("buttons"))+'-outline disableSortButton" href="">'+f("Price: high to low")+"</a>"}).elm(t).protect()),this.addParam(r,new l.Param({type:"image-tabs",title:e,defaultImg:i+"logo.jpg",_params:(e=r,{bestSeller:{type:"switch",title:f("Best Seller"),default:!1},onSale:{type:"switch",title:f("On Sale"),default:!1},oldPrice:{type:"switch",title:f("Old Price"),default:!1},image:{type:"image",title:f("Image")},tags:{type:"text",title:f("Tags"),default:f("Awesome image"),condition:[e+"__showTags"]}}),default:function(t,e){for(var n=[],i=[f("Brown Glasses"),f("Men's Shoes"),f("Blue Backpack"),f("Red Snapback"),f("Black Glasses"),f("Women's Shoes"),f("Pink Backpack"),f("Red Cap")],r=[f("Awesome"),f("Wonderful"),f("Creative"),f("Awesome"),f("Responsive"),f("Creative"),f("Animated"),f("Awesome")],o=g(e._props.default),a=0;a<8;a++){var s=!1,l=!1,c=Math.floor(100*Math.random())+1;2===a&&(l=s=!0),n.push({tags:r[a],bestSeller:!1,onSale:s,oldPrice:l,itemTitle:i[a],itemDescription:f("Casual shoes (contact us for sizing)")+"<br><br><ul><li>"+f("Lightweight textured fabric")+"</li> <li>"+f("Rounded v-neckline")+"</li> <li>"+f("Pom pom trims")+"</li> <li>"+f("Regular fit  true to size")+"</li></ul> <br>"+f("Duis auctor hendrerit nisi, at lacinia ex vulputate quis. Suspendisse convallis iaculis tortor, quis mattis lectus rutrum a.")+"<br><br>"+f("Product code: ")+"<b>385DDF5p</b>",itemPriceTitle:f("From: "),itemPrice:"$"+c,oldPriceValue:"$"+2*c,sale:"-50%",button:'<a data-app-btn="true" class="btn '+o+'" data-app-placeholder="'+f("Type Text")+'" href="https://mobirise.com">'+f("Buy now!")+"</a>",image:t+"shop"+a+".jpg",thumb:t+"shop"+a+".jpg",customStyle5:"display-5",customStyle7:"display-7",customStyleSale:"display-7",customStyleTags:"display-4",caption:f("Type caption here"),active:!a})}return n}(i,this.getParam("buttons_default_class"))}).elm(t).protect())}),l.attr("mbr-shop",function(t,n,c,e){t.html(c?m.replace(/%paramName%/g,c):""),this.addProp(c+"__onChangeFiltersBtnStyle",function(t,e){e._params[c+"__filtersTextStyle"]=t.addedClass}),this.addProp(c+"__onChangeFiltersBtnText",function(t,e){t=h(t.target).html();e._params.text_all=t}),t.find(".mbr-gallery-filter ul").attr({"mbr-buttons":"","mbr-content-edit":c+"__filters","mbr-class-var":"_params."+c+"__filtersTextStyle","mbr-on-change-button-color":c+"__onChangeFiltersBtnStyle","mbr-on-change-component-node":c+"__onChangeFiltersBtnText"}),t.find(".sidebar-title").attr({"mbr-on-change-component-node":c+"__onChangeFiltersText","mbr-on-change-text-color":c+"__onChangeFiltersBtnStyle","mbr-content-edit":c+"__showSidebar","mbr-class-var":"_params."+c+"__filtersTextStyle"}),this.addProp(c+"__onChangeFiltersBtnStyle",function(t,e){e._params[c+"__filtersBtnStyle"]=t.addedClass});var r,i,t=n.is("["+e+"-minimal");function o(t){var e,n,i,r,o=h(t.target).closest(".mbr-gallery-item"),t=h(t.target).closest(".mbr-shop");p=o.index(),t.find(".shopItemsModal_wraper").css("display","flex"),e=(o=o).closest(".mbr-shop").find(".shopItemsModal"),n=o.find(".sidebar_wraper").clone(),i=o.find("img").clone(),r=o.find(".onsale").clone(),u(o.closest(".mbr-shop")),h(e).find(".text-modal").append(n),h(e).find(".image-modal").append(i).append(r),t.find(".shopItemsModal").find("[data-app-btn]").removeClass("note-air-editor","note-editable")}function a(t){var e,n,i,r,o,a,s,l=h(t).closest(".mbr-shop"),t=d.Core.getComponent(h(t).closest(".app-component").attr("data-app-component-id"));e=p,t=t,i=h(n=l).find(".text-modal h4").html(),r=h(n).find(".text-modal .card-description").html(),o=h(n).find(".text-modal .shop-item-price ").html(),a=h(n).find(".image-modal .onsale ").html(),s=h(n).find(".text-modal .oldprice ").html(),n=h(n).find(".text-modal .mbr-section-btn"),(t=t._params[c][e]).itemTitle=i,t.itemDescription=r,t.itemPrice=o,t.sale=a,t.oldPriceValue=s,t.button=function(t){var e=t.find("a").length,r="";return e&&t.find("a").each(function(){var t=h(this).attr("href"),e=h(this).attr("class"),n=h(this).attr("target"),i=h(this).html();r+='<a data-app-btn="true" href="'+t+'" data-app-placeholder="'+f("Type Text")+'" class="'+e+(n?'" target="'+n:"")+'">'+i+"</a>"}),r}(n),h(l).find(".shopItemsModal_wraper").css("display","none"),u(l)}function u(t){t=h(t).find(".shopItemsModal");h(t).children(".text-modal").empty(),h(t).children(".image-modal").empty()}function s(t){function e(t){var r=h(this),e=r.closest("section").find(".mbr-gallery-row"),o=r.html().trim();r.parent().find("li").removeClass("active"),r.addClass("active"),i.find(".mbr-gallery-item:not(.bestsellers .mbr-gallery-item)").each(function(t,e){var n=h(this),i=n.attr("data-tags").split(",").map(function(t){return t.trim()});-1!=h.inArray(o,i)||r.hasClass("mbr-gallery-filter-all")?n.removeClass("mbr-gallery-item__hided"):(n.addClass("mbr-gallery-item__hided"),setTimeout(function(){n.css("left","300px")},200))}),setTimeout(function(){e.closest(".mbr-gallery-row").trigger("filter")},50)}var n,i=d.Core.$template.find("[data-app-component-id="+t+"] .app-component-content").find("section"),t=i.find(".mbr-gallery-filter-all"),r=[];i.find("div.mbr-shop").length&&(i.find(".mbr-gallery-item").each(function(t){(h(this).attr("data-tags")||"").trim().split(",").map(function(t){t=t.trim();-1==h.inArray(t,r)&&r.push(t)})}),0<i.find(".mbr-gallery-filter").length&&i.find(".mbr-gallery-filter").hasClass("gallery-filter-active")?(n="",i.find(".mbr-gallery-filter ul li:not(li:eq(0))").remove(),r.map(function(t){n+='<li class="display-7">'+t+"</li>"}),i.find(".mbr-gallery-filter ul").append(t).append(n),i.find(".mbr-gallery-filter ul li").off("click",e).on("click",e)):(i.find(".mbr-gallery-item__hided").removeClass("mbr-gallery-item__hided"),i.find(".mbr-gallery-row").trigger("filter")))}this.addParam(c+"__minimal",new l.Param({default:t})),t&&(i=this.getParam(c))&&i.prop("default").forEach(function(t){t.customStyleSale="display-4",t.sale="SALE"}),c&&((i=this.getParam(c+"__showSortButtons"))&&i.on("change",function(t,e){e?n.attr("sorting",""):n.removeAttr("sorting")}).prop("default",n.is("[sorting]")),(i=this.getParam(c+"__showSidebar"))&&i.on("change",function(t,e){e?n.attr(c+"__showSidebar",""):n.removeAttr(c+"__showSidebar")}).prop("default",n.is("[show-sidebar]")),(i=this.getParam(c+"__reverseSidebar"))&&i.on("change",function(t,e){e?r.find(".mbr-shop__row").removeClass("flex-row-reverse"):r.find(".mbr-shop__row").addClass("flex-row-reverse")}).prop("default",n.is("[show-sidebar]")),(i=this.getParam(c))&&i.on("change",function(t,e){var n=e.length-1,i=r.find(".mbr-gallery-item").eq(n);!0===e[n].onSale?i.find(".onsale").css("display","block").attr("data-onsale","true"):!1===e[n].onSale&&i.find(".onsale").css("display","none").attr("data-onsale","false"),!0===e[n].oldPrice?i.find(".oldprice").css("display","inline-block").attr("data-onsale","true"):!1===e[n].oldPrice&&i.find(".oldprice").css("display","none").attr("data-onsale","false"),e[n].hasOwnProperty("bestSeller")&&i.attr("mbr-data-seller")&&(r.find(".bestsellers").children().remove(),r.find(".shop-items").children().each(function(){var t;"true"==h(this).attr("data-seller")&&(t=h(this).clone(),r.find(".bestsellers").append(h(t)))}))}),d.Core.on("loadedComponent",function(e,t,n,i){if(s(e._id),r=d.Core.$template.find("[data-app-component-id="+e._id+"] .app-component-content"),!i&&"secondary"===d.theme.type&&e._plugins&&-1!==e._plugins.indexOf("mobirise-shop")&&(r.find(".item_overlay").off("click").on("click",function(t){o(t)}),r.find(".shopItemsModalBg, .close-modal-wrapper").attr("data-onclick")||r.find(".shopItemsModalBg, .close-modal-wrapper").attr("data-onclick","true").on("click",function(t){a(t.target)}),r.find(".bestsellers").html(""),r.find(".mbr-gallery-item").each(function(t){e._params[c][t].bestSeller&&h(this).attr("data-seller")&&(t=h(this).clone(),r.find(".bestsellers").append(h(t)))}),r.find(".mbr-gallery-item .mbr-section-btn").css("display","none")),i){try{n.find("section").attr("data-sortbtn",g(d.Core.getComponent(e._id)._params.buttons_default_class))}catch(t){}n.find(".shopItemsModal_wraper").css("z-index","2500"),n.find(".mbr-gallery-item>div").attr("data-bs-toggle","modal"),n.find(".mbr-gallery-item>div").attr("data-toggle","modal"),n.find(".item-button").css("text-align","center"),n.find(".item-button a").css({position:"relative",display:"inline-block"}),n.find(".bestsellers").children().remove(),n.find(".shop-items").children().each(function(){var t;"true"==h(this).attr("data-seller")&&(t=h(this).clone(),n.find(".bestsellers").append(h(t)))}),n.find(".shop-items .shop-item-price").each(function(){var t=h(this).html().match(/[+\-]?\d+(,\d+)?(\.\d+)?/)[0];h(this).closest(".mbr-gallery-item").attr("data-price",t)}),n.find(".shop-items .oldprice").each(function(){var t=h(this).html().match(/[+\-]?\d+(,\d+)?(\.\d+)?/)[0];h(this).closest(".mbr-gallery-item").attr("data-oldprice",t)}),e._params[c+"__showSortButtons"]?n.find(".sort-buttons").css("display","block"):n.find(".sort-buttons").css("display","none"),e._params[c+"__showSidebar"]&&!e._params[c+"__reverseSidebar"]?n.find(".mbr-shop__row").addClass("flex-row-reverse"):n.find(".mbr-shop__row").removeClass("flex-row-reverse")}}),d.Core.on("addComponentParamsTab",function(t){d.Core.$template.find("[data-app-component-id="+t+"] .app-component-content").find(".item_overlay").last().on("click",function(t){o(t)})}),d.Core.on("changedComponentParams",function(t){s(t)}))})},["jQuery","mbrApp","TR()"])},function(t,e,n){"use strict";defineM("app-pages",function(s,l,c,u){var e=!0;function i(){var t=l.getCurrentPageName(),e=(l.$navbarPageName.html(l.getPages()[t].settings.title||""),s(".navbar-project-info .app-page-url-separator")),n=s(".navbar-project-info .app-page-url");"index.html"===t?(e.hide(),n.html("")):(e.show(),n.html(t))}function h(t){for(var e=t.children().length,n=0;n<e;n++){var i=t.children().eq(n).find("a").attr("data-page");l.currentPageSettings=i,l.changePageSettings("order",n+1)}}function d(){l.$pageSettings.find(".page-settings-chrome-preview").hasClass("chrome-preview-mobile")?l.$pageSettings.find(".chrome-preview-url").text("https://yoursite.com"+("index.html"===l.currentPageSettings?"":" > "+l.currentPageSettings)):l.$pageSettings.find(".chrome-preview-url").text("https://yoursite.com/"+("index.html"===l.currentPageSettings?"":l.currentPageSettings))}var t={init:function(){function t(t){var e,n,i,r,o=l.Core.getPages();for(e in o)o.hasOwnProperty(e)&&o[e].settings.meta_image&&(n=o[e].settings.meta_image,i=(r=u.splitPath(n)).fullname,r=r.ext,t.push({srcList:[{src:n}],dest:l.IMAGES_FOLDER+"/"+i}),t.push({srcList:[{src:n}],dest:l.IMAGES_FOLDER+"/"+e.replace(/.html/gi,"")+"-meta."+r}));return t}l.$pageSettings.on("click","#metaShareImage",function(t){var e;s(t.target).is(":checked")?(e=t.currentTarget,l.Core.resultJSON[l.Core.currentPage].settings.meta_image?s(e).closest(".form-group").find(".social-sharing-on-users").css({display:"none"}):r().then(function(t){l.showMediaImageDialog({image:{width:2e3,quality:70,src:t||""}},n(e),!0)})):(t=t.currentTarget,delete l.Core.resultJSON[l.Core.currentPage].settings.meta_image,s(t).closest(".form-group").find(".social-sharing-on-mobirise").css({display:"none"}).find("img").attr("src",""),s(t).closest(".form-group").find(".social-sharing-on-users").css({display:"block"}))}),l.$pageSettings.on("click","img.social-sharing-on-mobirise__img",function(t){var e={image:{width:2e3,quality:70,src:s(t.currentTarget).attr("src")}};0<=e.image.src.indexOf(l.getAddonDir(l.theme.name).replace("web/",""))&&(e.image.src="../../"+e.image.src),l.showMediaImageDialog(e,n(!1,t.currentTarget),!0)}),l.on("cancelMediaImageDialog",function(t){l.$pageSettings.find(".social-sharing-on-mobirise__img").attr("src")||l.$pageSettings.find("#metaShareImage").trigger("click")}),l.on("closeMediaImageDialog",function(t){l.$pageSettings.find(".social-sharing-on-mobirise__img").attr("src")||l.$pageSettings.find("#metaShareImage").trigger("click")}),l.addFilter("publishHTML",function(t,e){var n=e.settings,i=n.meta_image,i=void 0===i?"":i,n=n.socialSharingUrl,n=void 0===n?"":n;return i?(i='<meta name="twitter:card" content="summary_large_image"/>\n  <meta name="twitter:image:src" content="'+i+'">\n  <meta property="og:image" content="'+i+'">\n  <meta name="twitter:title" content="'+e.settings.title+'">\n  ',t=t.replace('<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1"',i+'<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1"')):n&&(i='<meta name="twitter:card" content="summary_large_image"/>\n  <meta name="twitter:image:src" content="'+n+'">\n  <meta property="og:image" content="'+n+'">\n  <meta name="twitter:title" content="'+e.settings.title+'">\n  ',t=t.replace('<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1"',i+'<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1"')),t}),l.addFilter("publishFiles",t),l.addFilter("exportProjectFiles",t)}};function n(e,n){return function(t){t.image.src?(0<=(t=t.image.src).indexOf(l.path2core(l.getAddonDir(l.theme.name)+"/components"))&&(t=t.replace(/\.\.\//g,"")),l.Core.resultJSON[l.Core.currentPage].settings.meta_image=t,(n?s(n).css({display:"block"}):(s(e).closest(".form-group").find(".social-sharing-on-users").css({display:"none"}),s(e).closest(".form-group").find(".social-sharing-on-mobirise").css({display:"block"}).find("img"))).attr("src",t)):l.$pageSettings.find("#metaShareImage").trigger("click")}}function r(){return new Promise(function(r,t){var e=l.Core.currentPage,e=l.Core.resultJSON[e].components;e.length?e.some(function(t,e,n){var i;return-1!==t._name.search("menu")?e+1===n.length&&(r(),!0):(i=t._id,(i=(i=(l.Core.$template.find("[data-app-component-id="+i+"] section").html().match(/<img[^>]* src=\"([^\"]*)\"[^>]*>/gi)||[]).map(function(t){return t.match(/<img[^>]* src=\"([^\"]*)\"[^>]*>/i)[1]})).map(function(t){return t})).length?(function t(e,n,i,r){e<n&&r(i[e]).catch(function(){t(++e,n,i,r)})}(0,Array.from(new Set(i)).length,Array.from(new Set(i)),function(i){return new Promise(function(t,e){var n=new Image;n.onload=function(){400<=n.width?r(i):e()},n.src=i})}),!0):t._params&&t._params.bg&&"image"===t._params.bg.type?(r(t._params.bg.value),!0):void(n.length-1===e&&r()))}):r()})}l.regExtension({name:"pages",global:{$navbarPageName:s(".app-page-name"),$pagesList:s("#app-pages-list"),$pagesListToggle:s(".pages-block"),currentPageSettings:void 0,$pageSettings:s("#app-page-settings"),pageSettingsInputs:"[data-page-settings]",showPagesList:function(){var e=this;this.$body.hasClass("app-pages-list-open")&&this.$body.hasClass("app-page-settings-open")||(this.fire("showSideBarsSection",this.$pagesList),this.fire("showPagesList"),this.$body.removeClass("app-projects-list-open").addClass("app-sidebar-open app-pages-list-open"),this.fire("showedPagesList"),u.isMobile||s(".search-page-input").focus(),l.$body.on("keyup.escListenerPagesList",function(t){"Escape"!==t.key||e.$body.hasClass("app-page-settings-open")||e.$body.hasClass("modal-open")||(e.hidePagesList(),t.stopPropagation())}))},hidePagesList:function(){(this.$body.hasClass("app-pages-list-open")||this.$body.hasClass("app-page-settings-open"))&&(this.fire("hidePagesList"),this.$body.removeClass("app-pages-list-open app-page-settings-open"),this.fire("hiddenPagesList"),l.$body.off("keyup.escListenerPagesList"),l.$body.off("keyup.escListenerPagesSettings"))},addPage:function(t,e,n,i){var r;if(n||(r=!0,n=(o=this.Core.addPage(t)).name,i=i||o.title),!n)return!1;i=l.escapeHtml(i),this.fire("addPage",n);var o=s(["<li"+(e?' class="main-page"':"")+">",'<a href="javascript:void(0)" class="clearfix">','<span data-tooltipster="bottom"'+(e?"":' title="'+c("Drag Page")+'"')+">"+i+"</span>",'<div class="btn-group">','<button class="btn btn-primary app-page-clone" data-tooltipster="bottom" title="'+c("Clone Page")+'">','<i class="mbr-icon-copy"></i>',"</button>",'<button class="btn btn-info app-page-settings" data-tooltipster="bottom" title="'+c("Page Settings")+'">','<i class="mbr-icon-cog"></i>',"</button>",e?"":'<button class="btn btn-material-red app-page-remove" data-tooltipster="bottom" title="'+c("Remove Page")+'"><i class="mbr-icon-trash"></i></button>','<button class="btn btn-info app-page-ok" data-tooltipster="bottom" title="'+c("OK")+'">','<i class="mbr-icon-check"></i>',"</button>","</div>","</a>","</li>"].join("")),e=(o.find(">a").attr({"data-page":n,"data-title":i}),o=this.applyFilter("addPage",o,n),this.$pagesList.find(".list .sortable-container"));return r?(!t||(i=this.$pagesList.find('.list li > a[data-page="'+t+'"]').parent()).hasClass("main-page")?e.prepend(o):i.after(o),h(e)):o.hasClass("main-page")?e.before(o):e.append(o),this.fire("addedPage",n,arguments),o},switchPage:function(t){var e=s(t).attr("data-page");s(t).attr("data-title");this.fire("switchPage",e),s(t).closest(".list").find("li").children("a").removeClass("active"),s(t).addClass("active"),this.$body.hasClass("app-page-settings-open")&&s(t).find(".app-page-settings").click(),this.Core.switchPage(e).then(function(){l.fire("switchedPage",e)})},removePage:function(t){var e,n=s(t).find("> a").attr("data-page");this.fire("removePage",n),this.Core.removePage(n)&&(s(t).find("[data-toggle=tooltip]").tooltip("destroy"),s(t).find("> a").hasClass("active")&&(e=!(e=s(t).prev()).length&&s(t).is(":first-child")?this.$pagesList.find(".main-page"):e).children("a").click(),s(t).remove(),this.fire("removedPage",n))},showPageSettings:function(t){var e,n,i=this,r=(i.currentPageSettings=t.attr("data-page"),i.fire("showPageSettings"),i.applyFilter("showPageSettings",s.extend(!0,{fileName:i.currentPageSettings},i.Core.getPages()[i.currentPageSettings].settings)));i.$pageSettings.find(i.pageSettingsInputs).each(function(){var t=s(this).attr("data-page-settings");s(this).val(r[t]||"")}),i.pageNameFullEdit=i.applyFilter("pageNameFullEdit",!1),i.pageNameFullEdit||(t=i.$pageSettings.find('[data-page-settings="fileName"]'),e=r.fileName.substr(0,r.fileName.indexOf(".")),n=r.fileName.substr(r.fileName.indexOf(".")+1),(t.parent(".file-name-wrap").length?(t.next().html("."+n),t):t.wrap('<div class="file-name-wrap"></div>').after("<span>."+n+"</span>")).val(e)),i.$body.removeClass("app-projects-list-open").addClass("app-sidebar-open app-page-settings-open"),l.$body.on("keyup.escListenerPagesSettings",function(t){"Escape"!==t.key||i.$body.hasClass("modal-open")||(i.$pageSettings.find(".app-layer-close").trigger("click"),t.stopPropagation())}),i.fire("showedPageSettings")},changePageSettings:function(t,e,n){this.fire("changePageSettings",this.currentPageSettings),e=e.toString().trim(),this.pageNameFullEdit||"fileName"!==t||(e+=this.$pageSettings.find('[data-page-settings="fileName"]').next().html());var i=this.Core.changePageSettings(this.currentPageSettings,t,e);i?(this.$pagesList.find('[data-page="'+this.currentPageSettings.replace('"','\\"')+'"]').attr("data-page",i),this.currentPageSettings=i):"title"===t&&(i=e,(t=this.$pagesList.find('[data-page="'+this.currentPageSettings.replace('"','\\"')+'"]')).attr("data-title",i),n&&s(n.target).closest(".list").length?this.$pageSettings.find('[data-page-settings="title"]').val(i):t.find("span:eq(0)").html(i)),this.fire("changedPageSettings",this.currentPageSettings)},sortPagesByOrder:function(t){var e,n=[];for(e in t)t.hasOwnProperty(e)&&n.push({key:e,value:t[e]});n.sort(function(t,e){return t.value.settings.order-e.value.settings.order});for(var i={},r=n.length,o=0;o<r;o++)i[n[o].key]=n[o].value;return i},getResultPage:function(t){var e=(t=s.extend(!0,{},t)).components;delete t.components,(t=l.Core.cleanJSONPlease(s.extend(!0,{},t))).components=e;for(var n=0;n<e.length;n++)l.Core.isSecondaryComponent(t.components[n])&&(t.components[n]=l.Core.transformSecondaryComponentForProject(t.components[n])),t.components[n]=l.Core.cleanJSONPlease(t.components[n]),delete t.components[n]._anchor,delete t.components[n]._cid;return t},getResultJSON:function(){return l.Core.resultJSON},getPagesList:function(t){return l.Core.getPagesList(t)},getCurrentPageName:function(){return l.Core.currentPage}},events:{load:function(){var r,o=this,e=(l.$pagesList.prepend('\n                    <div class="col-xs-12 search-page-wrap">\n                        <input class="search-page-input form-control" type="text" placeholder="'+c("Search")+'" value="">\n                    </div>\n                '),null);function n(t,e){o.$pagesList.find(".list .sortable-container").sortable("disable");var n=t.find("span:eq(0)"),t=(r=n.html(),t.children("a").addClass("editing"),n.attr("contenteditable",""),e&&"dblclick"===e.type?n.tooltipster("content",c("Edit Title")):n.attr("title",c("Edit Title")),document.createRange()),e=window.getSelection();t.selectNodeContents(n[0]),e.removeAllRanges(),e.addRange(t)}function a(t,e){var n=e.closest("[data-page]");n.removeClass("editing"),e.removeAttr("contenteditable"),n.closest("li").hasClass("main-page")?e.tooltipster("content",null):s(t.relatedTarget).hasClass("app-page-new")||s(t.relatedTarget).attr("data-page")?setTimeout(function(){e.tooltipster("content",c("Drag Page"))},300):e.tooltipster("content",c("Drag Page")),o.$pagesList.find(".list .sortable-container").sortable("enable")}l.$pagesList.find(".search-page-input").on("input",function(t){clearTimeout(e),e=setTimeout(function(){var n=t.target.value.toLowerCase();l.$pagesList.find(".main-page, .sortable-container li").each(function(t,e){e=s(e);e.find("[data-title]").attr("data-title").toLowerCase().includes(n)?e.removeClass("hidden"):e.addClass("hidden")})},100)}),o.$pagesListToggle.on("click",function(t){t.preventDefault(),t.stopPropagation(),o.showPagesList()}),o.$pagesList.on("click",function(t){t.stopPropagation()}),o.$pagesList.on("click",".app-layer-close",function(t){o.hidePagesList()}),o.on("clickBody",function(){o.hidePagesList()}),o.on("sidebarClosed",function(){o.hidePagesList()}),o.$pagesList.on("paste","li > .editing > span:first-child",function(t){t.preventDefault();t=((t.originalEvent||t).clipboardData||window.clipboardData).getData("text/plain");s(this).html(t)}),o.$pagesList.on("click",".app-page-new",function(t){var e=o.addPage();n(e),e.children("a").click()}),o.$pagesList.find(".list").on("click",".app-page-clone",function(){var t=s(this).parents("[data-page]:eq(0)").attr("data-page");t&&(n(t=o.addPage(t)),t.children("a").click())}),o.$pagesList.find(".list").on("click","li > a:not(.active, .app-page-new)",function(t){t.preventDefault(),o.switchPage(this)}),o.$pagesList.find(".list").on("click",".app-page-remove",function(t){t.preventDefault(),t.stopPropagation();var e=s(this).parent().parent().parent()[0],t=s(this).parents("[data-page]:eq(0)").attr("data-page")||"";o.confirmDlg(c("Remove page $page name$?").replace("$page name$"," <strong>"+t+"</strong>"),function(t){t&&o.removePage(e)})}),o.$pagesList.find(".list").on("dblclick","li > a:not(.editing, .app-page-new) > span:first-child",function(t){n(s(this).closest("li"),t)}),o.$pagesList.find(".list").on("blur keydown",".editing [contenteditable]",function(t){var e,n,i=s(this);"focusout"===t.type?(e=i.closest("[data-page]").attr("data-page")||"",n=i.html(),o.currentPageSettings=e,o.changePageSettings("title",n,t),a(t,i)):13===t.which?s(this).trigger("blur"):27===t.which&&(i.html(r),a(t,i))}),o.$pagesList.find(".list").on("click",".app-page-settings",function(t){t.preventDefault(),t.stopPropagation();t=s(this).parent().parent();o.showPageSettings(t)}),o.$pageSettings.on("click",function(t){t.stopPropagation()}),o.$pageSettings.on("click",".app-layer-close",function(t){o.$body.removeClass("app-page-settings-open"),l.$body.off("keyup.escListenerPagesSettings")}),o.on("clickBody",function(){o.$body.removeClass("app-page-settings-open"),l.$body.off("keyup.escListenerPagesSettings")}),o.$pageSettings.on("blur keyup paste",o.pageSettingsInputs,function(){o.changePageSettings(s(this).attr("data-page-settings"),s(this).val()),l.$pageSettings.find(".chrome-preview-title").text(l.Core.getPages()[l.currentPageSettings].settings.title||""),l.$pageSettings.find(".chrome-preview-description").text(l.Core.getPages()[l.currentPageSettings].settings.meta_descr||"")}),l.$pageSettings.on("click",".app-page-settings-chrome-preview-btn",function(){s(this).addClass("active").siblings().removeClass("active"),l.$pageSettings.find(".page-settings-chrome-preview").removeClass("chrome-preview-desktop chrome-preview-mobile").addClass(s(this).hasClass("chrome-preview-desktop-btn")?"chrome-preview-desktop":"chrome-preview-mobile"),l.$pageSettings.find(".page-settings-chrome-preview").hasClass("chrome-preview-mobile")?(l.isAMP()?l.$pageSettings.find(".chrome-preview-amp-icon").show():l.$pageSettings.find(".chrome-preview-amp-icon").hide(),l.$pageSettings.find(".chrome-preview-link").insertBefore(l.$pageSettings.find(".chrome-preview-title"))):(l.$pageSettings.find(".chrome-preview-link").insertAfter(l.$pageSettings.find(".chrome-preview-title")),l.$pageSettings.find(".chrome-preview-amp-icon").hide()),d()}),t.init(),l.$body.find(".navbar-project-info .app-page-name").on("click",function(t){t.preventDefault(),t.stopPropagation(),l.$pageSettings.find(".page-setting-title-wrap").removeClass("selected"),l.openSidebar(),setTimeout(function(){l.$pageSettings.find(".app-layer-cont").scrollTop(0),l.$pagesList.find(".list li > a.active .app-page-settings").click(),l.$pageSettings.find(".page-setting-title-wrap").addClass("selected")},300)})},loadedProject:function(){var n,t,e,i=this.$pagesList.find(".list"),r=(i.html('<li><a href="javascript:void(0)" class="app-page-new"><span><i class="mbr-icon-plus"></i> '+c("Create New Page")+'</span></a></li><div class="sortable-container"></div>'),this.Core.getPages());for(t in r)if(r[t].settings.main){r[t].settings.order=0;break}for(e in r=this.sortPagesByOrder(r)){var o=r[e].settings.main,a=r[e].settings.title,a=this.addPage(null,o,e,a);o&&a.children("a").click()}var s=i.find(".sortable-container"),i=u.isMobile?".m-page-sort":"";s.sortable({axis:"y",containment:"parent",tolerance:"pointer",handle:i,start:function(t,e){n=e.item.index()},stop:function(t,e){e.item.css("left",""),e.item.index()!==n&&h(s)}})},showSideBarsSection:function(){this.hidePagesList()},showedPageSettings:function(){var t=l.projectSettings.favicon||l.findMenuLogo()||("secondary"===l.theme.type?"app/builder/images/logo5.png":"app/builder/images/logo.png");0===t.indexOf("../../")&&(t=t.replace("../../","")),d(),l.Core.getPages()[l.currentPageSettings].settings.main?l.$pageSettings.find(".page-settings-url-info").show():l.$pageSettings.find(".page-settings-url-info").hide(),l.$pageSettings.find(".chrome-preview-favicon").attr("src",t),l.$pageSettings.find(".chrome-preview-title").text(l.Core.getPages()[l.currentPageSettings].settings.title||""),l.$pageSettings.find(".chrome-preview-description").text(l.Core.getPages()[l.currentPageSettings].settings.meta_descr||""),e&&(l.$pageSettings.find(".chrome-preview-mobile-btn").click(),e=!1)},changedPageSettings:function(){d(),l.$pageSettings.find(".chrome-preview-title").text(l.Core.getPages()[l.currentPageSettings].settings.title||""),i()},switchedPage:function(t){var t=l.Core.getPages()[t].settings.meta_image||"",e=l.$pageSettings.find(".social-sharing-on-mobirise"),n=l.$pageSettings.find("#metaShareImage");e.hide(),t?(e.find("img").attr("src",t),e.show(),n.is(":checked")||n.trigger("click")):n.is(":checked")&&n.trigger("click"),i()}}})},["jQuery","mbrApp","TR()","Bridge"])},function(t,e,n){"use strict";var i=n(160),_=(i=i)&&i.__esModule?i:{default:i};n(25);defineM("app-projects",function(m,g,b,v){var y,t={settings:{name:name,currentPage:"index.html",theme:{name:g.DEFAULT_THEME,title:g.DEFAULT_THEME_TITLE}},pages:{"index.html":{settings:{main:!0,title:"Home",meta_descr:"",header_custom:"",footer_custom:"",html_before:""},components:[]}}},w={};function e(){g.$projectName.each(function(t,e){var n,e=m(e),i=e.closest(".navbar-url");i.find(".ext-link").remove(),i.length?g.projectSettings.mbrsite?(e.html(g.escapeHtml(g.getPublicDomain())).addClass("navbar-domain").tooltipster("content",b("Change Site Domain")),(n=m('<span class="ext-link hover-block-arrow pages-show mbr-icon-external-link"></span>')).css({cursor:"pointer","padding-left":"5px"}),n.on("click",function(){g.openUrl(g.getPublicDomain())}),i.append(n),i.find(".app-project-name").toggleClass("hidden",!1)):((n=document.createElement("span")).classList.add("unpublished"),e.html(g.escapeHtml(g.projectSettings.name)),e[0].parentNode.querySelectorAll(".unpublished").length||(i.find(".app-project-name").toggleClass("hidden",v.isMobile),n.style.color="#df555c",n.innerText=b("Unpublished")+" ",n.style.marginRight="5px",n.style.textOverflow="clip",n.style.overflow="visible",n.style.cursor="pointer",e.before(n),n.addEventListener("click",function(){g.runPublishDlg(function(t){return t&&g.clickPublish({nopreview:!0})})}),m(".app-publish").attr("data-old-bg-color",m(".app-publish").css("background-color")),m(".app-publish").attr("data-old-color",m(".app-publish").css("color")),m(".app-publish").css({backgroundColor:"#522a2c",color:"#df555c"}),m(".app-publish .mbr-icon-cloud-upload").css({color:"#df555c"}),m(".app-publish").hover(function(t){m(".app-publish").css({backgroundColor:"#482527"})},function(t){m(".app-publish").css({backgroundColor:"#522a2c"})})),e.removeClass("navbar-domain").tooltipster("content",b("Change Site Name"))):e.html(g.escapeHtml(g.projectSettings.name))})}function f(t){return g.escapeHtml(t)}function i(e,n){function i(t){0!==m(t.target).parents(".app-layer, .modal").length||m(t.target).is("body, .app-layer, .modal, ul, li")||r(e,i,!0,n)}e.addClass("app-layer-open"),m("body").on("click",i),m("button.app-components-toggle").on("click",i),e.find(".app-layer-close").click(function(){r(e,i,!0,n)})}function r(t,e,n,i){var r,o=m(".app-layer-item-opened");o.length?(o.removeClass("app-layer-item-opened"),o.one("transitionend",function(){t.removeClass("app-layer-open"),t.one("transitionend",function(){t.remove(),m(".app-layer-item").remove(),n||(g.openSidebar(),g.$projectsListToggle.click())})})):(t.removeClass("app-layer-open"),t.one("transitionend",function(){t.remove(),m(".app-layer-item").remove(),n||(g.openSidebar(),g.$projectsListToggle.click()),g.$projectsListToggle.click()})),o=i,i=m(".app-layer-item").find("input:not(.fakeinput), select"),r={},i.each(function(t,e){e.name&&"checkbox"==e.type?r[e.name]=g.projectSettings[e.name]||e.checked||!1:e.name&&(r[e.name]=e.value||g.projectSettings[e.name]||!1)}),g.changeProjectSettings(o,r),m("body").off("click",e),m("button.app-components-toggle").off("click",e),g.$body.off("keyup.escListenerSidebarProjectSettings")}g.regExtension({name:"projects",global:{$projectsListToggle:m(".projects-block"),lazyObserver:null,projectPath:void 0,projectSettings:{},$projectName:m(".app-project-name"),getDefaultProject:function(e){var n=this;v.getLocalJSON(g.getAddonDir(g.DEFAULT_THEME)+"/default-project.json",function(t){(t=t||{}).settings=t.settings||{},t.settings.theme=t.settings.theme||{},t.settings.theme.name=g.DEFAULT_THEME,t.settings.theme.title=g.DEFAULT_THEME_TITLE,t=n.applyFilter("loadRecentProjectDefault",t),console.warn("Used default project"),e(t)})},getRecentProject:function(e,n){var i;function r(e){e?v.getLocalJSON(e.path+"/project.mobirise",function(t){t?(t.settings=m.extend({},t.settings,e),i(null,t,e.path)):v.isExistsLocal(e.path,function(t){t?i(null,0,e.path):(console.warn("Recent(last) project folder is not exists! ("+e.path+")"),i(null))})}):i(null)}e&&(i=function(){var t=Array.prototype.slice.call(arguments,n?0:1);e.apply(null,t)},v.initPath?r({path:v.initPath.replace("/project.mobirise","")}):v.getRecentsList(function(t,e){if(t)return i(t);t=e&&e[0];t&&t.path?r(t):r()},!0))},loadRecentProject:function(e){var n=this;function i(t){e&&e()}n.getRecentProject(function(t,e){e?(n.fire("loadRecentProject"),n.loadProject(e,t,{noSave:!0,onError:function(){n.createProject("My Site",0,0,i)},onDone:function(){n.fire("loadedRecentProject",e),i()}})):n.createProject("My Site",0,0,i)})},loadProject:function(t,n,i){var r,o,a=this;function s(t){t?(console.error(t),i.onError(t)):(i.onSuccess(),i.onDone())}(i=i||{}).onError=i.onError||function(){},i.onSuccess=i.onSuccess||function(){},i.onDone=i.onDone||function(){},o=t.endsWith(".mobirise")?(r=t).replace(/\/[^\/]+\.mobirise$/,""):(r=t+"/project.mobirise",t),(n?m.Deferred().resolve(n):_.default.getLocalJSON(r)).then(function(t){return t?m.Deferred().resolve(t):m.Deferred().reject(b("Empty project"))}).then(function(e){var n=m.Deferred();return v.getRecentSettings(o,function(t){e.settings=m.extend({},t,e.settings,{path:t.path||o}),n.resolve(e)}),n}).then(0,function(t){a.fire("projectError",o,t);t=m.Deferred();return t.reject(),t}).then(function(t){return n=t}).then(function(t){var e=a.calcProjectTheme(n);return a.requestTheme(e&&e.name,e&&e.title)}).fail(function(t){console.error(t)}).then(function(t){if(a.fire("loadProject",n,o),!t)return _.default.addRecent({path:o,name:n.name}).then(function(t){if(!i.noSave)return _.default.saveLocalFile(r,JSON.stringify(n))}).then(function(t){i.onSuccess(),v.reload()}).fail(function(t){console.error("Unexpected project save error"),i.onError(b("Unexpected project save error"))}),m.Deferred().reject();var e,t=a.applyFilter("loadingProject",m.extend(!0,{},n),o),t=a.substProject(t,o);e=t,a.projectSettings=m.extend({},e.settings),a.projectPath=o,a.resetUniqNum(!0),a.applyFilter("loadProjectCore",m.Deferred().resolve(),e,o).then(function(){a.fire("loadProjectCore",e,o),a.Core.loadProject(e).always(function(){var t;a.fire("loadedProject",e,o),i.noSave?(t={path:o,name:a.projectSettings.name},a.projectSettings.screenshot&&(t.screenshot=a.projectSettings.screenshot),_.default.addRecent(t).then(function(t){return s()})):a.runSaveProject(function(t){t?s():s(b("Unable to save loaded project"))},!0)})})})},substProject:function(e,n){var t=g.getAddonDir(e.settings&&e.settings.theme&&e.settings.theme.name||g.DEFAULT_THEME),i=(i=JSON.stringify(e)).replace(/@PROJECT_PATH@(\/project\.mobirise)+/g,"@PROJECT_PATH@");i=(i=(i=n?(i=(i=i.replace(/\@PROJECT_PATH\@/g,n)).replace(/\{PROJECT_IMAGES\}/g,n+"/assets/images/")).replace(/https?:\/\/proxy\.electricblaze\.com\/\S*"/gi,function(t){var e=decodeURIComponent(new URL(t)).split("/").pop().split("?")[0];return e?n+"/assets/images/"+e+'.jpeg\\"':t}):i).replace(/\@ADDONS_PATH\@/g,g.getAddonsDir())).replace(/@THEME_PATH@/g,g.path2core(t));try{i=JSON.parse(i)}catch(t){console.error(error),i=e}return i},createProject:function(o,n,a,s){var l=this,c=(o=o||l.projectSettings.name,g.getAddonDir(a.presetSourceTheme));l.fire("createProject",o),v.initProject(function(i,r){function e(){n=n||m.extend(!0,{},t),n=l.applyFilter("createProject",n,n.settings.name,r.path),l.applyFilter("promiseDefaultProject",Promise.resolve(n),r.path,a).then(function(t){if(t.settings=m.extend({},t.settings,r),t.settings.theme=m.extend({},t.settings.theme,a),a&&a.nameSelectPreset){var e=g.isBuildInAddon(a.name)?g.path2core(c+"/projects/"+a.nameSelectPreset):c+"/projects/"+a.nameSelectPreset,n=(n=JSON.stringify(t)).replace(/\@PROJECT_PATH\@/g,e);try{t=JSON.parse(n)}catch(t){console.error(i),n=rowProject}}t.settings.name=l.applyFilter("createProjectName",f(o)),l.loadProject(r.path,t,{onSuccess:function(){l.fire("createdProject",o)},onError:function(t){s&&s(t),g.hidePreloader()},onDone:function(){s&&s(),g.hidePreloader()}})})}!i&&r&&r.path?n||a?e():l.getDefaultProject(function(t){n=t,e()}):(console.error("Error init project folder"),s&&s(i))},o)},saveProjectFiles:function(e,t,n){var i;try{i=this.prepareProjectText()}catch(t){console.error(t)}i?v.saveLocalFile(e+"/project.mobirise",i,function(t){n(t&&e)}):(console.error("Wrong project compilation"),n(!1))},waiting:0,running:0,runSaveProject:function(t,e){function i(t){var e=g.running.callbacks;if(e){for(var n=0;n<e.length;n++)if(e[n])try{e[n](t)}catch(t){console.error("SaveProject callback error: "+t.message,t)}g.running=0}}g.projectPath?(g.waiting=g.waiting||{timeout:0,callbacks:[],screenshot:!1},g.waiting.screenshot=g.waiting.screenshot||!e,t&&g.waiting.callbacks.push(t),g.running||function n(){g.waiting&&(g.waiting.timeout&&clearTimeout(g.waiting.timeout),g.waiting.timeout=setTimeout(function(){var e;g.running?setTimeout(n,1):(g.running=g.waiting,g.waiting=0,g.projectPath?(e=setTimeout(function(){e=0,console.error("Error: SaveProject timeout expired. Next run will be forced."),i(!1),g.waiting&&n()},3e3),g._saveProject(function(t){e&&(clearTimeout(e),i(t)),g.waiting&&n()},!g.running.screenshot)):(console.error("Critical error: projectPath is unexpectedly empty, while saveProject"),i(!1)))},g.waiting.callbacks.length?100:1e3))}()):(console.warn("projectPath is unexpectly empty, while saveProject"),t&&t(!1))},_saveProject:function(n,i){var r=this,o=r.projectSettings.name,a=r.projectPath;n=n||function(){},r.fire("saveProject",o,a),r.saveProjectFiles(a,!i,function(t,e){t?(t={name:o,path:a},!i&&e?t.screenshot=e:r.projectSettings.screenshot&&(t.screenshot=r.projectSettings.screenshot),g.projectSettings.mbrsite&&(t.mbrsite=g.projectSettings.mbrsite),v.addRecent(t,function(t){t||g.showError(b("Error update recents list.")),n(!0),r.fire("savedProject",o,a)})):(console.error("Error to save project to "+a),g.criticalError(b("Error to save project file. Close application and run again."),"project_not_save"),n(!1))})},IMAGES_FOLDER:"assets/images",getProjectImagesDir:function(){return this.projectPath+"/"+this.IMAGES_FOLDER},addImageToAssets:function(t){var e=jQuery.Deferred();return t&&0!=t.indexOf(g.getAddonDir(g.theme.name))&&0!=t.indexOf(v.base)&&0!=t.indexOf("web/")?v.saveFileUnique(t,this.getProjectImagesDir(),e.resolve):e.resolve(t),e.promise()},addImageFromUrlToAssets:function(t){var e=this,n=jQuery.Deferred();function i(t){t?v.saveFileUnique(t,e.getProjectImagesDir(),n.resolve):n.resolve(!1)}return v.download2(t,function(t){var e,n;t?"jpg"==(e=v.splitPath(t)).ext?i(t):(n=e.dir+e.name+".jpg",v.moveLocal(t,n,function(t){return i(t&&n)})):i(!1)}),n.promise()},importProject:function(t,n){var i=this;function e(e){i.runSaveProject(function(t){t||console.error("Error: unable to save current project"),i.loadProject(e,0,{onError:function(t){g.showError("Error while import project: "+t),n&&n()},onSuccess:function(){i.fire("importedProject",e)},onDone:function(){i.showProjectsList(),n&&n()}})},!1)}i.fire("importProject"),t?e(t):v.runFileDialog(b("Open Site"),"",v.appName+" (project.mobirise)",function(t){t&&e(t.replace(/project\.mobirise$/,""))})},removeProject:function(e,n){var i=this;e=e.substring(0,e.lastIndexOf("/")),i.applyFilter("removeProject",m.Deferred().resolve(),e).then(function(){i.fire("removeProject",e),v.rmRecent(e,function(t){t?(i.fire("removedProject",e),n&&n(!0)):n(!1)})})},changeProjectSettings:function(e,n){e=e.substring(0,e.lastIndexOf("/")),this.fire("changeProjectSettings",e,n),n=this.applyFilter("changeProjectSettings",n,e),this.projectSettings=m.extend({},this.projectSettings,n);var t={path:g.projectSettings.path,name:g.projectSettings.name};g.projectSettings.screenshot&&(t.screenshot=g.projectSettings.screenshot),g.projectSettings.mbrsite&&(t.mbrsite=g.projectSettings.mbrsite),v.changeRecentSettings(e,t,function(t){g.fire("changedProjectSettings",e,n)})},saveProjectSettings:function(t,e,n){v.changeRecentSettings(t,e)},showProjectsList:function(){var d;g.$body.hasClass("app-projects-list-open")||(d=this,v.getRecentsList(function(t){d.fire("showProjectsList");for(var e=t.filter(function(t){return!t.mbrsite}),n=t.length-1;0<=n;n--)t[n].hasOwnProperty("mbrsite")&&e.unshift(t[n]);t=e;var i,r='<div class="col-xs-12">\n                            <div class="app-new-project project-element-panel">\n                                <div class="project-img">\n                                    <i class="mbr-icon-plus"></i>\n                                </div>\n                                <div class="project-body">\n                                    <h3 class="project-body">'+b("Create New Site")+'</h3>\n                                </div>\n                                \x3c!-- <div class="project-body app-import-project" data-tooltipster="bottom" title="'+b("Open Mobirise site (project.mobirise) not listed here.")+'">\n                                    <span class="app-import-project-or">'+b("or")+'</span>\n                                    <span class="app-import-project-label">'+b("Import Mobirise Site")+"</span>\n                                </div> --\x3e\n                            </div>\n                        </div>",r=g.applyFilter("showProjectsListStart",r);for(i in t){var o,a,s,l,c,u,h=t[i].path;h&&(o=h+"/project.mobirise",a=t[i].name||t[i].title||t[i].id,s=t[i].domains.filter(function(t){return"Deployed"===t.status.name}).pop(),l=t[i].screenshot?h+"/"+t[i].screenshot+"?nocache="+ +new Date:"",c=d.projectPath===h,u=g.hasThemeSettings(g.theme.params),r+=d.applyFilter("showProjectsListEach",'<div class="project-element col-xs-12" data-url="'+o+'" data-path="'+v.url2sys(o)+'" data-id="'+t[i].id+'" data-name="'+f(a)+'">\n                                <div class="project-element-panel '+(c?"active":"")+'">\n                                    <div class="project-img">\n                                        <picture>\n                                            '+(l?'<source srcset="'+l+'"/>':"")+"\n                                            "+(g.getProjectFavicon()&&g.projectSettings.id===t[i].id?'<source srcset="'+g.getProjectFavicon()+'"/>':"")+'\n                                            <source srcset="'+t[i].resourcesUrl+'assets/images/logo.png" type="image/png" />\n                                            <img src="assets/mobi-image-icon.svg" />\n                                        </picture>\n                                    </div>\n                                    <div class="project-body">\n                                        <h3 class="project-label project-name text-primary">'+f(a)+'</h3>\n                                        <h3 class="project-label project-domain text-primary">https://'+s.name+'/</h3>\n                                    </div>\n                                    <div class="btn-group">\n                                        \x3c!-- <span class="app-project-clone btn btn-primary" data-tooltipster="bottom" title="'+b("Clone Site")+'">\n                                            <i class="mbr-icon-copy"></i>\n                                        </span> --\x3e\n                                        '+(c&&u?'<span class="app-project-styles btn btn-info" data-tooltipster="bottom" title="'+b("Edit Site Styles")+'">\n                                            <i class="mbr-icon-paint-brush"></i>\n                                        </span>':"")+"\n                                        "+(c?'<span class="app-project-settings btn btn-info" data-tooltipster="bottom" title="'+b("Site Settings")+'">\n                                            <i class="mbr-icon-cog"></i>\n                                        </span>':"")+'\n                                        <span class="app-project-remove btn btn-material-red" data-tooltipster="bottom" title=" '+b("Remove Site")+'">\n                                            <i class="mbr-icon-trash"></i>\n                                        </span>\n                                    </div>\n                                </div>\n                            </div>',h,t[i]))}r=g.applyFilter("showProjectsList",r),d.fire("showSideBarsSection"),g.showDialog({title:b("Sites"),className:"show-site-list-modal",body:'<div class="row form-group">\n                                <div class="col-md-4 col-sm-6 col-xs-12">\n                                    <input class="search-site-input form-control" type="text" placeholder="'+b("Search")+'" value="">\n                                </div>\n                            </div>\n                            <div class="row">\n                                <div class="col-md-12">\n                                    <div class="site-list">\n                                        '+r+"\n                                    </div>\n                                </div>\n                            </div>",show:function(t){var e=null,n=t.find(".project-element"),i=m('<div class="create-site-counter"><span style="padding:10px;color:#fff"></span></div>');t.find(".app-new-project").append(i),t.find(".search-site-input").on("input",function(t){clearTimeout(e),e=setTimeout(function(){var r=t.target.value.toLowerCase();n.each(function(t,e){var e=m(e),n=e.find(".project-name").text().toLowerCase(),i=e.find(".project-domain").text().toLowerCase();n.includes(r)||i.includes(r)?e.removeClass("hidden"):e.addClass("hidden")})},100)}),t.find(".site-list").on("click",".project-domain",function(e){e.stopPropagation();var n=m(e.target).closest(".project-element").attr("data-id");g.Site.get("sites/"+n+"/files/").then(function(t){if(!t)throw new Error("Something went wrong");t.contents.includes("index.html")?(t=e.target.textContent,g.openUrl(t)):g.projectSettings.id.toString()===n.toString()?g.showDialog({id:"published-current-site-error",body:""+b("This site isnt published yet. Publish now?"),success:function(){m(".app-publish a").click()},cancel:function(){var t=document.createElement("div");e.target.parentNode.append(t),t.append(e.target),m(t).css({backgroundColor:"#df555c",color:"#ffffff",borderRadius:"50px",width:"max-content",textAlign:"center",marginTop:"5px"}),e.target.innerText="Unpublished",e.target.style.color="#ffffff",e.target.style.margin="0",e.target.style.lineHeight="1",e.target.style.textAlign="center",e.target.style.boxSizing="border-box",e.target.style.padding="5px 10px",e.target.style.display="inline",e.target.style.textDecoration="none"}}):g.showDialog({id:"published-site-error",body:""+b("This site isnt published yet. Open this project?"),success:function(){m(e.target).closest(".project-element-panel").click()},cancel:function(){e.target.innerHTML="Unpublished",e.target.style.color="#df555c"}})}).catch(function(t){g.showDialog({id:"published-site-error",body:""+b("This site isnt published yet. Open this project?"),success:function(){m(e.target).closest(".project-element-panel").click()},cancel:function(){e.target.innerHTML="Unpublished",e.target.style.color="#df555c"}}),console.log(t)})}),t.find(".site-list").on("click",".project-element > .project-element-panel:not(.active)",function(t){var e,n;m(t.target).hasClass(".btn")||m(t.target).closest(".btn").length||(t.preventDefault(),t.stopPropagation(),t=m(this).parent().attr("data-url"),e=m(this).parent().attr("data-path")||t,n=m(this).find(".project-name").text(),d.openProjectFromList(t,e,n))}),t.on("click",".app-project-styles",function(t){d.closeSidebar(),d.openThemeSettings()}),t.on("click",".app-project-settings",function(t){t.preventDefault();t=m(this).parents("[data-url]:eq(0)").attr("data-url")||"";d.openProjectSettings(t)}),t.on("click",".app-project-remove",function(t){t.preventDefault(),t.stopPropagation();var e=m(this),n=e.parents("[data-url]:eq(0)").attr("data-url"),i=e.parents("[data-path]:eq(0)").attr("data-path")||n,i=e.parents("[data-name]:eq(0)").attr("data-name")||i;e.tooltip("destroy"),d.projectRemove(n,i,t)}),t.on("click",".app-new-project",function(t){t.target.classList.contains("disabled")||(t.preventDefault(),d.newProject())}),t.on("click",".modal-header .close",function(){g.hideProjectsList()}),t.on("hidden.bs.modal",function(){g.hideProjectsList()}),t.find("picture img").each(function(t,e){m(e).on("error",function(t){e.parentNode.querySelector("source").remove()})}),d.$body.addClass("app-sidebar-open app-projects-list-open"),d.fire("showedProjectsList",t)}})}))},hideProjectsList:function(){this.$body.hasClass("app-projects-list-open")&&(this.fire("hideProjectsList"),this.$body.removeClass("app-projects-list-open").find(".show-site-list-modal").modal("hide"),this.fire("hiddenProjectsList"))},makeScreenshot:function(e){var n=this,t=(n.fire("makeScreenshot"),n.appElements.iframe.width),i=n.appElements.iframe.height,r=(n.appElements.window.width-t)/2,o=n.appElements.window.height-i,a=Math.min(t,800),s=a*i/t,l=m("body > *:not(.app-navbar, .app-template, script, link)"),c=(l.addClass("hidden-interface"),g.Core.$body.is(".rounded-canvas")||g.Core.$body.css("padding","0"),g.Core.$template.find(".app-component > .app-component-menu").css("display","none"),new Date),c=v.tempLocation+"/screen"+c.getFullYear()+c.getMonth()+c.getDay()+"_"+c.getHours()+c.getMinutes()+c.getSeconds()+".jpg";v.getScreen(function(t){l.removeClass("hidden-interface"),g.Core.$body.css("padding",""),g.Core.$template.find(".app-component > .app-component-menu").css("display",""),e&&e(t),n.fire("makedScreenshot",t)},c,[a,s],[r,o,t,i])},showPresets:function(o,a){return new Promise(function(r,t){var e,i,n;(e=(e=o).map(function(t){if(t)return function(t){var e,n,i,r,o=t.presetsList,a=[],s=void 0;for(n in s=t.local?(e=g.getAddonDir(t.themeName),v.path2app(e)):"https://my.mobirise.com/data/upload/thumbs/"+t.themeName,o)o.hasOwnProperty(n)&&a.push((r=o[i=n],'<div class="column column-preset col-xs-6 col-sm-4 col-md-4 col-lg-3" data-local=\''+t.local+"' data-theme='"+t.themeName+"' data-theme-title='"+t.themeTitle+"' namepreset=\""+i+'" data-titlepreset="'+r.title+'">\n                                                <div class="column-content">\n                                                    <div class="wrapper-img">\n                                                        <div class="theme-type-tag">'+t.themeTitle+'</div>\n                                                        <img data-src="'+s+"/projects/"+i+'/cover.jpg" src="'+g.core2path("images/imageplaceholder.jpg")+'">\n                                                    </div>\n                                                    <div class="wrapper-name">\n                                                        <span>'+r.title+"</span>\n                                                    </div>\n                                                </div>\n                                            </div>"));return a}(t).join("")})).unshift("\n                            <div class=\"column column-preset col-xs-6 col-sm-4 col-md-4 col-lg-3\" data-local='true' data-theme='"+g.DEFAULT_THEME+"' data-theme-title='"+g.DEFAULT_THEME_TITLE+'\'>\n                                <div class="column-content">\n                                    <div class="wrapper-icon">\n                                        <i class="mbr-icon-file" style="font-size: 10rem;"></i>\n                                    </div>\n                                    <div class="wrapper-name">\n                                        <span>Add Blank Page</span>\n                                    </div>\n                                </div>\n                            </div>\n                            <div class="column column-preset col-xs-6 col-sm-4 col-md-4 col-lg-3">\n                                <div class="column-content ai-preset">\n                                    <div class="ai-counter" style="position:absolute;background-color:#40b0bf;right:5px;top:5px;border-radius:50px;text-align:center;">\n                                        <span style="padding:10px;color:#fff;">$STATUS$</span>\n                                    </div>\n                                    <div class="wrapper-icon">\n                                        <i class="mbr-icon-sparkles" style="font-size: 10rem;"></i>\n                                    </div>\n                                    <div class="wrapper-name">\n                                        <span>'+b("Create with Mobirise AI")+"</span>\n                                    </div>\n                                </div>\n                            </div>\n                        "),e='<div class="site-create-presets-list main-wrapper">\n                                        <div class="columns row">\n                                            <div class="columns-presets">\n                                                '+e.join("\n")+"\n                                            </div>\n                                        </div>\n                                </div>",e=g.getAiSitesCount(e),m("#presets").append(e),m(".column-preset").each(function(t,i){m(i).on("click",function(){var t,e,n;"false"===m(i).attr("data-local")?(t=m(i),t=t,e="",n=g.getUserInfo(),t.attr("data-theme"),t=t.attr("data-theme"),n&&n.email&&(e=n.email),g.confirmDlg({message:b("The $extension$ theme isn't available for your account").replace("$extension$",t?"<strong>"+t+"</strong>":"")+(e?" "+e+"<br>":".<br>"),buttons:{cancel:{label:b("Cancel"),className:"btn-default"},confirm:{label:b("Upgrade"),className:"btn-primary"}},callback:function(t){t&&(g.goToBuyPremium({alert:!1}),gtag("event","ai_upgrade_click",{event_category:"engagement",dom_source:"new_preset"}))}})):m(this).find(".ai-preset").length?g.checkAiLimits().then(function(t){t&&g.newAiProjectModal()}):((n={}).title=m(i).attr("data-theme-title"),n.name=m(i).attr("data-theme"),n.titlePreset=m(i).attr("data-titlepreset"),n.nameSelectPreset=m(i).attr("namepreset"),n.presetSourceTheme=m(i).attr("data-theme"),g.showPreloader(),r(n))})}),m(e).find(".column-options").on("click",".column-option",function(){m(this).hasClass("plus")?(presets.modal("hide"),r(void 0)):m(this).hasClass("features")&&(g.showAddonsList(),presets.modal("hide"),t())}),i=m(e).find(".columns-presets > .column-preset"),n=g.stopIfRepeatDecorator(function(t){var n=t.target.value.toLowerCase();i.each(function(t,e){e=m(e);e.attr("data-titlepreset").toLowerCase().includes(n)?e.removeClass("hidden"):e.addClass("hidden")})},100),m(e).find(".search-preset-input").on("input",function(t){n(t)}),a()})},replaceVisibleDataSrc:function(t){g.lazyObserver||(g.lazyObserver=new IntersectionObserver(function(t,n){t.forEach(function(t){var e;t.isIntersecting&&((e=m(t.target)).attr("src",e.data("src")),e.removeAttr("data-src"),n.unobserve(t.target))})},{root:null,rootMargin:"0px 0px 200px 0px",threshold:.01})),t.each(function(t,e){m(e).attr("data-src")&&g.lazyObserver.observe(e)})},newProject:function(){var f,p=this;y||(y=!0,f=g.showDialog({title:b("Create New Site"),className:"create-site-modal presets-site-project modal-fs",body:['<div class="row">','<div class="col-md-12">','<form class="project-create-form">','<div class="form-group row clearfix">','<label class="col-md-3 control-label" for="site-create-name">'+b("Site Name")+"</label>",'<div class="col-md-9">','<input id="site-create-name" name="name" type="text" placeholder="'+b("Type the name of your new site")+'" value="Site-'+v.dateFormat(new Date,"MM-dd_hhmm")+'" class="form-control">',"</div>","</div>",'<div class="form-group row clearfix">','<div class="col-md-8 col-sm-6">','<ul class="nav nav-tabs" style="margin-top:2px" role="tablist">','<li role="presentation" class="active"><a href="#presets" aria-controls="presets" role="tab" data-toggle="tab">'+b("Page Templates")+"</a></li>",'<li role="presentation"><a href="#theme" aria-controls="theme" role="tab" data-toggle="tab">'+b("Themes")+"</a></li>","</ul>","</div>",'<div class="col-md-4 col-sm-6">','<input id="filter-themes" style="height:100%;" name="name" type="text" placeholder="'+b("Search")+'" value="" class="form-control">',"</div>","</div>",'<div class="form-group row clearfix">',"\x3c!-- Tab panes --\x3e",'<div class="col-md-12 tab-content">','<div role="tabpanel" class="tab-pane active" id="presets">','<div class="site-create__preloader-wrapper">',b("No templates matched your search"),"</div>","</div>",'<div role="tabpanel" class="tab-pane" id="theme">','<div class="site-create-themes-list">','<div class="site-create__preloader-wrapper">',b("No themes matched your search"),"</div>","</div>","</div>","</div>","</div>","</form>","</div>","</div>"].join("\n")}),m(f).on("shown.bs.modal",function(){m(".site-create__preloader-wrapper").hide(),g.showPreloader();var d="";p.getThemeAddonsEx(function(t){var e=t.reduce(function(t,e){return"archive"===e.status&&t.push(e.name),t},[]),n=t.filter(function(t){return!e.includes(t.name)}),t=t.filter(function(e){return!n.some(function(t){return t.name===e.name})&&"archive"!==e.status&&"teaser-48"!==e.name}),i=(n=(n=n.filter(function(t){return"teaser-48"!=t.name})).concat(t),new AbortController),r=i.signal;function o(t){"Escape"===t.key&&(i.abort(),m(f).modal("hide"),g.hidePreloader(),g.$body.off("keydown",o))}g.$body.on("keydown",o);var t=Promise.all(n.map(function(i){return new Promise(function(n){var t;i.installed&&i.paid&&!i.expired||i.name===p.DEFAULT_THEME?(t=g.getAddonDir(i.name)+"/projects/list.json",v.getLocalJSON(t,function(t){r.aborted?n(null):n(t?{themeName:i.name,themeTitle:i.title,presetsList:t,local:!0}:null)})):w[i.name]?r.aborted?n(null):n({themeName:i.name,themeTitle:i.title,presetsList:w[i.name],local:!1}):v.http("https://my.mobirise.com/data/upload/thumbs/"+i.name+"/projects/list.json",{withCredentials:!1,signal:r,success:function(t){if(r.aborted)n(null);else try{var e=JSON.parse(t);w[i.name]=e,n({themeName:i.name,themeTitle:i.title,presetsList:e,local:!1})}catch(t){console.log("No presets in "+i.name+" theme."),n(null)}},error:function(t){console.log(t),n(null)}})})})),a=m(".project-create-form #site-create-name").val(),s=m(f).find(".site-create-themes-list img"),l=m(f).find(".site-create-presets-list img"),t=(t.then(function(t){if(!r.aborted)return g.hidePreloader(),g.$body.off("keydown",o),g.showPresets(t.reduce(function(t,e){return e&&(e.themeName===g.DEFAULT_THEME||"startm5"===e.themeName?t.unshift(e):t.push(e)),t},[]),function(){m(f).data("bs.modal").handleUpdate(),v.isMobile||m("#filter-themes").focus(),"theme"===m(f).find('li[role="presentation"].active a').attr("aria-controls")?(m(s).length||(s=m(f).find(".site-create-themes-list img")),g.replaceVisibleDataSrc(s)):(m(l).length||(l=m(f).find(".site-create-presets-list img")),g.replaceVisibleDataSrc(l))})}).then(function(i){r.aborted||_.default.getSettings("dontShowCreateSiteModal").then(function(t){function e(){g.closeSidebar(),f.modal("hide"),p.runSaveProject(function(t){t||console.error("Error: unable to save current project"),p.createProject(a,0,i,function(t){t&&g.showError(b("Unexpected project create error ")+" ("+t+").",function(){p.showProjectsList()})})},!0)}var n;"true"!==t?n=g.showDialog({body:['<div class="form-group">',b("Do you want to create the $site name$ site based on the $theme name$ theme, $name preset$ Template?").replace("$site name$","<strong>"+a+"</strong>").replace(i.titlePreset?"$name preset$":", $name preset$ Template",i.titlePreset?"<strong>"+i.titlePreset+"</strong>":"").replace("$theme name$","<strong>"+i.title+"</strong>"),"</div>",'<div class="dont-show-more clearfix">','   <div class="togglebutton">','       <label style="width: 100%;">','           <input type="checkbox" id="dont-show-again">','           <span class="toggle" style="margin-top: -6px;"></span>',b("Don't show again"),"       </label>","   </div>","</div>"].join("\n"),buttons:{cancel:{label:b("Cancel"),className:"btn-default",callback:function(){f.modal("hide"),g.closeSidebar()}},success:{label:b("Ok"),className:"btn-primary",callback:function(){var t=n.find("#dont-show-again")[0].checked;_.default.setSettings("dontShowCreateSiteModal",t),e()}}}}).on("hidden.bs.modal",function(){g.hidePreloader(),g.$body.off("keydown",o)}):e()})}),n.find(function(t){return"startm5"===t.name})),c=n.find(function(t){return"mobirise5"===t.name});n.splice(n.indexOf(t),1),n.splice(n.indexOf(c),1),n.unshift(t),n.unshift(c);for(var u=0;u<n.length;u++){var h="",h=(h=(h+='<div class="col-xs-6 col-sm-6 col-md-4 col-lg-3" data-theme="'+n[u].name+'" data-installed="'+!!n[u].installed+'" data-theme-title="'+n[u].title+'"><div>')+('<div class="card-img"><img data-src="'+(n[u].largeCover||n[u].cover)+'" src="'+g.core2path("images/imageplaceholder.jpg")+'"></div>'))+("<span>"+n[u].title+"</span>");d+=h+="</div></div>"}d=g.applyFilter("themes_list",d),m(f).find(".site-create-themes-list").append(d),f.on("hidden.bs.modal",function(){y=!1,g.lazyObserver&&g.lazyObserver.disconnect()}).on("shown.bs.modal",function(t){v.isMobile||m(t.target).find("#site-create-name").focus()}),m(f).find('a[data-toggle="tab"]').on("shown.bs.tab",function(){m(f).modal("handleUpdate"),"theme"===m(f).find('li[role="presentation"].active a').attr("aria-controls")?(m(s).length||(s=m(f).find(".site-create-themes-list img")),g.replaceVisibleDataSrc(s)):(m(l).length||(l=m(f).find(".site-create-presets-list img")),g.replaceVisibleDataSrc(l))}),m(".project-create-form .site-create-themes-list > :not(.ext-link) > div").click(function(){var t,e,r,n;"false"===m(this).parent().attr("data-installed")?(n=m(this).parent(),n=n,t="",e=g.getUserInfo(),n.attr("data-theme"),n=n.attr("data-theme-title"),e&&e.email&&(t=e.email),g.confirmDlg({message:b("The $extension$ theme isn't available for your account").replace("$extension$",n?"<strong>"+n+"</strong>":"")+(t?" "+t+"<br>":".<br>"),buttons:{cancel:{label:b("Cancel"),className:"btn-default"},confirm:{label:b("Upgrade"),className:"btn-primary"}},callback:function(t){t&&(g.goToBuyPremium({alert:!1,delay:!1}),gtag("event","ai_upgrade_click",{event_category:"engagement",dom_source:"new_project"}))}})):(e=m(this).parent(),r=m(".project-create-form #site-create-name").val(),n={name:e.attr("data-theme"),title:e.attr("data-theme-title")},g.applyFilter("promiseChosenTheme",Promise.resolve(n)).then(function(i){g.showPreloader(),setTimeout(function(){m(".preloader").css("opacity",1)},1),_.default.getSettings("dontShowCreateSiteModal").then(function(t){function e(){g.closeSidebar(),p.runSaveProject(function(t){g.showPreloader(),t||console.error("Error: unable to save current project"),p.createProject(r,0,i,function(t){t&&g.showError(b("Unexpected project create error ")+" ("+t+").",function(){p.showProjectsList()}),f.modal("hide")})},!0)}var n;"true"!==t?n=g.showDialog({body:['<div class="form-group">',b("Do you want to create the $site name$ site based on the $theme name$ theme, $name preset$ Template?").replace("$site name$","<strong>"+r+"</strong>").replace(i.titlePreset?"$name preset$":", $name preset$ Template",i.titlePreset?"<strong>"+i.titlePreset+"</strong>":"").replace("$theme name$","<strong>"+i.title+"</strong>"),"</div>",'<div class="dont-show-more clearfix">','   <div class="togglebutton">','       <label style="width: 100%;">','           <input type="checkbox" id="dont-show-again">','           <span class="toggle" style="margin-top: -6px;"></span>',b("Don't show again"),"       </label>","   </div>","</div>"].join("\n"),buttons:{cancel:{label:b("Cancel"),className:"btn-default"},success:{label:b("Ok"),className:"btn-primary",callback:function(){var t=n.find("#dont-show-again")[0].checked;_.default.setSettings("dontShowCreateSiteModal",t),e()}}}}).on("hidden.bs.modal",function(){g.hidePreloader(),g.$body.off("keydown",o)}):e()})}).catch(function(){g.closeSidebar(),g.hidePreloader(),f.modal("hide")}))})},{type:"theme"},{server:!0,serverOptions:{with_archive:1}})}))},openProjectSettings:function(e){var t,n;e&&(this.fire("showProjectSettings",e,this.projectSettings.name),n=this.theme&&this.theme.params?this.theme.params.title:"Mobirise",t=function(t){var e=m('<section id="app-project-sidebar" class="app-layer no-select">\n            <h4 class="app-layer-title">'+b("Site Settings")+'</h4>\n            <span class="app-layer-close mbr-icon-angle-left"></span>\n        </section>');m("body").append(e),m("body").is(".app-sidebar-open")?(g.closeSidebar(),m(".app-sidebar").one("transitionend",function(){i(e,t)})):i(e,t);return g.$body.on("keyup.escListenerSidebarProjectSettings",function(t){"Escape"!==t.key||m("body").hasClass("modal-open")||(e.find(".app-layer-close").trigger("click"),t.stopPropagation())}),e}(e),n=[{title:b("Common"),name:"common",html:'<div class="form-group col-md-12">\n                        <label class="control-label">'+b("Theme Name")+"</label>\n                        <p>"+n+'</p>\n                    </div>\n                    <div class="form-group col-md-12 site-name-setting-wrap">\n                        <label class="control-label" for="site-settings-name">'+b("Site Name")+'</label>\n                        <input id="site-settings-name" name="name" type="text" placeholder="'+b("Site Name")+'" value="'+g.projectSettings.name+'" class="form-control">\n                    </div>'}],n=g.applyFilter("sidebarProjectSettings",n),m(n).each(function(t,e){var n,i=m('<div class="hover-block tooltipstered" data-tab="'+e.name+'" data-tooltipster="right">\n            <span class="hover-block-arrow mbr-icon-angle-right"></span>\n            <h4>'+e.title+'</h4>\n            <span class="hover-block-sub" style="display:none;">Description</span>\n        </div>'),r=m('<section class="app-layer app-layer-item app-layer-'+e.name+' no-select">\n            <h4 class="app-layer-title">'+e.title+'</h4>\n            <span class="app-layer-close mbr-icon-angle-left"></span>\n            <div class="app-layer-cont">\n                '+e.html+"\n            </div>\n        </section>");m("body").find(".app-layer-"+e.name).length||m("body").append(r),"common"==e.name&&m("#app-project-sidebar").one("transitionend",function(t){i.addClass("open"),r.addClass("app-layer-item-opened")}),m("#app-project-sidebar").find('.hover-block[data-tab="'+e.name+'"]').length?(n=m(".app-layer-"+e.name).find(".app-layer-cont")).html(n.html()+e.html):m("#app-project-sidebar").find(".app-layer-title").before(i),i.click(function(t){m(".hover-block").removeClass("open"),i.addClass("open");t=m(t.currentTarget).attr("data-tab");m("section.app-layer-item").removeClass("app-layer-item-opened"),m("section.app-layer-"+t).toggleClass("app-layer-item-opened")}),r.find(".app-layer-close").click(function(){r.removeClass("app-layer-item-opened")})}),t.one("transitionend",function(t){g.fire("shownSidebarProjectSettings",t,e)}),this.fire("showedProjectSettings",e,name))},projectRemove:function(e,t,n){var i=this,t=b("Do you want to remove $site name$?").replace("$site name$","<strong>"+f(t)+"</strong>");g.confirmDlg(t,function(t){t&&i.removeProject(e,function(t){0===e.indexOf(i.projectPath)?i.loadRecentProject(function(){g.closeSidebar()}):g.$body.find('.show-site-list-modal .project-element[data-url="'+e+'"]').remove()})})},projectClone:function(n,r){g.showPreloader(),setTimeout(function(){m(".preloader").css("opacity",1)},1),v.initProject(function(t,i){var e=i&&i.path;t?g.showError(b("Unable to init project")):g.runSaveProject(function(t){t||console.error("Error: unable to save current project"),v.copyLocal(n,e,function(e){var n;e?v.getLocalJSON(n=e+"/project.mobirise",function(t){t?(t.settings=m.extend({},t.settings,i),t.settings.name=r,v.saveLocalFile(n,JSON.stringify(t),function(){g.importProject(e,function(){g.closeSidebar(),g.hidePreloader()})})):g.showError(b("Cloned project is wrong"))}):(g.showError(b("Unable to clone project")),g.hidePreloader())})},!0)})},openProjectFromList:function(i,r,o){i&&_.default.isExistsLocal(i.replace(/project\.mobirise$/,""),function(t){var e;t?(g.showPreloader(),setTimeout(function(){m(".preloader").css("opacity",1)},1),_.default.getSettings("dontShowOpenSiteModal").then(function(t){function e(){g.runSaveProject(function(t){t||(g.hidePreloader(),console.error("Error: unable to save current project")),g.loadProject(i,0,{noSave:!0,onError:function(){g.hidePreloader()},onDone:function(){g.closeSidebar(),g.hidePreloader()}})},!0)}var n;"true"!==t?n=g.showDialog({body:['<div class="form-group">',b("Do you want to close the current site and open $site name$?").replace("$site name$","<strong>"+f(o||r)+"</strong>"),"</div>",'<div class="dont-show-more clearfix">','   <div class="togglebutton">','       <label style="width: 100%;">','           <input type="checkbox" id="dont-show-again">','           <span class="toggle" style="margin-top: -6px;"></span>',b("Don't show again"),"       </label>","   </div>","</div>"].join("\n"),buttons:{cancel:{label:b("Cancel"),className:"btn-default"},success:{label:b("Ok"),className:"btn-primary",callback:function(){var t=n.find("#dont-show-again")[0].checked;_.default.setSettings("dontShowOpenSiteModal",t),e()}}}}).on("hidden.bs.modal",function(){g.hidePreloader()}):e()})):(e=g.confirmDlg('<a href="javascript:void(0)" data-tooltipster="bottom" title="'+r+'">'+b("%This site% is not available. Do you want to remove it from the list?").replace(/%(.+)%/,"<strong>"+(o||"$1")+"</strong></a>"),function(t){e.find("[data-tooltipster]").tooltipster("destroy"),t&&g.removeProject(i)})).find("[data-tooltipster]").tooltipster({delay:0,position:"bottom"})})},addProjectAsset:function(t,e,n){t=t.replace(/\.\.\//g,""),_.default.saveLocalFile(g.projectPath+"/assets/"+t,e,n)},readProjectAsset:function(t,e){t=t.replace(/\.\.\//g,""),_.default.loadLocalFile(g.projectPath+"/assets/"+t).then(function(t){e(t)})},getPages:function(){return g.Core.getResultProject().pages},getResultHTML:function(t){return g.Core.getResultHTML(t)},projectHasLicense:function(){return!!g.userLicenses.getPlansLicenses().filter(function(t){return t.items.some(function(t){return t.params&&t.params.site.id===g.projectSettings.id&&"site_plan"===t.type&&!t.expired})}).length},updateProjectName:e},events:{load:function(){var e;g.$projectsListToggle.on("click",function(t){t.preventDefault(),t.stopPropagation(),g.showProjectsList()}),g.on("clickBody",function(){g.hideProjectsList()}),g.on("sidebarClosed",function(){g.hideProjectsList()}),g.$body.on("submit",".project-create-form",function(t){t.stopPropagation(),t.preventDefault(),m(t.target).closest(".modal-content").find(".btn-primary").click()}),g.$body.on("click",".app-export-project",function(t){t.preventDefault(),t.stopPropagation(),v.runFileDialog("Browse for folder","","dir",function(t){t&&g.exportProject(t)})}),g.$body.on("submit",".page-settings-form",function(t){t.preventDefault(),m(t.target).closest(".modal-dialog").find('[data-bb-handler="success"]').click()}),v.regQuitTask(function(t){e=1,g.$template.find("[contenteditable]:focus").trigger("blur"),g.runSaveProject(t,!0)}),v.bind("pause",function(){g.runSaveProject(function(t){t?console.log("Project saved on pause."):console.error("Error: unable to save current project")})}),g.on(["changedProjectSettings","saveMediaImageDialog","saveMediaVideoDialog","savedSiteCodeEditor"],function(){e||g.runSaveProject(!1,!0)}),g.Core.on("removedPage",function(){e||g.runSaveProject()}),g.Core.on(["addedComponent","removedComponent","changedComponentPosition","changedComponentParams","addedPage","changedPageSettings","convertedComponentToCustomHTML","renderedCodeEditorChanges","rivetsBlur","saveMediaIconFontDialog"],function(){e||g.runSaveProject(!1,!0)}),g.$body.on("keyup",".project-create-form #filter-themes",function(t){var e,n=Array.from(document.querySelector(".site-create-themes-list").children),i=Array.from(document.querySelector(".site-create-presets-list .columns-presets").children),r=t.target.value.toLowerCase();n.forEach=[].forEach,n.forEach(function(t){return t.classList.remove("hide")}),i.forEach=[].forEach,i.forEach(function(t){return t.classList.remove("hide")}),""!==r&&(r=r.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),t=n.filter(function(t){return t.dataset.themeTitle}),n=n.filter(function(t){return void 0!==t&&t.dataset&&t.dataset.themeTitle?-1===t.dataset.themeTitle.toLowerCase().indexOf(r):""}),e=i.filter(function(t){return void 0!==t&&t.dataset&&t.dataset.titlepreset?-1===t.dataset.titlepreset.toLowerCase().indexOf(r):""}),n.forEach=[].forEach,n.forEach(function(t){return t.classList.add("hide")}),t.length-n.length?m("#theme .site-create__preloader-wrapper").hide():m("#theme .site-create__preloader-wrapper").show(),e.forEach=[].forEach,e.forEach(function(t){return t.classList.add("hide")}),i.length-e.length?m("#presets .site-create__preloader-wrapper").hide():m("#presets .site-create__preloader-wrapper").show(),m(".create-site-modal").modal("handleUpdate"))}),g.$body.find(".navbar-project-info .app-project-name").on("click",function(t){t.preventDefault(),t.stopPropagation(),g.openProjectSettings(g.projectPath+"/project.mobirise"),setTimeout(function(){m('#app-project-sidebar > [data-tab="common"]').click(),(m(t.target).hasClass("navbar-domain")?m(".app-layer-common .mbrsite-domain-control"):m(".app-layer-common .site-name-setting-wrap")).addClass("selected")},100)})},loaded:function(){g.runSaveProject()},showSideBarsSection:function(){this.hideProjectsList()},incomingFile:function(t){/project.mobirise$/.test(t)&&g.importProject(t.replace(/\/project.mobirise$/,""))},loadedProject:function(){e()},savedProject:function(){e()},changedProjectSettings:function(){e()},domainManagerLoaded:function(){e()},publishedToMbrsite:function(){m(".app-publish").unbind("mouseenter mouseleave"),m(".app-publish").css({backgroundColor:m(".app-publish").attr("data-old-bg-color"),color:m(".app-publish").attr("data-old-color")}),m(".app-publish .mbr-icon-cloud-upload").css({color:m(".app-publish").attr("data-old-color")}),m(".navbar-url .unpublished").remove()}}})},["jQuery","mbrApp","TR()","Bridge"])},function(t,e,n){"use strict";defineM("app-projects-hash",function(l,a,t,s,c){var o="",u={},h={};a.regExtension({name:"projects-hash",events:{load:function(){a.addFilter("uploadFilesStart",function(t,e){var r=l.Deferred();return t.then(function(n,i){e.preview?(o="",r.resolve(n,i)):(o=i,h={},u={},a.checkPublishDublicates(n,i,function(t,e){u=e,r.resolve(n,i)}))}),r})},uploadFilesUploaded:function(t){o&&(h[t]=u[t])},uploadFilesComplete:function(t){o&&(a.updateProjectHashes(h,o),o="")},createPublishModal:function(t){}},global:{HASH_LIST:"publish-hashes.json",calcFileHash:function(t,e){var n=jQuery.Deferred(),i=[];function r(t){n.resolve(t),e&&e(t)}for(var o=0;o<t.srcList.length;o++){if(t.srcList[o].filter)return r(),n;i.push(c.md5_base64(t.srcList[o].src))}return l.when.apply(l,i).then(function(){for(var t=Array.prototype.slice.call(arguments),e=0;e<t.length;e++)if(!t[e])return void r();r(t.join("-"))}),n},getProjectHashes:function(e,n){s.getLocalJSON(this.projectPath+"/"+this.HASH_LIST,function(t){t=(t=t||{})[e=a.applyFilter("projectHashesUrl",e)]||{};n&&n(t)})},updateProjectHashes:function(n,i,r){var o=this;s.getLocalJSON(o.projectPath+"/"+o.HASH_LIST,function(t){for(var e in(t=t||{})[i=a.applyFilter("projectHashesUrl",i)]=t[i]||{},n)n[e]?t[i][e]=n[e]:delete t[i][e];s.saveLocalFile(o.projectPath+"/"+o.HASH_LIST,JSON.stringify(t),r)})},checkPublishDublicates:function(t,e,a){var s=this;a=a||function(){},t?s.getProjectHashes(e,function(n){var i=[],r=[],o={};t.forEach(function(e){var t;e&&((t=s.calcFileHash(e)).then(function(t){(o[e.dest]=t)&&t==n[e.dest]||r.push(e)}),i.push(t,o))}),l.when.apply(l,i).then(function(){a(r,o)})}):a([],{})}}})},["jQuery","mbrApp","TR()","Bridge","$Bridge"])},function(t,e,n){"use strict";var d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=n(25);defineM("app-plugins",function(a,p,t){p.regExtension({name:"plugins",global:{_buildInPlugins:[{name:"jQuery",condition:!0,files:[{src:"web/assets/jquery/jquery.min.js",publishOnly:!0}],priority:1e3},{name:"mobirise-icons",condition:!1,priority:900,iconfont:{family:"MobiriseIcons",title:"LineWeb",prefix:"mbri-",names:["mobirise","mobile","mobile2","tablet","tablet-vertical","watch","devices","laptop","desktop","responsive","touch-swipe","touch","browse","shopping-bag","shopping-basket","shopping-cart","cart-add","cart-full","cash","delivery","credit-card","sale","left","right","up","down","arrow-next","arrow-prev","arrow-up","arrow-down","plus","close","menu","success","play","more-horizontal","more-vertical","home","star","hearth","idea","magic-stick","flag","target","speed","help","letter","info","question","features","briefcase","sun","sun2","smile-face","sad-face","alert","timer","clock","growing-chart","cursor-click","protect","camera","globe","globe-2","bookmark","rocket","paper-plane","hot-cup","calendar","search","zoom-out","android","apple","windows","bootstrap","github","like","wifi","gift","database","paperclip","print","align-left","align-center","align-right","align-justify","undo","redo","new-file","file","share","save","folder","opened-folder","edit","edit2","change-style","setting","setting2","setting3","refresh","trash","drag-n-drop","drag-n-drop2","up-down","left-right","layers","code","bold","italic","underline","add-submenu","bulleted-list","numbered-list","photo","photos","video-play","video","music","pin","map-pin","chat","image-gallery","image-slider","cust-feedback","contact-form","link","unlink","quote-left","quote-right","user","user2","users","key","lock","unlock","login","logout","cloud","download","upload","to-ftp","to-local-drive","preview","error","pages","sites","extension","website-theme","update"]},files:["web/assets/mobirise-icons/mobirise-icons.css","web/assets/mobirise-icons/mobirise-icons.eot","web/assets/mobirise-icons/mobirise-icons.svg","web/assets/mobirise-icons/mobirise-icons.ttf","web/assets/mobirise-icons/mobirise-icons.woff"]},{name:"mobirise-icons2",condition:!1,priority:900,iconfont:{family:"Mobirise2",title:"LineWeb 2",prefix:"mobi-mbri-",class:"mobi-mbri",names:["add-submenu","alert","align-center","align-justify","align-left","align-right","android","apple","arrow-down","arrow-next","arrow-prev","arrow-up","bold","bookmark","bootstrap","briefcase","browse","bulleted-list","calendar","camera","cart-add","cart-full","cash","change-style","chat","clock","close","cloud","code","contact-form","credit-card","cursor-click","cust-feedback","database","delivery","desktop","devices","down","download-2","download","drag-n-drop-2","drag-n-drop","edit-2","edit","error","extension","features","file","flag","folder","gift","github","globe-2","globe","growing-chart","hearth","help","home","hot-cup","idea","image-gallery","image-slider","info","italic","key","laptop","layers","left-right","left","letter","like","link","lock","login","logout","magic-stick","map-pin","menu","mobile-2","mobile-horizontal","mobile","mobirise","more-horizontal","more-vertical","music","new-file","numbered-list","opened-folder","pages","paper-plane","paperclip","phone","photo","photos","pin","play","plus","preview","print","protect","question","quote-left","quote-right","redo","refresh","responsive-2","responsive","right","rocket","sad-face","sale","save","search","setting-2","setting-3","setting","share","shopping-bag","shopping-basket","shopping-cart","sites","smile-face","speed","star","success","sun","sun2","tablet-vertical","tablet","target","timer","to-ftp","to-local-drive","touch-swipe","touch","trash","underline","undo","unlink","unlock","up-down","up","update","upload-2","upload","user-2","user","users","video-play","video","watch","website-theme-2","website-theme","wifi","windows","zoom-in","zoom-out"]},files:["web/assets/mobirise-icons2/mobirise2.css","web/assets/mobirise-icons2/mobirise2.eot","web/assets/mobirise-icons2/mobirise2.svg","web/assets/mobirise-icons2/mobirise2.ttf","web/assets/mobirise-icons2/mobirise2.woff"]},{name:"cookies-alert-plugin",condition:function(){if(p.projectSettings.cookiesAlert)return!0},priority:3e3,files:[{src:"web/assets/cookies-alert-plugin/cookies-alert-core.js",publishOnly:!0},{src:"web/assets/cookies-alert-plugin/cookies-alert-script.js",publishOnly:!0}]},{name:"gdpr-plugin",condition:function(){if(p.projectSettings.gdpr)return!0},priority:3e3,files:["web/assets/gdpr-plugin/gdpr-styles.css"]}],registeredPlugins:[],readPlugin:function(e){var n=this,i=a.Deferred();return r.Bridge.getLocalJSON(e+"/plugin.json",function(t){"object"==(void 0===t?"undefined":d(t))?(jQuery.isArray(t)?t.forEach(function(t){t.root=e,n.registerPlugin(t)}):(t.root=e,n.registerPlugin(t)),setTimeout(function(){i.resolve(!0)},0)):p.addAppResource(e+"/plugin.js").then(function(){i.resolve(!0)})}),i.promise()},registerPlugin:function(t,e){e||(e=t,t=void 0),e=this.applyFilter("registerPlugin",e),this.fire("registerPlugin",e),t&&(e.alias=t),e.addon_root=e.alias?this.getAddonDir(e.alias):"",this.registeredPlugins.push(e),this.fire("registeredPlugin",e),this.fire("pluginsLoaded")},eachPlugins:function(t,e){for(var n=0;n<t.length;n++){var i,r=t[n].root||t[n].addon_root||"",o=(r&&(r+="/"),t[n].conditional_comment),a=t[n].in_head;for(i in t[n].files){var s=t[n].files[i],l=(s="string"==typeof s?{src:s}:s).name||t[n].name,c=s.src,u=!1,h=s.type||(/.js$/g.test(c)?"js":/.css$/g.test(c)?"css":""),d=l+(i&&"0"!=i?i:"");/^\/\//g.test(c)||/^http/g.test(c)||(t[n].root||r&&(c=l+"/"+c),u="assets/"+c,c=r+c),e(c,h,d,u,o,a,s.publishOnly,t[n])}}},eachPlugins2:function(t,l){this.eachPlugins(t,function(t,e,n,i,r,o,a,s){/^\/\//.test(t)||/^http[s]?:/.test(t)||/^file:/.test(t)||/^web\//.test(t)||(t=p.getAddonDir(p.theme.name)+"/plugins/"+t),l(t,e,n,i,r,o,a,s)})},getPlugin:function(t){var e,n=this.registeredPlugins;for(e in n)if(n[e].name===t)return this.applyFilter("getPlugin",n[e]);return!1},getPluginsListForPage:function(t,e){var n,i,r=this.registeredPlugins;function o(t,e){if(t&&t.length){"string"==typeof t&&(t=t.split("&&"));for(var n=!0,i=0;n&&i<t.length;i++)n=n&&function(t,e){for(var n=(t=t.replace(/^\s+|\s+$/g,""))&&t.split("=")[0]||"",t=t&&t.split("=")[1],i=n&&n.split(".")||[],r=0;e&&r<i.length;r++)e="function"==typeof e?e(i[r]):e[i[r]];return void 0===t?e:String(e)==t}(t[i],e);return n}}for(n in t=t.split(","),r)0<=t.indexOf(r[n].name)||(!0===r[n].condition||"function"==typeof r[n].condition&&r[n].condition())&&t.push(r[n].name);for(i in this.Core.resultJSON[e].components){var a,s=p.Core.resultJSON[e].components[i];if(s._plugins){var l,c=s._plugins.split(",");for(l in c)-1==t.indexOf(c[l])&&t.push(c[l])}for(a in r){var u,h=r[a].name;0<=t.indexOf(h)||"object"!=d(r[a].condition)&&"string"!=typeof r[a].condition||(u={_theme:p.getThemeSettings,_project:p.projectSettings,_page:p.Core.resultJSON[e],_params:s._params},o(r[a].condition,u)&&t.push(h))}}return this.applyFilter("getPluginsListForPage",t.join(","),this.Core.resultJSON[e])},updatePlugins:function(t){var e=this.sortPlugins(this.registeredPlugins);this.eachPlugins2(e,function(t,e,n,i,r,o,a,s){r||a||(/^\/\//g.test(t)&&(t="https:"+t),"js"===e?p.addCoreResource(t,!0):"css"===e&&p.addCoreResource(t,!1))}),"function"==typeof t&&t()},getPluginsHTMLForPublish:function(t){for(var e=[],h="",d="",f="",n=this.getPluginsListForPage("",t),n=this.applyFilter("allUsedPluginsForPage",n.split(","),t),i=0;i<n.length;i++){var r=this.getPlugin(n[i]);r&&e.push(a.extend(!0,{},r))}return e=this.sortPlugins(e),e=this.applyFilter("svgFontFilter",e),this.eachPlugins(e,function(t,e,n,i,r,o){var a="",s="",l="",c="",u="",r=(r&&(a="\x3c!--[if "+r+"]>\n    ",s="<![endif]--\x3e\n  "),/^\/\//g.test(t)?i="https:"+t:/^http[s]?:/.test(t)&&!p.isAddonsDir(t)&&(i=t),"js"===e&&(r=a+'<script src="'+i+'"><\/script>\n  '+s,o?c+=r:l+=r),"css"===e&&(u+=a+'<link rel="stylesheet" href="'+i+'">\n  '+s),p.applyFilter("getPluginResource",{js:l,js_head:c,css:u},n,e,i,o,t));d+=r.js_head,h+=r.js,f+=r.css}),this.applyFilter("getPluginsHTMLForPublish",{css:f,js:h,js_head:d},t)},getPluginsFilesForPublish:function(){var t,r=this,e=(r.registeredPlugins,[]),o=[],n="";for(t in r.Core.resultJSON)n=r.getPluginsListForPage(n,t);for(t in n=this.applyFilter("allUsedPlugins",n.split(","))){var i=r.getPlugin(n[t]);i&&e.push(a.extend(!0,{},i))}return r.eachPlugins(e,function(t,e,n,i){/^(http[s]?:)?\/\//.test(t)&&!r.isAddonsDir(t)||(/^(file|https?):/g.test(t)||/^web\//g.test(t)||(t=r.theme.pathExport+"/plugins/"+t),o.push({src:t,dest:i}))}),r.applyFilter("getPluginsFilesForPublish",o)},sortPlugins:function(t){var e=a.extend(!0,[],t);return e.sort(function(t,e){return t.priority>e.priority?1:t.priority<e.priority?-1:0}),this.applyFilter("sortPlugins",e,t)}},events:{beforeAppLoad:function(){for(var t=0;t<this._buildInPlugins.length;t++)this.registerPlugin(this._buildInPlugins[t])}}})},["jQuery","mbrApp","TR()"])},function(t,e,n){"use strict";var h=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t)){var n=e,i=[],r=!0,e=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(i.push(a.value),!n||i.length!==n);r=!0);}catch(t){e=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(e)throw o}}return i}throw new TypeError("Invalid attempt to destructure non-iterable instance")},d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};defineM("app-components-list",function(y,w,_,x){function r(t){return'<li class="show-more-btn col-xs-12 col-sm-6 col-md-4 col-lg-3">\n            <a href="javascript:void(0)" class="show-more-btn__fake-link">\n                <img src="">\n            </a>\n            <div class="show-more-btn__content">\n                <i class="mbr-icon-horizontal-ellipsis"></i>\n                <span class="show-more-btn__text">'+_("More $groupName$ Blocks").replace("$groupName$",t)+"</span>\n            </div>\n        </li>"}var t=!0,l=void 0,M=!0,S=!1,k=[],C="",E=[];function n(){y(".app-template").removeClass("scaled"),w.Core.$body.removeClass("scaled"),w.Core.$template.removeClass("scaled");var t=w.Core.$body.closest("html").scrollTop();w.Core.$body.closest("html").stop().animate({scrollTop:t},0)}function P(n,i){i=i||function(){},w.getThemeAddonsEx(function(t){for(var e=0;e<t.length;e++)if(t[e].name===n)return void w.readAddon(w.getAddonDir(n),i);i()},{type:"theme"})}function o(){return new Promise(function(e){w.getAddonsEx(function(t){t=t.filter(function(t){return"theme"===t.type&&w.isAMP()===(t.name.endsWith("amp")||"amp-blocks-theme"===t.name)}),Promise.allSettled(t.map(function(i){return new Promise(function(e,n){i.installed&&i.premium===i.paid?x.getLocalJSON(w.getAddonDir(i.name)+"/params.json",function(t){t?e({themeName:i.name,blocks:t.components,local:!0}):n()}):fetch("https://my.mobirise.com/data/upload/thumbs/"+i.name+"/params.json?hash="+Math.random()).then(function(t){return t.json()}).then(function(t){e({themeName:i.name,blocks:t.components,local:!1})}).catch(function(){n()})})})).then(function(t){t=t.reduce(function(t,e){return"fulfilled"===e.status&&t.push(e.value),t},[]),e(t)})},{type:"theme"},{server:!0})})}function A(t){if(t)return t.replace(/(^.)|((m4$)|(m5$)|(amp$))/g,function(t){return t.toUpperCase()})}function a(u,h,d){w.getComponentsKeywords().then(function(t){var n,i,e,r=w.$componentsLayer.find(".search-block-input").val().toLowerCase(),o=void 0,a=w.$componentsLayer.find(".app-layer-cont");if((o=h?(n={people:["team","testimonial","client"],numbers:["progress","counter","countdown","table"],news:["timeline","content"],list:["accordion","toggle","tabs"]},r=h.toLowerCase().replace(/_/g," "),i=!1,u.filter(function(e){return((i=r in n?n[r].some(function(t){return("table"!==t||!e.searchTags.toLowerCase().startsWith("pricing"))&&e.searchTags.toLowerCase().includes(t)}):i)||e.searchTags.toLowerCase().includes(r))&&e.theme!==w.$componentsLayer.attr("data-theme")})):u.filter(function(t){return t.searchTags.toLowerCase().includes(r)})).length)return c();if(t){var s,l=[];for(s in t)!function(e){t[e].map(function(t){t.includes(r)&&l.push(e)})}(s);o=u.filter(function(e){return l.length&&l.some(function(t){return e.searchTags.toLowerCase().includes(t)})})}if(o.length)return c();function c(){var t,e="",n=(o.forEach(function(t){e+='<li class="col-xs-12 col-sm-6 col-md-4 col-lg-3 '+(t.local?"":"not-available")+'" data-layer="add-component">\n                            <a href="javascript:void(0)" data-component="'+t.name+'" data-component-once="'+t.once+'" data-search-tags="'+t.searchTags+'" data-theme="'+t.theme+'">\n                                <img data-src="'+t.thumb+'" src="'+w.core2path("images/imageplaceholder.jpg")+'" alt="'+t.name+'">\n                                <div class="block-info">\n                                    <div class="block-info__theme-name-tag '+(A(t.theme)?"":"hidden")+'">'+A(t.theme)+"</div>\n                                </div>\n                            </a>\n                        </li>"}),h?(h=h.replace(/\s/g,"_"),a.find('h5[data-group="'+h+'"]').next("ul").append(e)):(w.$componentsLayer.find(".app-layer-cont").find("h5:not(.search-group-name), .show-more-btn, .user-block-search, > ul > li").addClass("hidden"),n=a.find(".search-group-name"),t=a.find(".search-blocks-container"),n.length&&t.length?(n.removeClass("hidden").text("Search for "+r),t.removeClass("hidden").html(e)):a.append('\n                            <h5 class="search-group-name">Search for '+r+'</h5>\n                            <ul class="search-blocks-container">'+e+"</ul>\n                        ")),w.$componentsLayer.find("img[data-src]"));w.replaceVisibleDataSrc(n),w.cleanOnceComponents(),d.remove()}0===o.length&&(e=function(){var n=[];return w.presetsList.map(function(t){if(t.presetsList)for(var e in t.presetsList)t.presetsList[e].title.toLowerCase().includes(r)&&n.push(t.themeName)}),0!==n.length&&(o=u.filter(function(t){return n.includes(t.theme)})),c()},0!==w.presetsList.length?e():w.getAddonsEx(function(t){t=t.filter(function(t){if(t.name.endsWith("m5")||"mobirise5"===t.name)return t.name.endsWith("m5")||"mobirise5"===t.name}),Promise.all(t.map(function(n){return new Promise(function(e){var t;n.installed&&n.paid&&!n.expired||x.isDev||"mobirise5"===n.name||"startm5"===n.name?(t=w.getAddonDir(n.name)+"/projects/list.json",x.getLocalJSON(t,function(t){t?e({themeName:n.name,presetsList:t,local:!0}):e()})):fetch("https://my.mobirise.com/data/upload/thumbs/"+n.name+"/projects/list.json").then(function(t){404===t.status?(console.log("No presets in "+n.name+" theme."),e()):t.json().then(function(t){e({themeName:n.name,presetsList:t,local:!1})}).catch(function(t){e()})}).catch(function(t){e()})})})).then(function(t){(t=t.filter(function(t){return void 0!==t})).length?(w.presetsList=t,e()):resolve(chosenTheme)})},{type:"theme"},{server:!0}))})}var i,s;function c(t){for(var e in t)this[e]=t[e]}w.regExtension({name:"components-list",global:{components:{},getComponentHTML:function(t){return w.Core.getComponent(t)._customHTML},setComponentHTML:function(t,e){var n,i=w.Core.getComponent(t),e=(i._customHTML=e,w.Core.getSecondaryComponent(i));e.isActualTemplate()||(n=w.$template.find("[data-app-component-id="+t+"] .app-component-content"),e=e.update().createElementFromTemplate(),w.Core.$window[0].rivets.unbind(n).bind(e,i),n.html(e),w.fire("loadedComponent",i,w.Core.currentPage,w.Core.$template,!1)),w.Core.$template.find("[data-app-component-id="+t+"] .app-component-content > *").trigger("add.cards"),w.runSaveProject(!1,!0),w.Core.fire("setComponentHTML",t)},$componentsLayer:y("#add-component"),$componentsToggleBtn:y(".app-components-toggle"),readComponent:function(n){var i=this,r=y.Deferred();return x.getLocalJSON(n+"/component.json",function(t){var e;"object"==(void 0===t?"undefined":d(t))?(e=[],t._path&&(e.push(t._path),delete t._path),e.push(t),i.loadComponents.apply(i,e),setTimeout(function(){r.resolve(!0)},0)):w.addAppResource(n+"/component.js").then(function(){r.resolve(!0)})}),r.promise()},readComponent2:function(t,e,n){if("string"==typeof t)return w.readComponent(e+"/"+t);if("object"==(void 0===t?"undefined":d(t))){var i=t.name||t.path.split("/").pop();if(i in w.components)return;var r="plugin"==n.type,o=t.path.replace(/\/.*$/,"");w.Core.components[i]=w.components[i]=new c(y.extend({name:i,alias:r&&n.name+(o?"/"+o:""),_tags:r&&["Extension"],scriptPath:e+"/"+t.path},t))}else console.warn("Wrong component "+t);return y.Deferred().resolve()},loadComponents:function(t,e,n){var i,r=this;for(i in e||(e=t,t=void 0),e=r.applyFilter("loadingComponents",e,t),r.fire("loadComponents",e,t),e){var o=e[i];if(t&&(o.alias=t),o._tags=o._tags||[],o._tags.length||(t&&r.theme&&r.theme.name&&t.split("/")[0].toLowerCase()!=r.theme.name.toLowerCase()?o._tags.push("Extension"):o._tags.push("Theme")),o._inherit){var a=y.extend(!0,{},r.components[o._inherit]);if(a)for(var s in a)if("_params"===s){o[s]||(o[s]={});var l,c={};for(l in a[s]){var u=a[s][l];null!==o[s][l]&&(u.default=void 0!==o[s][l]?o[s][l]:u.default,c[l]=u)}o[s]=c}else o[s]=(void 0!==o[s]?o:a)[s];else console.warn("Warning: not yet loaded parent block for component "+i+" _inherit "+o._inherit)}}r.components=r.applyFilter("loadComponents",y.extend(r.components,e)),n&&r.initComponentsPalette(),r.loadComponentTemplates(r.components),r.fire("loadedComponents",e)},addComponentToCore:function(t,e,n){var i=arguments;return"menu"===n.attr("data-component-once")&&"true"===n.attr("data-app-always-top")?((e=e||{}).item=w.Core.resultJSON[w.Core.currentPage].components[0]._id.toString(),e.where="before",i[1]=e):e&&"before"==e.where&&"menu"===w.Core.resultJSON[w.Core.currentPage].components[0]._once&&w.Core.resultJSON[w.Core.currentPage].components[0]._id==e.item&&!0===w.Core.resultJSON[w.Core.currentPage].components[0]._noDrag&&(e.where="after",i[1]=e),this.getRealComponent(t).then(function(){w.Core.addComponent.apply(w.Core,i)})},getRealComponent:(s={},w.on("loadedComponentTemplate",function(t){t in s&&s[t].resolve(w.components[t])}),function(e){var n,t,i;return((e="string"==typeof e?w.components[e]:e)instanceof c?(n=e.name,t=w.components,n in s&&(!S||e.alias)||(s[n]=y.Deferred(),i=function(){var t;w.isSecondaryComponent(e)?((t={})[n]={_group:e._group,_once:e._once,alias:e.alias,_isSecondary:e._isSecondary,typeCompatible:e.typeCompatible},e.alias?w.loadComponents(e.alias,t):w.loadComponents(t)):w.readComponent(e.scriptPath)},e._inherit?this.getRealComponent(t[e._inherit]).then(i):i()),s[n]):y.Deferred().resolve(e)).promise()}),cachedTemplates:{},loadComponentTemplates:function(s){var l=this;w.Core.components=s,y.when(function(){var t,e=y.Deferred(),a=[];for(t in s)s[t]instanceof c||t in l.cachedTemplates||!function(n,t){l.cachedTemplates[n]="";var i=s[n].alias,e=void 0,r=w.$componentsLayer.attr("data-theme"),e=i?w.getAddonDir(i)+"/"+(t||n)+"/template.html":r?w.getAddonDir(r)+"/components/"+(t||n)+"/template.html":l.theme.pathExport+"/components/"+(t||n)+"/template.html",o=y.Deferred();x.loadLocalFile(e,function(t){var e;t&&((s[n]._css||s[n]._js)&&w.Core.prepareComponentAssets(n),l.cachedTemplates[n]=t),w.isSecondaryComponent(s[n])?(e=void 0,e=i?w.getAddonDir(i)+"/"+n+"/style.less":r?w.getAddonDir(r)+"/components/"+n+"/style.less":l.theme.pathExport+"/components/"+n+"/style.less",x.loadLocalFile(e,function(t){s[n]._styles={},w.objectifyCSS(t).then(function(t){s[n]._styles=t},function(t){t.filename=e,console.error(t)}).always(o.resolve)})):o.resolve()}),o.then(function(){l.fire("loadedComponentTemplate",n)}),a.push(o)}(t,s[t]._inherit);return y.when.apply(y,a).then(function(){e.resolve()}).fail(function(){e.resolve()}),e.promise()}()).done(function(){l.fire("loadedComponentTemplates")})},initComponentsPalette:function(t){var e=this,n={};for(r in e.components){var i=e.components[r];n[i._group]||(n[i._group]={}),n[i._group][r]=i}var r,o="";for(r in n=e.applyFilter("loadComponentsSorted",n)){for(var a in o=o+("<h5 data-group="+r.replace(/\s/g,"_")+">"+_(r,"blocks")+"</h5>")+'<ul class="row">',n[r]){var s,l=n[r][a].alias,c=n[r][a].typeCompatible;!(c=null!=c?function(t){var e,n,i=w.theme.params.theme;if("string"==typeof t)return n=!!i[(e=function(t){return"!"===t.charAt(0)})(t)?t.split("!")[1]:t],e(t)?!n:n;if("object"==(void 0===t?"undefined":d(t))){var r,o=void 0;for(r in t)if(o=!!i["!"===t[r].charAt(0)?t[r].split("!")[1]:t[r]])break;return!o}}(c):c)&&null!=c||(c=w.$componentsLayer.attr("data-theme"),s=void 0,s=l?e.getAddonDir(l)+"/"+a+"/thumb.png":c?w.isBuildInAddon(c)?x.path2app(e.getAddonDir(c))+"/components/"+a+"/thumb.png":e.getAddonDir(c)+"/components/"+a+"/thumb.png":e.theme.path+"/components/"+a+"/thumb.png",l={"component-once":n[r][a]._once},o+=e.generateComponentPaletteItemHtml(a,s,null,l))}o+="</ul>"}o=e.applyFilter("loadComponentsHTML",o),e.insertComponentPaletteHTML(o),t&&t(),e.fire("initedComponentsPalette")},generateComponentPaletteItemHtml:function(t,e,n,i,r,o,a){var s="",l="",c="";if(r=r||"","object"==(void 0===i?"undefined":d(i)))for(var u in i)"filter"==u?c=" data-"+u+'="'+i[u]+'"':void 0!==i[u]&&(s+=" data-"+u+'="'+i[u]+'"');if("object"==(void 0===o?"undefined":d(o)))for(var u in o)void 0!==o[u]&&(l+=" data-"+u+'="'+o[u]+'"');n='<li class="col-xs-12 col-sm-6 col-md-4 col-lg-3 '+(n=n||"")+'" '+c+l+' data-layer="add-component"><a href="javascript:void(0)" data-component="'+t+'"'+s+">";return(n+='<img src="'+e+'" alt="'+t+'">')+('\n                    <div class="block-info">\n                        <div class="block-info__theme-name-tag '+(A(a)?"":"hidden")+'">'+A(a)+'</div>\n                    </div>\n                    <div class="drag-mobile '+(x.isMobile?"":"hidden")+'"><i class="mbr-icon-menu"></i></div>\n                    </a>\n                ')+(r+"</li>")},insertComponentPaletteItem:function(t,e,n,i,r,o,a){e=w.generateComponentPaletteItemHtml(e,n,r,o);w.insertComponentPaletteHTML(e,t,a)},insertComponentPaletteHTML:function(t,e,n,i){var r,o=w.$componentsLayer.find(".app-layer-cont");1===arguments.length?o.html(t):(n=n?' class="'+n+'"':"",i=i?'class="'+i+'"':"",r=e.replace(/\s/g,"_"),0==o.find('h5[data-group="'+r+'"]').length&&o.append('<h5 data-group="'+r+'" '+i+">"+e+"</h5><ul"+n+"></ul>"),(i=(i=o.find('h5[data-group="'+r+'"]').next()).is("ul")?i:i.next()).append(t))},cleanOnceComponents:function(){var t,e=this.$componentsLayer.find("[data-component-once]").removeClass("inactive"),n=(e.find("> span").remove(),this.Core.getPageComponents());for(t in n){var i=!0===n[t]._once,r=!i&&n[t]._once;(i||r)&&(r=i?'[data-component="'+n[t]._name+'"]':'[data-component-once="'+n[t]._once+'"]',e.filter(r).addClass("inactive").append("<span>"+_("Added")+"</span>"))}this.fire("cleanOnceComponents",e)},dragComponent:function(){var t,s=this,e=["click"];for(t in e)!function(i,r){var o=i.contentWindow["on"+r];i.contentWindow["on"+r]=function(t){o&&o(t);var e=document.createEvent("MouseEvents"),n=i.getBoundingClientRect();e.initMouseEvent(r,!0,!1,window,t.detail,t.screenX,t.screenY,t.clientX+n.left,t.clientY+n.top,t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,t.button,null),i.dispatchEvent(e)}}(s.iframe,e[t]);function o(t){var e=s.appElements.window.width,e=e-(600<e?s.appElements.componentsLayer.width:s.appElements.componentsLayer.width/2);return e>s.appElements.iframe.width+0&&(e=s.appElements.iframe.width+0),0<t&&t<e}var c,u,h,a,l,d=y('<div class="app-dragger">').append("<img>").appendTo("body"),f=y('<div class="app-component-divider">'),p=s.$template.find(".template .app-component"),m={item:void 0,where:void 0},g=void 0,b=void 0,v=void 0,n=x.isMobile?".drag-mobile":"a[data-component]:not(.inactive)";s.$componentsLayer.on("mousedown touchstart",n,function(t){var e,n,l,i,r,o,a;M&&(t.stopPropagation(),t.preventDefault(),e=x.isMobile?y(this).parent()[0]:this,y(e).closest(".not-available").length?(n=e,i="",r=w.getUserInfo(),o=y(n).attr("data-theme"),n=o||w.$componentsLayer.attr("data-theme"),a=o||w.$componentsLayer.find(".blocks-theme-btn .blocks-theme-name").text(),r&&r.email&&(i=r.email),(r=w.AddonsRegistry.get(n))&&r.get("downloadURL")&&!r.isExpired()?((l=y(w.preloaderHTML)).css({opacity:"0.8",transition:"0.2s"}),w.$componentsLayer.find(".add-component-content").append(l),w.downloadAddon(r.toJSON()).done(function(s){o?(E=[],w.$componentsLayer.find('[data-theme="'+o+'"]').parent().removeClass("not-available"),l.remove()):P(s.name,function(e){if(e.components){var t,n,i=w.getAddonDir(s.name),r=y.extend({},w.components);for(t in w.components=w.Core.components={},r)r.hasOwnProperty(t)&&!r[t].alias&&delete r[t];for(n in w.cachedTemplates)w.cachedTemplates.hasOwnProperty(n)&&!r[n]&&delete w.cachedTemplates[n];var o=r,a=[];e.components.forEach(function(t){a.push(w.readComponent2(t,i,e))}),C="",k.forEach(function(t){t.name===s.name&&(t.local=!0),C+='<div class="col-xs-6 col-sm-6 col-md-4 col-lg-3" data-name="'+t.name+'" data-local="'+t.local+'">\n                                            <div class="card-wrap">\n                                                <div class="card-img">\n                                                    <img src="'+t.cover+'">\n                                                </div>\n                                                <span class="card-title">'+t.title+"</span>\n                                            </div>\n                                        </div>"}),y.when.apply(null,a).then(function(){w.Core.components=w.components=y.extend(w.components,o),w.initComponentsPalette(function(){w.$componentsLayer.find(".add-component-filter").remove(),w.createComponentsFilter(),w.addComponentsFilterTab("Extension",_("Extensions"),_("Show Blocks From Extensions")),S=!0,l.remove()})})}})}).fail(function(){w.showError(_("Error add extension")+' "'+a+'"'),w.$componentsLayer.find(".add-component-content .preloader").remove()})):w.confirmDlg({message:_("The $extension$ theme isn't available for your account").replace("$extension$",a?"<strong>"+A(a)+"</strong>":"")+(i?" "+i+"<br>":".<br>"),buttons:{cancel:{label:_("OK"),className:"btn-info"},confirm:{label:_("UPGRADE"),className:"btn-primary"}},callback:function(t){t&&(w.goToBuyPremium({alert:!1}),gtag("event","ai_upgrade_click",{event_category:"engagement",dom_source:"limit_modal"}))}})):(b=1920<w.appElements.window.width?.5:.25,v=1/b,u=y(e).attr("data-component"),h=t.currentTarget,c=!0,d.find("img").attr("src",y(e).find("img").attr("src")),p=s.$template.find(".template .app-component"),g=s.appElements.iframe.height/2,s.$iframeOverlay.css({top:s.appElements.window.height-g}).show(),s.fire("dragComponentStart",u,t)))});var n=x.isMobile?"touchmove":"mousemove",i=x.isMobile?{passive:!1}:"";document.addEventListener(n,function(t){var e,n,i,r;t=t,c&&(t.preventDefault(),t.stopPropagation(),e=r=null,e=(t.touches&&t.touches.length?(r=(n=t.touches[0]).pageX,n):(r=t.pageX,t)).pageY,d.css({display:"block",left:r,top:e,marginTop:-d.height()/2,marginLeft:-d.width()/2}),o(r)?(s.Core.dragComponent=!0,w.$template.find(".template > div").append(f),f.show()):f.hide(),g=s.appElements.iframe.height/v,n=x.isMobile?130:0,i=e-(s.appElements.window.height-g+n),p.each(function(){var t=this.getBoundingClientRect(),e={};e.height=t.height/v,e.top=t.top/v,e.bottom=t.bottom/v,e.bottom<0||g<=e.top||i<e.top||i<=e.top+e.height&&(m.item=y(this),e.top+e.height/2<i?(y(this).after(f),m.where="after"):(y(this).before(f),m.where="before"))}),t=e-(s.appElements.window.height-g),r=s.appElements.window.height-e,t<80?l=-30*(80-Math.max(t,0))/80:r<80&&(l=30*(80-Math.max(r,0))/80),clearInterval(a),t<80||r<80)&&(s.iwindow.scrollBy(0,l),a=setInterval(function(){s.iwindow.scrollBy(0,l)},17))},i),y(document).on("mouseup touchend",function(t){c&&(c=!1,d.css("display","none"),f.remove(),o((t.originalEvent.changedTouches?t.originalEvent.changedTouches[0]:t).pageX)&&(M=!1,m.item&&m.item.length&&(m.item=y(m.item).attr("data-app-component-id")),s.addComponentToCore(u,y.extend({},m),y(h)).then(function(){s.cleanOnceComponents()})),m.item=void 0,m.where=void 0,s.$iframeOverlay.hide(),clearInterval(a),s.fire("dragComponentEnd",u,t))})},hideComponentsList:function(t){this.fire("beforeHideComponents",t),this.$body.removeClass("app-add-component-open"),this.$componentsToggleBtn.tooltipster("content",_("Add Block to Page")),this.$themeToggleBtn.fadeIn(200),w.$body.off("keyup.escListenerComponentsList"),this.fire("hideComponents",t)},toggleComponentsList:function(){var e=this;this.cleanOnceComponents(),this.$body.toggleClass("app-add-component-open"),this.$body.hasClass("app-add-component-open")?(this.$componentsToggleBtn.tooltipster("content",_("Close")),this.$themeToggleBtn.fadeOut(200),y(".app-template").addClass("scaled"),w.Core.$body.addClass("scaled"),w.Core.$template.addClass("scaled"),x.isMobile||y("#add-component .search-block-input").focus(),w.$body.on("keyup.escListenerComponentsList",function(t){"Escape"!==t.key||e.$body.hasClass("modal-open")||(e.$componentsToggleBtn.trigger("click"),t.stopPropagation())})):(y(".app-template").hasClass("scaled")&&n(),this.$componentsToggleBtn.tooltipster("content",_("Add Block to Page")),this.$themeToggleBtn.fadeIn(200),w.$body.off("keyup.escListenerComponentsList")),this.fire("toggleComponents")},addComponentsFilterTab:function(t,e,n){n=w.applyFilter("addComponentsFilterTab",y('<li data-tooltipster="bottom" title="'+n+'"data-filter="'+t+'">'+e+"</li>"));w.$componentsLayer.find(".add-component-filter ul").append(n)},createComponentsFilter:function(){var e=this,n=[],i=(e.$componentsLayer.find(".app-layer-cont >ul>li").not(".app-layer-cont-user-block").each(function(){var t=y(this).find("a").attr("data-component");y(this).attr("data-filter",e.components[t]._tags?e.components[t]._tags.join(","):"Theme"),y(this).attr("data-group",e.components[t]._group||"undefined"),y(this).attr("data-search-tags",e.components[t]._searchTags||e.components[t]._group),void 0===e.components[t]._group?-1===n.indexOf("undefined")&&n.push("undefined"):-1===n.indexOf(e.components[t]._group)&&n.push(e.components[t]._group)}),e.$componentsLayer.find(".add-component-groups"));i.find("ul").empty(),n.forEach(function(t){i.find("> ul").append('<li data-group-name="'+t.replace(/\s/g,"_")+'">'+t+"</li>")}),i.append('<div class="add-component-filter"><ul></ul></div>')},bindComponentsFilterEvents:function(){var i=this;i.$componentsLayer.on("click",".add-component-filter>ul>li:not(.active)",function(t){i.$componentsLayer.find(".add-component-groups > ul li").removeClass("active");var e=y(t.target).closest("#add-component").find(".app-layer-cont"),n=y(t.target).attr("data-filter");y(t.target).parent().find(">li").removeClass("active"),y(t.target).addClass("active"),w.$componentsLayer.find(".show-more-btn").addClass("hidden"),e.find(">ul>li").addClass("hidden"),e.find('>ul>li[data-filter*="'+n+'"]').removeClass("hidden"),e.find(">ul:not(.search-blocks-container)").each(function(){var t=y(this).prev();0==y(this).find('>li:not(".hidden")').length?(t.is("[data-group]")||(t.addClass("hidden"),t=t.prev()),t.addClass("hidden")):(t.is("[data-group]")||(t.removeClass("hidden"),t=t.prev()),t.removeClass("hidden"))}),e.scrollTop(0)})},render:function(t){w.Core.render(t)},getComponentsKeywords:(i=void 0,function(){var e=y.Deferred();return i?e.resolve(i):(x.getLocalJSON("web/app/interface/app-components-keywords.json",function(t){i=t,e.resolve(i)},function(t){e.resolve(void 0)}),e)})},events:{coreLoad:function(){w.Core.addFilter("addComponent",function(e,t,n){if("secondary"===w.theme.type){var i,r,o,a=w.$componentsLayer.attr("data-theme"),s=n.attr("data-theme");if(s)return i=y.Deferred(),r=void 0,o=n.attr("data-component"),e._sourceTheme=s,r=w.getAddonDir(s)+"/components/"+o+"/template.html",x.loadLocalFile(r,function(t){w.isBuildInAddon(s)||(t=t.replace(/="\.\.\//g,'="'+w.path2core(w.getAddonDir(s))+"/components/")),e._customHTML=t;t=w.getAddonDir(s)+"/components/"+o+"/style.less";x.loadLocalFile(t,function(t){e._styles={},w.objectifyCSS(t).then(function(t){e._styles=t,i.resolve(e)},function(t){})})}),i.promise();a&&!e._sourceTheme&&(e._sourceTheme=a)}return e})},load:function(){var r=this;r.cleanOnceComponents(),r.dragComponent(),r.$componentsToggleBtn.on("click",function(t){var e=y(this);t.stopPropagation(),e.attr("data-pallete-inited")||(r.initComponentsPalette(function(){r.createComponentsFilter(),r.addComponentsFilterTab("Extension",_("Extensions"),_("Show Blocks From Extensions")),r.bindComponentsFilterEvents(),w.$componentsLayer.find(".add-component-groups > ul").on("click",function(t){y(t.target).attr("data-group-name")&&(y(t.target).addClass("active").siblings().removeClass("active"),w.$componentsLayer.find(".add-component-filter li").removeClass("active"),w.$componentsLayer.find(".app-layer-cont").find("h5, .show-more-btn, .user-block-search, > ul > li").removeClass("hidden"),w.$componentsLayer.find(".app-layer-cont").find(".search-group-name, .search-blocks-container").addClass("hidden"),0!==(t=w.$componentsLayer.find('.app-layer-cont > h5[data-group="'+y(t.target).attr("data-group-name")+'"]')[0].offsetTop))&&w.$componentsLayer.find(".app-layer-cont").stop(!0,!0).animate({scrollTop:t-10},300)});var t=w.$componentsLayer.find(".app-layer-cont").find("> ul > li img"),i=[];t.each(function(t,n){var e=new Promise(function(t,e){y(n).on("load",function(){t()}),n.complete&&y(n).load()});i.push(e)}),Promise.all(i).then(function(){var e,n=this,i=(l=w.$componentsLayer.find(".app-layer-cont").outerHeight(),!1);function s(t){var e,n,i,r;t.length&&(t.addClass("active"),e=w.$componentsLayer.find(".add-component-groups"),t=(n=t.position().top)+t.outerHeight(!0),r=(i=e.scrollTop())+l,n<i?e.stop(!0,!0).animate({scrollTop:n-100},300):r<t&&e.stop(!0,!0).animate({scrollTop:i+t-r+100},300))}w.$componentsLayer.find(".app-layer-cont").on("scroll",w.throttle(function(){e=i,i=y(n).is(":animated");var r,o,a=w.$componentsLayer.find(".add-component-groups"),t=w.$componentsLayer.find(".add-component-filter li").hasClass("active");i||e||t||!a.find("> ul li").length||(a.find("> ul li").removeClass("active"),t=y(n).scrollTop(),r=Math.ceil(t+l/2),t<=20?s(a.find("> ul li:first-child")):(o=0,a.find("> ul li").each(function(t){var e=y(this).attr("data-group-name"),n=o,i=n;if(w.$componentsLayer.find('.app-layer-cont > h5[data-group="'+e+'"]').each(function(){i+=y(this).outerHeight(!0)+y(this).next("ul").outerHeight(!0)}),o=i,n<=r&&r<=i)return s(a.find('> ul li[data-group-name="'+e+'"]')),!1})))},500))})}),e.attr("data-pallete-inited",!0)),r.toggleComponentsList()}),r.on("clickTemplate",function(t){r.hideComponentsList(t)}),r.$componentsLayer.on("click","a[data-component]:not(.inactive)",function(t){var e;M&&!y(this).closest(".not-available").length&&(M=!1,x.isMobile?(e=w.$body.find(".app-mobile-focus-block h4").attr("data-current-component"),w.addComponentToCore(y(this).attr("data-component"),{item:e,where:"after"},y(t.currentTarget)).then(function(){w.cleanOnceComponents(),w.hideComponentsList(t)})):w.addComponentToCore(y(this).attr("data-component"),null,y(t.currentTarget)).then(function(){w.cleanOnceComponents(t)}))}),r.Core.on("rendered",function(){M=!0}),r.Core.on("loadedComponent",function(t,e,n,i){w.fire("loadedComponent",t,e,n,i)}),r.Core.addFilter("loadComponentTemplate",function(t,e,n,i){return r.applyFilter("loadComponentTemplate",t,e,n,i)}),r.Core.on("summernoteBlur",function(t){w.fire("summernoteBlur",t)})},resizeInterface:function(){l=w.$componentsLayer.find(".app-layer-cont").outerHeight()},initedComponentsPalette:function(){w.$body.find("#add-component .app-layer-cont h5[data-group]").each(function(){y(this).next("ul").children("li").length||y(this).css("display","none")}),w.$componentsLayer.find(".app-layer-cont > ul:not(.app-layer-cont-user, :empty)").filter(function(){return!y(this).prev("h5").text().toLowerCase().includes("blockpack")}).each(function(){var t=y(this).prev("h5").text(),t=y(r(t)),e=y(this).children().last().find("img").attr("src");t.find("img").attr("src",e),y(this).append(t)})},loaded:function(){var e,n;"secondary"===w.theme.type&&(w.$componentsLayer.find(".add-component-content").before('<div class="search-block-input-wrap">\n                        <input class="search-block-input form-control" type="text" placeholder="'+_("Search")+'" value="">\n                        <button class="btn btn-primary search-blocks-btn">Search</button>\n                    </div>'),w.$componentsLayer.on("blur",".search-block-input",function(t){w.fire("inputBlur",t.target)}),w.$componentsLayer.find(".search-blocks-btn").on("click",function(){var e=y(w.preloaderHTML).css({opacity:"0.8",transition:"0.2s"});w.$componentsLayer.find(".add-component-content").append(e),E.length?a(E,null,e):o().then(function(t){t.forEach(function(t){var e=t.blocks,r=t.themeName,o=t.local;e.forEach(function(t){var e=t.path.slice(t.path.indexOf("/")+1),n=void 0,n=o?w.getAddonDir(r).replace("web/app/","app/")+"/components/"+e+"/thumb.png":"https://my.mobirise.com/data/upload/thumbs/"+r+"/components/"+e+"/thumb.png",i=t._group+(t._searchTags?t._searchTags.toString():"")+t.path.replace("components/",""),t=t._once;E.push({name:e,thumb:n,once:t,searchTags:i,theme:r,local:o})})}),a(E,null,e)})}),w.$componentsLayer.find(".search-block-input").keypress(function(t){13===(t.keyCode||t.which)&&(t.preventDefault(),w.$componentsLayer.find(".search-blocks-btn").click())}),w.$componentsLayer.on("click",".show-more-btn",function(t){var e,n=y(w.preloaderHTML).css({opacity:"0.8",transition:"0.2s"}),i=y(t.target).closest(".show-more-btn"),r=i.find(".show-more-btn__text").text();i.hasClass("components-shown")?(i.nextAll().remove(),i.find(".show-more-btn__text").text(r.replace("Hide","More"))):(i.find(".show-more-btn__text").text(r.replace("More","Hide")),w.$componentsLayer.find(".add-component-content").append(n),e=y(t.target).closest("ul").prev().attr("data-group"),E.length?a(E,e,n):o().then(function(t){t.forEach(function(t){var e=t.blocks,r=t.themeName,o=t.local;e.forEach(function(t){var e=t.path.slice(t.path.indexOf("/")+1),n=void 0,n=o?w.getAddonDir(r).replace("web/app/","app/")+"/components/"+e+"/thumb.png":"https://my.mobirise.com/data/upload/thumbs/"+r+"/components/"+e+"/thumb.png",i=t._group+(t._searchTags?t._searchTags.toString():""),t=t._once;E.push({name:e,thumb:n,once:t,searchTags:i,theme:r,local:o})})}),a(E,e,n)})),i.toggleClass("components-shown")}),w.$componentsLayer.attr("data-theme",w.theme.name),e=y.Deferred(),n=y.Deferred(),w.getThemeAddonsEx(function(t){t=(t=t.filter(function(t){return"theme"===t.type})).map(function(t){return{name:t.name,title:t.title,isAMP:t.name.includes("amp"),local:!!t.installed,cover:t.largeCover}});e.resolve(t)},{type:"theme"},{server:!0}),e.then(function(t){t=w.isAMP()?t.filter(function(t){return t.isAMP}):t.filter(function(t){return!t.isAMP}),n.resolve(t)}),n.promise().then(function(t){w.$componentsLayer.find(".add-component-content").before('<div class="blocks-theme-btn-wrap">\n                            <a class="blocks-theme-btn" href="javascript:void(0)" data-tooltipster="left" title="Choose Blocks Theme">\n                                <img class="blocks-theme-img" src="">\n                                <span class="blocks-theme-name"></span>\n                                <span class="blocks-theme-arrow mbr-icon-angle-down"></span>\n                            </a>\n                        </div>'),(k=t).forEach(function(t){C+='<div class="col-xs-6 col-sm-6 col-md-4 col-lg-3" data-name="'+t.name+'" data-local="'+t.local+'">\n                                <div class="card-wrap">\n                                    <div class="card-img">\n                                        <img data-src="'+t.cover+'" src="'+w.core2path("images/imageplaceholder.jpg")+'">\n                                    </div>\n                                    <span class="card-title">'+t.title+"</span>\n                                </div>\n                            </div>"}),w.$componentsLayer.find(".blocks-theme-btn").find(".blocks-theme-img").attr("src",x.path2app(w.getAddonDir(w.theme.name)+"/cover.jpg")).end().find(".blocks-theme-name").text(w.theme.params.title),w.$componentsLayer.find(".blocks-theme-btn").on("click",function(){w.showDialog({title:_("Choose blocks' theme"),className:"blocks-theme-modal",body:'<div class="row">\n                                        <div class="col-md-4">\n                                            <input class="form-control blocks-theme-input" type="text" placeholder="'+_("Search")+'" value="">\n                                        </div>\n                                    </div>\n                                    <div class="row">\n                                        <div class="col-md-12">\n                                            <div class="blocks-theme-list">\n                                                '+C+"\n                                            </div>\n                                        </div>\n                                    </div>",show:function(i){var e=null;i.on("shown.bs.modal",function(){var t=i.find(".blocks-theme-list img");w.replaceVisibleDataSrc(t)}),i.on("hedden.bs.modal",function(){w.lazyObserver&&w.lazyObserver.disconnect()}),i.find(".blocks-theme-input").on("input",function(t){clearTimeout(e),e=setTimeout(function(){var n=t.target.value.toLowerCase();i.find(".blocks-theme-list > div").each(function(t,e){e=y(e);e.find(".card-title").text().toLowerCase().includes(n)?e.removeClass("hidden"):e.addClass("hidden")})},100)}),i.find(".blocks-theme-list > div > .card-wrap").on("click",function(){i.modal("hide");var l,s,e,c=y(this),u=c.closest("[data-name]").attr("data-name");u!==w.$componentsLayer.attr("data-theme")&&(l=w.$componentsLayer.attr("data-theme"),w.$componentsLayer.attr("data-theme",u),(s=y(w.preloaderHTML)).css({opacity:"0.8",transition:"0.2s"}),w.$componentsLayer.find(".add-component-content").append(s),e=y.Deferred(),"false"===c.closest("[data-name]").attr("data-local")?x.http("https://my.mobirise.com/data/upload/thumbs/"+u+"/params.json?hash="+Math.random(),{success:function(t){e.resolve([t,!1])},error:function(t){console.log(t),e.reject()}}):P(u,function(e){if(e.components){var t,n,i=w.getAddonDir(u),r=y.extend({},w.components);for(t in w.components=w.Core.components={},r)r.hasOwnProperty(t)&&!r[t].alias&&delete r[t];for(n in w.cachedTemplates)w.cachedTemplates.hasOwnProperty(n)&&!r[n]&&delete w.cachedTemplates[n];var o=r,a=[];e.components.forEach(function(t){a.push(w.readComponent2(t,i,e))}),y.when.apply(null,a).then(function(){w.Core.components=w.components=y.extend(w.components,o),w.initComponentsPalette(function(){w.$componentsLayer.find(".add-component-filter").remove(),w.createComponentsFilter(),w.addComponentsFilterTab("Extension",_("Extensions"),_("Show Blocks From Extensions"))}),S=!0,w.$componentsLayer.find(".blocks-theme-btn").find(".blocks-theme-img").attr("src",c.find(".card-img img").attr("src")).end().find(".blocks-theme-name").text(c.find(".card-title").text()),s.remove()})}}),e.then(function(t){var t=h(t,2),e=t[0],n=t[1];try{var i,r=JSON.parse(e),o={};for(i in r.components){var a=r.components[i].path.split("/"),s=/components/.test(r.components[i].path)?r.components[i].path:"components/"+r.components[i].path;o[r.components[i]._group]||(o[r.components[i]._group]=[]),o[r.components[i]._group].push({name:a[a.length-1],thumb:n?w.getAddonDir(u).replace("web/app/","app/")+"/"+s+"/thumb.png":"https://my.mobirise.com/data/upload/thumbs/"+u+"/"+s+"/thumb.png",_once:r.components[i]._once||!1,_searchTags:r.components[i]._searchTags||""})}return[o,n]}catch(t){throw w.alertDlg("Can't get "+u+" theme."),w.$componentsLayer.attr("data-theme",l),console.log(t),t}}).then(function(t){var e,t=h(t,2),n=t[0],i=(t[1],""),r=w.$componentsLayer.find(".add-component-groups");for(e in r.find("> ul").empty(),n){for(var o in i=i+("<h5 data-group="+e.replace(/\s/g,"_")+">"+_(e,"blocks")+"</h5>")+'<ul class="row">',r.find("> ul").append('<li data-group-name="'+e.replace(/\s/g,"_")+'">'+e+"</li>"),n[e]){var a=n[e][o].thumb,s={"search-tags":n[e][o]._searchTags},l={"component-once":n[e][o]._once};i+=w.generateComponentPaletteItemHtml(n[e][o].name,a,"not-available",l,"",s)}i+="</ul>"}w.insertComponentPaletteHTML(i),w.$componentsLayer.find(".blocks-theme-btn").find(".blocks-theme-img").attr("src",c.find(".card-img img").attr("src")).end().find(".blocks-theme-name").text(c.find(".card-title").text())},function(){w.$body.removeClass("app-add-component-open"),w.$componentsToggleBtn.trigger("click"),w.$body.off("keyup.escListenerComponentsList")}).always(function(){w.$componentsLayer.find(".show-more-btn").length||w.$componentsLayer.find(".app-layer-cont > ul:not(.app-layer-cont-user, :empty)").filter(function(){return!y(this).prev("h5").text().toLowerCase().includes("blockpack")}).each(function(){var t=y(this).prev("h5").text(),t=y(r(t)),e=y(this).children().last().find("img").attr("src");t.find("img").attr("src",e),y(this).append(t)}),w.cleanOnceComponents(),s.remove()}))})}})})}))},sidebarOpened:function(){this.hideComponentsList()},showProjectSettings:function(){this.hideComponentsList()},updatedUserBlocks:function(){t&&(t=!1,w.$componentsLayer.find(".ext-link").insertAfter(w.$componentsLayer.find(".app-layer-cont-user")))},hideComponents:function(t){!y(".app-template").hasClass("scaled")||t&&y(t.target).is("iframe")||n()},clickTemplate:function(t){y(".app-template").hasClass("scaled")&&(y(".app-template").removeClass("scaled"),w.Core.$body.removeClass("scaled"),w.Core.$template.removeClass("scaled"),(t=y(t.target).is("[data-app-component-id]")?y(t.target):y(t.target).closest("[data-app-component-id]")).length)&&(t=t.offset().top,w.Core.$body.closest("html").stop().animate({scrollTop:t},0))}}})},["jQuery","mbrApp","TR()","Bridge"])},function(t,e,n){"use strict";var f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};defineM("app-component-params",function(B,N,F,A){function T(t){t=t.match(/^data:([A-Za-z-+\/]+);base64,(.+)$/);return 3!==t.length?(console.error("Invalid base64 image string"),null):t[2]}function j(t){var e,n=/\-\d+x\d+$/,t=A.splitPath(t),i=t.name;return e=(e=i.match(n))&&e[0]||"",30<(i=(i=i.replace(n,"")).replace(/\-h_[a-z0-9]+$/,"")).length&&(i=i.substring(0,29)),t.dir+"/"+i+"-h_"+Date.now().toString(36)+e+"."+t.ext}function L(n){return new Promise(function(i,r){var t=document.createElement("canvas");t.width=n.naturalWidth,t.height=n.naturalHeight,document.getElementsByTagName("body")[0].appendChild(t);t.getContext("2d").drawImage(n,0,0);var e=t.toDataURL("image/jpeg"),t=(t.remove(),function(t,e){e=e||"";for(var n=window.atob(t.replace("data:image/jpeg;base64,","")),i=[],r=0;r<n.length;r+=512){for(var o=n.slice(r,r+512),a=new Array(o.length),s=0;s<o.length;s++)a[s]=o.charCodeAt(s);var l=new Uint8Array(a);i.push(l)}return new Blob(i,{type:e})}(e,"image/jpeg"));A.transformImage(t,{quality:60,width:800},function(n){A.loadLocalBlob(n,function(t){A.removeLocal(n);var e=new FileReader;e.readAsDataURL(t),e.onload=function(){i(e.result||"")},e.onerror=function(t){r(t)}})})})}N.regExtension({name:"component-params",global:{$componentsParams:B("#edit-component-params"),prepareComponentParams:function(t,e){var n=this.Core.getComponentParams(t),i=this.Core.getComponent(t),r=!n||!n.default||B.isEmptyObject(n.default);if(this.applyFilter("preventParamsShow",r,t))return!1;this.fire("prepareComponentParams",t),this.Core.focusComponentBlock(t);var o,a="";for(o in n.default){var s=n.default[o],l=n.current[o],c="",u="",h="",d="";switch(s.halfWidth&&(d+=" half-width"),s.inline&&(d+=" inline-param"),void 0!==s.condition&&(c='data-app-condition="'+JSON.stringify(s.condition).replace(/\"/g,"'")+'"'),void 0!==s.regexp&&(u='data-app-regexp="'+s.regexp+'"'),void 0!==s.regexpError&&(h='<small class="regexp-error text-warning" style="display: none;">'+s.regexpError+"</small>"),s.type){case"separator":a+=['<div class="separator '+d+'" '+c+">",F(s.title,N.theme.name)||"","</div>"].join("");break;case"label":a+=['<div class="'+d+'" '+c+">",F(s.title,N.theme.name)||"","</div>"].join("");break;case"text":a+=['<div class="form-group '+d+'" '+c+" "+u+">","<label>"+F(s.title,N.theme.name)+"</label>",'<input name="'+o+'" type="text" class="form-control" value="'+l+'">',h,"</div>"].join("");break;case"textarea":a+=['<div class="form-group '+d+'" '+c+" "+u+">","<label>"+F(s.title,N.theme.name)+"</label>",'<textarea name="'+o+'" class="form-control">'+l+"</textarea>",h,"</div>"].join("");break;case"switch-off":l=!l;case"switch":a+=['<div class="togglebutton '+d+'" '+c+">",'<label style="width: 100%;">','<input type="checkbox" name="'+o+'" '+(l?"checked":"")+">",'<span class="toggle pull-right" style="margin-top: 3px;"></span>',F(s.title,N.theme.name),"</label>","</div>"].join("");break;case"radio":a+=['<div class="radio radio-primary '+d+'" '+c+"><label>",'<input name="'+(s.name||o)+'" data-name="'+o+'" type="radio" '+(l?"checked":"")+' value="'+o+'">','<span class="circle"></span>','<span class="check"></span>',F(s.title,N.theme.name),"</label></div>"].join("");break;case"check":for(var f in a=(a+='<div class="check '+d+'" '+c+">")+('<span class="label">'+F(s.title,N.theme.name)+"</span><br>"),s.values){var p=0;for(x in l)l[x]==f&&(p=1);a+=['<input type="checkbox" id="'+o+f+'" value="'+f+'" name="'+o+'" '+(p?"checked":"")+">",'<label for="'+o+f+'">'+s.values[f]+"</label><br>"].join("")}a+="</div>";break;case"select":for(var m in a=(a=(a+='<div class="select '+d+'" '+c+">")+("<label>"+F(s.title,N.theme.name)+"</label>"))+('<select class="form-control" name="'+o+'"'+(s.multiple?" multiple":"")+">"),s.values)if(s.multiple){var g=!1;if(l&&l.length)for(var b=0;b<l.length;b++)if(l[b]===m){g=!0;break}a+='<option value="'+m+'"'+(g?" selected":"")+">"+s.values[m]+"</option>"}else a+='<option value="'+m+'" '+(l==m?"selected":"")+">"+s.values[m]+"</option>";a=a+"</select>"+"</div>";break;case"fonts":var a=(a+='<div class="fonts '+d+'" '+c+">")+("<label>"+F(s.title,N.theme.name)+"</label>"),l=l||{},v=N.getAccesibleFonts();for(f in a+='<select class="form-control" name="'+o+'">',v){var y=v[f];a+='<option value="'+y.name+'" '+((l||{}).name==y.name?"selected":"")+'><span style="font-family:'+y.css+'">'+y.name+"</span></option>"}a=a+"</select>"+"</div>";break;case"color":a+=['<div class="color '+d+'" '+c+">","<label>"+F(s.title,N.theme.name)+"</label>",'<input type="text" class="spectrum" name="'+o+'" value="'+l+'">',"</div>"].join("");break;case"range":a+=['<div class="range form-group'+(d?" "+d:"")+'"'+(c?" "+c:"")+">","<label>"+F(s.title,N.theme.name)+"</label>",'<div class="slider" data-min="'+(s.min||0)+'" data-max="'+(s.max||50)+'" data-step="'+(s.step||1)+'" name="'+o+'" data-value="'+(l||0)+'"></div>','<input type="text" name="'+o+'" style="display: none;" value="'+(l||0)+'">',"</div>"].join("");break;case"image-tabs":var w="",_="";for(f in l)if("function"!=typeof l[f]){var x,M=l[f].active;for(x in w+='<li class="'+(M?"active":"")+'" style="background-image: url(\''+l[f].image+'\')"><span class="sort-handle mbr-icon-exchange"></span></li>',_+='<div class="tab-params'+(M?" active":"")+'">',s._params){var S=s._params[x].type,k=s._params[x].title,C=s._params[x].values,E=l[f][x],P="";switch(void 0!==s._params[x].condition&&(P='data-app-condition="'+JSON.stringify(s._params[x].condition).replace(/\"/g,"'")+'"'),S){case"switch-off":E=!E;case"switch":_+=['<div class="togglebutton" '+P+">",'<label style="width: 100%;">','<input type="checkbox" data-type="switch" data-name="'+x+'" name="'+o+'" '+(E?"checked":"")+">",'<span class="toggle pull-right" style="margin-top: 3px;"></span>',k,"</label>","</div>"].join("");break;case"text":_+=['<div class="form-group" '+P+">","<label>"+k+"</label>",'<input data-name="'+x+'" name="'+o+'" type="text" data-type="text" class="form-control" value="'+E+'">',"</div>"].join("");break;case"range":_+=['<div class="range form-group" '+P+">","<label>"+k+"</label>",'<div class="slider" data-min="'+(s._params[x].min||0)+'" data-max="'+(s._params[x].max||1)+'" data-step="'+(s._params[x].step||.1)+'" name="'+o+'" data-value="'+(E||s._params[x].default||.5)+'"></div>','<input type="text"  data-type="range" data-name="'+x+'" name="'+o+'" style="display: none;" value="'+(E||0)+'">',"</div>"].join("");break;case"color":_+=['<div class="color" '+P+">","<label>"+k+"</label>",'<input type="text" data-type="color" class="spectrum" data-name="'+x+'" name="'+o+'" value="'+(E||s._params[x].default)+'">',"</div>"].join("");break;case"select":var A,T="";for(A in C)T+='<option value="'+A+'" '+(E==A?"selected":"")+">"+C[A]+"</option>";_+=['<div class="select" '+P+">","<label>"+k+"</label>",'<select class="form-control" data-type="select" data-name="'+x+'" name="'+o+'">',T,"</select>","</div>"].join("");break;case"image":var j=l[f].thumb||E;_+=['<div class="image" '+P+">","<label>"+k+"</label>",O=(O='<img data-type="image" data-name="'+x+'" name="'+o+'" '+(l[f].thumb?'data-thumb-img="thumb"':"")+' style="width: 50%; margin-bottom: 5px; cursor: pointer; float: right;" src="$SRC$" alt="">').replace(/\$SRC\$/g,j),"</div>"].join("")}}_+="</div>"}a+=['<div class="image-tabs '+d+'" data-name="'+o+'" '+c+">","<label>"+F(s.title,N.theme.name)+"</label>",'<div class="images">','<div class="add-item btn btn-primary"><i class="mbr-icon-plus"></i></div>',"<ul>",w,'<li class="add-item btn btn-primary"><i class="mbr-icon-plus"></i></li>',"</ul></div>",'<div class="cont">'+_+"</div>",'<div class="foot"><div class="remove-item btn btn-material-red"><i class="mbr-icon-trash"></i> '+F("Remove")+"</div></div>","</div>"].join("");break;case"image":var L,O='<img class="background-thumb" data-type="image" data-name="'+x+'" name="'+o+'" src="$SRC$" alt="">';l&&(L=l),L=this.applyFilter("getExternalThumb",L,l),O=O.replace(/\$SRC\$/g,L),a+=['<div class="image" '+c+">",'<span class="label">'+F(s.title,N.theme.name)+"</span>",O,"</div>"].join("");break;case"video":var D=(void 0!==l.url?l:s.default).url,R=((void 0!==l.aspectratio?l:s.default).aspectratio,(void 0!==l.autoplay?l:s.default).autoplay),I=(void 0!==l.loop?l:s.default).loop;a=(a+='<div class="video" '+c+">")+['<div class="form-group">',"<label>"+F(s.title,N.theme.name)+"</label>",'<input name="'+o+'" data-name="url" type="text" class="form-control" value="'+D+'">',"</div>"].join(""),void 0!==R&&(a+=['<div class="togglebutton">','<label style="width: 100%;">','<input type="checkbox" data-name="autoplay" name="'+o+'" '+(R?"checked":"")+">",'<span class="toggle pull-right" style="margin-top: 3px;"></span>',"Autoplay","</label>","</div>"].join("")),void 0!==I&&(a+=['<div class="togglebutton">','<label style="width: 100%;">','<input type="checkbox" data-name="loop" name="'+o+'" '+(I?"checked":"")+">",'<span class="toggle pull-right" style="margin-top: 3px;"></span>',"Loop","</label>","</div>"].join("")),a+="</div>";break;case"map":a+=['<div class="form-group '+d+'" '+c+">","<label>"+F(s.title,N.theme.name)+"</label>",'<textarea name="'+o+'" class="form-control">'+N.escapeHtml(l.address)+"</textarea>",'<div class="map-update-wrapper" style="text-align: right"><span style="font-size: 14px; display: block; text-align: right; padding-top: 7px">'+F("Type address or insert")+' <a href="https://mobirise.com/help/how-to-add-google-map-to-website-781.html" target="_blank">'+F("google map iframe")+'</a></span><button class="btn btn-primary map-update" disabled>'+F("Update")+"</button></div>","</div>"].join("")}}a=this.applyFilter("prepareComponentParams",a,t),this.destroyDragParams(),this.$componentsParams.attr("data-component-id",t),this.$componentsParams.find("> .cont").html(a);r=i._anchor||"",r&&this.$componentsParams.find("> .cont").append('<div class="component-anchor">'+r+"</div>"),this.$componentsParams.find(".fonts select").dropdown({absolutePos:!0,align:"right"}),this.$componentsParams.find(".fonts .dropdownjs").each(function(){var t=B(this).data("select"),t=B(t.data("dropdownjs-ul"));t.find("li").each(function(){var t=N.getFont(B(this).attr("value"));B(this).css("font-family",t.css)}),t.addClass("fonts-dropdownjs")}),this.$componentsParams.find("select").dropdown({absolutePos:!0,align:"right"}),r=this.Core.$template.find("[data-app-component-id="+t+"] .app-component-content > *");return this.fire("preparedComponentParams",t,i,r),this.initDragParams(t),this.checkConditionsComponentParams(t),"function"==typeof i._onParamsShow&&e&&i._onParamsShow(e,this.$componentsParams.find("> .cont"),this.Core.$template.find("[data-app-component-id="+t+"] .app-component-content > *")),!0},calulateComponentParams:function(){var t,e,n,i,r,o,a,s=this.$componentsParams.data("app-params-btn");s&&(t=[150,550],e=this.$componentsParams.find("> .cont").scrollTop(),this.$componentsParams.find("> .cont").css({maxHeight:""}),o=this.$componentsParams.height(),a=!1,n=(this.appElements.window.height-this.appElements.iframe.height)/2-30,s=s.getBoundingClientRect(),i=this.appElements.window.height-this.appElements.iframe.height+s.top+s.height-parseInt(n),r=(this.appElements.window.width-this.appElements.iframe.width)/2+this.appElements.iframe.width-s.right,this.$componentsParams.removeClass("top"),i+60+o>=this.appElements.window.height&&((o=i-o-s.height)<this.appElements.window.height-this.appElements.iframe.height-parseInt(n)?(s=this.appElements.window.height-i-30,a=Math.min(t[1],Math.max(t[0],s))):(i=o,this.$componentsParams.addClass("top"))),this.$componentsParams.css({top:i,right:r}),this.$componentsParams.find("> .cont").css({maxHeight:a||""}).scrollTop(e),this.$componentsParams.find("select").each(function(){B(this).data("dropdownjs-ul")&&!B(this).is("[multiple]")&&B(B(this).removeClass("focus").data("dropdownjs-ul")).removeClass("focus")}))},showComponentParams:function(t,e){this.$componentsParams.data("app-params-btn",t),this.calulateComponentParams();var n=N.Core.getComponent(e),i=N.Core.$body.find("[data-app-component-id="+e+"]");setTimeout(function(){N.$body.addClass("app-component-params-open"),this.fire("showedComponentParams",n,i)}.apply(this),0)},hideComponentParams:function(){this.fire("hideComponentParams"),this.$componentsParams.removeData("app-params-btn"),this.$body.removeClass("app-component-params-open"),this.fire("hiddenComponentParams"),this.$componentsParams.find("select").each(function(){B(this).data("dropdownjs-ul")&&B(B(this).removeClass("focus").data("dropdownjs-ul")).remove()})},changeComponentParams:function(r){this.fire("changeComponentParams");var t,e,o=B(r).parents("[data-component-id]:eq(0)").attr("data-component-id"),n=this.Core.getComponentParams(o),a=B(r).attr("name"),i=(a&&n.default[a]||(a=B(r).attr("data-name")),n.default[a].type),s=this,l=!!(e=B(r).parents("[data-app-regexp]").attr("data-app-regexp"))&&(t=e.replace(/.*\/([gimy]*)$/,"$1"),e=e.replace(new RegExp("^/(.*?)/"+t+"$"),"$1"),new RegExp(e,t)),c=B(r).parent().children(".regexp-error");switch(i){case"text":case"textarea":h=r.value,l&&(h.match(l)?c.hide():(h="",c.show()));break;case"switch-off":h=!r.checked;break;case"switch":h=r.checked;break;case"radio":B(r).parents("#edit-component-params:eq(0)").find("[name="+B(r).attr("name")+"][data-name!="+a+"]").each(function(){s.Core.changeComponentParams(o,B(this).attr("data-name"),this.checked)}),h=r.checked;break;case"check":var u=B(r).parent().find("[name="+a+"]:checked"),h=[];u.each(function(){h.push(this.value)});break;case"select":h=B(r).val();break;case"fonts":u=B(r).val();u?(h=N.getFont(u)).name||console.log("Error: unknown font selected:"+u):h={};break;case"image":var d={image:{width:2e3,quality:70,src:n.current[a]}};return void N.showMediaImageDialog(d,function(){s.Core.changeComponentParams(o,a,d.image.src),s.checkConditionsComponentParams(o)},!1,!0);case"color":case"range":h=B(r).val();break;case"video":var u=B(r).parents(".video:eq(0)"),f=u.find("[data-name=url]").val(),p=u.find("[data-name=aspectratio]").val(),m=f,g=(g=u.find("[data-name=loop]")).length?g.is(":checked"):void 0,u=(u=u.find("[data-name=autoplay]")).length?u.is(":checked"):void 0,b=f.match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]*).*/),v=b?11==b["embed/"==b[2]?3:2].length:0,y=f.match(/https?:\/\/(?:www\.)?vimeo.com\/(?:channels\/(?:\w+\/)?|groups\/([^\/]*)\/videos\/|album\/(\d+)\/video\/|)(\d+)(?:$|\/|\?)/);b&&v?f="https://www.youtube.com/embed/"+b[2]+"?rel=0&amp;"+(u?"mute=1":"")+"&showinfo=0&autoplay="+(u?1:0)+"&loop="+(g?"1&playlist="+b[2]:0):y&&y[3]&&(f="https://player.vimeo.com/video/"+y[3]+"?autoplay="+(u?1:0)+"&loop="+(g?1:0)),(h={}).url=f,h.loop=g,h.rawUrl=m,h.autoplay=u,h.aspectratio=p,h.width="4:3"==p?800:1280,h.height="4:3"==p?600:720;break;case"map":return void this.fire("map.changeComponentParams",o,a,r.value,B(r).closest(".form-group"));case"image-tabs":h=[];var w=B(r).closest(".tab-params").index(),_=B(r).attr("data-name");switch(h[w]={},B(r).attr("data-type")){case"switch":h[w][_]=r.checked;break;case"select":case"text":case"range":case"color":h[w][_]=r.value;break;case"image":var x=B(r).attr("data-thumb-img"),M={image:{width:2e3,quality:70,src:n.current[a][w][_]}},S="carousel"===n.default[a].subtype&&!!n.default[a].fullscreen,k="carousel"===n.default[a].subtype,C=n.default[a].fullscreen,E=N.Core.getComponentBlock(o),P=void 0,P=k?C?B(E).find(".carousel-item").eq(w):B(E).find(".carousel-item").eq(w).find("img:visible"):B(E).find(".mbr-gallery-item").eq(w).find("img:visible");return S||(M.image.alt=n.current[a][w].alt,M.image.title=n.current[a][w].title),void N.showMediaImageDialog(M,function(){function i(t){B(r).parent().find("> img").attr("src",t),B(r).parents(".image-tabs:eq(0)").find(".images li.active").css("background-image",'url("'+t+'")'),s.Core.changeComponentParams(o,a,h),s.checkConditionsComponentParams(o),s.calulateComponentParams(),P.siblings(".m-img-preloader").remove()}var t,e=P.width(),n=P.height();P.before('<div class="m-img-preloader" style="width:'+e+"px; height:"+n+'px;">\n                                            '+N.preloaderHTML+"\n                                        <div>"),h[w][_]=M.image.src,S||(h[w].alt=M.image.alt,h[w].title=M.image.title),x?/(gif|svg|ico|tif|webp)$/i.test(M.image.src)||(t=B("<img/>")).attr("src",M.image.src).attr("crossorigin","anonymous").on("load",function(){L(t[0]).then(function(t){var e=M.image.src.match(/[^\/?=&]+\.(?:jpg|jpeg|png)/)[0],n=j(N.projectPath+"/assets/images/"+e.replace(/\.jpeg$/,".jpg"));A.saveLocalBase64(n,T(t),function(t){t?(console.log("saveLocalBase64"),h[w][x]=A.path2app(n),i(A.path2app(n))):(console.warn("Unable to get thumb"),i(M.image.src))})})}):i(M.image.src)},S,!0,!1,o,!1,P)}}this.Core.changeComponentParams(o,a,h),this.checkConditionsComponentParams(o),this.calulateComponentParams(),this.fire("changedComponentParams")},checkConditionsComponentParams:function(t){var u=this.Core.getComponentParams(t),h=this.Core.getComponent(t);this.$componentsParams.find("[data-app-condition]").each(function(){var t=JSON.parse(B(this).attr("data-app-condition").replace(/\'/g,'"')),e=!0;if("string"==typeof t&&"function"==typeof h[t])e=h[t]();else if("object"==(void 0===t?"undefined":f(t))&&t.length)for(var n in t){for(var i=t[n].match(/^!/i),r=t[n].replace(/^!(.*?)/i,"$1").split("."),o=u.current,a=u.default,s=0;s<r.length&&void 0!==o;s++)if(o=o[r[s]],B.isArray(o)){for(var l=-1,c=0;c<o.length;c++)if(o[c].active){l=c;break}o=o[l],a=a[r[s]]&&a[r[s]]._params}else a=a[r[s]]&&a[r[s]].default;if(void 0!==(o=void 0===o?a:o)){n=!o;if(n=i?!n:n){e=!1;break}}}e?B(this).show():B(this).hide()})},initDragParams:function(s){var l=this;l.$componentsParams.find(".image-tabs .images > ul").each(function(){var a;B(this).sortable({axis:"x",items:"> li:not(:last-child)",handle:".sort-handle",containment:"#edit-component-params",placeholder:"ui-sortable-placeholder"}).on("sortstart",function(t,e){a=e.item.index()}).on("sortstop",function(t,e){var n=e.item.index();if(n!=a){var i=n<a?"insertBefore":"insertAfter",i=(l.$componentsParams.find(".image-tabs .cont > div:eq("+a+")")[i](l.$componentsParams.find(".image-tabs .cont > div:eq("+n+")")),e.item.parents("[data-name]:eq(0)").attr("data-name")),r=l.Core.getComponentParams(s,!0).current[i];if(n>=r.length)for(var o=n-r.length;1+o--;)r.push(void 0);r.splice(n,0,r.splice(a,1)[0]),N.Core.$document.trigger("change.cards"),N.Core.changeComponentParams(s)}})})},destroyDragParams:function(){this.$componentsParams.find(".image-tabs .images > ul").each(function(){B(this).sortable("destroy")})},selectComponentParamsTab:function(t,e){var n=t.index(),i=t.parents(".image-tabs:eq(0)").find(".cont > div:eq("+n+")"),r=t.parent().find("> .active"),o=t.parents("[data-component-id]:eq(0)").attr("data-component-id"),a=t.parents(".image-tabs:eq(0)").attr("data-name"),a=this.Core.getComponentParams(o,!0).current[a];r.length&&(a[r.index()].active=!1),a[n].active=!0,t.addClass("active").siblings().removeClass("active"),i.addClass("active").siblings().removeClass("active"),this.checkConditionsComponentParams(o)},addComponentParamsTab:function(t,e){var n=t.parent(),i=t.parents("[data-component-id]:eq(0)").attr("data-component-id"),t=t.parents(".image-tabs:eq(0)").attr("data-name"),u=this.Core.getComponentParams(i,!0).current[t],r=B(e.target).closest(".image-tabs").find("> div > ul").children().length-1,o=[],h=n.find("> .active").index(),d=void 0!==u[h].thumb,a=0<=N.Core.getComponent(i)._name.toLowerCase().indexOf("slider"),t={image:{width:2e3,quality:70,src:u[h].image}};a||(t.image.alt="",t.image.title=""),N.showMediaImageDialog(t,function(s){var l=0;function c(){N.Core.changeComponentParams(i),N.Core.fire("addComponentParamsTab",i)}function e(a,n){return new Promise(function(i,t){function r(){var t=B.extend(!0,{},u[h],a);t.active=!1,u.push(t),void 0!==n&&n+1!==s.length||c(),1<s.length?(l++,N.progressBar("show",F("Loading images"),"  ",!0),N.progressBar(l+" / "+s.length,!0),N.progressBar({progress:100/s.length*l},"","",!0),l===s.length&&(N.progressBar("hide"),N.hidePreloader())):N.hidePreloader()}if(!d)return r(),i();var e,o=s[n]||s.image.src;/(gif|svg|ico|tif|webp)$/i.test(o)?(a.thumb=o,r(),i()):(e=B("<img/>")).attr("src",o).attr("crossorigin","anonymous").on("load",function(){L(e[0]).then(function(t){var e=o.match(/[^\/?=&]+\.(?:jpg|jpeg|png)/)[0],n=j(N.projectPath+"/assets/images/"+e.replace(/\.jpeg$/,".jpg"));A.saveLocalBase64(n,T(t),function(t){t?(a.thumb=A.path2app(n),r()):console.warn("Unable to get thumb"),i()})})})})}var n=Promise.resolve();if("object"!==(void 0===s?"undefined":f(s))||Array.isArray(s))for(var t=0;t<s.length;t++)!function(t){o[r+t]={},o[r+t].image=s[t],a||(o[r+t].alt="",o[r+t].title=""),n=n.then(function(){return e(o[r+t],t)})}(t);else o[r]={},o[r].image=s.image.src,a||(o[r].alt="",o[r].title=""),[].push(e(o[r]))},a,!0,!0)},removeComponentParamsTab:function(t,e){var n,i,r,o=t.parents(".image-tabs:eq(0)").find(".images > ul"),a=t.parents(".image-tabs:eq(0)").find(".cont");o.find("> li:not(.add-item)").length<=1||(n=t.parents("[data-component-id]:eq(0)").attr("data-component-id"),t=t.parents(".image-tabs:eq(0)").attr("data-name"),i=o.find("> .active").index(),t=this.Core.getComponentParams(n,!0).current[t],r=o.find("> li:eq("+(0<=i-1?i-1:i+1)+"):not(.add-item)"),t.splice(i,1),o.find("> li:eq("+i+")").remove(),a.find("> div:eq("+i+")").remove(),this.Core.changeComponentParams(n),r.click())}},events:{load:function(){var n,r=this;r.$template.on("click",".app-component .component-params",function(t){t.preventDefault();var e=B(this).parents("[data-app-component-id]:eq(0)").attr("data-app-component-id");r.$componentsParams.attr("data-component-id")==e&&r.$body.hasClass("app-component-params-open")?(r.Core.focusComponentBlock("x"),r.hideComponentParams()):r.prepareComponentParams(e,t)&&r.showComponentParams(t.target,e)}),r.$template.on("click",".app-component .component-remove",function(){var i=B(this).parents("[data-app-component-id]:eq(0)").attr("data-app-component-id");r.fire("removeComponent",i),A.getSettings("dontShowRemoveBlockModal",function(t){function e(){r.Core.getComponent(i)._global&&1<Object.keys(r.Core.resultJSON).length?r.confirmDlg(F("This block is global. Do you want to remove it from all pages?"),function(t){t?r.Core.removeComponent(i,N.Core.currentPage,!0):r.Core.removeComponent(i)}):r.Core.removeComponent(i),r.fire("removedComponent",i)}if("true"!==t){if(B("#modal-exist").length)return;var n=N.showDialog({id:"modal-exist",body:['<div class="form-group">',F("Do you want to remove the $ID$ block?").replace("$ID$","<b>#"+r.$template.find('div[data-app-component-id="'+i+'"] .app-component-content > *').attr("id")+"</b>")+"</div>",'<div class="dont-show-more clearfix">','   <div class="togglebutton">','       <label style="width: 100%;">','           <input type="checkbox" id="dont-show-again">','           <span class="toggle" style="margin-top: -6px;"></span>',F("Don't show again"),"       </label>","   </div>","</div>"].join("\n"),buttons:{cancel:{label:F("Cancel"),className:"btn-default"},success:{label:F("Ok"),className:"btn-primary",callback:function(){var t=n.find("#dont-show-again")[0].checked;A.setSettings("dontShowRemoveBlockModal",t),e()}}}})}else e()})}),r.$template.on("click",".app-component .component-clone",function(t){t.preventDefault();t=B(this).parents("[data-app-component-id]:eq(0)").attr("data-app-component-id");r.Core.cloneAndInsertComponent(t)}),r.$template.on("mousedown touchstart",".app-component .app-component-content",function(t){n=B(this).parents("[data-app-component-id]:eq(0)").find("[contenteditable]:focus").length}),r.$template.on("click",".app-component .app-component-content",function(t){t.preventDefault();var e=B(this).parents("[data-app-component-id]:eq(0)");n?n=void 0:(e=e.attr("data-app-component-id"),r.$body.hasClass("app-component-params-open")?(r.Core.focusComponentBlock("x"),r.hideComponentParams()):(r.Core.focusComponentBlock(e),B(t.target).is("img[data-app-edit], .mbr-nav-toggle, [data-app-prevent-settings]")||B(t.target).parents(".mbr-google-map:eq(0)").length||B(t.target).parents("[data-app-prevent-settings]:eq(0)").length||r.fire("componentClicked",e,t)))}),r.$template.on("scroll",function(){r.calulateComponentParams()}),r.$componentsParams.on("change input","input, textarea, select",function(){r.changeComponentParams(this)}),r.$componentsParams.on("click",".image .btn, .image img",function(){r.changeComponentParams(this)}),r.$componentsParams.on("click",".image-tabs .images > ul > li:not(.add-item, .active)",function(t){r.selectComponentParamsTab(B(this),t)}),r.$componentsParams.on("click",".image-tabs .images > ul > li.add-item",function(t){r.addComponentParamsTab(B(this),t)}),r.$componentsParams.on("click",".image-tabs .images >div.add-item",function(t){r.addComponentParamsTab(B(this).parent().find("li.add-item"),t)}),r.$componentsParams.on("click",".image-tabs .foot .remove-item",function(t){r.removeComponentParamsTab(B(this),t)}),r.$template.on("mousedown touchstart",".app-component .sortable",function(){r.hideComponentParams()}),r.Core.on(["showedPopover"],function(){r.hideComponentParams()}),N.on(["showedPopup"],function(){r.hideComponentParams()}),r.Core.addFilter("prepareComponent",function(t){return F(t)}),r.Core.addFilter("changeComponentParams",function(t,e,n,i){return N.applyFilter("changeComponentParams",t,e,n,i)})},resizeTemplate:function(){this.calulateComponentParams(),this.hideComponentParams()},toggleComponents:function(){this.Core.focusComponentBlock("x"),this.hideComponentParams()},removeComponent:function(){this.hideComponentParams()},sidebarOpened:function(){this.Core.focusComponentBlock("x"),this.hideComponentParams()},openThemeSettings:function(){this.Core.focusComponentBlock("x"),this.hideComponentParams()},showPublishModal:function(){this.Core.focusComponentBlock("x"),this.hideComponentParams()}}})},["jQuery","mbrApp","TR()","Bridge"])},function(t,e,n){"use strict";var I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};defineM("app-theme-settings",function(d,f,p,n){var t={OPEN:"app-theme-settings-open",TOGGLE_VISIBLE:"app-theme-settings-toggle-visible"},e={BASE:"#theme-settings",TOGGLE:".app-theme-settings-toggle"},s={},m="";function i(t,e){var n,i;function r(){(n=!!i)&&(t.apply(i.this,i.args),i=null,setTimeout(r,e))}return function(){i={this:this,args:arguments},n||r()}}o="."+(r="settings.toggle"),a=!1,l=[],u.prototype.setTarget=function(t){return this.target=t,this},u.prototype.open=function(){return this.target&&(this.$elm.tooltipster("hide").tooltipster("content",p("Close")),this.target.open()),this},u.prototype.close=function(){return this.target&&(this.$elm.tooltipster("hide").tooltipster("content",this.$elm.data("tooltipster-initialTitle")),this.target.close(),"true"!==f.appSettings.showSiteStylesBtn)&&f.$themeToggleBtn.css("visibility","hidden"),this},u.prototype.onClick=function(){this.target&&(this.target.isOpen()?this.close():this.open())},u.prototype.show=function(){return this.$elm.addClass(t.TOGGLE_VISIBLE),this},u.prototype.hide=function(){return this.$elm.removeClass(t.TOGGLE_VISIBLE),this},u.closeAll=function(){l.forEach(function(t){t.close()})};var r,o,a,l,c=u;function u(t){if(a||(a=!0,d(f.iframe).on("click"+o,u.closeAll),f.on("sidebarOpened",u.closeAll),f.on("toggleComponents",u.closeAll),f.on("clickBody",function(t){if(!d(t.target).closest(".dropdownjs-ul").length){for(var e=d(t.target).parents().add(t.target),n=0;n<l.length;n++){var i=l[n],r=i.target&&i.target.getElm();if(i.$elm.filter(e).length)return;if(r&&(r.filter?r:d(r)).filter(e).length)return}u.closeAll()}})),!(t=t||{}).selector)throw new Error("Unknown selector! For example: new Toggle({selector: '.btn-toggle'}).");this.$elm=d(t.selector),t.target&&(this.target=t.target),t.visible&&this.show();var t=this.$elm.data(r);t?(t=l.indexOf(t),l[0<=t?t:l.length]=this):l.push(this),this.$elm.data(r,this),this.$elm.off("click"+o).on("click"+o,d.proxy(this.onClick,this))}b="."+(g="settings.sidebar"),f.on("sidebarOpened",function(){h&&d(h).spectrum("hide")}),_.prototype.isOpen=function(){return f.$body.hasClass(this.classNameOpen)},_.prototype.open=function(){var n=this;return this.callbacks.open&&this.callbacks.open(),f.$body.addClass(this.classNameOpen),y.call(this),f.$body.on("keyup.escListenerThemeSettings",function(t){var e=f.$body;"Escape"===t.key&&e.hasClass("app-theme-settings-open")&&!e.hasClass("app-site-code-editor-open")&&(n.close(),t.stopPropagation())}),this},_.prototype.close=function(){return f.$body.removeClass(this.classNameOpen),f.$body.off("keyup.escListenerThemeSettings"),this},_.prototype.getElm=function(){return this.$elm};var h,g,b,v=_;function y(){function n(t,e){return-1==(e=e.map(function(t){return t.toUpperCase()})).indexOf(t.toUpperCase())}this.$elm.find('[data-setting-type^="color"] input').spectrum("destroy").spectrum({showButtons:!1,preferredFormat:"hex",showInput:!0,showPaletteOnly:!0,togglePaletteOnly:!0,togglePaletteMoreText:p("More")+" >",togglePaletteLessText:p("Less")+" <",maxSelectionSize:1,palette:f.getThemeColorsSet(7),show:function(){h=this},move:function(t){d(this).val(t.toHexString()).trigger("change"+b)},hide:function(t){var e;t&&((e=f.projectSettings.theme.additionalSetColors)?n(t.toHexString(),e)&&n(t.toHexString(),f.getThemeColorsSet(7)[0])&&(e.length<7?e.push(t.toHexString()):(e.unshift(t.toHexString()),e.pop())):n(t.toHexString(),f.getThemeColorsSet(7)[0])?f.projectSettings.theme.additionalSetColors=[t.toHexString()]:f.projectSettings.theme.additionalSetColors=[])}})}function w(){var e="",l=this.settings,t=this;this.$elm.find('[data-setting-type^="color"] input').spectrum("destroy"),l.getSource().forEach(function(t){e+=function t(e){var n="";e.title=e.title&&p(e.title);switch(e.type){case"title":n+='<h4 class="app-layer-title">'+R(e.title)+"</h4>";break;case"subtitle":n+='<h5 class="app-layer-subtitle">'+R(e.title)+"</h5>";break;case"color":n+='<div class="app-layer-color" data-setting-name="'+e.var+'" data-setting-type="color"><label>'+R(e.title)+'</label><input class="mbr-color" type="text" value="'+R(l.get(e.var))+'"></div>';break;case"group":for(var i in n+='<div class="app-layer-group'+(e.class?" app-layer-group-"+e.class:"")+'" data-group-name="'+(e.name||"")+'">',e.title&&(n+="<label>"+R(e.title)+"</label>"),e.set)n+=t(e.set[i]);e.isCustom&&(n+='<i class="mbr-icon-trash remove-font" data-font-name="'+(e.name||"")+'"></i>'),n+="</div>";break;case"colors":for(var i in n+='<div class="app-layer-color" data-setting-type="colors"><label>'+R(e.title)+'</label><div class="app-layer-color-set">',e.set){var r=e.set[i].var;n+='<input type="text" class="mbr-color" name="'+r+'" value="'+R(l.get(r))+'"> '}n+="</div></div>";break;case"font":var o=f.getAccesibleFonts(),a=l.get(e.var);for(i in n+='<div class="app-layer-font fonts dropdownjs-add" data-setting-name="'+e.var+'" data-setting-type="font">',e.title&&(n+="<label>"+R(e.title)+"</label>"),n+='<select class="form-control">',o){var s=o[i];n+='<option value="'+s.name+'"'+(s.name==a?" selected":"")+">"+s.name+"</option>"}n+="</select></div>";break;case"range":a=l.get(e.var);n+='<div class="app-layer-range" data-setting-type="range" data-setting-name="'+e.var+'">'+(e.title?"<label>"+R(e.title)+"</label>":"")+'<input type="text" class="form-control" name="'+e.var+'"  data-min="'+(e.min||0)+'" data-max="'+(e.max||100)+'" data-step="'+(e.step||1)+'" value="'+(a||0)+'"></div>';break;case"select":a=l.get(e.var);for(i in n+='<div class="app-layer-select dropdownjs-add" data-setting-name="'+e.var+'" data-setting-type="select">',e.title&&(n+="<label>"+R(e.title)+"</label>"),n+='<select class="form-control">',e.values)n+='<option value="'+e.values[i]+'"'+(e.values[i]==a?" selected":"")+">"+R(e.values[i])+"</option>";n+="</select></div>";break;case"switch":n+='<div class="app-layer-checkbox togglebutton" data-setting-name="'+e.var+'" data-setting-type="switch"><label><input type="checkbox"'+(l.get(e.var)?" checked":"")+'><span class="toggle pull-right"></span>'+R(e.title)+"</label></div>"}n&&e.groupName&&(n='<div data-group-name="'+R(e.groupName)+'">'+n+"</div>");return n}(t)}),this.$elm.find(".app-layer-cont").html(e);var n,c,u,i=f.getAccesibleFonts(),r=this.$elm.find(".app-layer-group").last();function h(){t.$elm.off(),O(),"function"==typeof f.updateButtonSiteEditor&&f.updateButtonSiteEditor(),f.Core.renderComponentsStyles(),f.fire("initSettingsSidebar"),f.runSaveProject(!1,!0)}i&&i.length&&r.length&&(n=d('<button class="btn btn-primary show-font-btn" title="Add Font">Add Font</button>'),i=i.map(function(t){return'<option value="'+t.name+'">'+t.name+"</option>"}).join(""),c=d('\n                    <div class="add-font-form" style="display: none;">\n                        <h5 class="app-layer-subtitle">Add font</h5>\n                        <div class="app-layer-group">\n                            <label>Title</label>\n                            <input class="font-title form-control" type="text" placeholder="Name" value="New Font">\n                        </div>\n                        <div class="app-layer-group">\n                            <label>Font</label>\n                            <div class="app-layer-font fonts dropdownjs-add" data-setting-name="add-font" data-setting-type="font">\n                                <select class="form-control">\n                                    '+i+'\n                                </select>\n                            </div>\n                        </div>\n                        <div class="app-layer-group">\n                            <label>Size</label>\n                            <div class="app-layer-range" data-setting-type="range" data-setting-name="add-font">\n                                <input type="text" class="form-control font-size" name="add-font"\n                                    data-min="0.4" data-max="12" data-step="0.2" value="2">\n                            </div>\n                        </div>\n                        <div class="app-layer-group">\n                            <button type="button" class="btn btn-danger close-font-btn">Close</button>\n                            <button type="button" class="btn btn-primary add-new-font">Add</button>\n                        </div>\n                    </div>\n                '),r.after(n,c),u=c.find(".close-font-btn"),i=c.find(".add-new-font"),r=this.$elm.find(".remove-font"),n.on("click",function(t){t.stopPropagation(),c.show(),n.hide()}),u.on("click",function(t){t.stopPropagation(),c.hide(),n.show()}),i.on("click",function(t){t.stopPropagation();var t=c.find("select").val(),e=c.find(".font-title").val(),n=c.find(".font-size").val()||2,i=!1,r=e.trim().toLowerCase().replace(/[^a-z0-9-]+/g,"-").replace(/^[-\d]+/,"");if(r||(c.find(".font-title").addClass("form-error"),i=!0),t||(c.find(".fonts.fakeinput").addClass("form-error"),i=!0),!i){n=parseFloat(n),(isNaN(n)||n<.4)&&(n=2),c.find(".form-control").removeClass("form-error");var r=t,i=n,t=e,n=u,o={},a=(o=f.projectSettings.theme&&f.projectSettings.theme.settings?JSON.parse(JSON.stringify(f.projectSettings.theme.settings)):f.theme.params.theme.settings,t.trim().toLowerCase().replace(/[^a-z0-9-]+/g,"-").replace(/^[-\d]+/,""));if(o.some(function(t){return"group"===t.type&&t.name===a})){for(var s=a,l=1;function(e){return o.some(function(t){return"group"===t.type&&t.name===e})}(s);)s=a+"-"+l,l++;a=s,t=t+"  "+l}t={type:"group",rule:".mbr-fonts-style, [mbr-buttons], [mbr-menu]",title:t,name:a,set:[{type:"font",var:a+"-font",default:r},{type:"range",min:.4,max:6,step:.2,var:a+"-size",default:i}],isCustom:!0},r="."+a+" {\n    font-family: @"+a+"-font;\n    font-size: @"+a+"-size * 1rem;\n    line-height: 1.5;\n    > .mbr-iconfont {\n        font-size: @"+a+"-size * 1rem;\n    }\n}\n",i=o.findLastIndex(function(t){return"group"===t.type}),o.splice(i+1,0,t),f.projectSettings.theme.settings=f.theme.params.theme.settings=o,f.projectSettings.theme.dynamicStyles&&(m=f.projectSettings.theme.dynamicStyles),f.projectSettings.theme.dynamicStyles=m+"\n"+r,n.trigger("click"),h()}}),r.on("click",function(t){t.stopPropagation();var e,n,i=t.target.dataset.fontName;i&&(t=JSON.parse(JSON.stringify(f.projectSettings.theme.settings)),e=f.projectSettings.theme.dynamicStyles,t=t.filter(function(t){return!("group"===t.type&&t.name===i)}),n=new RegExp("\\."+i+"\\s*\\{[\\s\\S]*?\\}\\s*\\}","gm"),f.projectSettings.theme.dynamicStyles=e.replace(n,"").trim(),f.projectSettings.theme.settings=t,h())})),this.$elm.off("change"+b).on("change"+b,"input, select",function(t){var e=d(this),n=e.closest("[data-setting-type]"),i=n.attr("data-setting-name"),r=e.is('[type="checkbox"]')?e.prop("checked"):e.val();"colors"==n.attr("data-setting-type")&&(i=e.attr("name")||""),l.set(i,r)&&f.Core.destroySummernote()}),y.call(this),this.$elm.find(".app-layer-select select, .app-layer-font select").each(function(){var e=d(this),n=(e.dropdown({absolutePos:!0,align:"right"}),e.next(".dropdownjs"));e.off("change").on("change",function(t){var t=d(t.target);t.val()&&t.val().length&&(e.attr("multiple")?e.dropdown("_select",n,e.find(":selected")):(t=e.find(":selected").length?e.find(":selected").last():e.find("option, li").first(),e.dropdown("select",n,t.val())))})}),this.$elm.find(".app-layer-font .dropdownjs").each(function(t){var e=d(this).data("select"),e=d(e.data("dropdownjs-ul"));e.find("li").each(function(){var t=f.getFont(d(this).attr("value"));d(this).css("font-family",t.css)}),e.addClass("fonts-dropdownjs")}),this.$elm.find(".app-layer-range input").each(function(){f.initPopoverRange(this)})}function _(t){if(!(t=t||{}).selector)throw new Error("Unknown selector! For example: new Sidebar({selector: '.my-sidebar', ...}).");if(!t.settings)throw new Error("Settings not found! For example: new Sidebar({settings: new Settings({}), ...}).");if(!t.classNameOpen)throw new Error("Unknown class name for open/close sidebar! For example: new Sidebar({classNameOpen: 'sidebar-opened', ...}).");this.$elm=d(t.selector),this.$elm.data(g,this),this.settings=t.settings,this.callbacks={open:t.open},this.classNameOpen=t.classNameOpen,w.call(this)}M.prototype.onChange=function(t){return this._onChange=t,this},M.prototype.set=function(t,e){return t in this._variables&&this._variables[t]!=e&&(this._variables[t]=e,this._onChange&&this._onChange(t,e),!0)},M.prototype.get=function(t){return t in this._variables?this._variables[t]:null},M.prototype.merge=function(t){for(name in t=t||{},this._variables)name in t&&(this._variables[name]=t[name]);return this},M.prototype.getSource=function(){return this._source},M.prototype.getVariables=function(){var t=[];for(name in this._variables)t.push({name:name,type:this._types[name],value:this._variables[name]});return t},M.prototype.getRawVariables=function(){return this._variables},M.prototype.isEmpty=function(){return 0==this._source.length};var x=M;function M(t){var n=this._types={},e=this._source=[],i=this._variables={};if(d.isArray(t))for(var r=0;r<t.length;r++){var o=t[r];switch(o.type){case"title":case"subtitle":e.push(o);break;case"group":var a=o.set;if(d.isArray(a)&&o.set.length){o.set=[];for(var s=0;s<a.length;s++){var l=a[s];l&&l.var&&(u(l),o.set.push(l))}e.push(o)}break;case"colors":a=o.set;if(d.isArray(a)&&o.set.length){o.set=[];for(s=0;s<a.length;s++){var c=a[s];c&&c.var&&(u(c,"color"),o.set.push(c))}e.push(o)}break;default:o.var&&(u(o),e.push(o))}}function u(t,e){switch(t.type||e){case"color":t.default=t.default||"#000000";break;case"switch":t.default=!!t.default;break;case"range":t.default=t.default||0;break;default:t.default=t.default||""}i[t.var]=t.default,n[t.var]=t.type||e}}A.isValid=function(t){return"string"==typeof t&&/^@[-a-zA-Z0-9_]+$/.test(t)},A.prototype.getName=function(){return this._name},A.prototype.isValid=function(){return this._isValid},A.prototype.eval=function(){return this._isValid&&s.get?s.get(this._name):null};var S,k,C,E,P=A;function A(t){this._isValid=A.isValid(t),this._isValid&&(this._name=t.substr(1))}function T(t){var e=d.Deferred();return n.loadLocalFile(t,function(t){e.resolve(t)}),e}function j(){f.Core.renderComponentsStyles()}function L(t){if(!s.get)return t;var e,n=d.isArray(t)?[]:{};for(e in t){var i=t[e];0==i.indexOf("@")?n[e]=new P(i).eval()||"":n[e]=i}return n}function O(){f.fire("initThemeSettings"),f.projectSettings.theme=f.projectSettings.theme||{},void 0!==f.projectSettings.theme.settings&&(f.theme.params.theme.settings=f.projectSettings.theme.settings),f.projectSettings.theme.name==f.theme.name&&(s=new x(f.theme.params.theme.settings).merge(f.projectSettings.theme.styling).onChange(function(t,e){f.fire("changeThemeSettings",t,e)}),f.projectSettings.theme.styling=s.getRawVariables(),!s.isEmpty()||f.projectSettings.theme.settings)&&(f.ToogleThemeSettings=new c({selector:e.TOGGLE,visible:!0,target:new v({selector:e.BASE,settings:s,classNameOpen:t.OPEN,open:function(){f.fire("openThemeSettings")}})}))}function R(t){return f.escapeHtml(t)}k="",C=[null],f.on("changeThemeSettings",i(j,100)),f.on("addonLoaded",function(t,e){!t.theme&&t.themeParams&&t.themeParams.customLESS&&C.push(T(f.getAddonDir(e.name)+"/"+t.themeParams.customLESS).then(function(t){return"\n\n// addon: "+e.name+"\n"+t}))}),f.on("loadedProject",function(){var t=f.theme.params.theme.customLESS;S=!1,C[0]=t?T(f.theme.pathExport+"/"+t):"",d.when.apply(d,C).done(function(){k=[].join.call(arguments,""),S&&j()})}),f.on("coreLoad",function(){var r,o,n=f.iwindow.less;function a(t,n){var e="",i="",r=[],o="",a="*"===t;return s.getVariables&&s.getVariables().forEach(function(t){var e;o+="@"+t.name+": ","font"==t.type?(e=f.getFont(t.value),o+=e.css,e.url&&(f.isAMP()?i+="@import url("+e.url+"&display=swap);":n&&r.push(e.url))):o+=t.value,o+=";\n"}),t=t||"",(a||0<=t.indexOf("imports"))&&(e+=i),(a||0<=t.indexOf("variables"))&&(e+=o),(a||0<=t.indexOf("rules"))&&(a=f.applyFilter("getCustomLessText",k),void 0!==f.projectSettings.theme.dynamicStyles&&(a=f.projectSettings.theme.dynamicStyles),e+=(m=a).replace(/^\s+/,"")),!f.isAMP()&&n&&f.fire("getPublishFonts",r),e}function t(n){return function(t,e){switch(t=t.toCSS(),e=e.toCSS(),n){case"==":return f.iwindow.less.tree.Keyword[t==e];case"<":return f.iwindow.less.tree.Keyword[t<e];case"<=":return f.iwindow.less.tree.Keyword[t<=e];case">":return f.iwindow.less.tree.Keyword[e<t];case">=":return f.iwindow.less.tree.Keyword[e<=t]}}}o=f.isAMP(),f.on("runPublish",function(){r=!0}),f.Core.addFilter("beforeRenderStyles",function(t,e,n){var i;return S=!0,n?(i=a(r?"*":"variables",n),r=!!o):i=a("variables, rules"),i+t}),f.Core.addFilter("afterRenderStyles",function(t,e,n){return n||void 0===f.projectSettings.theme.staticStyles?t:f.projectSettings.theme.staticStyles+t}),f.Core.addFilter("beforeRenderStylesForComponent",function(t,e){return a("variables")+t}),d.map({if:function(t,e,n){return"true"==t.value?e:n},eq:t("=="),lt:t("<"),lte:t("<="),gt:t(">"),gte:t(">="),includes:function(t,e){return n.tree.Keyword[0<=t.value.map(function(t){return t.value}).indexOf(e.value)?"True":"False"]}},function(t,e){n.functions.functionRegistry.add(e,t)})}),f.addFilter("getThemeButtonColors",L),f.addFilter("getThemeLinkColors",L),f.addFilter("getThemeColorsSet",L),f.on("bridgeInit",function(){function n(t,e,n){var i=[t];if("object"==I(i[0]))for(;t=i.pop();)for(var r in t)!1!==e.call(n,t[r],r,t)&&"object"==I(t[r])&&i.push(t[r])}var o=function(t){n([t],function(t,e,n){if("_styles"==e)return!1;function i(){return o.eval()}var r,o;P.isValid(t)&&(n[e]=(o=new P(r=t),i._variableName=o.getName(),(i.toString=i).toLESS=i.toJSON=function(){return r},i))})};f.addFilter("loadingComponents",function(t,e){return o(t),t}),f.on("load",function(){f.Core.cleanJSONPlease=(i=f.Core.cleanJSONPlease,function(t,e){if(!e&&"object"==(void 0===t?"undefined":I(t)))for(var n in t)"function"==typeof t[n]&&t[n]._variableName&&(t[n]=t[n].toJSON());return i.apply(this,arguments)}),f.Core.on("render",function(t){void 0===t&&o(f.Core.resultJSON[f.Core.currentPage].components)});var i,t,e,r={};t=f.iwindow.rivets._.Binding.prototype,e=t.set,t.set=function(t){return n("object"==(void 0===t?"undefined":I(t))?t:[t],function(t,e,n){"function"==typeof t&&t._variableName&&(t=t._variableName,r[t]||(r[t]=[]),r[t].indexOf(this)<0)&&r[t].push(this)},this),e.call(this,t)},f.on("changeThemeSettings",function(t,e){r[t]&&r[t].forEach(function(t){t.sync()}),f.runSaveProject(!1,!0)}),f.Core.on("removeComponent",function(e,t){for(name in r)r[name]=r[name].filter(function(t){return e!=t.view.models._id})}),f.on("switchedPage",function(){r={}})})}),E=[],f.on("addonLoaded",function(t){!t.theme&&t.themeParams&&t.themeParams.settings&&(d.isArray(t.themeParams.settings)?E=E.concat(t.themeParams.settings):E.push(t.themeParams.settings))}),f.on("addonsLoaded",function(){f.theme.params.theme=f.theme.params.theme||{},f.theme.params.theme.settings=(f.theme.params.theme.settings||[]).concat(E)}),f.regExtension({name:"theme-settings",global:{throttle:i,ToogleThemeSettings:0,$themeToggleBtn:d(".app-theme-settings-toggle"),getThemeSettings:function(t){return s.get?s.get(t):null},hasThemeSettings:function(t){return!!(t.theme&&t.theme.settings&&t.theme.settings.length)},openThemeSettings:function(){f.ToogleThemeSettings.open()},closeThemeSettings:function(){f.ToogleThemeSettings.close()},redrawStyleChanger:function(){O(),f.fire("redrawStyleChanger")}},events:{loadedProject:function(){O(),f.fire("initSettingsSidebar")}}})},["jQuery","mbrApp","TR()","Bridge"])},function(t,e,n){"use strict";defineM("add-builder-ext",function(a,s,l){var c={"iconFont.iconFont":l("Insert icon"),"mbrStyle.mbrStyle":l("Font"),"mbrTag.mbrTag":l("Tag"),"mbrBtn.mbrBtnColor":l("Color"),"mbrBtn.mbrBtnExtendedColor":l("Color"),"mbrBtn.mbrBtnAdd":l("Add"),"mbrBtn.mbrBtnMove":l("Move Left"),"mbrBtn.mbrBtnRemove":l("Remove"),"mbrAlign.mbrAlign":l("Align"),"mbrLink.mbrLink":l("Link"),"mbrColor.mbrColor":l("Color")};function u(t,e){e=e.split(".");for(var n=0;t&&n<e.length;n++)t=t[e[n]];return t}s.regExtension({name:"builder-ext",global:{},events:{load:function(){var t=u(s,"iwindow.$.summernote.lang.en-US");if(t)for(var e in c)if(u(t,e)){n=void 0;i=void 0;r=void 0;o=void 0;var n=t;var i=e;var r=c[e];i=i.split(".");for(var o=0;o<i.length;o++)o<i.length-1?(n[i[o]]=n[i[o]]||{},n=n[i[o]]):n[i[o]]=r}s.Core.addFilter("buttonFontSiteStyleIcon",function(){return'<i class="mbr-icon-paint-brush" title="'+l("Edit Site Styles")+'"></i> '}),s.addFilter("buttonColorSiteStyleIcon",function(){return'<a data-event="mbrShowSiteColors" href="javascript:void(0);" title="'+l("Edit Site Styles")+'"><i class="mbr-icon-paint-brush"></i></a>'}),s.Core.addFilter("getComponentsAnchorList",function(t,e){var t=a("<div>").html(t),n=(t.find('[value="#top"]').html(l("Top of Page")),t.find('[value="#bottom"]').html(l("Bottom of Page")),t[0].innerHTML);return t.remove(),n})},removeLastButton:function(){s.alertDlg(l('To remove all buttons from the block use %"Block Parameters" -> "Show Buttons"%').replace(/%(.+)%/,'<span class="btn btn-component-params mbr-icon-cog"></span> $1'))}}})},["jQuery","mbrApp","TR()"])},function(t,e,n){"use strict";var p=n(25);defineM("app-publish",function(d,f,s){var o="";function t(t){f.progressBar("isCanceled")?(f.progressBar("show"),f.progressBar(1),f.progressBar(s("Initialization, please wait...")),f.$progressModal.one("shown.bs.modal",function(){t&&t()})):t&&t()}function a(t){var e,n=f.Core.resultJSON,i=[],r=0;for(e in n)i.push(f.Core.loadPage(e)),r++;d.when.apply(d,i).then(function(){t&&t(r)})}function l(t){return t=t.replace(/^&quot;|&quot;$/g,""),(new DOMParser).parseFromString("<!doctype html><body>"+t,"text/html").body.textContent}f.regExtension({name:"publish",global:{publishPages:{},publishImagesList:[],$publishBtn:d(".publish-block"),clickPublish:function(e){this.publish(!e||!e.nopreview,null,function(){var t=f.projectSettings.domains.filter(function(t){return"Deployed"===t.status.name}).pop().name;f.projectSettings.mbrsite!==(t="https://"+t)&&(f.projectSettings.mbrsite=t,f.runSaveProject(null,!0)),e&&e.nocongrats||(bootbox.alert({message:'<div class="congrats-modal">\n                                        <br>\n                                        <div>'+s("Your site is published and is live online:")+'</div>\n                                        <div><a class="congrats-site-link" href="'+f.getPublicDomain()+'" target="_blank">'+f.getPublicDomain()+"</a></div>\n                                    </div>",className:"congrats-modal-wrapper"}),f.fire("publishedToMbrsite"))})},forEachObjKeys:function(n,i,r){var o=0,a=Object.keys(n),s=a.length;!function t(){var e;o<s?(setTimeout((e=o,function(){i(n[a[e]],a[e],n,t)}),0),++o):r()}()},publishPage:function(e,n,i,r){var o=this,a=d.Deferred();return setTimeout(function(){var t;try{o.progressBar(s("Preparing $page name$").replace("$page name$",e)+"..."),t=o.processingPage(e,i.pages[e].settings)}catch(t){throw a.reject(),f.showError(s("Internal error while processing page $page name$").replace("$page name$",e)),f.progressBar("hide"),t}t&&t.promise?t.then(function(t){o.publishPages[n]=o.applyFilter("publishHTML",t,i.pages[e],i),o.publishPages[n]=o.preparePublishImages(o.publishPages[n]),r.push({dest:n,srcList:[{src:n,filter:"template"}]}),a.resolve()}):a.resolve()},1),a},filesPublish:function(i,r,o,a,s,l,c){var u=this;p.Bridge.isExistsLocal(f.getProjectImagesDir()+"/hashes.json",function(t){for(var e in t&&s.push({dest:f.IMAGES_FOLDER+"/hashes.json",srcList:[{src:f.getProjectImagesDir()+"/hashes.json"}]}),u.additionalStyles=u.preparePublishImages(u.additionalStyles,"../../../"),u.publishImagesList)s.push(u.publishImagesList[e]);if(s.push({dest:"assets/css/mbr-additional.css",srcList:[{src:"assets/css/mbr-additional.css",filter:"template"}]}),!l)for(var n in u.Core.publishAssets)for(var e in s)s[e].dest===u.Core.publishAssets[n].dest&&s[e].srcList.push({src:u.Core.publishAssets[n].src});s.push({dest:"project.mobirise",srcList:[{src:"project.mobirise",filter:"template"}]}),s=u.applyFilter("publishFiles",s,a);t=u.applyFilter("publishIndex",o,r);u.uploadFiles(s,r,{index:t,preview:i,close:function(t){u.publishImagesList=[],t&&(u.fire("published",r,t),c)&&c()}})})},publish:function(e,n,c){var u=this,h=f.isAMP();function i(t,e){function n(t){return t+(-1<t.indexOf(".")?"":".html")}u.fire("runPublish",e);var i,r=u.Core.getResultProject(),o=(u.additionalStyles="",f.projectSettings.theme.staticStyles&&(u.additionalStyles+=f.projectSettings.theme.staticStyles),u.publishPages={},[]),a=(u.publishImagesList=[],n(r.settings.currentPage)),s=d.Deferred().resolve();for(i in r.pages)!function(t){s=s.then(function(){return u.publishPage(t,n(t),r,o)})}(i);function l(t,e){var e=(1<arguments.length&&void 0!==e?e:{}).attempts,o=void 0===e?10:e;return new Promise(function(i,r){(function n(){fetch(t.url,{credentials:"include"}).then(function(t){if(t.status<200||299<t.status)throw new Error(""+t.statusText);return t.json()}).then(function(t){var e;return"COMPLETE"===t.state?i():"CANCELLED"===t.state?r(new Error(t.reason.message),{code:"JobError"}):--o<=0?r("Timeout error"):(e=2e3,void new Promise(function(t){return setTimeout(t,e)}).then(function(){n()}))}).catch(function(t){return r(t)})})()})}(s=s.then(function(){u.progressBar("assets/js");var t=u.getPluginsFilesForPublish().map(function(t){return/^web/gi.test(t.src)&&(t.src=t.src.replace("web/",p.Bridge.onlineUrl)),t});return fetch(mbrApp.getAddonsDir()+"/api/publish",{method:"POST",mode:"cors",credentials:"include",body:JSON.stringify({siteId:f.projectSettings.id,files:t})}).then(function(t){if(t.status<200||299<t.status)throw new Error(""+t.statusText);return t.json()}).then(function(t){return l(t.job)}).catch(function(t){throw console.log(t),f.showError("Asset loading error"),t})})).then(function(){u.filesPublish(t,e,a,r,o,h,c)})}t(function(){a(function(t){f.progressBar(4*t),i(e,n)})})},exportProject:function(i){var r=this;t(function(){a(function(t){var n;f.progressBar(4*t),n=r.projectSettings.name,r.fire("exportProject",n,i),r.makeScreenshot(function(t){var e=[],t=(e.push({dest:"screenshot.png",srcList:[{src:t}]}),r.Core.getResultProject());r.publishImagesList=[],f.forEachObjKeys(t.pages,function(t,e,n,i){f.projectSettings.theme.staticStyles&&(f.additionalStyles+=f.projectSettings.theme.staticStyles),r.additionalStyles+=r.Core.renderComponentsStyles(!0,e),r.Core.getResultHTML(e).then(function(t){r.preparePublishImages(t),r.preparePublishImages(r.additionalStyles),i()})},function(){for(var t in r.publishImagesList)e.push(r.publishImagesList[t]);p.Bridge.isExistsLocal(r.getProjectImagesDir()+"/hashes.json",function(t){t&&e.push({dest:f.IMAGES_FOLDER+"/hashes.json",srcList:[{src:r.getProjectImagesDir()+"/hashes.json"}]}),(e=r.applyFilter("exportProjectFiles",e,i)).push({dest:"project.mobirise",srcList:[{src:"project.mobirise",filter:"template"}]}),r.uploadFiles(e,i,{close:function(){r.publishImagesList=[],f.alertDlg(s("Your site was successfully exported to the folder $folder name$").replace("$folder name$","<strong>"+p.Bridge.url2sys(i)+"</strong>")),r.fire("exportedProject",n,i)},isExport:!0})})})})})})},uploadFiles:function(t,e,n){var i=this;if(!t)return"";function r(t){i.progressBar("hide"),n.close&&n.close(t)}(n=n||{}).preview&&(e=p.Bridge.registerPreviewPath(f.projectPath)),e=p.Bridge.registerPreviewPath(f.projectPath),i.applyFilter("uploadFilesStart",d.Deferred().resolve(t,e),n).then(function(t,e){t=new p.Bridge.FileManager(t,e,{start:function(t){i.progressBar(t),n.start&&n.start(t)},file:function(t){i.progressBar(t),n.file&&n.file(t)},uploaded:function(t){i.fire("uploadFilesUploaded",t)},error:function(t){t=(t=(t=t.replace("\n","<br>").replace("ENOENT:","")).replace(p.Bridge.url2sys(p.Bridge.base),"[Resources]:")).replace(p.Bridge.url2sys(mbrApp.getAddonsDir()),"[Extensions]:"),i.progressBar("error",t||s("Unknown error while publish")),n.error&&n.error(t)},close:function(t){n.preview&&(e=f.getPublicDomain(),"index.html"!=n.index&&(e+=n.index),window.open(e,"_blank")),i.fire("uploadFilesComplete",t),setTimeout(function(){r(t)},1)}},n);i.progressBar(t)}).fail(function(t){r(t)})},preparePublishVideos:function(t){var a=/youtu.*be.*/,s=/vimeo/;return t=(t=t.replace(/(<img[^>]+>)/g,function(t,e,n){var i=t.match(/data-video-src="(.*?)"/),r=t.match(/data-video-width="(.*?)"/),o=t.match(/data-video-height="(.*?)"/);return i&&i[1]?(i[1]=i[1].replace("shorts","embed"),-1!==i[1].search(a)||-1!==i[1].search(s)?(r=r&&r[1]?'width="'+r[1]+'"':"",o=o&&o[1]?'height="'+o[1]+'"':"",'<iframe class="mbr-embedded-video" src="'+i[1].replace(/^http:/g,"https:")+'" '+r+" "+o+' frameborder="0" allowfullscreen></iframe>'):'<video style="width:100%" controls'+(-1!==i[1].search("autoplay")?" autoplay muted":"")+(-1!==i[1].search("loop")?" loop":"")+' playsinline><source src="'+i[1]+'"/></video>'):t})).replace(/data-video-src/g,"data-bg-video"),this.applyFilter("preparePublishVideos",t)},addImage2PublishList:function(t){var e,n,i=this;if(p.Bridge.supportedImgExts.indexOf(t.split(".").pop())<0)return t;if(""==t.replace(/\t|\s|\n/g,""))return t;if(/(http(s?))\:\/\//gi.test(t)&&!this.isAssetsDir(t))return t;for(n in e="assets/images/"+(e=(e=p.Bridge.cleanURI(t.split("/").pop())||"")&&!/^\./.test(e)?e:"0"+e),t=(t=(t=/^[\w]+\:/.test(t)?t:"web/app/builder/"+t).replace(/^qrc\:\/web/,"web/")).replace(/^\:\/web/,"web/"),i.publishImagesList)if(i.publishImagesList[n].srcList[0].src===t)return i.publishImagesList[n].publicUrl||i.publishImagesList[n].dest;for(n in i.publishImagesList)if(i.publishImagesList[n].dest===e){for(;i.publishImagesList[n].dest===e;)e=e.replace(/(.[\w]+)$/g,i.uniqNum()+"$1");break}var r={dest:e,srcList:[{src:t}]};return i.publishImagesList.push(r),e=i.isAssetsDir(t)?r.publicUrl=i.projectSettings.resourcesUrl+e+"?rnd="+Date.now():e},preparePublishImages:function(t,o){var a=this;return o=o||"",t=(t=(t=t.replace(/(<img.*?src=")([^">]*\/[^">]*?)(".*?>)/g,function(t,e,n,i){return e+o+a.addImage2PublishList(l(n))+i})).replace(/(url\(['"]?)(.*?)(['"]?\);)+/g,function(t,e,n,i){var r,n=l(n);return"string"==typeof(r=n)&&/^https?:\/\//i.test(r)||(e+=o),e+a.addImage2PublishList(n)+i})).replace(/(href=")(.*?)(")+/g,function(t,e,n,i){return e+o+a.addImage2PublishList(l(n))+i}),a.applyFilter("preparePublishImages",t,a.publishImagesList,o)},prepareProjectText:function(t,e){var n,i,r=f.Core.getResultProject();if(p.Bridge.version&&(r.settings.versionPublish=p.Bridge.version),void 0!==f.projectSettings&&(r.settings=d.extend({},f.projectSettings,r.settings)),r.settings=this.applyFilter("publishProjectSettings",r.settings||{},e),r.pages=this.applyFilter("publishProjectPages",r.pages||{}),r=JSON.stringify(r,null,2),t)for(var o in t)1==t[o].srcList.length&&(n=t[o].srcList[0].src,o="@PROJECT_PATH@/"+t[o].dest,/^file\:/.test(n))&&(r=r.split(n).join(o).split((n=n,i=void 0,(i=document.createElement("div")).setAttribute("path",n),(i=/\"([^"]*)\"/.exec(i.outerHTML))&&i[1]||n)).join(o));return f.projectPath&&0==f.projectPath.indexOf("file:")&&(r=r.split(f.projectPath).join("@PROJECT_PATH@")),f.theme.name&&(r=(r=r.split('"'+f.path2core(f.getAddonDir(f.theme.name))).join('"@THEME_PATH@')).split("("+f.path2core(f.getAddonDir(f.theme.name))).join("(@THEME_PATH@")),r=f.getAddonsDir()&&0==f.getAddonsDir().indexOf("file:")?r.split(f.getAddonsDir()).join("@ADDONS_PATH@"):r},$transformImage:function(e,t){var n=d.Deferred();return p.Bridge.transformImage(e.srcList[0].src,t,function(t){t?(e.srcList[0].src=t,n.resolve()):n.reject()}),n},$transformWebp:function(n){var i=d.Deferred();return p.Bridge.transformWebp(n.srcList[0].src,function(t,e){e?i.resolve(e):t?(n.dest=n.dest.replace(/\.(jpe?g|png)$/i,".webp"),n.srcList[0].src=t,i.resolve(n)):i.reject()}),i},loadLocalFile:function(t){var e=d.Deferred();return p.Bridge.loadLocalFile(t,function(t){t?e.resolve(t):e.reject()}),e},saveLocalFile:function(t,e){var n=d.Deferred();return p.Bridge.saveLocalFile(t,e,function(t){t?n.resolve():n.reject()}),n},getPublishHTML:function(){for(var t=d.Deferred(),e=Object.keys(f.Core.getPages()),n="",i=d.Deferred().resolve(),r=0;r<e.length;r++)i=i.then(o.bind(i,e[r]));function o(t){var e=d.Deferred();return f.Core.getResultHTML(t).then(function(t){n+=t,e.resolve()}),e.promise()}return i.done(function(){t.resolve(n)}),t}},events:{bridgeInit:function(){var r=this;p.Bridge.templating=function(t){var i,e,n="";return/\.html$|\.htm$|\.xht$|\.xhta$|\.xhtml$|\.shtml$|\.shtm$|\.php$|\.php3$|\.php4$|\.php5$|\.phps$|\.phpt$|\.phtml$|\.asp$|\.aspx$|\.jsp$|\.cgi$|\.pl$|\.py$/i.test(t)?n=f.publishPages[t]||"":/.json$|.mobirise$/g.test(t)?n=r.prepareProjectText(r.publishImagesList,!0):/.css/g.test(t)?(e=f.additionalStyles,i="",e=e.replace(/(@import url\(.*?\);)/g,function(t,e,n){return-1==i.indexOf(t)&&(i+=t+"\n"),""}),n=(i||"")+(e||"")):0<=t.indexOf("kw.template.js")&&(n=o),r.applyFilter("publishTemplating",n,t,this)}},load:function(){var e=this,n=(d(".app-publish").on("click",function(t){e.runPublishDlg(function(t){t&&f.clickPublish({nopreview:!0})})}),f.Core.$body.find(".browser-chrome .link-wrapper").on("click",function(t){t.stopPropagation(),f.openProjectSettings(f.projectPath+"/project.mobirise"),f.fire("selectBasicDomain")}),p.Bridge&&p.Bridge.version?p.Bridge.version:"");p.Bridge.loadLocalFile("web/app/interface/kw.template.js",function(t){o=t.replace(/\$VERSION\$/g,n)}),p.Bridge.loadLocalFile("web/app/interface/kw.txt",function(t){t.split("\n")}),f.addFilter("publishFiles",function(t,e){return"mbrsite"===f.projectSettings.publishType&&t.push({dest:"edit/index.html",srcList:[{src:"edit/index.html",filter:"template"}]}),t}),f.addFilter("publishTemplating",function(t,e){return"mbrsite"===f.projectSettings.publishType&&"edit/index.html"==e?'<!DOCTYPE html>\n                                <html lang="en">\n                                    <head>\n                                        <meta charset="UTF-8">\n                                        <meta name="viewport" content="width=device-width, initial-scale=1.0">\n                                        <title>CMS</title>\n                                    </head>\n                                    <body>\n                                        <script src="https://c.ybnz.com/creator.js"><\/script>\n                                    </body>\n                                </html>':t})}}});var e=DOMParser,n=e.prototype,i=n.parseFromString;try{if((new e).parseFromString("","text/html"))return}catch(t){}n.parseFromString=function(t,e){return/^\s*text\/html\s*(?:;|$)/i.test(e)?(e=document.implementation.createHTMLDocument(""),-1<t.toLowerCase().indexOf("<!doctype")?e.documentElement.innerHTML=t:e.body.innerHTML=t,e):i.apply(this,arguments)}},["jQuery","mbrApp","TR()"])},function(t,e,n){"use strict";var r=n(25);defineM("app-publish-dlg",function(o,a,t){var e='<div class="publishMethod mbrsite-publish-settings">\n        <div class="radio radio-primary publishRadio">\n            <label>\n                <input type="radio" name="publishType" value="mbrsite" checked>\n                <span class="circle"></span>\n                <span class="check"></span>\n                '+(a.domainManager?a.domainManager.getCustomDomainInfo()?a.domainManager.getCustomDomainInfo().name:"*.mobirisesite.com":"Subdomain on")+'\n            </label>\n        </div>\n        <div class="publishBody">\n            <div class="row">\n                <div class="col-md-4">\n                    <input type="text" class="mbrsite-domain form-control" placeholder="name" name="mbrsiteDomain">\n                </div>\n                <div class="col-md-2 gp-domain">.mobirisesite.com</div>\n                <div class="col-md-4"></div>\n            </div>\n            <span class="mbrsite-input-status">IMPORTANT! Use this option for testing only</span>\n        </div>\n    </div>\n    <div class="publishMethod">\n        <div class="radio radio-primary publishRadio">\n            <label>\n                <input type="radio" name="publishType" value="local"><span class="circle"></span><span class="check"></span>\n                '+t("Download in .zip")+"\n            </label>\n        </div>\n    </div>";a.regExtension({name:"publish-dlg",global:{PUBLISH_MODAL_HTML:e,runPublishDlg:function(e){function n(){var t=o(this).closest(".publishMethod"),e=t.find(".publishBody"),n=o(this).parents(".modal-body"),i=n.find("input[name=uploadDiff]");n.find(".publishBody").not(e).hide(),n.find(".publishMethod").not(t).removeClass("selected"),e.show(),t.addClass("selected"),"local"===o(this).attr("value")?i.closest(".togglebutton").css("display","none"):"none"===i.closest(".togglebutton").css("display")&&i.closest(".togglebutton").css("display","block")}a.fire("showPublishModal");var i=a.projectSettings||{},r=a.showDialog({title:t("Publish"),className:"publish-dialog",body:a.PUBLISH_MODAL_HTML,buttons:{btClose:{label:t("Cancel"),callback:function(){}},btSave:{label:t("Publish"),default:!0,callback:function(t){return"local"===r.find(".publishMethod.selected input").val()?(a.projectSettings.publishType="local",a.createZipProject(),r.remove()):a.getPublishUrl(r).then(function(t){e&&e(t)}).catch(function(t){return console.log(t)}),!1}}},create:function(t){a.fire("createPublishModal",o(t))},show:function(t){var e=o(t).find("[name=publishType][value="+(i.publishType||"mbrsite")+"]");t.find('input[name="mbrsiteDomain"]').val(a.projectSettings.domains?a.projectSettings.domains[0].name.split(".")[0]:a.getUID(10).toLowerCase()),e.prop("checked",!0),n.call(e)}});r&&(a.fire("showedPublishModal",r),r.on("change","[name=publishType]",n))},getPublishUrl:function(t){var e=t.find("[name=publishType]:checked").val(),i="",n=this.projectSettings||{};return"local"===(n.publishType=e)&&(i=r.Bridge.sys2url(t.find("[name=publishLocal]").val(),r.Bridge.docLocation),n.publishPath=i,r.Bridge.getSettingsArray("RecentPublish",function(t){var e,n=[i];for(e in t)0<=n.indexOf(t[e])||n.push(t[e]);r.Bridge.setSettingsArray("RecentPublish",n)})),i=this.applyFilter("getPublishUrl",i,e,t,n),this.projectSettings=n,i}},events:{load:function(){a.addFilter("publishProjectSettings",function(t,e){return e&&(delete t.publishType,delete t.publishPath),t})}}})},["jQuery","mbrApp","TR()"])},function(t,e,n){"use strict";var m=n(25);defineM("app-preview",function(t,p,e){p.regExtension({name:"preview",global:{$previewBtn:t(".preview-block"),additionalStyles:"",templateHTML:["$global_before_html$$SETTINGS.html_before$<!DOCTYPE html>","<html $LANG_ATTR$>","<head>","  \x3c!-- Site made with Mobirise Online Website Builder v$VERSION$, https://a.mobirise.com --\x3e",'  <meta charset="UTF-8">','  <meta http-equiv="X-UA-Compatible" content="IE=edge">','  <meta name="generator" content="Mobirise v$VERSION$, a.mobirise.com">','  <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1">','  <meta name="description" content="$SETTINGS.meta_descr$">',"  $SETTINGS.title$","  $STYLES$","  $SCRIPTS_HEAD$","  $global_header_custom$","  $SETTINGS.header_custom$","</head>","<body>","  $global_after_body$","  $CONTENT$","  $SCRIPTS$","  $global_footer_custom$","  $SETTINGS.footer_custom$","</body>","</html>"].join("\n"),processingPage:function(s,l){var c,u=this,h=t.Deferred(),d=t.Deferred(),f=p.isAMP();return u.Core.getResultHTML(s).then(function(t){t=u.preparePublishVideos(t),f&&(u.additionalStyles=""),u.additionalStyles+=u.Core.renderComponentsStyles(!0,s);var e=p.getPluginsHTMLForPublish(s),n=(e=u.applyFilter("publishAssets",e,s)).js,r=e.js_head,o=e.css,a=(o+='<link rel="stylesheet" href="assets/css/mbr-additional.css" type="text/css">\n  ',f?"amp":"");function i(){var i=jQuery.extend({},l);c=(c=u.templateHTML.replace(/\$SETTINGS\.(.*)\$/g,function(t,e){var n=i[e]||"";return(n="title"===e?n?"<title>"+n+"</title>":"":n)||""}).replace(/\$VERSION\$/g,function(){return m.Bridge&&m.Bridge.version?m.Bridge.version:""}).replace(/\$CONTENT\$/g,t).replace(/\$SCRIPTS\$/g,n).replace(/\$SCRIPTS_HEAD\$/g,r).replace(/\$STYLES\$/g,o).replace(/\$AMP_TITLE\$/g,a).replace(/\$global_before_html\$/g,p.projectSettings.global_before_html||"").replace(/\$global_header_custom\$/g,p.projectSettings.global_header_custom||"").replace(/\$global_after_body\$/g,p.projectSettings.global_after_body||"").replace(/\$global_footer_custom\$/g,p.projectSettings.global_footer_custom||"")).replace(/\$LANG_ATTR\$/g,function(){return p.projectSettings.site_lang?'lang="'+p.projectSettings.site_lang+'"':""})}f?(n="",mbrApp.applyFilter("prepareAmpStyles",o,s).then(function(t){o=t,h.resolve()}).fail(function(t){console.error(t.message),o+="<style amp-custom>"+u.additionalStyles+"</style>\n ",h.resolve()}),h.then(function(){i(),d.resolve(c)})):(i(),d.resolve(c))}),d}},events:{load:function(){}}})},["jQuery","mbrApp","TR()"])},function(t,e,n){"use strict";n(25);var a=n(77);defineM("app-addons",function(m,g,b){var p="https://mobirise.com/",e=/\.mbrext$/,r='<div class="modal">  <div class="modal-dialog">    <div class="modal-content">      <div class="modal-header">        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>        <h4 class="modal-title"></h4>      </div>      <div class="modal-body">        <div class="placeholder hide">'+_("No extensions matched your search. Try again.")+"</div>      </div>    </div>  </div></div>";function v(h,e,t,d,f){g.getAddons(function(n){Object.keys(n).map(function(e){var t=h.filter(function(t){return e===t.name});t.length&&"archive"===t[0].status&&delete n[e]}),h=h.filter(function(t){return!("archive"===t.status)});var t=0;for(u in n)n[u].id_local=t,t++;h.sort(function(t,e){return t.hasOwnProperty("id")&&!e.hasOwnProperty("id")?-1:!t.hasOwnProperty("id")&&e.hasOwnProperty("id")?1:t.hasOwnProperty("id")||e.hasOwnProperty("id")?0:n[t.name].id_local>n[e.name].id_local?-1:n[t.name].id_local<n[e.name].id_local?1:0});for(var l=m("<div>"),c=(e.html(l),l),u=0;u<h.length;u++)!function(e){0===u&&(c=m('<div class="row">').appendTo(l));var t,n,i=m('<div class="panel panel-default">').appendTo(c),r=m('<div class="panel-body"></div>').appendTo(i),o=m("<img>").attr("data-src",e.largeCover||e.cover).attr("src",g.core2path("images/imageplaceholder.jpg")).attr("alt",e.title||e.name),a="",a=e.new&&!b.isMobile?m("<div>").html("<p>"+e.description+'</p> <div><h3 class="text-primary">'+(e.title||e.name)+"</h3><h4>NEW!</h4></div>"):m("<div>").html("<p>"+e.description+'</p> <h3 class="text-primary">'+(e.title||e.name)+"</h3>"),s=m("<div class='btn-group'>");e.demoUrl||a.find("p a").attr("href")?(t=m('<a href="'+(e.demoUrl||a.find("p a").eq(-1).attr("href")||a.find("p a").eq(0).attr("href"))+'">').appendTo(c),m('<div class=" col-xs-6 col-sm-6 col-md-6 col-lg-3">').append(function(){return t.append(i)}).appendTo(c),m(a).find("p a").remove(),t.click(function(t){m(t.target).parents(".btn-group").length||m(t.target).attr("href")||(g.openUrl(m(this).attr("href")),t.preventDefault(),t.stopPropagation())})):(m("a[href^=http]",a).each(function(){m(this).data("link",m(this).attr("href"))}).attr("href","javascript:void(0)").click(function(){var t=m(this).data("link");g.openUrl(t)}),m('<div class=" col-xs-6 col-sm-6 col-md-6 col-lg-3">').append(i).appendTo(c)),i.parents(".col-sm-6.col-md-6.col-lg-3").attr({"data-extensions-title":e.title||e.name,"data-extensions-text":m(a).find("p")[0].innerHTML,"data-extensions-type":e.new?e.type:""}),r.html(['<div class="media">','<div class="media-img"></div>','<div class="media-body"></div>',"</div>"].join("\n")),"theme"===e.type?!e.installed&&!e.downloadURL||e.expired?r.find(".media-img").append(o).append('<button class="btn btn-primary media-preview">'+_("View Demo")+"</button>"):r.find(".media-img").append(o).append('<button class="btn btn-primary media-create-site">'+_("Create Site")+"</button>").click(function(t){t.preventDefault(),t.stopPropagation(),e.installed?y(e):d(e,function(t){t?y(e):g.hidePreloader()})}):r.find(".media-img").append(o),r.find(".media-body").append(s).prepend(a),e.installed?(e.installed<e.version||e.expired&&e.expiredDate<e.modified)&&(n=!e.downloadURL&&e.buyURL||e.installed>=e.version,m('<span class="btn btn-primary" data-tooltipster="bottom" title="'+_("Update")+'"><i class="mbr-icon-sync"></i>'+(n?"<span>&nbsp;"+e.price+"</span>":"")+"</span>").click(function(){(n?f:d)(e)}).appendTo(s)):"future"==e.status?m('<button type="button" class="btn btn-default disable" data-tooltipster="bottom" title="'+_("Coming soon...")+'"><span>'+_("Soon...")+"</span></button>").css({width:"auto"}).click(function(){g.openUrl(p)}).appendTo(s):e.buyURL&&m('<span class="btn btn-primary" data-tooltipster="bottom" title="'+_("Buy")+'">'+(e.price?"<span>"+e.price+"</span>":_("Buy"))+"</span>").click(function(t){t.preventDefault(),t.stopPropagation(),f(e)}).appendTo(s),e.minAppVersion&&b.versionCmp(b.version,e.minAppVersion)<0||e.maxAppVersion&&0<b.versionCmp(b.version,e.maxAppVersion)||e.minVersion&&e.version<e.minVersion&&!e.expired||e.disabled?(r.addClass("uncompatible").attr("data-tooltipster","top").attr("title",_("Not available for your Mobirise version")),console.log("Uncompatible version of addon "+e.name)):(e.installed&&e.installed<e.minVersion&&r.addClass("disabled").attr("data-tooltipster","top").attr("title",_("Not compatible with your version of Mobirise")),a.find(e.new?"div":"h3").css("max-width","calc( 100% - "+(s.width()+11)+"px)"),u===h.length-1&&(o=g.$body.find("#themes-list img[data-src]"))&&g.replaceVisibleDataSrc(o))}(h[u])})}function y(t){var r="Site-"+b.dateFormat(new Date,"MM-dd_hhmm"),t={name:t.name,title:t.title};g.showPreloader(),g.applyFilter("promiseChosenTheme",Promise.resolve(t)).then(function(i){setTimeout(function(){m(".preloader").css("opacity",1)},1),b.getSettings("dontShowCreateSiteModal",function(t){function e(){g.closeSidebar(),g.runSaveProject(function(t){t||console.error("Error: unable to save current project"),g.createProject(r,0,i,function(t){t&&g.showError(_("Unexpected project create error ")+" ("+t+").",function(){g.showProjectsList()})}),m("#addonsModal").hide()},!0)}var n;"true"!==t?n=g.showDialog({body:['<div class="form-group">',_("Do you want to create the $site name$ site based on the $theme name$ theme, $name preset$ Template?").replace("$site name$","<strong>"+r+"</strong>").replace(i.titlePreset?"$name preset$":", $name preset$ Template",i.titlePreset?"<strong>"+i.titlePreset+"</strong>":"").replace("$theme name$","<strong>"+i.title+"</strong>"),"</div>",'<div class="dont-show-more clearfix">','   <div class="togglebutton">','       <label style="width: 100%;">','           <input type="checkbox" id="dont-show-again">','           <span class="toggle" style="margin-top: -6px;"></span>',_("Don't show again"),"       </label>","   </div>","</div>"].join("\n"),buttons:{cancel:{label:_("Cancel"),className:"btn-default"},success:{label:_("Ok"),className:"btn-primary",callback:function(){var t=n.find("#dont-show-again")[0].checked;b.setSettings("dontShowCreateSiteModal",t),e()}}}}).on("hidden.bs.modal",function(){g.hidePreloader()}):e()})}).catch(function(){g.closeSidebar(),g.hidePreloader()})}function w(t){var e=(t=t||{}).body;if("string"==typeof e)for(var n in t)e=e.replace("@"+n+"@",t[n]);var i=m(r).attr("id",t.id).insertBefore("#insertBefore");return"large"==t.size&&(i.addClass("bs-example-modal-lg"),i.find(".modal-dialog").addClass("modal-lg")),i.find(".modal-body").append(e),i.find(".modal-title").append(t.title),i.on("hidden.bs.modal",function(){m(this).data("modal",null),t.onhide&&t.onhide(),m(this).remove()}),t.onbeforeshow&&t.onbeforeshow(i),i.modal("show"),i}function o(e){var r=w({id:"redeemModal",title:_("Redeem code"),body:'<div class="input-group"><input type="text" class="form-control" placeholder="'+_("Enter code...")+'"><span class="input-group-btn"><button class="btn btn-primary" type="button">'+_("Redeem")+"</button></span></div>"});r.find("button.btn-primary").click(function(){var i,t=r.find("input").val();t&&(i=m(g.preloaderHTML),m("#addonsModal").append(i),r.find("input,button").prop("disabled",!0),a.mbrServer.activate(t).then(function(t){g.fire("redeemActivated"),g.alertDlg(_("Code is successfully redeemed!")).on("hidden.bs.modal",function(){r.find("input,button").prop("disabled",!1),r.modal("hide"),e&&e()})},function(t,e,n){i.remove(),1211==e&&(t=_("Incorrect code")),1212==e&&(t=_("Activation error")),n&&(t="<a class='ex-info-link' href='javascript:void(0)'>"+t+"</a> ("+e+")",t+="<div style='display:none;-webkit-user-select:all'>"+n+"</div>"),g.alertDlg(t).find("a.ex-info-link").click(function(){m(this).parent().find("div").show()}),r.find("input,button").prop("disabled",!1),g.handleServerError(t,e)}))})}function _(t){return g.TR?g.TR(t,"app-addons"):t}g.regExtension({name:"addons",global:{addonPackageExt:"mbrext",$addonsBlock:0,showAddonsList:function(t,a){g.fire("clearAutoUpdateTimeout");var s=m(g.preloaderHTML),e=_("Extensions"),l=w({id:"addonsModal",title:e,body:s,onhide:function(){a?(console.log("rebooting..."),b.reload()):(b.isDev||(g.off("updateAllStop",enableExtWindow),g.off("updateAllStart",disableExtWindow)),t&&t())},onbeforeshow:function(t){t.find(".modal-header>*").wrapAll('<div class="modal-header-wrapper">')}});function c(){var t=g.getUserInfo();l.find(".modal-title").replaceWith('<h3 class="modal-title">'+e+(t&&t.email&&!b.isMobile?" ("+t.email+")":"")+"</h3>")}function u(){var t,e=l.find("#filter-extensions > input").val().toLowerCase(),n=m(".list-view .row").children();n.forEach=[].forEach,n.forEach(function(t){return t.classList.remove("hide")}),""!==e&&(e=e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),(t=m(n).filter(function(t){return void 0!==this&&"plugin"!==this.dataset.extensionsType?this.dataset.extensionsTitle||this.dataset.extensionsText?!(~this.dataset.extensionsTitle.toLowerCase().search(e)||~this.dataset.extensionsText.toLowerCase().search(e)):"":1})).forEach=[].forEach,t.forEach(function(t){return t.classList.add("hide")}),n.length===t.length)?m("#addonsModal .placeholder").removeClass("hide"):m("#addonsModal .placeholder").addClass("hide")}function h(){var o=1;function t(i,t,r){g.getAddonsEx(0,t?{type:t}:0,{server:r,serverOptions:{with_archive:1},restricted:!0}).then(function(t,e,n){n&&(r=n),--o<=0&&(m(".preloader-spinner").remove(),g.isUpdatingNow)&&g.updateAllAppendLoader(f),v(t=t.filter(function(t){return!("mobirise5"==t.name||"startm5"==t.name||"mobirise-amp"==t.name)}),i,0,function(n,r){var i=n.downloadURL||"",t=g.getUserInfo();t&&t.email?(d.append(s),setTimeout(function(){g.downloadAddon(n).done(function(t){var n,i;t?(h(),t.name!==g.theme.name&&"theme"===t.type&&"code-editor"!==t.name||(a=!0),n=t,i=jQuery.Deferred(),b.loadLocalFile(g.getAddonDir(n.name)+"/splash.html",function(t){var e="theme"===n.type?_("theme"):_("extension");w({body:_("$extension$ is successfuly added").replace("$extension$",'"'+n.title+'" '+e+" ")+".\n"+(t||"").replace('src="','src="'+g.getAddonDir(n.name)+"/"),title:_("About"),size:"large",onhide:function(){i.resolve()}})}),i.always(function(){r&&r(!0)})):s.remove()}).fail(function(t,e){g.alertDlg(t+'"'+n.title+'".'+(i?"":_("Try to log out and log back in"))).on("hidden.bs.modal",function(){r&&r(!1)}),s.remove()})},100)):g.checkSign(function(t){t&&(c(),h())})},function(t,e){g.openUrl(t.buyURL)}),g.fire("showedAddonsList",t),u(),b.isMobile||m("#filter-extensions .form-control").focus(),g.$body.on("keyup.escListenerAddonsList",function(t){"Escape"===t.key&&(l.modal("hide"),t.stopPropagation())}),l.on("hidden.bs.modal",function(){g.$body.off("keyup.escListenerAddonsList"),g.lazyObserver&&g.lazyObserver.disconnect()})})}r.find("input").val(""),r.find("input").trigger("keyup"),t(p,0,!0),g.off("signedin",h)}c();var d=l.find(".modal-body"),n=l.find(".modal-header-wrapper"),i=m('<a href="javascript:void(0)" class="redeem-ext">'+_("Redeem")+"</a>"),r=m('<div class="col-md-4" id="filter-extensions"><input name="name" type="text" placeholder="'+_("Search")+'" value="" class="form-control"></div>'),f=(i.click(function(){g.checkSign(function(t){t&&(c(),o(b.reload))})}).appendTo(n),r.on("keyup","input",u).appendTo(n),l.find(".modal-header .close").replaceWith('<div class="app-layer"><span class="app-layer-close mbr-icon-angle-left" data-dismiss="modal"></span></div>'),m('<div class="list-view">').appendTo(d)),p=m('<div id="themes-list"></div>').appendTo(f);h(),g.on("signedin",h),g.fire("shownAddonsDialog",l)},downloadAddon:function(e,n,i){var t=e.downloadURL,r=(console.log("Start download "+t),g.fire("downloadAddon",e),jQuery.Deferred());return t?(g.on("cancelDownloadAddon",o),a.mbrServer.download(t,function(t){if(n)i({msg:e.title,currentAddon:t});else switch(t){case 0:return void(g.progressBar("isCanceled")&&(g.progressBar("show",_("Downloading..."),e.title),g.$progressModal.removeClass("passive")));case 1:return void g.progressBar("hide");default:g.progressBar({progress:Math.floor(100*t)}),console.log("Download progress "+t)}}).fail(function(t,e){g.off("cancelDownloadAddon",o),r.reject(t,e),g.handleServerError(t,e)}).done(function(t){g.off("cancelDownloadAddon",o),g.extractAddon(t,function(t){t?(t=g.pkgParams2addon(t),console.log("Loaded new addon "+t.name),g.fire("downloadedAddon",t),r.resolve(t)):r.reject("extract error",1301)},n)}),r):r.reject(_("Unable to download $extension$. Try to re-login.").replace("$extension$",e.name||"extension"),1302);function o(){r.reject(_("Download cancelled: "),1303),b.stopDownload(t),g.off("cancelDownloadAddon",o)}},extractAddon:function(r,o){var a=2<arguments.length&&void 0!==arguments[2]&&arguments[2],s=b.tempLocation+"/addon"+b.dateFormat(new Date,"yyyyMMdd_hhmmss"),o=o||function(){};b.unzip(r,s,function(t){t?b.getLocalJSON(s+"/params.json",function(e){var n,i=g.pkgParams2addon(e||{}),t=i.name;t?(n=g.getAddonsDir()+"/"+t,!a||"plugin"!==i.type&&i.name!==g.theme.name||(n+="-new",i.newVersion=!0),b.isExistsLocal(n.replace(/\-new$/,""),function(t){t||!a||"plugin"!==i.type&&i.name!==g.theme.name||(b.removeLocal(n),n=n.replace(/\-new$/,"")),b.copyLocal(s,n,function(t){t?g.enableAddon(i,function(t){g.fire("extractedAddon"),o(e)}):(console.log("Error: component '"+i.name+"' is not registered"),o()),b.removeLocal(s)})})):(console.log("Error: wrong params.json file of addon "+r),o())}):(console.log("Extraction error ",r,"to",s),o())})},showRedeem:o},events:{load:function(){this.$addonsBlock=g.addSidebarItem({title:_("Extensions"),tooltip:_("Add Themes and Extensions"),onclick:function(){g.showAddonsList()}}),g.on(["accountInited","signedin"],function(t){!1!==t&&g.isPremiumUser().then(function(t){t||(g.$body.find(".nav.navbar-nav.navbar-right").append('<li class="app-upgrade" data-tooltipster="bottom" title="'+_("Buy Premium Plan")+'">\n                                    <a href="javascript:void(0)" style="font-size:20px">\n                                        Upgrade\n                                    </a>\n                                </li>'),g.$body.find(".nav.navbar-nav.navbar-right .app-upgrade").click(function(){g.goToBuyPremium({alert:!1,delay:!1}),gtag("event","ai_upgrade_click",{event_category:"engagement",dom_source:"navbar"})}))})})},addonsOff:function(){var t=this;m(".preloader").hide(),g.showDialog({title:_("Warning"),body:_("During the last run the program failed to load all extensions."),buttons:{ok:{label:_("Ok"),className:"btn-primary"}},onhide:function(){t.showAddonsList()}})},addonsLoaded:function(t,e){m(".preloader").delay(600).fadeOut(1e3,function(){m(this).hide()})},incomingFile:function(t){e.test(t)&&g.extractAddon(t,function(t){console.log(t)})}}})},["jQuery","mbrApp","Bridge"])},function(t,e,n){"use strict";var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},h=(n(25),n(77),function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}}(n(639)));defineM("addons-core",function(b,v,i,s){function c(t){return{name:t.alias||t.name,title:t.title||t.name,version:t.version,minAppVersion:t.minAppVersion,maxAppVersion:t.maxAppVersion,type:t.theme?"theme":"plugin"}}var n="web/app/themes",o={},a="list.json";function l(){var t=b.Deferred();return v.restrictedAddonsList?t.resolve(v.restrictedAddonsList):h?(v.restrictedAddonsList=h,t.resolve(v.restrictedAddonsList)):t.resolve({})}function y(i){var t,e=o,r={};for(t in e)!function(t,e){if(i)for(var n in i)if(e[n]!=i[n])return;r[t]=e}(t,e[t]);return r}function e(){var t=s._getAuthToken().then(function(t){return fetch(v.getAddonsDir()+"/auth",{method:"POST",headers:{Authorization:"Bearer "+t},mode:"cors",credentials:"include"})}).then(function(t){if(200!==t.status)throw new Error("Authorization error")}).catch(function(t){throw v.showError("Extensions are not available, please try again later"),t});return e=function(){return t},t}function r(t){t.name in o&&(t.version>(o[t.name].version||1)?o[t.name].status="":o[t.name].status="system")}v.regExtension({name:"addons-core",global:{registeredAddons:{},restrictedAddons:{},isBuildInAddon:function(t){return!!Object.keys(o).includes(t.toLowerCase())},pkgParams2addon:c,getAddonsDir:function(){return s.getAddonsDir()},isAddonsDir:function(t){return 0===t.indexOf(this.getAddonsDir().replace(/\/$/,"")+"/")},isCurrentThemeDir:function(t){return 0===t.indexOf(this.path2core(this.getAddonDir(this.theme.name)+"/"))},isAssetsDir:function(t){return this.isAddonsDir(t)||this.isCurrentThemeDir(t)},getBuildinAddons:y,getAddons:function(r){var t=v.getUserInfo();t&&t.email?e().then(function(){s.getLocalJSON(v.getAddonsDir()+"/"+a,function(i){i?l().then(function(e){var n={};Object.keys(i).forEach(function(t){if(!(t in e))return n[t]=i[t]}),r(n)}):s.dataLocation?s.getLocalJSON(s.dataLocation+"/addons/"+a,function(e){e?s.copyLocal(s.dataLocation+"/addons",v.getAddonsDir(),function(t){t?(r(e),s.removeLocal(s.dataLocation+"/addons")):r({})}):r({})}):(console.error("Error: addons request before Bridge.dataLocation initialization."),r({}))})},console.error):(console.warn("Addons request before account entering."),r({}))},getAddonsListAsText:function(i){v.getAddons(function(t){var e,n=[];for(e in t=t||{})n.push(e+t[e].version);i&&i(n.join(","))})},getAddonsEx:function(h,d,f){var a,n,e,p=jQuery.Deferred(),m=(f=b.extend({restricted:!1,system:!0,server:!1},f),[]),g=[],t=[];return t.push(l()),t.push((a=d,n=b.Deferred(),v.getAddons(function(t){var e,r={},o=[];for(e in t=t||{})!function(t,n){if(a)for(var e in a)if(n[e]!=a[e])return;r[t]=n;var i=b.Deferred();s.getLocalJSON(v.getAddonDir(t)+"/params.json",function(t){for(var e in t=t||{})e in n||(n[e]=t[e]);setTimeout(function(){i.resolve()},1)}),o.push(i.promise())}(e,t[e]);b.when.apply(b,o).then(function(){n.resolve(r)})}),n.promise())),f.server&&!b.isArray(f.server)&&t.push((e=b.Deferred(),i.addons().then(function(t){e.resolve(t)},function(t){e.reject(t)}),e.promise())),b.when.apply(b,t).then(function(t,e,n){t=t||{},e=e||{},n=n&&n.data||b.isArray(f.server)&&f.server;var i,r,o=y(d);if(f.system)for(var a in o)(!(a in e)||e[a].version<(o[a].version||1))&&(e[a]=o[a]);if(n){v.fire("serverAddonsLoaded",function(t,e){for(var n=0;n<t.length;n++)e[t[n].name]=t[n];return e}(n,{}),e);for(var s=0;s<n.length;s++)(a=(c=n[s]).name)in e&&(c.installed=e[a].version||1,c.status=e[a].status,e[a]=c)}for(a in e)r=e[i=a],g.push(r),r.cover||(r.cover=r.logo||"",r.cover.indexOf(":")<0&&(r.cover=v.getAddonDir(i)+"/"+r.cover)),r.largeCover&&r.largeCover.indexOf(":")<0&&"system"!==r.status&&(r.largeCover=v.getAddonDir(i)+"/"+r.largeCover),r.installed||(r.installed=r.version);if(n)for(s=0;s<n.length;s++)if((a=(c=n[s]).name)in e)for(var l in c)l in e[a]||(e[a][l]=c[l]);else c.installed=0,g.push(c);for(var c,u,s=0;s<g.length;)(a=(c=g[s]).name)in t&&(c.minVersion=t[a].minVersion,c.hiddenIfRestricted=t[a].hiddenIfRestricted,c.disabled=t[a].disabled,!f.restricted)&&(c.version<c.minVersion||c.disabled)?(v.restrictedAddons[a]=t[a],t[a].hiddenIfRestricted||m.push(c),g.splice(s,1)):s++;n&&(u={},n.forEach(function(t,e){u[t.name]=e}),g.sort(function(t,e){return t.name in u?e.name in u?u[t.name]-u[e.name]:-1:e.name in u?1:t.name.localeCompare(e.name)})),h&&h(g,m,n),p.resolve(g,m,n)}),p.promise()},enableAddon:function(e,n){v.getAddons(function(t){t[e.name]=e,s.saveLocalFile(v.getAddonsDir()+"/"+a,JSON.stringify(t,null,s.isDev?"    ":""),n),r(e)})},disableAddon:function(n,i){v.getAddons(function(t){n=n.split(",");for(var e=0;e<n.length;e++)delete t[n[e]],n[e]in o&&(o[n[e]].status="system");s.saveLocalFile(v.getAddonsDir()+"/"+a,JSON.stringify(t,null,s.isDev?"    ":""),i)})},disableAllAddons:function(t){s.saveLocalFile(v.getAddonsDir()+"/"+a,"",t)},getAddonDir:function(t){return t in o&&"system"==o[t].status?n+"/"+t:v.getAddonsDir()+"/"+t},readAddon:function(t,e){var n=this;s.getLocalJSON(t+"/params.json",function(t){e(n.checkAddon(t))})},checkAddon:function(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(t){return void console.log(t)}if(!(t&&t.themeCompatibility&&t.themeCompatibility.indexOf(v.theme.name)<0||t.name in h))return t},loadEachAddon:function(i,e,t,n){var r,o,a,s=this;function l(){s.fire("addonLoadFinish",r,e),n&&n(r)}(e=s.checkAddon(e))?(r=c(e)).name in s.registeredAddons?(console.warn("Addons already loaded",r.name),n&&n(r)):(s.registeredAddons[r.name]=r,s.fire("addonLoaded",e,r),o=b.Deferred().resolve(),e.includes&&(o=o.then(function(t){return b.when.apply(b,e.includes.map(function(t){var e;if(!/[.~:]/.test(t))return e="web/app/includes/"+t+".js",0==t.split("/").pop().indexOf("core-")?v.addCoreResource(e,!0):v.addAppResource(e);console.error("Error: wrong include name '"+t+"' in "+i)})).then(0,function(t){return console.error(t)},b.Deferred().resolve())})),e.dependencies&&(o=o.then(function(t){return b.when.apply(b,e.dependencies.map(function(t){var e=i+"/"+("object"===(void 0===t?"undefined":u(t))?t.src:t),t="object"===(void 0===t?"undefined":u(t))&&t.type?t.type:/.js$/g.test(e)?"js":/.css$/g.test(e)?"css":"";if(t)return v.addAppResource(e,"js"==t)})).then(0,function(t){return console.error(t)},b.Deferred().resolve())})),e.appScript&&(o=o.then(function(){return v.addAppResource(i+"/app.js")})),(a="code-editor"===e.name)&&(o=o.then(function(){return v.addAppResource("web/app/code-editor/app.js")})),a&&(o=o.then(function(){return v.addAppResource("web/app/code-editor/html-clean.js")})),e.coreDependencies&&(o=o.then(function(t){return b.when.apply(b,e.coreDependencies.map(function(e){try{var t=i+"/"+("object"===(void 0===e?"undefined":u(e))?e.src:e),n="object"===(void 0===e?"undefined":u(e))&&e.type?e.type:/.js$/.test(t)?"js":/.css$/.test(t)?"css":"";if(n)return v.addCoreResource(t,"js"==n)}catch(t){console.error(t,e)}})).then(0,function(t){return console.error(t)},b.Deferred().resolve())})),e.coreScript&&(o=o.then(function(t){return v.addCoreResource(i+"/core.js",!0)})),a&&(o=o.then(function(t){return v.addCoreResource("web/app/code-editor/core.js",!0)})),e.plugins&&(o=o.then(function(t){return b.when.apply(b,e.plugins.map(function(t){return v.readPlugin(i+"/"+t)})).then(0,function(t){return console.error(t)},b.Deferred().resolve())})),e.components&&e.components.forEach(function(t){o=o.then(function(){return v.readComponent2(t,i,r)})}),o=o.then(function(){!t&&e.plugins?v.updatePlugins(l):l()})):n&&n(!1)},loadAllAddons:function(t){v.loadAddons(t)},loadAddons:function(n,e){var i=this;n=n||function(){},s.getSettings("loading",function(t){i._runLoadAddons(function(t,e){i.fire("addonsLoaded",t,e),n()},e)})},_runLoadAddons:function(e,t){var a=this;e=e||function(){},v.getAddonsEx(function(o,t){o?b.when.apply(b,a.applyFilter("promisesBeforeAddonsLoaded",[],o)).then(function(){for(var t=b.Deferred(),i=[],r=0;r<o.length;r++)!function(t){var e,n;"theme"!==o[r].type&&(e=b.Deferred(),n=v.getAddonDir(t),s.loadLocalFile(n+"/params.json",function(t){t?a.loadEachAddon(n,t,!0,function(t){t||console.warn("Error while load addon "+n),setTimeout(function(){e.resolve()},1)}):e.reject()}),i.push(e.promise()))}(o[r].name);return b.when.apply(b,i).then(function(){t.resolve()}).fail(function(){t.resolve()}),t.promise()}).done(function(){v.updatePlugins(function(){e(o,t)})}):e()},t)}},events:{accountInited:function(){var e=this;s.getLocalJSON(n+"/list.json",function(t){o=t||o,t||console.warn("no buildin addon"),e.getAddons(function(t){for(var e in o)e in t&&r(t[e]);v.fireOnce("addonsReady")})})},signedin:function(){this.loadAllAddons()},load:function(){var e;v.getThemeAddonsEx=(e=v.createCachingWrapper(v.getAddonsEx.bind(null,void 0,{type:"theme"},{server:!0}),{ttl:9e5}),function(t){return e().then(t)})}}})},["jQuery","mbrApp","mbrServer","Bridge"])},function(t){t.exports=JSON.parse('{"iconfont":{"minVersion":6},"dropdown-menu":{"minVersion":2},"instagram-feed":{"disabled":true},"social-feed":{"disabled":true},"amp-blocks":{"disabled":true},"translator":{"disabled":true},"lazyload":{"disabled":true},"pwa-builder":{"disabled":true},"password-protect":{"disabled":true},"facebook-feed":{"disabled":true}}')},function(t,e,n){"use strict";var n=n(160),m=(n=n)&&n.__esModule?n:{default:n};defineM("app-addons-registry",function(i,r,t,e){function o(t){if("number"==typeof t&&isFinite(t))return t;if("string"==typeof t&&0<t.length){var e=/^(-?(?:\d+)?\.?\d+) *([smhd]|$)/i.exec(t);if(!e)throw new TypeError("This format is not supported");switch(t=parseFloat(e[1]),e[2].toLowerCase()){case"d":t*=24;case"h":t*=60;case"m":t*=60;case"s":t*=1e3}return t}throw new TypeError("val is not a non-empty string or a valid number")}var n=["cookies-alert","default","facebook-comments","google-analytics","instagram-feed","mobirise-amp","mobirise3","purity","seo","social-feed","soundcloud","translator"],a=(s.prototype.extend=function(t){if(t instanceof s)return t.props.map(function(t){var e,n=this.props;for(e in n)if(n[e].__source===t.__source)return void(n[e].__received<t.__received&&(n[e]=t));n[t.__source.hasAuthority()?"unshift":"push"](t)},this),this;throw new TypeError("addon must be instance of Addon")},s.prototype.get=function(t,e){if("dir"===t)return r.getAddonDir(this.get("name"));for(var n in this.props)if((!e||this.props[n].__source.hasAuthority())&&void 0!==this.props[n][t])return this.props[n][t]},s.prototype.has=function(){return null!=this.get.apply(this,arguments)},s.prototype.isFree=function(){var t=this.get("premium",!0);return null!=t?!t:r.AddonsRegistry&&r.AddonsRegistry.isSynchronized()||n.includes(this.get("name"))||this.isSystem()},s.prototype.isPremium=function(){return!this.isFree()},s.prototype.hasLifetimeLicense=function(){return this.isPremium()&&this.isPaid()&&(this.get("expiredDate",!0)||1/0)<Date.parse("2021-02-27")},s.prototype.isExpired=function(){return this.isPremium()&&(this.get("expired",!0)||(this.get("expiredDate",!0)||0)<Date.now())},s.prototype.isPaid=function(){return!!this.get("paid",!0)},s.prototype._getPropsBy=function(t){var e,n="string"==typeof t;for(e in this.props){var i=this.props[e];if(n?i.__source.get("name")===t:i.__source===t)return i}},s.prototype.reduceTo=function(t){t=this._getPropsBy(t);if(t)return new this.constructor(i.extend({},t))},s.prototype.isFrom=function(t){return!!this._getPropsBy(t)},s.prototype.isSystem=function(){return this.isFrom("system")},s.prototype.isInstalled=function(){return this.isSystem()||this.isFrom("installations")},s.prototype.add=function(t){if(t instanceof c)return t.extract(this.get("name")).then(function(t){return this.extend(t)}.bind(this));throw new TypeError("source must be instance of Source")},s.prototype.toJSON=function(){return this.props.reduce(function(t,e){for(var n in e)n in t||0===n.indexOf("__")||(t[n]=e[n]);return t},{})},s);function s(t){this.props=[i.extend({__source:t&&t.__source||c.create(),__received:Date.now()},t)]}u.create=function(t){return new this(t)},u.prototype.set=function(t,e){return this._settings[t]=e,this},u.prototype.get=function(t){return this._settings[t]},u.prototype.hasAuthority=function(){return!!this.get("authoritative")},u.prototype._fill=function(){if(this._active&&this.registry&&"ready"===this._state){var n=this;this._state="busy";try{var e=this._read?this._read():i.when([]);if(!e||"function"!=typeof e.then)throw new Error("_read() method should return promise")}catch(t){e=i.Deferred().reject(t)}e.then(null,function(t){return console.error(t),i.when([])}).then(function(t){for(var e in t)n.registry.add(new a(i.extend({__source:n},t[e])));n._state="depleted",n._defDepleted.resolve(n)})}},u.prototype.bind=function(t){if(t instanceof d)return this.registry!==t&&(this.registry=t,this._state="ready",this._defDepleted=i.Deferred(),this._active)&&setTimeout(this._fill.bind(this),1),this;throw new TypeError("registry must be instance of AddonsRegistry")},u.prototype.isPaused=function(){return!this._active},u.prototype.pause=function(){return this._active=!1,this},u.prototype.resume=function(){return this._active||(this._active=!0,this._fill()),this},u.prototype.depleted=function(){if(this.registry)return this._defDepleted.promise();throw new Error("This source is not bound to registry")},u.prototype.entries=function(){return(this.registry&&this.registry.entries()||[]).filter(function(t){return t.isFrom(this)},this)},u.prototype.extract=function(t){if(!this._settings.readByName)throw new Error("settings.readByName is not defined");try{var e=this._settings.readByName.call(this,t);if(!e||"function"!=typeof e.then)throw new Error("readByName() method should return promise")}catch(t){e=i.Deferred().reject(t)}return e.then(function(t){return new a(i.extend({__source:this},t))}.bind(this))};var l,c=u;function u(t){this._settings=t||{},this._active=!0,this._read=this._read||this._settings.read}function h(t){if(l.apply(this,arguments),!this._settings.read)throw new Error("settings.read is not defined")}c.external=(l=c,h.create=l.create,((h.prototype=Object.create(l.prototype)).constructor=h).prototype.expire=function(){return this.get("cache")&&m.default.removeLocal(this.get("cache")).then(null,i.noop),this},h.prototype._verify=function(e,t){return e&&i.isArray(e.data)?t?i.when(e):this.get("account")?m.default.verify(JSON.stringify([[["time",e.meta.time],["account",this.get("account").email.toLowerCase()]],e.data.map(function(t){return t&&[["premium",t.premium],["status",t.status],["type",t.type],["name",t.name],["paid",t.paid],["expired",t.expired],["expiredDate",t.expiredDate]]})]),e.meta.signature).then(function(t){return t?e:i.Deferred().reject(new Error("Invalid signature"))}):i.Deferred().reject(new Error("Account is not defined")):i.Deferred().reject(new Error("Invalid response"))},h.prototype._load=function(){return this.get("cache")?m.default.getLocalJSON(this.get("cache")).then(function(t){return this._verify(t)}.bind(this)).then(function(t){return Date.now()-1e3*t.meta.time<o("4 days")?t:i.Deferred().reject(new Error("Cache is out of date"))}).then(function(t){var e=Date.now(),n="number"==typeof t.meta.localTime?t.meta.localTime:0,e=n<e&&e-n<o("5 minutes")?"low":n<e&&e-n<o("3 days")?"medium":"high";return"low"==e?t:i.Deferred().reject(i.extend(new Error("Cache needs update"),{code:"CacheNeedsUpdate",cache:t,priority:e}))}):i.Deferred().reject(new Error("Cache not configured"))},h.prototype._save=function(e){return this.get("cache")?m.default.saveLocalFile(this.get("cache"),JSON.stringify(e)).then(function(){return e},function(t){return console.error(t),i.when(e)}):i.when(e)},h.prototype._getItems=function(e){return e.data.filter(function(t){return"theme"===t.type||"plugin"===t.type}).map(function(t){return t.__received=1e3*e.meta.time,"expiredDate"in t&&(t.expiredDate*=1e3),t})},h.prototype._lazyLoad=function(t){var e,n=this._getItems(t);for(e in n)this.registry.add(new a(i.extend({__source:this},n[e])))},h.prototype._read=function(){var n=this;return this._load().then(null,function(t){var e=n._settings.read.call(n).then(function(t){return n._verify(t,!0)},function(t,e){return"string"==typeof t&&(t=i.extend(new Error(t),{code:e})),n.set("lastError",t),i.Deferred().reject(t)}).then(function(t){return t.meta.localTime=Date.now(),n._save(t)});if(t&&"CacheNeedsUpdate"===t.code){if("high"!==t.priority)return e.then(n._lazyLoad.bind(n),i.noop),i.when(t.cache);e=e.then(null,function(){return i.when(t.cache)})}return e}).then(function(t){return n._getItems(t)},function(t){return n.set("authoritative",!1),i.Deferred().reject(t)})},h);f.prototype.resume=function(){return this._sources.forEach(function(t){t.resume()}),this},f.prototype.add=function(t){if(!(t instanceof a))throw new TypeError("addon must be instance of Addon");var e,n=t.get("name");for(e in this._addons[n]=this.has(n)?this.get(n).extend(t):t,t.props)t.props[e].__source.hasAuthority()&&(this._synchronized=Math.max(t.props[e].__received,this._synchronized||0));return this},f.prototype.source=function(t){for(var e in this._sources)if(this._sources[e].get("name")===String(t))return this._sources[e]},f.prototype.ready=function(){return this._promiseReady},f.prototype.isReady=function(){return"pending"!==this._promiseReady.state()},f.prototype.isSynchronized=function(){return null!=this._synchronized},f.prototype.synchronizedLessThan=function(t){return!!this.isSynchronized()&&Date.now()-this._synchronized<o(t)},f.prototype.synchronizedMoreThan=function(t){return!this.isSynchronized()||Date.now()-this._synchronized>o(t)},f.prototype.get=function(t){return this._addons[t]},f.prototype.getOrCreate=function(t){return this.get(t)||new a({name:t})},f.prototype.has=function(t){return!!this._addons[t]},f.prototype.entries=function(){return Object.values(this._addons)};var d=f;function f(e){e=e||{},this._addons={},this._sources=(e.sources||[]).map(function(t){return e.pause&&t.pause(),t.bind(this)},this),this._promiseReady=i.when.apply(i,this._sources.map(function(t){return t.depleted()})).then(function(){return this}.bind(this))}var p=new d({pause:!0,sources:[c.create({name:"system",read:function(){return i.when(r.getBuildinAddons())}}),c.create({name:"installations",read:function(){var t=i.Deferred();return r.getAddons(t.resolve),t.promise()}}),c.create({name:"params.json",readByName:function(t){return m.default.getLocalJSON(r.getAddonDir(t)+"/params.json").then(function(t){return t||i.Deferred().reject(new Error("Not found"))})}}),c.external.create({name:"mobirise.com",authoritative:!0,read:function(){return e.addons({sign:1})}})]});r.on(["accountInited","signedin"],function(){var t=r.getUserInfo();t&&(p.source("mobirise.com").set("account",t).set("cache",r.getAddonsDir()+"/registry.json"),p.resume())}),r.regExtension({name:"addons-registry",events:{redeemActivated:function(){p.source("mobirise.com").expire()}},global:{AddonsRegistry:p}})},["jQuery","mbrApp","TR()","mbrServer"])},function(t,e,n){"use strict";var c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u=function(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t};function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}defineM("app-addons-messenger",function(i,t,e,r){var o={},n=(u(a,[{key:"addSubscriber",value:function(t){if("function"!=typeof t)throw new Error("Invalid subscriber type");this._subscribers.push(t)}},{key:"removeSubscriber",value:function(t){if("function"!=typeof t)throw new Error("Invalid subscriber type");this._subscribers=this._subscribers.filter(function(t){return t!==funk})}},{key:"sendEventToSubs",value:function(e){var n=this;this._subscribers.map(function(t){return t.call(n,e)})}}]),a);function a(t){h(this,a),this.params=t||{},this._subscribers=[],this.addSubscriber=this.addSubscriber.bind(this),this.removeSubscriber=this.removeSubscriber.bind(this),this.sendEventToSubs=this.sendEventToSubs.bind(this)}function s(){h(this,s),this._buses={},this.addBus=this.addBus.bind(this),this.removeBus=this.removeBus.bind(this),this.isExistBus=this.isExistBus.bind(this),this.subscribe=this.subscribe.bind(this),this.unsubscribe=this.unsubscribe.bind(this),this.postMessageToEventBus=this.postMessageToEventBus.bind(this),this.postMessageToHandler=this.postMessageToHandler.bind(this),this.eventListener=this.eventListener.bind(this)}u(s,[{key:"addBus",value:function(t){t=new n(t);if(!t.params.name||"string"!=typeof t.params.name)throw new Error("invalid eventBus name");if(!(t.params.name in this._buses))return this._buses[t.params.name]=t}},{key:"removeBus",value:function(e){if(!e||!this._buses.find(function(t){return t.name===e}))throw new Error("eventBus "+e+" not found");this._buses=this._buses.filter(function(t){return t.name!==e})}},{key:"isExistBus",value:function(t){return!(!t||"string"!=typeof t)&&t in this._buses}},{key:"subscribe",value:function(t,e){t&&"string"==typeof t&&this.isExistBus(t)&&"function"==typeof e&&this._buses[t].addSubscriber(e)}},{key:"unsubscribe",value:function(t,e){t&&"string"==typeof t&&this.isExistBus(t)&&"function"==typeof e&&(this._subscribers=this._subscribers.filter(function(t){return t!==e}))}},{key:"postMessageToEventBus",value:function(t){if(!t||"object"!==!(void 0===t||c(t)))throw new Error("event must be an object");if(!(t.name in this._buses))throw new Error("Unknown eventBus name:"+t.name);this._buses[t.name].sendEventToSubs(t)}},{key:"postMessageToHandler",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:function(){};if(!t||"object"!==(void 0===t?"undefined":c(t)))return e(new Error("event must be an object"));if(!(t.name in this._buses))return e(new Error("Unknown eventBus name:"+t.name));if(!(t.method in this._buses[t.name].params)||"function"!=typeof this._buses[t.name].params[t.method])return e(new Error("Unknown eventBus method:"+t.method));try{this._buses[t.name].params[t.method].call(this,t.data).then(function(t){e(null,t)}).catch(function(t){throw t})}catch(t){e(t)}}},{key:"eventListener",value:function(){var n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};"message"===n.type&&n.data.name in this._buses&&this.postMessageToHandler(n.data,function(t,e){if(t)throw t;e&&n.source.postMessage({name:n.data.name,method:n.data.method,data:e},n.origin)})}}]);var l=new s;t.regExtension({name:"addons-messenger",global:{createEventBus:l.addBus,getEventBusToken:function(e){var n;return function(t){return t||!o[e]||Date.now()>=n?r.post("auth",{target:e}).then(function(t){return n=Date.now()+1e3*(t.expires_in-30),o[e]=t.access_token}).catch(function(t,e){return console.log(t,e),i.Deferred().reject(new Error(t)).promise()}):jQuery.when(o[e])}},postMessageToEventBus:l.postMessageToEventBus},events:{loaded:function(){window.addEventListener("message",l.eventListener,!1),t.createEventBus({name:"electric-blaze-app",getToken:t.getEventBusToken("https://electricblaze.com")})}}})},["jQuery","mbrApp","TR()","mbrServer"])},function(t,e,n){"use strict";var f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};defineM("app-plugin-progress",function(a,s,l){var c=!1,u=0,h=0,d=!1,t='<div class="modal fade no-select plugin-progress-modal" id="appProgressModal" tabindex="-1" role="dialog" aria-hidden="true" data-backdrop="static">  <div class="modal-dialog">\t<div class="modal-content">\t  <div class="modal-header">\t\t<button type="button" class="close" aria-label="Close"><span aria-hidden="true">&times;</span></button>\t\t<h4 class="modal-title">'+l("Progress")+'</h4>\t  </div>\t  <div class="modal-body">       <div class="progressText">'+l("Publishing...")+'</div>\t\t<br>\t\t<div class="exportingText"></div>\t\t<br>\t\t<div class="progress" style="margin-bottom: 0;">\t\t  <div class="progress-bar progress-bar-striped progress-bar-success active" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width: 0%"></div>\t\t</div>\t  </div>\t  <div class="modal-footer">\t\t<button type="button" class="btn btn-default">'+l("Cancel")+"</button>\t  </div>\t</div>  </div></div>";s.regExtension({name:"plugin-progress",global:{$progressModal:a(t).insertBefore("#insertBefore"),progressBar:function(t,e,n,i){var r=this;if("object"===(void 0===t?"undefined":f(t)))void 0!==t.progress?r.$progressModal.find(".progress-bar").css("width",t.progress+"%"):d=t,i?r.$progressModal.addClass("passive"):r.$progressModal.removeClass("passive");else if("number"==typeof t&&isFinite(t))u=t,h=0;else switch(t){case"show":i?r.$progressModal.addClass("passive"):r.$progressModal.removeClass("passive"),r.progressBar(0),r.progressBar(""),r.$progressModal.appendTo(r.$body).modal({keyboard:!1}),e&&r.$progressModal.find(".modal-title").html(e),n&&(" "===n?r.$progressModal.find(".progressText").remove():r.$progressModal.find(".progressText").html(n));break;case"hide":h=u=0,r.$progressModal.modal("hide"),d=!1;break;case"isCanceled":return!r.$progressModal.is(":visible");case"stop":d&&d.pause&&d.pause(),a(".plugin-progress-modal-stop, .plugin-progress-modal-error").length||bootbox.dialog({message:e||l("Do you want to stop?"),className:"plugin-progress-modal-stop",closeButton:!1,buttons:{cancel:{label:l("Stop"),className:"btn-default",callback:function(){d&&(d.exit&&d.exit(),d=!1),r.progressBar("hide"),s.fire("cancelDownloadAddon")}},confirm:{label:l("Continue"),className:"btn-primary",callback:function(){d&&d.resume&&d.resume()}}}});break;case"error":d&&(c?(d.pause(),setTimeout(function(){d.resume()},0)):(a(".plugin-progress-modal-stop").remove(),d.pause(),bootbox.dialog({message:e||l("Unknown error"),className:"plugin-progress-modal-error",closeButton:!1,buttons:{cancel:{label:l("Cancel"),className:"btn-default",callback:function(){d&&(d.exit&&d.exit(),d=!1),r.progressBar("hide")}},all:{label:l("Ignore Errors"),className:"btn-default",callback:function(){c=!0,d&&d.resume&&d.resume()}},confirm:{label:l("Continue"),className:"btn-primary",callback:function(){d&&d.resume&&d.resume()}}}})));break;default:var o=0;0===h&&(c=!1),0!==u&&(h++,o=Math.min(100,100*h/u)),r.$progressModal.find(".exportingText").html(t),r.$progressModal.find(".progress-bar").css("width",o+"%").attr("aria-valuenow",o)}}},events:{load:function(){function e(){n.progressBar("stop",l("Do you want to stop?"))}var n=this;n.$progressModal.on("click",".modal-footer button, .modal-header button",e).closest("body").on("keydown",function(t){27==t.which&&n.$progressModal.is(":not(.passive):visible")&&e()})}}})},["jQuery","mbrApp","TR()"])},function(t,e,n){"use strict";defineM("app-plugin-favicon",function(n,r,o,a){r.regExtension({name:"favicon",global:{findMenuComponent:function(){var t,e=null,n=r.Core.getPages();for(t in n){var i=n[t];if(i.settings&&(e=i.components.find(function(t){return"Menu"===t._group||-1<t._name.toLowerCase().indexOf("menu")})))break}return e},findMenuLogo:function(){var t=r.findMenuComponent();if(t)if(r.isSecondaryComponent(t)){for(var e in t)if(t[e].hasOwnProperty("image"))return t[e].image.src}else if(t.logo&&t.logo.image.active)return t.logo.image.src},getProjectFavicon:function(){return r.Core.replaceSystemVariables(r.projectSettings.favicon||r.findMenuLogo()||"https://a.mobirise.com/app/builder/images/logo5.png")}},events:{load:function(){r.Core.on("loadedComponent",function(t,e,n,i){!r.projectSettings.favicon&&("Menu"===t._group||-1<t._name.toLowerCase().indexOf("menu"))&&r.$body.find(".navbar-project-info .navbar-favicon").attr("src",r.getProjectFavicon())});var i=this;function t(e){a.openImage(o("Select Image"),i.projectPath?i.projectPath+"/assets/images":"","",r.projectSettings.imageResize?{width:"128",format:"png"}:"",function(t){t&&(t=a.path2app(t),n("input[name=favicon]").val(t),n(".faviconImage").one("load",function(){r.runSaveProject()}),n(".faviconImage").attr("src",t),r.projectSettings.favicon=t,r.$body.find(".navbar-project-info .navbar-favicon").attr("src",t)),e(t)})}i.addFilter("publishHTML",function(t){var e=r.getProjectFavicon();return e?t.replace('<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1">','<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1">\n  <link rel="shortcut icon" href="'+e+'" type="image/x-icon">'):t}),r.addFilter("sidebarProjectSettings",function(t){var e=i.projectSettings.favicon||"",n=r.findMenuLogo(),n={title:"Common",name:"common",html:'<div class="form-group col-md-12 favicon-setting-wrap">\n                            <label class="control-label">'+o("Favicon")+'</label>\n                            <div class="row">\n                                <img id="faviconButton" class="faviconImage col-md-3" width="60" src="'+r.getProjectFavicon()+'">\n                            </div>\n                            <input type="hidden" name="favicon" value="'+e+'">\n                            '+(n?'<div class="row">\n                                <label for="faviconUseMenuLogo" class="control-label col">'+o("Use menu logo")+'</label>\n                                <div class="togglebutton col-auto">\n                                    <label>\n                                        <input type="checkbox" id="faviconUseMenuLogo"'+(e?"":" checked")+'>\n                                        <span class="toggle" style="margin: 0px;"></span>\n                                    </label>\n                                </div>\n                            </div>\n                        </div>':"")};return t.push(n),t}),i.$body.on("click","#faviconButton",function(){t(function(t){t&&n("#faviconUseMenuLogo").prop("checked",!1)})}),i.$body.on("change","#faviconUseMenuLogo",function(){n("#faviconUseMenuLogo").prop("checked")?(n("input[name=favicon]").val(""),r.projectSettings.favicon="",n(".faviconImage").one("load",function(){r.runSaveProject()}),n(".faviconImage").attr("src",r.getProjectFavicon()),r.$body.find(".navbar-project-info .navbar-favicon").attr("src",r.getProjectFavicon())):t(function(t){t||n("#faviconUseMenuLogo").prop("checked",!0)})}),r.Core.on("savedMediaIconFontDialog",function(t){var e,t=n(t);if(t.closest('section[id*="menu" i]'.length)){if("secondary"===r.theme.type)e=t;else{if("logo"!==t.attr("mbr-media"))return;e=t.find("a").length?t.find("a"):t.find("span")}t=r.getProjectImagesDir()+"/mbr-favicon.png";r.saveIcon(e,t)}}),r.Core.on("removeComponent",function(t,e){n(e).find("section").length&&-1<n(e).find("section").attr("id").toLowerCase().indexOf("menu")&&a.removeLocal(r.getProjectImagesDir()+"/mbr-favicon.png",function(t){t&&(r.$body.find(".navbar-project-info .navbar-favicon").attr("src",r.getProjectFavicon()),r.addFilter("publishFiles",function(t){for(var e=0;e<t.length;e++)t[e].dest===r.IMAGES_FOLDER+"/mbr-favicon.png"&&t.splice(e,1);return t}),r.addFilter("exportProjectFiles",function(t){for(var e=0;e<t.length;e++)t[e].dest===r.IMAGES_FOLDER+"/mbr-favicon.png"&&t.splice(e,1);return t}))})}),r.$body.find(".navbar-project-info .navbar-favicon").on("click",function(t){t.preventDefault(),t.stopPropagation(),r.openProjectSettings(r.projectPath+"/project.mobirise"),setTimeout(function(){n('#app-project-sidebar > [data-tab="common"]').click(),n(".app-layer-common .favicon-setting-wrap").addClass("selected")},100)})},saveMediaImageDialog:function(t,e,n){r.projectSettings.favicon||void 0===n||(n=r.Core.getComponent(n))&&("Menu"===n._group||-1<n._name.toLowerCase().indexOf("menu"))&&(n=e.image.src)&&r.$body.find(".navbar-project-info .navbar-favicon").attr("src",n)},loadedProject:function(){r.$body.find(".navbar-project-info .navbar-favicon").attr("src",r.getProjectFavicon())}}})},["jQuery","mbrApp","TR()","Bridge"])},function(t,e,n){"use strict";defineM("app-plugin-tooltip",function(t,e,n){var i;function r(){clearTimeout(i),i=setTimeout(function(){e.initTooltips()},100)}e.regExtension({name:"plugin-tooltip",global:{initTooltips:function(){t('[data-tooltipster]:not(.tooltipstered), [data-toggle="tooltip"]:not(.tooltipstered)').each(function(){t(this).tooltipster({delay:0,speed:100,contentAsHTML:!!t(this).attr("data-tooltip-src"),content:t(this).attr("data-tooltip-src")?t("<img class="+t(this).attr("data-tooltip-class")+" src="+t(this).attr("data-tooltip-src")+">"):null,position:t(this).attr("data-tooltipster")||t(this).attr("data-placement")||"bottom"})})}},events:{load:r,signedin:r,loadedProject:r,addedPage:r,showedProjectsList:r,showedProjectSettings:r,showedAddonsList:r,showedCodeEditor:r,showedSiteCodeEditor:r,foundOnlineLibraryImages:r,initedComponentsPalette:r}})},["jQuery","mbrApp","TR()"])},function(t,e,n){"use strict";defineM("app-plugin-spectrum",function(i,r,t){r.regExtension({name:"plugin-spectrum",global:{initSpectrum:function(){function n(t,e){return-1==(e=e.map(function(t){return t.toUpperCase()})).indexOf(t.toUpperCase())}var e=this;i(".spectrum").each(function(){i(this).spectrum("destroy").spectrum({showButtons:!1,preferredFormat:"hex",showInput:!0,showPaletteOnly:!0,togglePaletteOnly:!0,togglePaletteMoreText:t("More")+" >",togglePaletteLessText:t("Less")+" <",maxSelectionSize:1,palette:e.getThemeColorsSet(7),move:function(t){i(this).val(t.toHexString()),e.changeComponentParams(this)},hide:function(t){var e;t&&((e=r.projectSettings.theme.additionalSetColors)?n(t.toHexString(),e)&&n(t.toHexString(),r.getThemeColorsSet(7)[0])&&(e.length<7?e.push(t.toHexString()):(e.unshift(t.toHexString()),e.pop())):n(t.toHexString(),r.getThemeColorsSet(7)[0])?r.projectSettings.theme.additionalSetColors=[t.toHexString()]:r.projectSettings.theme.additionalSetColors=[])}})})}},events:{preparedComponentParams:function(){this.initSpectrum()},hideComponentParams:function(){i(".spectrum").spectrum("hide")},loadedProject:function(){r.Core.$body.children('input[type="text"]').val("")}}})},["jQuery","mbrApp","TR()"])},function(t,e,n){"use strict";defineM("app-plugin-map",function(l,c,t,s){var e,u=null,h=[],d="loading",f="ok",p="data-state",m="data-state-details";e={};function g(t){return"https://www.google.com/maps/embed/v1/place?key="+h.pubKeyHub[e=h.pubKeyHub,Math.floor(Math.random()*e.length)]+"&amp;q="+t;var e}function b(t){return RegExp("<iframe(.+)</iframe>","g").test(t)}function v(t){return'<iframe frameborder="0" style="border:0" src="'+t+'" allowfullscreen></iframe>'}c.regExtension({name:"plugin-map",events:{coreLoad:function(){var t=c.Core.$window[0],a=t.jQuery;t.rivets.binders.map={routine:function(e,n){var i,t,r,o;n&&(n.state=n.state||f,n.state==f||b(n.address)?b(n.address)?a(e).removeAttr(p).html(v((t=n.address,l(t).attr("src")))):(null===u&&(u=a.Deferred(),i=4e3,o=l.Deferred(),s.get("storage/google-maps").then(function(t){t?o.resolve(t):(console.error("mbrServer: Invalid google keys."),o.reject())},function(){console.warn("Error while trying to get remote keys."),o.reject()}),t=o,r=new Promise(function(t,e){var n=setTimeout(function(){clearTimeout(n),t({private_keys:["AIzaSyDUGx-K5p_F4g1KzbL5oJ4WZRg00GsRy-4"],public_keys:["AIzaSyCt1265A4qvZy9HKUeA8J15AOC4SrCyZe4"]})},i)}),Promise.race([t,r]).then(function(t){h.pubKeyHub=t.public_keys,h.prvKeyHub=t.private_keys,u.resolve(h)},function(t){console.error(t.message)})),"resolved"===u.state()?a(e).removeAttr(p).html(v(g(n.address))):"pending"===u.state()&&u.then(function(t){a(e).removeAttr(p).html(v(g(n.address)))},function(t){console.error(t.message),a(e).removeAttr(p).html(v(g(n.address)))})):a(e).attr(p,n.state).html("<div "+m+">"+c.escapeHtml(n.stateDetails||"")+"</div>"))}}},loaded:function(){c.$body.on("click",".map-update",function(){var t,e,n,i,r=l(this).data(),o=r.componentID,a=r.paramName,r=r.address,s=c.Core.getComponent(o)._params;s[a].address!==r&&(s[a]={address:r,state:d},b(r)?(s[a].state=f,s[a].address=r,c.Core.changeComponentParams(o,a,s[a]),c.checkConditionsComponentParams(o),c.calulateComponentParams()):(t=o,e=s,n=a,i=r,Promise.resolve().then(function(){e[n]={address:i,state:f,stateDetails:""},c.Core.changeComponentParams(t,n,e[n]),c.checkConditionsComponentParams(t),c.calulateComponentParams()})),l(this).attr("disabled","true"))})},"map.changeComponentParams":function(t,e,n,i){i.find(".map-update").data({componentID:t,paramName:e,address:n}).removeAttr("disabled")}}})},["jQuery","mbrApp","TR()","mbrServer"])},function(t,e,n){"use strict";defineM("app-plugin-range-slider",function(s,t,e){t.regExtension({name:"plugin-range-slider",global:{initRangeSlider:function(){this.$componentsParams.find(".slider").each(function(){var n=this,t=+s(n).attr("data-value"),i=+s(n).attr("data-min"),r=+s(n).attr("data-max"),e=+s(n).attr("data-step"),o=(noUiSlider.create(n,{start:t,step:e,range:{min:i,max:r}}),s("<span></span>").appendTo(s(n).find(".noUi-handle"))),a=0;n.noUiSlider.on("update",function(t,e){a?(t=parseFloat(t[e]),s(n).removeClass("noUi-first noUi-last"),t==i?s(n).addClass("noUi-first"):t==r&&s(n).addClass("noUi-last"),o.html("<span>"+t+"</span>"),s(n).next().val(t).trigger("change")):a=1}),s(n).find(".noUi-handle").on("mousedown",function(t){var e=s(".app-template")[0];s(e).append('<div class="iframeWrapper"></div>'),s(".iframeWrapper").css({position:"absolute","z-index":"8000",top:"0",bottom:"0",width:"100%"}).on("mouseup",function(t){s(".iframeWrapper").remove()})})})}},events:{preparedComponentParams:function(){this.initRangeSlider()}}})},["jQuery","mbrApp","TR()"])},function(t,e,n){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};defineM("app-plugin-iconfont",function(x,M,S,k){var C='<div class="form-group clearfix"><div class="row"><iframe class="col-md-3 iconfont-preview" frameborder="no"src="about:blank"></iframe><div class="col-md-3 icons-params"><div class="row"><div class="form-group col-md-12"><label>'+S("Icon Color")+'</label><input class="mbr-color iconfont-color pull-right" name="color" type="text" value=""/></div></div><div class="row"><div class="col-md-12 iconfont-size"><label class="" >'+S("Icon Size")+'</label><div class="togglebutton pull-right"><label><input type="checkbox" name="sizeAuto" checked/><span class="toggle"></span>'+S("Auto")+'</label></div></div></div><div class="col-md-8 pull-right"><input class="iconfont-size form-control" name="fontSize" type="text" value=""/></div></div><div class="iconfont-link-group col-sm-9"><div class="row"><div class="col-md-7"><label class="control-label link-label" for="iconfont-link">'+S("Link Icon to")+'</label><input id="iconfont-link" class="form-control" name="link" type="text" readonly></div><div class="col-md-3"><button class="btn btn-primary iconfont-link-btn">'+S("Edit Link")+'</button></div></div></div></div></div><div class="form-group clearfix "><div class="row"><div class="col"><input type="text" placeholder="'+S("Search...")+'" class="form-control iconfont-search" style="width:200px;margin-right:30px;margin-top:0px;display:inline-block;" /><button class="btn btn-primary collapse-btn">'+S("Collapse All")+'</button><button class="btn btn-primary expand-btn" style="margin-left:10px;">'+S("Expand All")+'</button></div></div></div><iframe class="form-group iconfont-list" frameborder="no" style="width:100%; -webkit-flex-grow:1;" src="about:blank"></iframe>';function E(){for(var t in M.iconFonts)if("object"==i(M.iconFonts[t]))return M.iconFonts[t];return{}}M.regExtension({name:"iconfont",global:{iconFonts:{},parseIconFontNames:function(t,o){var a,s,l=t.iconfont;function r(t){for(var e,n=/\.([^\s\:\{]+)\s*(?:\:[^\{]+)?{[^\}]*content\s*\:\s*([^};\s]+)\s*[;}]/gi;null!==(e=n.exec(t));){var i,r=e[1];if(l.prefix){if(0!==r.indexOf(l.prefix))continue;r=r.replace(l.prefix,"")}0<=a.indexOf(r)||(o&&((i=/(?:\'\\([A-F0-9]+)\')|(?:\"\\([A-F0-9]+)\")/i.exec(e[2]))?s.push(i[1]||i[2]):s.push(e[2])),a.push(r))}l.default||(l.default=l.names[0])}l?(a=l.names=[],s=l.codes=o&&[],M.eachPlugins2([t],function(t,e,n,i){"css"==e&&k.loadLocalFile(t,r)})):console.log("Error: plugin.iconfont undefined for plugin "+t.name)},createIconFont:function(t){var e,n;return E().family?t&&t.name&&(e=t.family&&M.iconFonts[t.family]||E())&&e.names?(t.link?(n=x("<a>").attr("href",t.link),t.newWindow&&n.attr("target","_blank")):n=x("<span/>"),e.class&&n.addClass(e.class),e.prefix?n.addClass(e.prefix+t.name):(n.html("&#x"+e.codes[e.names.indexOf(t.name)]),n.attr("data-name",t.name)),t.class&&n.addClass(t.class),t.size&&n.css("fontSize",parseInt(t.size,10)+"px"),t.color&&n.css("color",t.color),n.get(0)):"":(console.log("Warning: no iconfonts found"),"")},extractIconFont:function(t){var e,n,i,r,o={};if(E().family){if(t&&M.iconFonts){for(n in M.iconFonts){var a,s,l=M.iconFonts[n];if(l.class&&(a="."+l.class.replace(/\s+/g,"."),a=x(t).is(a)),l.prefix&&(s=new RegExp("^(.*\\s)?"+l.prefix).test(t.className)),(l.class||l.prefix)&&(!l.class||a)&&(!l.prefix||s)){e=l;break}}e?(o.family=e.family,i=t.className,(r=e.prefix)?i&&0<=i.indexOf(r)&&(o.name=i.substr(i.indexOf(r)+r.length).split(" ")[0],o.classPrefix=r):e.class&&0<=i.split(" ").indexOf(e.class)&&(o.name=x(t).attr("data-name")),t.tagName&&(o.size=parseInt(t.style.fontSize,10),o.color=t.style.color,"A"==t.tagName.toUpperCase())&&(o.link=t.href,o.newWindow="_blank"==t.target)):console.log("no font found for .",t)}}else console.log("Warning: no iconfonts found");return o},runIconFontDialog:function(i,t,e){t=t||{};var n,r=!!(i=i||{}).name,o=M.iconFonts[i.family]||M.iconFonts[t.family]||E(),a=(t=x.extend({name:o.default},t),i=x.extend({name:t.name,family:o.family},i),M.showDialog({title:S("Select icons"),className:"note-air-layout note-font-dialog",size:"large",flex:!0,body:C,id:"innerFontDialog",buttons:{success:{label:S("Insert Icon"),default:!0,className:"iconfont-ok"},delete:{label:S("Remove Icon"),className:"iconfont-delete"}},create:function(t){x(t).find("input.iconfont-color.mbr-color").val(i.color).on("change",function(){i.color=x(this).val(),g()})},show:function(t){var n=t.find("#iconfont-link");n.val(i.link),t.on("click.media-click","#iconfont-link, .iconfont-link-btn",function(t){var e={url:n.val(),isNewWindow:i.newWindow};M.showMbrLinkDialog(e,function(t){n.val(t.url),i.link=t.url,i.newWindow=t.isNewWindow})}),t.on("click.media-click",".collapse-btn",function(t){f.collapse()}),t.on("click.media-click",".expand-btn",function(t){f.expand()})}})),s=(M.fire("runIconFontDialog",a),["app/interface/app-plugin-iconfont.css"]),l="";for(n in M.iconFonts){var c=M.iconFonts[n];c.plugin&&M.eachPlugins2([M.getPlugin(c.plugin)],function(t,e,n,i){"css"==e&&s.push(k.path2app(t))}),l+=function(t){var e,n=x('<div class="font-block"/>'),i=(n.append('<p class="font-title">'+(t.author?'<a href="'+t.author+'">':"")+(t.title||t.family)+(t.author?"</a>":"")+"</p>"),x("<div/>").addClass("font-table").attr("data-family",t.family)),r=(n.append(i),t.names);for(e in r){var o=x(M.createIconFont({name:r[e],family:t.family}));o.attr("title",r[e]),i.append(o)}return n}(c)[0].outerHTML}var u,h,d,f,o=M.createIconFont({name:t.name,family:t.family,color:t.color}).outerHTML;function p(t,e){u.find("span").removeClass("char-active"),t=(t=t||i.name).replace("'","\\'"),e=e||i.family;e=u.find(".font-table[data-family="+e+"]");e.find("[title="+t+"]").addClass("char-active"),e.length&&e.get(0).focus()}function m(t,e){i.name=t||i.name,i.family=e||i.family,g(t,e),p(i.name,i.family)}function g(t,e){var n;h&&((n=M.extractIconFont(h.find("span").get(0))).name=t||n.name,n.color=i.color,n.family=e||n.family,h.html(M.createIconFont(n).outerHTML))}M.runIframe(a.find("iframe.iconfont-preview").get(0),o,{base:"",onload:function(t){(h=x(t).find("body")).addClass("iconfont-selected"),g(i.name,i.family)},links:s,noScroll:!0}),M.runIframe(a.find("iframe.iconfont-list").get(0),l,{base:"",onload:function(t){u=x(t).find("body"),x(t).find("body .font-table span").click(function(){m((d=x(this)).attr("title"),d.parents(".font-table").attr("data-family"))}),d=u.find(".font-table[data-family="+i.family+"] span[title="+i.name.replace("'","\\'")+"]"),m(),(f=new M.Accordion(u.find(".font-title").get(),u.find(".font-table").get(),{autoCollapse:!1})).collapse(),f.open(u.find(".font-table:first").get())},links:s}),a.find("iframe.iconfont-list").contents().find("body").css("margin","0"),M.redirectLinks(a);var b=a.find(".iconfont-search"),v=a.find("input[name=fontSize]"),o=a.find("input[name=sizeAuto]"),y=v.parent(".bootstrap-touchspin"),w=a.find(".iconfont-size"),w=(y.length||(v.TouchSpin({min:1,max:1e3,verticalbuttons:!0,initval:i.size||""}).on("change",function(){i.size=x(this).val()}),y=v.parent(".bootstrap-touchspin")),"size"in i?(w.show(),v.val(i.size)):w.hide(),o.on("change",function(){x(this).prop("checked")?(t.size=i.size,i.size="",v.val(i.size),y.hide()):(i.size=t.size||0,v.val(i.size),y.show())}),o.prop("checked",!i.size),i.size?y.show():y.hide(),a.find(".iconfont-link-group"));function _(){var t=b.val().toLowerCase().replace("'","\\'"),e=x(u).find(".font-table span");(""!=t?(f.expand(),e.hide(),e.filter("[title*="+t+"]")):e).show()}return"link"in i?w.show():w.hide(),a.on("click",".close",function(){e(),a.modal("hide")}),a.on("click",".iconfont-ok",function(){e(i),a.modal("hide")}),a.on("click",".iconfont-cancel",function(){e(),a.modal("hide")}),r?(a.on("click",".iconfont-delete",function(){e(void 0),a.modal("hide")}),a.find(".iconfont-delete").show()):a.find(".iconfont-delete").hide(),a.on("hidden.bs.modal",function(){a.off("click mouseenter mouseleave"),x(u).off("keydown")}),b.keyup(_),b.val(""),_(),a.modal("show"),a},saveIcon:function(t,e,n){var i=x("<canvas></canvas>"),r=(i.insertAfter(t).css("display","none").attr({width:t.outerWidth(),height:t.outerHeight()}),i[0].getContext("2d")),o=window.getComputedStyle(t[0],":before").getPropertyValue("font-family"),a=window.getComputedStyle(t[0]).getPropertyValue("font-size"),s=window.getComputedStyle(t[0]).getPropertyValue("color"),l=window.getComputedStyle(t[0],":before").getPropertyValue("content").replace(/"/g,""),a=(r.font=a+" "+o,r.fillStyle=s,r.fillText(l,0,t.outerHeight()),i[0].toDataURL().replace("data:image/png;base64,",""));i.remove(),e=e||k.tempLocation+"/open"+k.dateFormat(new Date,"yyyyMMdd_hhmmss")+"/mbr-favicon.png",k.saveLocalBase64(e,a,function(t){t?n(e):console.error("Error while saving image to:",e)})}},events:{registeredPlugin:function(t){var e;t.iconfont&&((e=t.iconfont).family in this.iconFonts&&(!this.iconFonts[e.family].names||!e.names||this.iconFonts[e.family].names.length>=e.names.length)?console.log("Warning: font is dublicated: ",e.family," in ",t.name,t):(e.plugin=t.name,(this.iconFonts[e.family]=e).names?e.default||(e.default=e.names[0]):(console.log("Warning: font "+e.family+" has no icons, now will be parsed..."),this.parseIconFontNames(t))))},load:function(){var c={},u=[];M.Core.addFilter("getResultComponent",function(t){return t.then(function(t,e,n){var i,r=M.iconFonts,o=c[n]||[];for(i in r){var a=r[i],s=(void 0,l="",(s=a).class&&(l="."+s.class.split(/\s+/).join(".")),l=s.prefix?l+'[class*=" '+s.prefix+'"],'+l+'[class^="'+s.prefix+'"]':l),l=x(t).find(s);l.length&&o.indexOf(i)<0&&o.push(a.plugin),l.length&&u.indexOf(a.plugin)<0&&u.push(a.plugin)}return c[n]=o,x.Deferred().resolve(t,e,n)})}),M.addFilter("allUsedPluginsForPage",function(t,e){var n=c[e];if(n){for(var i=0;i<n.length;i++)t.indexOf(n[i])<0&&t.push(n[i]);c[e]=0}return t}),M.addFilter("allUsedPlugins",function(t){for(var e=0;e<u.length;e++){var n=u[e];t.indexOf(n)<0&&t.push(n)}return u=[],t})}}})},["jQuery","mbrApp","TR()","Bridge"])},function(t,e,n){"use strict";defineM("app-plugin-smart-page-adding",function(a,s,t){s.regExtension({name:"plugin-smart-page-adding",events:{addedPage:function(t,e){if(!(e.length<5||e[4]&&void 0!==e[4])){var n,i,r=s.Core.resultJSON[t],o=s.Core.resultJSON[s.Core.currentPage];for(n in o.components)o.components[n]._global&&(delete(i=a.extend({},o.components[n]))._anchor,i._id=s.Core.uniqNum(),r.components.push(i))}}}})},["jQuery","mbrApp","TR()"])},function(t,e,n){"use strict";defineM("app-plugin-device-preview",function(n,i,t){i.regExtension({name:"plugin-device-preview",global:{$navbarDevices:n(".navbar-devices"),checkPreviewHeight:function(){var t=n(".app-template iframe");parseInt(t.height()+i.$body.find(".app-navbar").outerHeight())>=parseInt(n(".app-template").css("height"))?this.$iframe.addClass("maximumHeight"):this.$iframe.removeClass(".maximumHeight")}},events:{load:function(){var e=this;e.$iframe.attr("class",e.$navbarDevices.find(".active").attr("data-device")),e.$navbarDevices.on("click","> li",function(t){t.preventDefault(),n(this).hasClass("active")||(t=n(this).attr("data-device"),"true"===i.appSettings.showAllViews?n(this).addClass("active").siblings().removeClass("active"):(n(this).addClass("active").hide(),("phone"===t?n(this).siblings('[data-device="desktop"]'):n(this).siblings('[data-device="phone"]')).removeClass("active").css("display","inline-block")),e.$iframe.attr("class",t),i.Core.$body.toggleClass("desktop","desktop"===t),i.Core.$body.toggleClass("phone","phone"===t)),e.checkPreviewHeight()})}}})},["jQuery","mbrApp","TR()"])},function(t,e,n){"use strict";defineM("app-mobile-interface",function(f,p,m,t){var e=f("nav.app-navbar").innerHeight(),u=window.innerHeight-e,g=window.innerWidth,i=p.$body.find("#mobile-blocks-manager");p.regExtension({name:"mobile-interface",global:{$navbar:f(".app-navbar"),calcBlocksCoords:function(n){var i=[];if(0!==n.length)return n.each(function(t){var e=(t=f(n[t])).offset().top,t=e+t.innerHeight();i.push([e,t])}),i},checkActiveBlock:function(t){var e,n,i,r=p.Core.$document.scrollTop(),o=Math.ceil(r+u/3),a=p.$body.find(".app-mobile-focus-block a h4"),s=p.Core.$template;if(t&&t.length)if(0===r)n=(e=s.find(".app-component").eq(0)).attr("data-app-component-id"),(i=e.find("section").attr("id"))&&a.attr("data-current-component",n).text(i.charAt(0).toUpperCase()+i.slice(1).replace(/\d/," $&"));else for(var l=0,c=t.length;l<c;l++)n=(e=s.find(".app-component").eq(l)).attr("data-app-component-id"),i=e.find("section").attr("id"),t[l][0]<=o&&t[l][1]>=o&&i&&a.attr("data-current-component",n).text(i.charAt(0).toUpperCase()+i.slice(1).replace(/\d/," $&"));else a.removeAttr("data-current-component").text("Blocks")},setAdditionalPadding:function(t){var e=this.Core.$template.find("[data-app-component-id]"),n=2/3*u-t.height()+1;e.each(function(t){f(this).removeAttr("style")}),0<n&&t.attr("style","margin-bottom: "+n+"px")},scrollToComponent:function(t){var e=this,n=i.find(".preloader");t?(t=e.Core.$template.find('[data-app-component-id="'+parseInt(t)+'"]'),e.Core.$body.stop().animate({scrollTop:t.offset().top},0,function(){e.$componentsParams.removeData("app-params-btn"),n.remove()})):(e.$componentsParams.removeData("app-params-btn"),n.remove())},moveUp:function(e){var t,n=p.getComponent(e);!n||n._noDrag||n._alwaysTop||(n=p.Core.getPrevComponent(e))&&!n._alwaysTop&&(t=p.Core.getPrevComponent(n._id),p.Core.changeComponentPosition(e,t?t._id:void 0,n?n._id:void 0),p.Core.render(void 0,function(){var t=p.Core.$template.find('[data-app-component-id="'+e+'"]');t.length&&(p.hideComponentParams(),t=t.offset().top,p.Core.$body.closest("html").stop().animate({scrollTop:t},0))}))},moveDown:function(e){var t,n=p.getComponent(e);!n||n._noDrag||n._alwaysBottom||(n=p.Core.getNextComponent(e))&&!n._alwaysBottom&&(t=p.Core.getPrevComponent(e),p.Core.changeComponentPosition(e,n._id,t?t._id:void 0),p.Core.render(void 0,function(){var t=p.Core.$template.find('[data-app-component-id="'+e+'"]');t.length&&(p.hideComponentParams(),t=t.offset().top,p.Core.$body.closest("html").stop().animate({scrollTop:t},0))}))}},events:{beforeAppLoad:function(){600<g||p.addFilter("addPage",function(t){return t.hasClass("main-page")||t.find("> a").append('<div class="m-page-sort"><span class="mbr-icon-arrows-vertical"></span></div>'),t})},load:function(){var e,n=this;if(!(600<g)){var t,i=["click"];for(t in i)!function(i,r){var o=i.contentWindow["on"+r];i.contentWindow["on"+r]=function(t){o&&o(t);var e=document.createEvent("MouseEvents"),n=i.getBoundingClientRect();e.initMouseEvent(r,!0,!1,window,t.detail,t.screenX,t.screenY,t.clientX+n.left,t.clientY+n.top,t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,t.button,null),i.dispatchEvent(e)}}(p.iframe,i[t]);n.Core.on(["rendered","summernoteBlur","removedComponent","changedComponentPosition","changedComponentParams"],function(){p.Core.$template.find("[data-app-component-id]").each(function(t){f(this).removeAttr("style")}),p.setAdditionalPadding(p.Core.$template.find(".app-component").last()),e=n.calcBlocksCoords(n.Core.$template.find("[data-app-component-id]")),n.checkActiveBlock(e)});var c,r,u,o,a,s='[data-app-edit="content"], [data-app-edit="full"], [data-app-btn]',l=(p.Core.$window.on("click scroll",function(t){e=p.calcBlocksCoords(p.Core.$template.find("[data-app-component-id]")),n.checkActiveBlock(e),p.$body.find(".app-navbar").is(":visible")||("scroll"===t.type&&p.Core.$body.find(".sp-container").addClass("sp-hidden"),f(t.target).is(s))||f(t.target).closest(s).length||f(t.target).closest(".popover").length||f(t.target).hasClass("popover")||(p.Core.$body.find(".popover").hide(),p.Core.$body.find(".dummyTopbar").hide(),p.$iframe.css("height",""),p.Core.$template.css("padding-top",""),p.Core.$template.find(".app-component:first .app-component-content .navbar-fixed-top").css("top",""),p.$body.find(".app-navbar").show(),setTimeout(function(){p.Core.$template.find("[data-app-always-top] .app-component-content .navbar-fixed-top").css("transition","")},0),p.Core.$template.find("[data-app-component-id]").each(function(t){f(this).removeAttr("style")}),p.setAdditionalPadding(p.Core.$template.find(".app-component").last()),e=p.calcBlocksCoords(p.Core.$template.find("[data-app-component-id]")),p.checkActiveBlock(e),p.$template.find("[contenteditable]:focus").trigger("blur"))}),n.Core.on("removedComponent",function(){var t=n.Core.$template.find(".app-component").eq(0).attr("data-app-component-id");n.scrollToComponent(t)}),n.$componentsLayer.find(".app-layer-title").text("Add Block"),n.$componentsLayer.prepend('<div class="descr"><span class="app-layer-close mbr-icon-angle-right"></span></div>'),n.$navbar.find(".sidebar-toggle").after('<ul class="nav navbar-nav navbar-blockname"><li class="app-mobile-focus-block"><a href="javascript:void(0)"><h4>Blocks</h4></a></li><li class="app-mobile-focus-block-icon"><a href="javascript:void(0)"><i class="mbr-icon-shapes"></i></a></li></ul>'),n.$body.find(".nav.navbar-nav.navbar-right").append('<li class="app-mobile-params"><a href="javascript:void(0)"><i class="mbr-icon-cog"></i></a></li>'),n.$body.find(".app-mobile-params").on("click",function(t){n.Core.$template.find(".app-component").length&&(p.$body.hasClass("app-component-params-open")?p.hideComponentParams():(n.prepareComponentParams(n.$body.find(".app-mobile-focus-block a h4").attr("data-current-component")),setTimeout(function(){n.showComponentParams(null)},0)))}),(h=p.$body.find("#edit-component-params")[0])&&(l=[{action:"close",icon:"mbr-icon-angle-left"},{action:"clone",icon:"mbr-icon-copy"},{action:"up",icon:"mbr-icon-arrow-up"},{action:"down",icon:"mbr-icon-arrow-down"},{action:"code",icon:"mbr-icon-code"},{action:"remove",icon:"mbr-icon-trash"}],(r=document.createElement("div")).className="descr",l.forEach(function(t){var e=document.createElement("span");e.className="mbr-icon "+t.icon,e.dataset.action=t.action,r.appendChild(e)}),c=r,h.prepend(c),o=u=null,p.on("showedComponentParams",function(){var t;(u=p.$body.find(".app-mobile-focus-block h4").attr("data-current-component"))&&(o=p.Core.$body.find("[data-app-component-id="+u+"]"),t=p.Core.getComponent(u))&&d(t)}),a={close:function(){p.hideComponentParams()},clone:function(){p.Core.cloneAndInsertComponent(u),p.hideComponentParams(),p.scrollToComponent(u)},up:function(){p.moveUp(u),p.hideComponentParams()},down:function(){p.moveDown(u),p.hideComponentParams()},code:function(){o.length&&p.showCodeEditor(o)},remove:function(){p.confirmDlg(m("Remove Block?"),function(t){t&&(p.Core.removeComponent(u),p.hideComponentParams())})}},c.addEventListener("click",function(t){var t=t.target.closest("[data-action]");t&&(t=t.dataset.action,a[t])&&a[t]()}),p.Core.on("changedComponentPosition",function(){var t;u&&(t=p.Core.getComponent(u))&&d(t)})),n.$body.find("#theme-settings").append('<div class="descr"><span class="app-layer-close mbr-icon-angle-right"></span></div>'),n.$body.find("#theme-settings .app-layer-close").on("click",function(t){n.closeThemeSettings()}),n.$componentsLayer.find(".app-layer-close").on("click",function(t){n.hideComponentsList()}),p.$sidebar.find(".top-sidebar-block")),h=n.$body.find(".app-navbar .navbar-project-info");h.length&&l.length&&l.prepend(h),l.find(".sidebar-mobile-close").on("click",function(){n.closeSidebar()}),n.$sidebar.find(".app-publish").on("click",function(){n.runPublishDlg(function(t){t&&n.publish(!1,t)})}),n.$pageSettings.find(".app-layer-cont").append('<div class="form-group"><a class="m-remove-page btn btn-danger pull-right">'+m("Remove Page")+"</a></div>"),n.on("showedPageSettings",function(){n.$pageSettings.find(".app-layer-cont .m-remove-page").show(),n.$pagesList.find('.list [data-page="'+n.currentPageSettings+'"]').closest("li").hasClass("main-page")&&n.$pageSettings.find(".app-layer-cont .m-remove-page").hide()}),n.$pageSettings.on("click",".m-remove-page",function(t){t.preventDefault(),t.stopPropagation();var e=n.$pagesList.find('.list [data-page="'+n.currentPageSettings+'"]').closest("li")[0],t=f(e).find("> a").attr("data-page")||"";n.confirmDlg(m("Remove page $page name$?").replace("$page name$"," <strong>"+t+"</strong>"),function(t){t&&(n.removePage(e),n.$pageSettings.find(".app-layer-close").click())})})}function d(t){var e=c.querySelector('[data-action="up"]'),n=c.querySelector('[data-action="down"]'),i=c.querySelector('[data-action="clone"]'),r=!!t._noDrag,o=!!t._alwaysTop,a=!!t._alwaysBottom,s=u?p.Core.getPrevComponent(u):null,l=u?p.Core.getNextComponent(u):null,o=r||o||!s||!!s._alwaysTop,s=r||a||!l||!!l._alwaysBottom;e&&e.classList.toggle("hidden",o),n&&n.classList.toggle("hidden",s),i&&i.classList.toggle("hidden",!!t._once)}},showedPagesList:function(){if(!(600<g)){var t,e,n=p.Core.getPages();for(t in n)n.hasOwnProperty(t)&&(e=n[t],f(e.components).each(function(t,e){return!0===e._alwaysTop}))}},toggleComponents:function(){600<g||p.Core.$window.scroll()},openThemeSettings:function(){600<g||p.Core.$window.scroll()},modalDialogShow:function(t){var e;600<g||(p.Core.$window.scroll(),e=t.find(".modal-footer"),(t.hasClass("create-site-modal")||t.hasClass("crop-image-dialog")||t.hasClass("note-font-dialog")||t.hasClass("note-mbr-link-dialog"))&&e.is(":visible")&&(e.find("> *:visible").length?t.find(".modal-body").addClass("mobile-padding"):e.addClass("hidden")),t.hasClass("create-site-modal"))||t.find(".modal-header .modal-mobile-close").click(function(){e.find('[data-bb-handler="success"]').click(),e.find('[data-bb-handler="insert"]').click()})}}})},["jQuery","mbrApp","TR()","Bridge"])},function(t,e,n){"use strict";defineM("app-plugin-lazyload",function(r,i,t){var o=0;var a=new IntersectionObserver(function(t,e){t.forEach(function(t){var e,n;0<t.intersectionRatio&&(r(t.target).closest(".app-component").is('[data-lazyload-stage="complete"]')||(e=t.target,n=r.Deferred().resolve(),r(e).closest(".app-component").attr("data-lazyload-stage","loading"),r(e).find("img").each(function(t,e){n=n.then(function(t){var e=r.Deferred().resolve();t.src?e.resolve():(t.src=t.getAttribute("data-src"),t.removeAttribute("data-src"),r(t).one("load",function(){e.resolve()}),r(t).one("error",function(){e.resolve()}));return e.promise()}.bind(n,e))}),n.then(function(){r(e).closest(".app-component").attr("data-lazyload-stage","complete"),i.Core.$body.trigger("add.cards")}),n.promise()))})},{rootMargin:"0px",threshold:.1});i.regExtension({name:"plugin-lazyload",events:{loadedComponent:function(t,e,n,i){i||(i=t._id,t=n.find("[data-app-component-id="+i+"]"),i=n.find(".app-component").length,"complete"!==t.attr("data-lazyload-stage")&&(t.attr("data-lazyload-stage","started"),++o===i)&&(t.find("img").each(function(){this.complete||(r(this).attr("data-src",r(this).attr("src")),r(this).removeAttr("src"))}),n.find('[data-lazyload-stage="started"] .app-component-content').each(function(t,e){a.observe(e)})))},loadedProject:function(t){t.pages[i.Core.currentPage].components.length}}})},["jQuery","mbrApp","TR()"])},function(t,e,n){"use strict";var y=n(25);defineM(function(g,b,s){function v(t){t=t.match(/^data:([A-Za-z-+\/]+);base64,(.+)$/);return 3!==t.length?(console.error("Invalid base64 image string"),null):t[2]}b.regExtension({name:"aws-app-plugin-media-editor",global:{showMediaImageDialog:function(c,u,t,e,h,d,n,f){var p,m=[],t='<div class="row mb-0">\n                    <div class="col-xs-12">\n                        <form class="media-image-form">\n                            <div class="form-group clearfix">\n                                <div class="row">\n                                    <div class="col-xs-12" id="media-tabs">\n                                        <ul class="nav nav-tabs mb-0">\n                                            <li class="browse-img">\n                                            '+(y.Bridge.isMobile?'<button class="btn btn-md w-100 btn-primary browser-image-src-btn">'+s("From Phone")+"</button>":'<a href="#browseComputer" data-toggle="tab">'+s("Browse Computer")+"</a>")+'\n                                            </li>\n                                            <li class="active">\n                                                <a href="#onlineLibrary" data-toggle="tab">'+(y.Bridge.isMobile?s("Library"):s("Free Online Library"))+'</a>\n                                            </li>\n                                            <li>\n                                                <a href="#siteLibrary" data-toggle="tab">'+s("Site Library")+'</a>\n                                            </li>\n                                        </ul>\n                                        <div class="tab-content">\n                                            <div class="tab-pane" id="browseComputer">\n                                                <div class="browse-computer-section unspl-section align-center form-row">\n                                                    <div>\n                                                        <p>'+s("Drop images here")+"</p>\n                                                        <p>"+s("or")+'</p>\n                                                        <a class="btn btn-lg btn-primary browser-image-src-btn">'+(y.Bridge.isMobile?s("From Phone"):s("Browse Computer"))+'</a>\n                                                    </div>\n                                                </div>\n                                            </div>\n                                            <div class="tab-pane active" id="onlineLibrary"></div>\n                                            <div class="tab-pane" id="siteLibrary"></div>\n                                            <input id="selected-photo" type="file" '+(h?"multiple":"")+' style="display: none;" accept=".gif,.jpg,.jpeg,.png,.svg">\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                            <div class="row '+(h?" hidden":"")+'">\n                                <div class="col-xs-12 col-sm-3">\n                                    <div class="form-group sel-image">\n                                        <label class="control-label image-label">'+s("Selected Image")+'</label>\n                                        <div class="selected-image">\n                                            <img class="w-100 h-a" src="'+(c.image.src||"")+'" data-name="'+function(t){t=t.match(/[^/\\&\?]+\.\w{3,4}(?=([\?&].*$|$))/);return t?t[0]:""}(c.image.src)+'" id="media-image">\n                                            <div class="btn-group">\n                                                <span class="btn btn-material-light-blue btn-crop">\n                                                    <i class="mbr-icon-pencil"></i>\n                                                </span>\n                                            </div>\n                                            <input id="media-image-src" name="src" type="hidden" value="'+(c.image.src||"")+'">\n                                        </div>\n                                    </div>\n                                </div>\n                                '+(t?"":'<div class="col-xs-12 col-sm-9 col-md-9">\n                                    '+(e?"":'<div class="form-group row">\n                                        <div class="col-md-6">\n                                            <label class="control-label link-label col-xs-12" for="media-image-link">'+s("Link Image to")+'</label>\n                                            <input id="media-image-link" style="margin-top:10px" class="form-control" name="link" type="text" readonly value="'+(c.image.link||"")+'">\n                                        </div>\n                                        <div class="col-md-3">\n                                            <button class="btn btn-primary media-image-link-btn w-100" style="'+(b.isAMP()&&n?"margin-top:75px;":"margin-top:50px")+'">'+s("Edit Link")+"</button>\n                                        </div>\n                                    </div>")+'\n                                    <div class="row">\n                                        <div class="form-group col-xs-12 col-md-6">\n                                            <label class="control-label link-label" for="media-image-alt">'+s("Alt")+'</label>\n                                            <input id="media-image-alt" class="form-control" name="alt" type="text" value="'+(c.image.alt||"")+'">\n                                        </div>\n                                    </div>\n                                </div>')+"\n                            </div>\n                        </form>\n                    </div>\n                </div>";b.fire("showMediaImageDialog"),b.showDialog({title:s("Media Image"),className:"note-air-layout media-image",body:b.applyFilter("showMediaImageDialog",[t].join("\n"),c),cancel:function(t){t.off(".media-click"),b.fire("cancelMediaImageDialog",this)},success:function(o){var t,e,n,i,r,a=this,s=o.find("#browseComputer").hasClass("active");function l(t){if(!h||!s){var e,n=g("form.media-image-form",o).serializeArray();if(n&&n.length){for(var i=0;i<n.length;i++)c.image[n[i].name]=n[i].value;c.image.linkInNewWindow=p}for(e in c)c[e].active=void 0;c.image.active=!0,t&&(c.image.src=t),f&&(b.isAMP()?0==f.parents(".lightbox").length?c=b.applyFilter("saveMediaImageDialog",c):f.siblings(".amp-img-preloader").remove():f.siblings(".m-img-preloader").remove())}var r=[];m.forEach(function(t){r.push(t.src)}),b.fire("saveMediaImageDialog",a,c,d),u(h&&s?r:c),o.off(".media-click"),b.Core.fire("savedMediaImageDialog")}s&&h?s&&h&&l():(t=g("#media-image",o).attr("src"),i=(i=g("#media-image",o).attr("data-name")).replace(/[^A-Za-z0-9.\-_]/g,function(t){return t.charCodeAt()}),t!==c.image.src&&(b.isAMP()?g(f).closest("amp-img").prepend('<div class="amp-img-preloader">\n                                            '+b.preloaderHTML+"\n                                        <div>"):(e=g(f).width(),n=g(f).height(),g(f).before('<div class="m-img-preloader" style="width:'+e+"px; height:"+n+'px;">\n                                            '+b.preloaderHTML+"\n                                        <div>"))),!t||0!==t.indexOf("data:image/")||g("#media-image",o).hasClass("site-library-image")?l(t):(r=function(t){var e=/\-\d+x\d+$/,t=y.Bridge.splitPath(t),n=t.name,i="";i=(i=n.match(e))&&i[0]||"",30<(n=(n=n.replace(e,"")).replace(/\-h_[a-z0-9]+$/,"")).length&&(n=n.substring(0,29));return t.dir+"/"+n+"-h_"+Date.now().toString(36)+i+"."+t.ext}(r=b.projectPath+"/assets/images/"+i.replace(/\.jpeg$/,".jpg")),y.Bridge.saveLocalBase64(r,v(t),function(t){t?l(y.Bridge.path2app(r)):(console.warn("Unable to save image"),u(c))})))},show:function(o){var e=o.find("#media-image-link"),a=o.find("#unspl-section .preloader"),n=g(b.preloaderHTML),t=(o.find(".modal-body").before(n),n.hide(),o.on("click.media-click","#media-image-link, .media-image-link-btn",function(t){t.preventDefault(),t.stopPropagation();t={url:e.val(),isNewWindow:c.image.linkInNewWindow};b.showMbrLinkDialog(t,function(t){e.val(t.url),p=t.isNewWindow})}),o.find(".browse-computer-section")[0]);function i(){var e=(new g.Deferred).resolve();m.forEach(function(t){e=e.then(function(e){var n=new g.Deferred,t=e.src,i=(i=e.name).replace(/[^A-Za-z0-9.\-_]/g,function(t){return t.charCodeAt()}),r=b.projectPath+"/images/"+i.replace(/\.jpeg$/,".jpg");return y.Bridge.saveLocalBase64(r,v(t),function(t){t?(e.src=y.Bridge.path2app(r),n.resolve()):(console.warn('Unable to save image = "'+e.name+'"'),n.reject())}),n.promise()}.bind(e,t))}),e.done(function(){a.hide(),n.hide(),o.find(".modal-content").removeClass("no-events"),o.find('.modal-footer [data-bb-handler="success"]').click()})}function r(t){var e=new g.Deferred;if((t=Array.from(t))&&t[0]){var n=0;if(n<t.length)return/\.(gif|jpg|jpeg|svg|png)$/i.test(t[n].name)||(b.alertDlg('Invalid file type in"'+t[n].name+'"'),e.reject()),3e6<t[n].size&&(b.alertDlg("Error : "+t[n].name+" is larger than 3Mb."),e.reject()),t.reduce(function(t,e){return t.then(function(){return i=e,r=new g.Deferred,y.Bridge.transformImage(i,{quality:60,maxWidth:2e3},function(n){y.Bridge.loadLocalBlob(n,function(t){y.Bridge.removeLocal(n);var e=new FileReader;e.readAsDataURL(t),e.onload=function(t){var e;h?(e={name:i.name,src:t.target.result},m.push(e)):(g("#media-image").attr("src",t.target.result),o.find(".modal-content").removeClass("no-events"),a.hide()),r.resolve(t.target.result)},e.onerror=function(t){console.error('Invalid base64 image string on "'+i.name+'"'),b.alertDlg("Error while loading image."),o.find(".modal-content").removeClass("no-events"),a.hide(),r.reject(t)}})}),r.promise();var i,r})},e.resolve(t))}return e.promise()}t.ondragover=function(){return!1},t.ondragleave=function(){return!1},t.ondragend=function(){return!1},t.ondrop=function(t){a.show(),n.show(),o.find(".modal-content").addClass("no-events"),t.preventDefault(),r({files:t.dataTransfer.files}.files).then(function(){i()},function(t){n.hide(),o.find(".modal-content").removeClass("no-events"),console.log("Load is fail ",t)})},o.on("click.media-click",".browser-image-src-btn",function(t){t.preventDefault(),g("#selected-photo").click()}),o.on("change","#selected-photo",function(t){n.show(),o.find(".modal-content").addClass("no-events"),o.find("#browseComputer").addClass("active"),g("#media-image",o).removeClass("site-library-image"),r(t.currentTarget.files).then(function(){i()},function(t){n.hide(),o.find(".modal-content").removeClass("no-events"),console.log("Load is fail ",t)})}),o.on("click.media-click",".btn-crop, #media-image",function(t){t.preventDefault();var t=b.showDialog({title:s("Crop Image"),className:"crop-image-dialog",body:'<div class="row form-group"><div class="col-md-12"><img src="'+o.find("#media-image").attr("src")+'" id="crop-image"></div></div><div class="row"><div class="col-sm-12 crop-options"><div class="crop-image-transform"><button class="btn btn-material-light-blue crop-zoom-in mbr-icon-search-plus" title="'+s("Zoom In")+'"></button><button class="btn btn-material-light-blue crop-zoom-out mbr-icon-search-minus" title="'+s("Zoom Out")+'"></button><button class="btn btn-material-light-blue crop-scale-x mbr-icon-exchange" title="'+s("Flip Horizontal")+'"></button><button class="btn btn-material-light-blue crop-scale-y mbr-icon-arrows-vertical" title="'+s("Flip Vertical")+'"></button><button class="btn btn-material-light-blue rotate-counter-clockwise mbr-icon-alternate-undo" title="'+s("Counter Clockwise")+'"></button><button class="btn btn-material-light-blue rotate-clockwise mbr-icon-alternate-redo" title="'+s("Clockwise")+'"></button></div><div class="crop-aspect-ratio"><button class="btn btn-material-light-blue crop-ratio-16-9" title="'+s("Aspect Ratio")+': 16:9">16:9</button><button class="btn btn-material-light-blue crop-ratio-4-3" title="'+s("Aspect Ratio")+': 4:3">4:3</button><button class="btn btn-material-light-blue crop-ratio-1-1" title="'+s("Aspect Ratio")+': 1:1">1:1</button><button class="btn btn-material-light-blue crop-ratio-2-3" title="'+s("Aspect Ratio")+': 2:3">2:3</button><button class="btn btn-material-light-blue crop-ratio-free active" title="'+s("Aspect Ratio: Free")+'">'+s("Free")+"</button></div></div></div>",show:function(t){t.find(".crop-options .btn").tooltipster({delay:0,speed:100,position:"bottom"})},cancel:function(){},success:function(){var t=void 0;var e=n.attr("src");e&&"string"==typeof e&&(t=!e.includes("data:image/jpeg")&&((e=(e=e).split(".")).length<=1||!e[e.length-1].includes("jpg")&&!e[e.length-1].includes("jpeg"))?n.cropper("getCroppedCanvas").toDataURL("image/png"):n.cropper("getCroppedCanvas").toDataURL("image/jpeg"),o.find("#media-image").attr("src",t))}}),n=t.find("#crop-image");t.on("shown.bs.modal",function(){n.cropper({viewMode:3,guides:!1,toggleDragModeOnDblclick:!1})}),t.on("click.media-click",".crop-zoom-in",function(t){n.cropper("zoom",.1)}),t.on("click.media-click",".crop-zoom-out",function(t){n.cropper("zoom",-.1)}),t.on("click.media-click",".crop-scale-x",function(t){var e=n.cropper("getData");n.cropper("scale",-e.scaleX,e.scaleY)}),t.on("click.media-click",".crop-scale-y",function(t){var e=n.cropper("getData");n.cropper("scale",e.scaleX,-e.scaleY)}),g(".rotate-counter-clockwise").click(function(t){n.cropper("rotate",-45)}),g(".rotate-clockwise").click(function(t){n.cropper("rotate",45)}),t.on("click.media-click",".crop-ratio-16-9",function(t){n.cropper("setAspectRatio",16/9),g(this).addClass("active").siblings().removeClass("active")}),t.on("click.media-click",".crop-ratio-4-3",function(t){n.cropper("setAspectRatio",4/3),g(this).addClass("active").siblings().removeClass("active")}),t.on("click.media-click",".crop-ratio-1-1",function(t){n.cropper("setAspectRatio",1),g(this).addClass("active").siblings().removeClass("active")}),t.on("click.media-click",".crop-ratio-2-3",function(t){n.cropper("setAspectRatio",2/3),g(this).addClass("active").siblings().removeClass("active")}),t.on("click.media-click",".crop-ratio-free",function(t){n.cropper("setAspectRatio",NaN),g(this).addClass("active").siblings().removeClass("active")})}),b.fire("showedMediaImageDialog",o,c,h),b.fire("showedPopup",o),b.initTooltips()}})},showMediaVideoDialog:function(r,o){b.fire("showMediaVideoDialog");var t=b.showDialog({title:s("Media Video"),className:"note-air-layout media-video-dialog",body:b.applyFilter("showMediaVideoDialog",['<div class="row"><div class="col-md-12">','<form class="media-video-form">','<div class="form-group row clearfix">','<label class="col-md-3 control-label" for="media-video-src">'+s("Video URL")+"</label>",'<div class="col-md-9">','<input id="media-video-src" class="form-control" name="src" type="text" value="'+(r.video.src||"")+'">','<small class="help-block">'+s("YouTube, Vimeo, or custom e.g. https://site.com/video.mp4")+"</small>","</div>","</div>",'<div class="form-group row clearfix">','<label class="col-md-3 control-label">'+s("Aspect Ratio")+"</label>",'<div class="col-md-9">','<select id="media-video-aspectratio" class="form-control" name="aspectratio">',"<option>16:9</option>","<option "+("4:3"==r.video.aspectratio?"selected":"")+">4:3</option>","</select>","</div>","</div>",'<div class="form-group row clearfix">','<label class="col-md-3 control-label" for="media-video-autoplay">'+s("Autoplay")+"</label>",'<div class="togglebutton col-md-9">',"<label>",'<input id="media-video-autoplay" type="checkbox" name="autoplay" '+(r.video.autoplay?"checked":"")+">",'<span class="toggle"></span>',"</label>","</div>","</div>",'<div class="form-group row clearfix">','<label class="col-md-3 control-label" for="media-video-loop">'+s("Loop")+"</label>",'<div class="togglebutton col-md-9">',"<label>",'<input id="media-video-loop" type="checkbox" name="loop" '+(r.video.loop?"checked":"")+">",'<span class="toggle"></span>',"</label>","</div>","</div>","</form>","</div></div>"].join("\n"),r),cancel:function(){b.fire("cancelMediaVideoDialog",this)},show:function(t){var n=/youtu.*be.*/,i=/vimeo/;t.find("#media-video-src").on("change",function(t){var e=t.target.value;t.target.value&&-1===e.search(n)&&-1===e.search(i)&&-1===e.search(/(?:((?:https|http):\/\/)|(?:\/)).+(?:.mp4)/)&&b.showError(s("Unsupported video format. MP4 only."))})},success:function(){var t=g(this).find("form.media-video-form").serializeArray();if(t&&t.length){for(var e=!1,n=!1,i=0;i<t.length;i++)"autoplay"==t[i].name?e=t[i].value:"loop"==t[i].name?n=t[i].value:r.video[t[i].name]=t[i].value;r.video.autoplay=e,r.video.loop=n,!1===r.video.autoplay&&(r.video.src=r.video.src.replace(/[&?]autoplay=1/,"")),!1===r.video.loop&&(r.video.src=r.video.src.replace(/[&?]loop=1/,""))}for(i in r)r[i].active=void 0;r.video.active=!0,r=b.applyFilter("saveMediaVideoDialog",r),b.fire("saveMediaVideoDialog",this),o(r)}});b.fire("showedMediaVideoDialog",t),b.fire("showedPopup",t)}},events:{load:function(){b.addFilter("getExternalThumb",function(t,e){return 0!=e.indexOf("http://")&&0!=e.indexOf("https://")&&t?t:(t=e.split("/").pop(),/(jpg|jpeg|png)/i.test(t.split(".").pop())&&-1!==e.indexOf("cndmbr")?e.replace("/images/","/thumbnails/"):e)})}}})},["jQuery","mbrApp","TR()"])},function(t,e,n){"use strict";var o=n(25);function C(t){return function(){var s=t.apply(this,arguments);return new Promise(function(o,a){return function e(t,n){try{var i=s[t](n),r=i.value}catch(t){return void a(t)}if(!i.done)return Promise.resolve(r).then(function(t){e("next",t)},function(t){e("throw",t)});o(r)}("next")})}}defineM("aws-app-plugin-image-editor-pixabay",function(y,w,_){function x(t){return t[Math.floor(Math.random()*t.length)]}var M=[],S=["52231120-a5a5954ea28a8736e4699b511","52480362-760f030544581f30594d7ad22","14725791-f18de4b65c7b6e72968912a8f","52482307-7d9c6526a4ca1a818e4dff1af","52480356-3382b73d4b428939c34e4912c"];function k(n){return new Promise(function(i,r){var t=document.createElement("canvas");t.width=n.naturalWidth,t.height=n.naturalHeight,document.getElementsByTagName("body")[0].appendChild(t);t.getContext("2d").drawImage(n,0,0);var e=t.toDataURL("image/jpeg"),t=(t.remove(),function(t,e){e=e||"";for(var n=window.atob(t.replace("data:image/jpeg;base64,","")),i=[],r=0;r<n.length;r+=512){for(var o=n.slice(r,r+512),a=new Array(o.length),s=0;s<o.length;s++)a[s]=o.charCodeAt(s);var l=new Uint8Array(a);i.push(l)}return new Blob(i,{type:e})}(e,"image/jpeg"));o.Bridge.transformImage(t,{quality:60,maxWidth:2e3},function(n){o.Bridge.loadLocalBlob(n,function(t){o.Bridge.removeLocal(n);var e=new FileReader;e.readAsDataURL(t),e.onload=function(){i(e.result||"")},e.onerror=function(t){r(t)}})})})}w.regExtension({name:"aws-plugin-image-editor-pixabay",events:{showedMediaImageDialog:function(s,t,l){var e,n='<div id="unspl-section" class="unspl-section">\n                        <input class="form-control search-input pull-left" value="" type="text" placeholder="'+_("Search by keyword")+'"/>\n                        <button class="btn btn-primary search-btn">'+_("Search")+'</button>\n                        <p class="pb-text">'+_("Images from")+' <a class="pb-link" href="https://pixabay.com/" target="_blank">Pixabay</a></p>\n                        <div class="keywords">'+_("e.g.")+',&nbsp;\n                            <a href="javascript:void(0)">computer</a>\n                            <a href="javascript:void(0)">work</a>\n                            <a href="javascript:void(0)">business</a>\n                            <a href="javascript:void(0)">man</a>\n                            <a href="javascript:void(0)">woman</a>\n                            <a href="javascript:void(0)">city</a>\n                            <a href="javascript:void(0)">nature</a>\n                            <a href="javascript:void(0)">animals</a>\n                            <a href="javascript:void(0)">pattern</a>\n                            <a href="javascript:void(0)">abstract</a>\n                            <a href="javascript:void(0)">art</a>\n                            <a href="javascript:void(0)">food</a>\n                        </div>\n                        <div class="images-list"></div>\n                    </div>',i=y('<div class="image-wrapper col-xs-6 col-sm-4 col-md-3 col-lg-2"><img class="w-100 h-a"></div>'),r=y('<div class="error-alert"><p></p></div>'),c=(s.find(".media-image-form #media-tabs .tab-content .tab-pane#onlineLibrary").append(n),w.projectSettings.ai&&w.projectSettings.ai.imageSearchQuery&&s.find(".keywords a").first().before('<a href="javascript:void(0)">'+w.projectSettings.ai.imageSearchQuery+"</a>"),y(w.preloaderHTML)),o=s.find(".search-input"),a=s.find(".search-btn"),u=s.find("#unspl-section .images-list"),h=!1,d=!1,n=["computer","work","business","phone","mobile","pc"],f=n[Math.floor(Math.random()*n.length)],p=x(S);function m(t,e,n){n=2<arguments.length&&void 0!==n&&n;s.find("#unspl-section").addClass("no-events"),h=!0,y.when(function(t,e){c.fadeIn(100);var n=y.Deferred(),i=[];if(e&&M.length)return M.forEach(function(t){return i.push(g(t))}),y.when.apply(y,i).then(function(){return n.resolve(),n.promise()},function(){i=[],console.error("Cache failed, falling back to API...")});t=t||1,sessionStorage.setItem("lastImageLibrarySearch",f);e="https://pixabay.com/api/?key="+p+"&page="+t+"&per_page=40&q="+encodeURIComponent(f);return fetch(e).then(function(t){if(t.ok)return t.json();throw new Error(t.status+", "+t.statusText)}).then(function(t){0<parseInt(t.totalHits)?(s.find(".pb-text").show(),M=t.hits,y.each(t.hits,function(t,e){i.push(g(e))}),y.when.apply(y,i).then(function(){n.resolve()})):n.reject()}).catch(function(t){console.error("error:",t.message),u.find(".error-alert p").text(_("Online image library is not available")),n.reject()}),n.promise()}(e,n)).done(function(){d&&(d=!1,u.append(r),u.find(".error-alert p").text(_("Online image library is not available"))),c.hide(),h=!1,s.find("#unspl-section").removeClass("no-events")}).fail(function(){c.hide(),h=!1,s.find("#unspl-section").removeClass("no-events"),1===b&&(u.append(r),u.find(".error-alert p").html(_("No images found!")+"<br>"+_("Please try another keyword")))})}function g(t){var e;t&&(e=i.clone(),u.append(e),e.find("img").attr({src:t.previewURL,"data-url":t.fullHDURL||t.largeImageURL,"data-id":t.id}))}w.projectSettings.ai&&w.projectSettings.ai.imageSearchQuery&&(f=sessionStorage.getItem("lastImageLibrarySearch")||w.projectSettings.ai.imageSearchQuery),u.before(c),s.on("click.media-click",".search-btn, .keywords a",function(t){t.preventDefault(),!1===h&&("A"===t.target.nodeName&&o.val(t.target.text),""!==y.trim(o.val()))&&(f=y.trim(o.val()),u.off("scroll"),r.remove(),u.empty(),b=1,p=x(S),m(20,b),setTimeout(function(){u.on("scroll",v)},1e3))}),o.keypress(function(t){13===(t.keyCode||t.which)&&(t.preventDefault(),a.trigger("click.media-click"))}),s.on("click.media-click","#unspl-section .image-wrapper img",(e=C(regeneratorRuntime.mark(function t(e){var n,i,r,o,a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.preventDefault(),s.find(".modal-content").addClass("no-events"),c.fadeIn(100),n=null,o=e.target.dataset,i=o.id,r=o.url,o="https://pixabay.com/api/?key=10565071-2fab8a0cb075d46840c40e655&id="+i,t.next=8,fetch(o).then(function(t){return t.json()}).then(function(t){var e=void 0,e=0<parseInt(t.totalHits)&&t.hits&&t.hits.length&&t.hits[0].fullHDURL?t.hits[0].fullHDURL:r;n=e}).catch(function(t){console.error(t),n=r});case 8:a=!1,y("#media-image",s).removeClass("site-library-image"),y("#media-image").attr("crossorigin","anonymous").attr("src",n).attr("data-name",n.match(/[^\/?=&]+\.(?:jpg|jpeg|png)/)[0]).on("load",function(){/firefox/i.test(navigator.userAgent)&&this.currentSrc!==this.src?(a=!0,y(e.target).click()):a||k(y("#media-image")[0]).then(function(t){y("#media-image").attr("src",t),a=!0,s.find(".modal-content").removeClass("no-events"),c.hide()},function(t){console.error(t),w.alertDlg("Error while loading image."),y("#media-image").removeAttr("src"),s.find(".modal-content").removeClass("no-events"),c.hide()}).then(function(){l&&s.find('.modal-footer [data-bb-handler="success"]').click()})});case 11:case"end":return t.stop()}},t,this)})),function(t){return e.apply(this,arguments)}));var b=1;function v(t){t.preventDefault(),u.scrollTop()+u.innerHeight()>=u[0].scrollHeight&&m(10,++b)}u.on("scroll",v),m(20,b,!0)}}})},["jQuery","mbrApp","TR()"])},function(t,e,n){"use strict";var c=n(25);defineM(function(s,l,t){l.regExtension({name:"aws-plugin-image-editor-site-library",events:{showedMediaImageDialog:function(o,t,e){var a=s('<div class="image-wrapper col-xs-6 col-sm-4 col-md-3 col-lg-2 local"><img class="h-a w-100"><span class="img-name"></span><div class="btn-group"><span class="btn btn-material-red btn-delete"><i class="mbr-icon-trash"></i></span></div></div>'),n=!0,r=void 0;o.find(".media-image-form #media-tabs .tab-content .tab-pane#siteLibrary").append('<div class="unspl-section row mb-0"><div class="col-xs-12"><div class="site-library images-list form-row mb-0"></div></div></div>'),o.on("shown.bs.tab",'a[data-toggle="tab"][href="#siteLibrary"]',function(t){var i;n&&(n=!1,i=s(l.preloaderHTML),o.find(".site-library.images-list").before(i),i.show(),new Promise(function(e,t){c.Bridge.dirList(mbrApp.projectPath+"/assets/images/",function(t){e(t)})}).then(function(e){e=e.filter(function(t){return-1===t.indexOf("apple-launch-")});function n(r,t){s.each(e,function(t,e){var n=a.clone(),i=r+((i=e)?"assets/images/"+i:(console.warn("getThumbPath: error input"),i));o.find(".site-library.images-list").append(n),n.find(".img-name").html(e),n.find("img").attr("src",i)}),t()}c.Bridge.getRecentSettings(mbrApp.projectPath+"/assets/images/",function(t){n((r=t).resourcesUrl,function(){i.hide()})})}))}),o.on("click.media-click",".unspl-section .image-wrapper.local",function(t){s("#media-image",o).addClass("site-library-image");t=s(t.currentTarget).find("img").attr("src");s("#media-image",o).removeAttr("crossorigin").attr("src",t),e&&o.find('.modal-footer [data-bb-handler="success"]').click()}),o.on("click",".btn-delete",function(t){t.stopPropagation();var e=s(t.target).closest(".image-wrapper").find("img").attr("src").split("/").pop(),n=s(t.target).closest(".image-wrapper");c.Bridge.removeLocal(c.Bridge.projectsLocation+"/"+r.id+"/assets/images/"+e,function(t){n.remove()})})}}})},["jQuery","mbrApp","TR()"])},function(t,e,n){"use strict";defineM("app-plugin-link-editor",function(E,P,A,T){function f(t,r,e,n,i,o){var a,s,l,c,u,h,d=r.url,f=r.isNewWindow,p=r.range,e=((e=e||o.makeLayoutInfo(t).editor().data("options")).onCreateLink&&(d=e.onCreateLink(d)),[]),e=(t.hasClass("btn")||t.is("[data-app-btn]")?e.push(t[0]):(t={nodeName:"A",expandClosestSibling:!0,onlyPartialContains:!0},a=i,s=o,o=(o=p).splitText(),h=t&&t.nodeName||"SPAN",p=!(!t||!t.expandClosestSibling),t=!(!t||!t.onlyPartialContains),e=o.isCollapsed()?[o.insertNode(s.create(h))]:(u=s.makePredByNodeName(h),l=E.map(o.nodes(s.isText,{fullyContains:!0}),function(t){return s.singleChildAncestor(t,u)||s.wrap(t,h)}),p?(t&&(c=o.nodes(),u=g(u,function(t){return a.contains(c,t)})),E.map(l,function(t){var t=s.withClosestSiblings(t,u),n=a.head(t),e=a.tail(t);return E.each(e,function(t,e){s.appendChildNodes(n,e.childNodes),s.remove(e)}),a.head(t)})):l)),P.applyFilter("textLinkAnchors",E.each(e,function(t,e){var n,i;P.isAMP()&&r.ampCart?(-1!==r.url.search("data:application/json")?(i=JSON.parse(decodeURIComponent(r.url.replace(/^data:application\/json,/,""))),i="tap:shopItemLightbox,AMP.setState({shopItemInfo: "+JSON.stringify(i).replace(/"/gm,"'")+"})",E(e).attr("on",i)):(i=r.url.match(/\?(.*$)/)[1],n={},i=i.split("&"),E(i).each(function(t,e){e=e.split("=");n[e[0]]=e[1].replace(/\+/g," ")}),i='tap:cartanim.start,AMP.setState({cart: {items:cart.items.concat([{item_name: "'+decodeURIComponent(n.item_name)+'", amount: "'+n.amount+'", currency_code: "'+n.currency_code+'" , cmd: "_ampcart", id: cart.id}]),total: cart.total+'+n.amount+",id: cart.id+1}})",E(e).attr("on",i)),E(e).removeAttr("href")):(d?E(e).attr("href",d):E(e).removeAttr("href"),E(e).is("img, .btn")||E(e).addClass("text-primary")),f?E(e).attr("target","_blank"):E(e).removeAttr("target")}),r)),p=n.createFromNodeBefore(i.head(e)).getStartPoint(),t=n.createFromNodeAfter(i.last(e)).getEndPoint();n.create(p.node,p.offset,t.node,t.offset).select()}function j(t,e){t.toggleClass("disabled",!e),t.attr("disabled",!e)}function L(t,e){t.toggleClass("error-input",!e)}function O(t,e){var n="";P.Core?n=P.Core.getComponentsAnchorList("",e):(n='<option value="" disabled="disabled" selected="selected">Anchors</option>',E("[id]:not(.note-air-layout, .note-editable, .tooltip, style)").each(function(){var t=E(this).attr("id");n+='<option value="#'+t+'">#'+t+"</option>"})),t.empty().append(E(E.parseHTML(n))),3===t[0].options.length&&(n="<option disabled='disabled' selected='selected'></option><option>Nothing to choose</option>",t.empty().append(E(E.parseHTML(n)))),P.getCurrentPageName()!==e&&(t.find("[value*='#top']").remove(),t.find("[value*='#bottom']").remove()),setTimeout(function(){P.initTooltips()},0)}function p(e,c,s,n){var t,i=c.find(".nav-tabs"),o=c.find(".note-mbr-anchors"),a=c.find(".note-mbr-pages"),r=c.find(".note-mbr-url"),l=c.find(".note-mbr-email"),u=c.find(".note-mbr-phone"),h=c.find(".note-mbr-custom-url"),d=c.find(".note-mbr-link-btn"),f=c.find(".note-mbr-delete-link-btn"),p=c.find("input[type=checkbox]"),m=c.find("#phone .phone-link-label"),g=c.find("#phone .phone-link-example");if(P.addFilter("shoppingCartInNewWindow",function(){return s.isNewWindow||!1}),s.url){var b,v,y=!1,w=P.Core.getPages();for(v in w)if(w.hasOwnProperty(v)&&(s.url===v||0===s.url.indexOf(v+"#"))){y=!0;break}switch(!0){case y||"#top"===s.url||"#bottom"===s.url:t=i.find('a[href="#page"]');break;case 0===s.url.indexOf("tel:"):t=i.find('a[href="#phone"]'),b=s.url.replace("tel:",""),m.text(A("Call Phone Number")),g.text(A("e.g.")+", +1-234-5678910"),u.val(b),c.find('#phone .phone-messengers [value="tel"]').prop("checked",!0);break;case 0===s.url.indexOf("sms:"):t=i.find('a[href="#phone"]'),b=s.url.replace("sms:",""),m.text(A("Send SMS Text to Number")),g.text(A("e.g.")+", +1-234-5678910"),u.val(b),c.find('#phone .phone-messengers [value="sms"]').prop("checked",!0);break;case 0===s.url.indexOf("https://wa.me/"):t=i.find('a[href="#phone"]'),b=s.url.replace("https://wa.me/",""),m.text(A("Chat with WhatsApp")),g.text(A("e.g.")+", +1-234-5678910"),u.val(b),c.find('#phone .phone-messengers [value="whatsapp"]').prop("checked",!0);break;case 0===s.url.indexOf("viber://chat?number="):t=i.find('a[href="#phone"]'),b=s.url.replace("viber://chat?number=",""),m.text(A("Chat with Viber")),g.text(A("e.g.")+", +1-234-5678910"),u.val(b),c.find('#phone .phone-messengers [value="viber"]').prop("checked",!0);break;case 0===s.url.indexOf("skype:"):t=i.find('a[href="#phone"]'),b=s.url.replace(/skype:|\?call/g,""),m.text(A("Call with Skype by Number or Name")),g.text(A("e.g.")+", +1-234-5678910 or echo123"),u.val(b),c.find('#phone .phone-messengers [value="skype"]').prop("checked",!0);break;case 0===s.url.indexOf("tg://resolve?domain="):t=i.find('a[href="#phone"]'),b=s.url.replace("tg://resolve?domain=",""),m.text(A("Chat with Telegram")),g.text(A("e.g.")+", mobirisebuilder"),u.val(b),c.find('#phone .phone-messengers [value="telegram"]').prop("checked",!0);break;case 0===s.url.indexOf("https://signal"):t=i.find('a[href="#phone"]'),b=s.url,m.text(A("Chat with Signal")),g.text(A("e.g.")+", https://signal.group/#CjQ2"),u.val(b),c.find('#phone .phone-messengers [value="signal"]').prop("checked",!0);break;case 0===s.url.indexOf("https://discord"):t=i.find('a[href="#phone"]'),b=s.url,m.text(A("Chat with Discord")),g.text(A("e.g.")+", https://discord.gg/8MzmKjFnpJ"),u.val(b),c.find('#phone .phone-messengers [value="discord"]').prop("checked",!0);break;case 0===s.url.indexOf("assets/files/"):t=i.find('a[href="#file"]');break;case 0===s.url.indexOf("http://")||0===s.url.indexOf("https://"):t=i.find('a[href="#webAddress"]'),r.val(s.url);break;case 0===s.url.indexOf("mailto:"):t=i.find('a[href="#email"]'),b=s.url.replace("mailto:",""),l.val(b);break;case""!==s.url:t=i.find('a[href="#custom"]'),h.val(s.url);break;default:t=i.find("a:first")}}else t=i.find("a:first");L(r,R.test(punycode.toASCII(r.val().replace(/(^\w+:|^)\/\//,"")))),L(l,I.test(l.val())),L(u,D.test(u.val())),c.on("shown.bs.tab",'a[data-toggle="tab"][href="#page"]',function(t){j(d,a.val()||o.val())}),c.on("shown.bs.tab",'a[data-toggle="tab"][href="#webAddress"]',function(t){r.focus(),j(d,R.test(r.val()))}),c.on("shown.bs.tab",'a[data-toggle="tab"][href="#email"]',function(t){l.focus(),j(d,I.test(l.val()))}),c.on("shown.bs.tab",'a[data-toggle="tab"][href="#phone"]',function(t){u.focus();var e=c.find("#phone .phone-messengers [name=phoneLinkType]:checked").val();"skype"!==e&&"telegram"!==e||(D=new RegExp(/^.+$/)),"discord"===e&&(D=new RegExp(/(https:\/\/)?(www\.)?((discordapp\.com\/invite)|(discord\.gg))\/(\w+)/)),"signal"===e&&(D=new RegExp(/((https:\/\/)(signal\.group\/))\S*/)),j(d,D.test(u.val())),L(u,D.test(u.val()))}),c.find("#phone .phone-messengers [name=phoneLinkType]").change(function(){switch(E(this).val()){case"tel":m.text(A("Call Phone Number")),g.text(A("e.g.")+", +1-234-5678910"),D=new RegExp(/^[^a-zA-Z]+$/);break;case"sms":m.text(A("Send SMS Text to Number")),g.text(A("e.g.")+", +1-234-5678910"),D=new RegExp(/^[^a-zA-Z]+$/);break;case"whatsapp":m.text(A("Chat with WhatsApp")),g.text(A("e.g.")+", +1-234-5678910"),D=new RegExp(/^[^a-zA-Z]+$/);break;case"viber":m.text(A("Chat with Viber")),g.text(A("e.g.")+", +1-234-5678910"),D=new RegExp(/^[^a-zA-Z]+$/);break;case"skype":m.text(A("Call with Skype by Number or Name")),g.text(A("e.g.")+", +1-234-5678910 or echo123"),D=new RegExp(/^.+$/);break;case"telegram":m.text(A("Chat with Telegram")),g.text(A("e.g.")+", mobirisebuilder"),D=new RegExp(/^.+$/);break;case"signal":m.text(A("Chat with Signal")),g.text(A("e.g.")+", https://signal.group/#CjQ2"),D=new RegExp(/((https?:\/\/)(signal\.group\/))\S*/);break;case"discord":m.text(A("Chat with Discord")),g.text(A("e.g.")+", https://discord.gg/8MzmKjFnpJ"),D=new RegExp(/(https?:\/\/)?(www\.)?((discordapp\.com\/invite)|(discord\.gg))\/(\w+)/);break;default:m.text(A("Call Phone Number")),g.text(A("e.g.")+", +1-234-5678910")}j(d,D.test(u.val())),L(u,D.test(u.val()))});var _=!0,x=(c.on("shown.bs.tab",'a[data-toggle="tab"][href="#file"]',function(t){var l,a;_&&(_=!1,l=E('<div class="link-file"><div class="btn-group"><span class="btn btn-material-red btn-delete"><i class="mbr-icon-trash"></i></span></div><span class="file-ext"></span><span class="file-name"></span></div>'),a=E(P.preloaderHTML),c.find(".tab-pane#file .links-wrap").before(a),T.dirList(P.projectPath+"/assets/files/",function(t){for(var e=t.length,n=0;n<e;n++){var i=l.clone(),r=s.url.replace("assets/files/",""),r=(t[n]===r&&i.addClass("active"),T.splitPath(t[n])),o=r.ext.toUpperCase(),r=r.fullname;i.find(".file-ext").html(o),i.find(".file-name").html(r),c.find(".tab-pane#file .links-wrap").append(i)}j(d,c.find(".tab-pane#file .link-file.active").length),a.hide()},{filter:1,recursive:!1}),c.on("click",".btn-delete",function(e){e.stopPropagation();var n=P.projectPath+"/assets/files/"+E(e.target).closest(".link-file").find(".file-name").html();T.removeLocal(n,function(t){t?(E(e.target).closest(".link-file").remove(),j(d,c.find(".tab-pane#file .link-file.active").length)):console.log("Failed to remove file:",n)})}),c.on("click","#link-add-file-btn",function(t){t.preventDefault(),T.runFileDialog(A("Add File"),"","Documents (*.pdf *.doc *.docx *.ppt *.pptx *.xls *.xlsx *.odp *.odt)",function(s){s&&T.dirList(P.projectPath+"/assets/files/",function(t){for(var e,n=t.length,i=T.splitPath(s),r=decodeURI(i.fullname).replace(/\s/,"-").replace(/[^-0-9a-zA-Z_\.]/g,""),o=!1,a=0;a<n;a++)r===t[a]&&(o=!0);o?P.alertDlg(A("This document is already added.")):(e=i.ext.toUpperCase(),T.copyLocal(s,P.projectPath+"/assets/files/"+r,function(t){t&&((t=l.clone()).addClass("active").find(".file-name").html(r),t.find(".file-ext").html(e),c.find(".tab-pane#file .links-wrap .link-file").removeClass("active"),c.find(".tab-pane#file .links-wrap").append(t),j(d,c.find(".tab-pane#file .link-file.active").length))}))},{filter:1,recursive:!1})})}),c.on("click",".link-file",function(t){E(t.target).closest(".link-file").addClass("active").siblings().removeClass("active"),j(d,!0)})),j(d,c.find(".tab-pane#file .link-file.active").length)}),c.on("shown.bs.tab",'a[data-toggle="tab"][href="#custom"]',function(t){h.focus(),j(d,h.val())}),t.tab("show"),c.find(".dropdownjs").each(function(){var t;E(this).children().hasClass("note-mbr-pages")?E(this).children().removeAttr("readonly"):E(this).children().hasClass("note-mbr-anchors")&&(t=E(this).data("select"),E(t.data("dropdownjs-ul")).addClass("anchors-dropdownjs"))}),!!e&&e.parent().is('[data-app-edit="buttons"]')),M=!!e&&e.closest("[mbr-menu]").length;function S(t){var e=0<t.indexOf("#")?t.slice(0,t.indexOf("#")):t,n=a.find('option[value="'+P.escapeHtml(e||t)+'"]'),i=o.find('option[value="'+P.escapeHtml(t)+'"]'),n=0!==n.length?n.html():"",i=0!==i.length?i.html():"";a.val(e),E(a[1]).val(n),o.val(t),E(o[1]).val(i)}f[s.url&&!M?"show":"hide"](),r.on("input",function(){var t=E(this).val().replace(/(^\w+:|^)\/\//,"");j(d,R.test(punycode.toASCII(t))),L(E(this),R.test(punycode.toASCII(t)))}),l.on("input",function(){j(d,I.test(E(this).val())),L(E(this),I.test(E(this).val()))}),u.on("input",function(){j(d,D.test(E(this).val())),L(E(this),D.test(E(this).val()))}),h.on("input",function(){j(d,E(this).val()),L(E(this),E(this).val())}),s.url||(s.url="http://");var k,C=s.url,M=(M=a,P.Core&&(k=P.Core.getPagesList(),M.empty().append(E(E.parseHTML(k)))),a.on("change",function(){P.$body.find(".anchors-dropdownjs").empty();var t=c.find(".dropdownjs .note-mbr-pages").closest(".dropdownjs").data("select"),t=E(t.data("dropdownjs-ul")),e=a.find("option").filter(function(t,e){return E(e).attr("data-text")===E(a[1]).val()?(E(e).attr("selected","selected"),!0):(E(e).removeAttr("selected"),!1)});e.length?E(this).val(E(e[0]).attr("value")):(t.find('li[disabled="disabled"]').attr("selected","selected"),E(this).val("")),O(o,E(this).val()),E(a[1]).val(E(this).find('option[value="'+E(this).val()+'"]').attr("data-text")),o.val(""),c.find(".anchors-label").html(A("Block on $page title$ Page").replace("$page title$","'"+(E(a[1]).val()||a.find('option[value="'+P.Core.currentPage+'"]').html())+"'")),j(d,!0)}),S(s.url),a.find("option").filter(function(){return E(this).attr("data-text")===E(a[1]).val()}));return O(o,M.val()),a.val()!==P.Core.currentPage&&a.val()&&P.$body.find(".anchors-dropdownjs").find('li[value="#top"], li[value="#bottom"]').remove(),S(s.url),c.find(".anchors-label").html(A("Block on $page title$ Page").replace("$page title$","'"+E(a[1]).val()+"'")),a.val()||c.find(".anchors-label").html(A("Block on $current page$ Page").replace("$current page$","'"+a.find('option[value="'+P.Core.currentPage+'"]').html()+"'")),o.on("change",function(){a.val()!==P.Core.currentPage&&a.val()&&P.$body.find(".anchors-dropdownjs").find('li[value="#top"], li[value="#bottom"]').remove(),setTimeout(function(){P.initTooltips()},0),j(d,!0)}),P.fire("showedLinkDialog",c),E.Deferred(function(r){d.click(function(){var t,e,n=c.find(".tab-pane.active"),i="";switch(n.attr("id")){case"page":C=o.val()||a.val(),t=n.find("input[type=checkbox]").is(":checked");break;case"webAddress":i=n.find(".note-mbr-url").val(),C=0===i.indexOf("http:")||0===i.indexOf("https:")?i:"http://"+i,t=n.find("input[type=checkbox]").is(":checked");break;case"email":i=n.find(".note-mbr-email").val(),C=0===i.indexOf("mailto:")?i:"mailto:"+i;break;case"phone":switch(c.find("#phone .phone-messengers [name=phoneLinkType]:checked").val()){case"tel":i=n.find(".note-mbr-phone").val(),C="tel:"+i;break;case"sms":i=n.find(".note-mbr-phone").val(),C="sms:"+i;break;case"whatsapp":i=n.find(".note-mbr-phone").val(),C=("https://wa.me/"+i).replace(/[+\-()]/g,"");break;case"viber":i=n.find(".note-mbr-phone").val(),C="viber://chat?number="+i;break;case"skype":i=n.find(".note-mbr-phone").val(),C="skype:"+i+"?call";break;case"telegram":i=n.find(".note-mbr-phone").val(),C="tg://resolve?domain="+i;break;case"signal":case"discord":i=n.find(".note-mbr-phone").val(),C=i;break;default:i=n.find(".note-mbr-phone").val(),C="tel:"+i}break;case"file":C="assets/files/"+n.find(".link-file.active .file-name").html(),t=n.find("input[type=checkbox]").is(":checked");break;case"shoppingCart":C=P.applyFilter("shoppingCartUrl"),t=n.find("input[type=checkbox]").is(":checked"),e=n.find('[value="_ampcart"]').prop("checked")||n.find('[name="in-popup"]').prop("checked");break;case"popup":C=P.applyFilter("popupUrl");break;default:C=h.val(),t=n.find("input[type=checkbox]").is(":checked")}setTimeout(function(){r.resolve({range:s.range,url:C,isNewWindow:t,ampCart:e})},1)}),f.click(function(t){!n||x?setTimeout(function(){r.resolve({url:""})},1):(n.unlink(e),r.reject())}),c.one("hidden.bs.modal",function(){o.off("change"),a.off("change"),p.off("change"),"pending"===r.state()&&r.reject()})})}var m,e,g=function(e,n){return function(t){return e(t)&&n(t)}},b=(E(window.document).on("focusout",function(t){e&&(e=!1,t.preventDefault())}),function(){e=!0}),R=new RegExp(/^(http:\/\/www\.|https:\/\/www\.|http:\/\/|https:\/\/)?[a-z0-9]+([-.]{1,2}[a-z0-9]+)*\.(([a-z]+)([-.]{1,2}[a-z0-9]+)?){2,}(:[0-9]{1,5})?(\/.*)?$/),I=new RegExp(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/),D=new RegExp(/^[^a-zA-Z]+$/);P.regExtension({name:"plugin-link-editor",global:{showMbrLinkDialog:function(t,n){var e,i,r,o,a,s,l=t.editor,c=t.layoutInfo,u=t.range,h=t.list,d=t.dom;m||(c?(e=c.editor(),i=c.editable(),r=l.getLinkInfo(i),o=e.data("options"),e.is("[href]")&&(r.url=e.attr("href")),e.is("[on]")&&-1!==e.attr("on").search("cart")&&-1===e.attr("on").search("shopItem")?(r.ampCart=!0,c=e.attr("on").match(/{.+{(.+)}.+}/),a="",c=c[1].split(/\s?,\s?/),E(c).each(function(t,e){-1!==(e=e.split(/\s?:\s?/))[1].search(/^\s*"([^"]*)"\s*$/)&&(e[1]=e[1].replace(/^\s*"([^"]*)"\s*$/,"$1")),"id"!==e[0]&&(e=e[0]+"="+e[1],a+="&"+e)}),r.url="https://www.paypal.com/cgi-bin/webscr?cmd=_ampcart"+a):e.find("[on*=cart]").length?(r.ampCart=!0,c=e.find("[on*=cart]").attr("on").match(/{.+{(.+)}.+}/),s="",c=c[1].split(/\s?,\s?/),E(c).each(function(t,e){-1!==(e=e.split(/\s?:\s?/))[1].search(/^\s*"([^"]*)"\s*$/)&&(e[1]=e[1].replace(/^\s*"([^"]*)"\s*$/,"$1")),"id"!==e[0]&&(e=e[0]+"="+e[1],s+="&"+e)}),r.url="https://www.paypal.com/cgi-bin/webscr?cmd=_ampcart"+s):(e.find('[href*="data:application,json"]').length||e.is('[href*="data:application,json"]')||e.find('[on*="shopItem"]').length||e.is('[on*="shopItem"]'))&&(r.ampCart=!0,c="data:application/json,"+encodeURIComponent(e.attr("on").match(/{.+?({.+?})/)[1]),r.url=c),i.focus(),l.saveRange(i)):r={url:t.url,isNewWindow:t.isNewWindow},b(),m=!0,P.showDialog({title:A("Link to"),className:"note-mbr-link-dialog",body:'<div class="row form-group link-tabs">\n                            <div class="col-md-12">\n                                <ul class="nav nav-tabs">\n                                    <li class="active">\n                                        <a href="#page" data-toggle="tab">'+A("Page")+'</a>\n                                    </li>\n                                    <li>\n                                        <a href="#webAddress" data-toggle="tab">'+A("Web Address")+'</a>\n                                    </li>\n                                    <li>\n                                        <a href="#email" data-toggle="tab">'+A("Email")+'</a>\n                                    </li>\n                                    <li>\n                                        <a href="#phone" data-toggle="tab">'+A("Phone/chat")+'</a>\n                                    </li>\n                                    <li>\n                                        <a href="#file" data-toggle="tab">'+A("File")+'</a>\n                                    </li>\n                                    <li>\n                                        <a href="#custom" data-toggle="tab">...</a>\n                                    </li>\n                                </ul>\n                                <div class="tab-content">\n                                    <div class="tab-pane active" id="page">\n                                        <div class="row form-group">\n                                            <div class="col-sm-6">\n                                                <label>'+A("Site Pages")+'</label>\n                                                <select class="note-mbr-pages form-control"><option disabled="disabled">Nothing Selected</option></select>\n                                            </div>\n                                            <div class="col-sm-6">\n                                                <label class="anchors-label">'+A("Block on Page")+'</label>\n                                                <select class="note-mbr-anchors form-control"><option disabled="disabled">Nothing Selected</option></select>\n                                            </div>\n                                        </div>\n                                        <div class="row form-group">\n                                            <div class="togglebutton col-sm-6">\n                                                <label>\n                                                    <input type="checkbox"'+(r.isNewWindow?' checked="checked"':"")+'><span style="margin-top:-3px;" class="toggle"></span>'+A("Open in new window")+'\n                                                </label>\n                                            </div>\n                                        </div>\n                                    </div>\n                                    <div class="tab-pane" id="webAddress">\n                                        <div class="row form-group">\n                                            <div class="col-sm-6">\n                                                <label class="font-weight-normal">'+A("e.g.")+', https://mobirise.com</label>\n                                                <input class="note-mbr-url form-control" type="text" />\n                                            </div>\n                                        </div>\n                                        <div class="row form-group">\n                                            <div class="togglebutton col-sm-6">\n                                                <label>\n                                                    <input type="checkbox"'+(r.isNewWindow?' checked="checked"':"")+'><span style="margin-top:-3px;" class="toggle"></span>'+A("Open in new window")+'\n                                                </label>\n                                            </div>\n                                        </div>\n                                    </div>\n                                    <div class="tab-pane" id="email">\n                                        <div class="row form-group">\n                                            <div class="col-sm-6">\n                                                <label class="font-weight-normal">'+A("e.g.")+', support@mobirise.com</label>\n                                                <input class="note-mbr-email form-control" type="text" />\n                                            </div>\n                                        </div>\n                                    </div>\n                                    <div class="tab-pane" id="phone">\n                                        <div class="row form-group">\n                                            <div class="col-sm-6">\n                                                <label class="font-weight-normal phone-link-label">Call Phone Number</label>\n                                                <label class="font-weight-normal phone-link-example">'+A("e.g.")+', +1-234-5678910</label>\n                                                <input class="note-mbr-phone form-control" type="text" />\n                                            </div>\n                                            <div class="col-sm-6 phone-messengers">\n                                                <div class="row">\n                                                    <div class="col-sm-6">\n                                                        <div class="radio radio-primary">\n                                                            <label>\n                                                                <input type="radio" name="phoneLinkType" value="tel" checked>\n                                                                <span class="circle"></span>\n                                                                <span class="check"></span>\n                                                                Phone\n                                                            </label>\n                                                        </div>\n                                                        <div class="radio radio-primary">\n                                                            <label>\n                                                                <input type="radio" name="phoneLinkType" value="whatsapp">\n                                                                <span class="circle"></span>\n                                                                <span class="check"></span>\n                                                                WhatsApp\n                                                            </label>\n                                                        </div>\n                                                        <div class="radio radio-primary">\n                                                            <label>\n                                                                <input type="radio" name="phoneLinkType" value="telegram">\n                                                                <span class="circle"></span>\n                                                                <span class="check"></span>\n                                                                Telegram\n                                                            </label>\n                                                        </div>\n                                                        <div class="radio radio-primary">\n                                                        <label>\n                                                            <input type="radio" name="phoneLinkType" value="signal">\n                                                            <span class="circle"></span>\n                                                            <span class="check"></span>\n                                                            Signal\n                                                        </label>\n                                                        </div>\n                                                    </div>\n                                                    <div class="col-sm-6">\n                                                        <div class="radio radio-primary">\n                                                            <label>\n                                                                <input type="radio" name="phoneLinkType" value="sms">\n                                                                <span class="circle"></span>\n                                                                <span class="check"></span>\n                                                                SMS\n                                                            </label>\n                                                        </div>\n                                                        <div class="radio radio-primary">\n                                                            <label>\n                                                                <input type="radio" name="phoneLinkType" value="viber">\n                                                                <span class="circle"></span>\n                                                                <span class="check"></span>\n                                                                Viber\n                                                            </label>\n                                                        </div>\n                                                        <div class="radio radio-primary">\n                                                            <label>\n                                                                <input type="radio" name="phoneLinkType" value="skype">\n                                                                <span class="circle"></span>\n                                                                <span class="check"></span>\n                                                                Skype\n                                                            </label>\n                                                        </div>\n                                                        <div class="radio radio-primary">\n                                                        <label>\n                                                            <input type="radio" name="phoneLinkType" value="discord">\n                                                            <span class="circle"></span>\n                                                            <span class="check"></span>\n                                                            Discord\n                                                        </label>\n                                                        </div>\n                                                    </div>\n                                                </div>\n                                            </div>\n                                        </div>\n                                    </div>\n                                    <div class="tab-pane file-library" id="file">\n                                        <button class="btn btn-primary" id="link-add-file-btn">'+A("Browse Computer")+'</button>\n                                        <span class="formats">'+A("Choose pdf, doc, docx, ppt, pptx, xls, xlsx, odp or odt file")+'</span>\n                                        <div class="form-group links-wrap"></div>\n                                        <div class="row form-group">\n                                            <div class="togglebutton col-sm-6">\n                                                <label>\n                                                    <input type="checkbox"'+(r.isNewWindow?' checked="checked"':"")+'><span style="margin-top:-3px;" class="toggle"></span>'+A("Open in new window")+'\n                                                </label>\n                                            </div>\n                                        </div>\n                                    </div>\n                                    <div class="tab-pane" id="custom">\n                                        <div class="row form-group">\n                                            <div class="col-sm-6">\n                                                <label class="font-weight-normal">'+A("Custom URL")+", "+A("e.g.")+', /dir123/page123.php</label>\n                                                <input class="form-control note-mbr-custom-url" type="text" />\n                                            </div>\n                                        </div>\n                                        <div class="row form-group">\n                                            <div class="togglebutton col-sm-6">\n                                                <label>\n                                                    <input type="checkbox"'+(r.isNewWindow?' checked="checked"':"")+'><span style="margin-top:-3px;" class="toggle"></span>'+A("Open in new window")+"\n                                                </label>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>",buttons:{insert:{label:A("Insert Link"),className:"note-mbr-link-btn",default:!0},delete:{label:A("Remove Link"),className:"note-mbr-delete-link-btn"}},show:function(t){p(i,t,r,l).then(function(t){var e;i?(i.trigger("blur"),f(i,t,o,u,h,d),e=i.closest("[data-app-component-id]").attr("data-app-component-id"),P.fire("successTextLinkDialog",t,e)):n&&n(t)}).fail(function(){i&&i.trigger("blur")})},hide:function(){m=!1}}))}},events:{loadedProject:function(){P.addFilter("uploadFilesStart",function(t,e){var o=E.Deferred();return t.then(function(i,r){T.dirList(P.projectPath+"/assets/files/",function(t){for(var e=(t=t.filter(function(t){return["pdf","doc","docx","ppt","pptx","xls","xlsx","odp","odt"].includes(t.split(".").pop())})).length,n=0;n<e;n++)i.push({dest:"assets/files/"+t[n],srcList:[{src:P.projectPath+"/assets/files/"+t[n]}]});o.resolve(i,r)},{filter:1,recursive:!1})}),o})}}})},["jQuery","mbrApp","TR()","Bridge"])},function(t,e,n){"use strict";defineM("advertising",function(t,e,i){var r="firstrun",o=void 0;function n(t){return btoa(a(t,1<arguments.length&&void 0!==arguments[1]?arguments[1]:14)).replace(/[=]+$/,"")}function a(t,e){for(var n="",i=0;i<t.length;i++)n+=String.fromCharCode(t.charCodeAt(i)^e);return n}e.regExtension({name:"advertising",global:{getUserID:function(){var t=e.getUserInfo();return n(t&&t.email||"",14)},encodeText:n,decodeText:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:14;return a(atob(t),e)}},events:{bridgeInit:function(){i.getSettings(r,function(t){(o=t)||i.getSettings("account",function(t){o=t?"no":"yes",i.setSettings(r,o)})});var n=this;e.addFilter("openUrl",function(t){var e=i.parseUrl(t);return e&&e.domain&&e.domain.endsWith("mobirise.com")&&(e.query=(e.query?e.query+"&":"")+"mbrui="+n.getUserID(),t=i.joinUrl(e)),t})},signedin:function(){"yes"==o&&(o="no",i.setSettings(r,o),i.openUrl(e.applyFilter("openUrl","https://mobirise.com/register.html")))}}})},["jQuery","mbrApp","Bridge"])},function(t,e,n){"use strict";var k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u=n(25);defineM("app-amp",function(M,S){S.regExtension({name:"app-amp",global:{registeredAmpPlugins:[],registerAmpPlugin:function(t){function e(t){t&&-1===S.registeredAmpPlugins.indexOf(t)&&S.registeredAmpPlugins.push(t)}Array.isArray(t)&&0!==t.length?t.forEach(function(t){e(t)}):e(t)},isAMP:function(){var e;try{e=!!S.theme.params.theme.isAMP}catch(t){e=!1,console.error("APP.isAmp: failed to determine theme type.")}return e}},events:{coreLoad:function(){if(S.theme.params.theme.isAMP){for(var t in console.log("AMP theme loaded"),S.Core.$body.find("#scrollToTop").remove(),S.addFilter("previewTemplating",function(t){var e,n,i;return t&&(e=M(t)).find("section.menu").length&&(n=e.find("amp-sidebar"),0!=(i=e.find(".navbar-collapse")).length)&&(n.find(".builder-sidebar").append(i.html()),e.find("section.horizontal-menu .navbar-toggler").remove(),e.find("section.horizontal-menu a.dropdown-toggle").removeAttr("href")),t}),S.addFilter("publishTemplating",function(t,e){var n,i,r,o,a,s,l,c,u;return-1!==e.indexOf(".html")&&(e=t.match(/<body>[^]*(.*)<\/body>/),(n=(e=M('<div class="sandbox">').html(e)).find("section.menu")).length&&(r=(i=e.find("amp-sidebar")).attr("side"),o=i.attr("id"),a=i.closest("section").attr("class").match(/cid-\w+/)||"",s=i.attr("layout"),0!=(u=e.find(".navbar-collapse")).length&&(i.find(".builder-sidebar").append(u.html()),e.find("section.horizontal-menu .navbar-toggler").remove(),e.find("section.horizontal-menu a.dropdown-toggle").removeAttr("href")),n.before('<amp-sidebar id="'+o+'"                                             class="'+(a?a[0]:"")+'"                                            layout="'+s+'" side="'+r+'">'+i.html()+"</amp-sidebar>"),i.remove()),e.find("section.map").length&&e.find("section.map").each(function(){var t=M(this).find(".google-map"),e=M(this).find("iframe"),n=e.attr("src"),i=M(this).find(".map-placeholder"),n='<amp-iframe src="'+n+'" height="400"                                 layout="fill" sandbox="allow-scripts allow-same-origin                                 allow-popups" frameborder="0" class="placeholder-loader">'+i.html()+"</amp-iframe>";t.prepend(n),e.remove(),i.remove()}),e.find("section.slider").length&&e.find("section.slider").each(function(){var t,e;M(this).find(".super-hide").each(function(){M(this).remove()}),"slides"==M(this).find("amp-carousel").attr("type")&&(t=M(this).find(".slider-box").attr("data-autoplay"),e=M(this).find(".slider-box").attr("data-delay"),t)&&(M(this).find("amp-carousel")[0].setAttribute("autoplay",""),M(this).find("amp-carousel").attr("delay",e))}),e.find(".amp-accordion").length&&e.find(".amp-accordion").each(function(){for(var t=M(this).find(".accordion-item:not(.super-hide)"),e=0;e<t.length;e++){for(var n="tap:",i=0;i<t.length;i++)n=n+M(t[i]).find(".accordion-item-body").attr("id")+(e==i?".toggleVisibility,":".hide,"),M(t[i]).find(".accordion-title .fa-plus").length&&(n=(n=n+M(t[i]).find(".fa-plus").attr("id")+(e==i?".toggleVisibility,":".show,"))+M(t[i]).find(".fa-minus").attr("id")+(e==i?".show,":".hide,"));n=n.substring(0,n.length-1),M(t[e]).find(".accordion-title").attr("on",n)}}),e.find(".builder-overlay").length&&e.find(".builder-overlay").each(function(){M(this).removeClass("builder-overlay")}),e.find("form.mbr-form").length&&e.find("form.mbr-form").each(function(){var t=M(this).find('*[name^="form[data]"]'),e=0;M(this).find("div[submit-error] > template").html("Failed! {{error}}");for(var n,i,r=0;r<t.length;r++)"hidden"!=M(t[r]).attr("type")&&(n="form[data]["+e+"][0]",i="form[data]["+e+"][1]",M(t[r-1]).attr("name",n),M(t[r]).attr("name",i),e++),"hidden"==M(t[r]).attr("type")&&"hidden"==M(t[r-1]).attr("type")&&M(t[r-1]).remove(),r+1==t.length&&"hidden"==M(t[r]).attr("type")&&M(t[r]).remove()}),e.find("section.slider-with-bullets").length&&e.find("section.slider-with-bullets").each(function(){var r="carousel"+M(this).attr("id").replace(/[-]/g,""),o="selected"+M(this).attr("id").replace(/[-]/g,""),t="slideChange:AMP.setState({"+o+": {slide :event.index}})",a=0;M(this).prepend('<amp-state id= "'+o+'"><script type="application/json">{"slide": 0}<\/script></amp-state>'),M(this).find("amp-carousel").attr({on:t,id:r}),M(this).find(".dots-wrapper .dots").each(function(){var t="tap:"+r+".goToSlide(index="+a+")",e=o+".slide == '"+a+"' ? 'current' : ''",n=M(this).find("span"),i=n.text(),t='<span role="button" tabindex="'+a+'" on="'+t+'" [class]="'+e+'"';0==a&&(t+=' class="current"'),t+=">"+i+"</span>",M(this).prepend(t),n.remove(),a++})}),e.find("section.carousel-with-preview").length&&(l=0,e.find("section.carousel-with-preview").find("amp-carousel").each(function(){var t=[],e=0;M(this).attr("id","carousel-with-preview"+l),c=M(this).attr("id"),M(this).find(".carousel-img").each(function(){t.push(M(this).attr("src"))}),M(this).parent().parent().find(".preview .btn-img").each(function(){M(this).attr("on","tap:"+c+".goToSlide(index="+e+")"),e++}),M(this).parent().parent().find(".preview .preview-img").each(function(){M(this).attr("src",t.shift()),e++}),l++})),e.find("section.video-with-button-image").length&&e.find("section.video-with-button-image").each(function(){var t="img"+M(this).attr("id").replace(/[-]/g,""),e="video"+M(this).attr("id").replace(/[-]/g,"");M(this).find(".img-block").attr("id",t),M(this).find(".video-block").attr("id",e),M(this).find(".video-wrap .iconbox").attr("on","tap:"+t+".hide,"+e+".show")}),e.find("section.video-with-lightbox").length&&e.find("section.video-with-lightbox").each(function(){var t="my-lightbox"+M(this).attr("id").replace(/[-]/g,"");M(this).find("amp-lightbox").attr("id",t),M(this).find(".iconbox").length&&M(this).find(".iconbox").attr("on","tap:"+t),M(this).find("amp-lightbox .lightbox").attr("on","tap:"+t+".close")}),u="<body>"+M(e).html()+"</body>",t=t.replace(/<body>[^]*(.*)<\/body>/,u)),t}),S.Core.on("changeComponentParams",function(t,e,n){var i,r,o=S.Core.getComponent(t),a=S.$template.find("[data-app-component-id="+t+"] > .app-component-content");if("videoUrl"===e){var s=n;if((a.find("amp-youtube").length||a.find("amp-vimeo").length)&&(-1!==s.indexOf("youtu")||-1!==s.indexOf("vimeo"))){var l,c=a.find("amp-youtube").length?a.find("amp-youtube"):a.find("amp-vimeo"),u=a.find(".video-block"),h="",d=c.attr("layout"),f=c.attr("class"),p=M(c).attr("autoplay");if(-1!==s.indexOf("youtu"))""!=(l=(l=-1!==(l=-1!==s.indexOf("v=")?s.split("v=")[1]:"").indexOf("&")?l.split("&")[0]:l).split("&")[0])&&(h='<amp-youtube width="16" height="9" layout="'+d+'" data-videoid="'+l+'"',"undefined"!==(void 0===p?"undefined":k(p))&&!1!==p&&(h+=" autoplay",console.log("onLoadYoutubeAutoplay")),"undefined"!==(void 0===f?"undefined":k(f))&&!1!==f&&(h+=' class="'+f+'"'),h+="></amp-youtube>");else if(-1!==s.indexOf("vimeo")){try{l=s.match(/(videos|video|channels|\.com)\/([\d]+)/)[2]}catch(t){l=""}""!=l&&(h='<amp-vimeo width="16" height="9" layout="'+d+'" data-videoid="'+l+'"',"undefined"!==(void 0===p?"undefined":k(p))&&!1!==p&&(h+=" autoplay",console.log("onLoadVimeoAutoplay")),"undefined"!==(void 0===f?"undefined":k(f))&&!1!==f&&(h+=' class="'+f+'"'),h+="></amp-vimeo>")}u.prepend(h),c.remove()}}if("date"!==e&&"time"!==e&&"lang"!==e&&"zone"!==e||(s=a.find(".amp-countdown-wrap"),a.find(".amp-countdown").length&&(p=(l=(d=a.find(".amp-countdown")).clone()).attr("end-date"),"date"===e?(p=n+"T"+p.split("T")[1],l=l.attr("end-date",p)):"time"===e&&(p=p.split(".0")[0].split("T")[0]+"T"+n+".0"+p.split(".0")[1],l=l.attr("end-date",p)),"lang"===e&&(l=l.attr("locale",n)),"zone"===e&&(p=p.split(".0")[0]+".0"+n,l=l.attr("end-date",p)),s.prepend(l),d.remove())),"trackId"!==e&&"playlistId"!==e&&"scHeight"!==e&&"scColor"!==e&&"audioLink"!==e||(f=a.find(".sound-block"),"trackId"!==e&&"playlistId"!==e||a.find("amp-soundcloud").length&&(u=n,g=(i=a.find("amp-soundcloud")).clone(),"trackId"===e?g.attr("data-trackid",u):"playlistId"===e&&g.attr("data-playlistid",u),f.prepend(g),i.remove()),"scHeight"===e&&a.find("amp-soundcloud").length&&(r=(i=a.find("amp-soundcloud")).attr("height"),i.css("height",r+"px")),"scColor"===e&&a.find("amp-soundcloud").length&&(g=(i=a.find("amp-soundcloud")).clone(),h=-1!==n.indexOf("#")?n.split("#")[1]:"",g.attr("data-color",h),f.prepend(g),i.remove()),"audioLink"===e&&a.find("amp-audio").length&&(c=n,(s=(p=a.find("amp-audio")).clone()).attr("src",c),f.prepend(s),p.remove())),"fbLink"===e&&(l=a.find(".facebook-wrap"),d="",a.find("amp-facebook").length?d="amp-facebook":a.find("amp-facebook-page").length?d="amp-facebook-page":a.find("amp-facebook-like").length&&(d="amp-facebook-like"),(h=(u=a.find(d)).clone().empty()).attr("data-href",n),l.prepend(h),u.remove()),"carouselHeight"===e&&(i=(g=a.find("amp-carousel")).find("amp-fit-text"),r=g.attr("height"),g.css("height",r+"px"),i.css("height",r+"px")),"animatedText"===e&&a.find(".animated-text").length&&(c=a.find(".animated-text"),f=o._params.animatedText,c.text(f)),"linkPostFacebook"!==e&&"numpostsFacebook"!==e||(s=a.find(".mbr-facebook-comments"),p=a.find("amp-facebook-comments"),d=o._params.numpostsFacebook,l=o._params.linkPostFacebook,h='<amp-facebook-comments height="9"                                                         layout="fixed-height" class="container"                                                        data-numposts="'+(d="numpostsFacebook"===e?n:d)+'"                                                         data-href="'+(l="linkPostFacebook"===e?n:l)+'">',s.append(h),p.remove()),"dateFormat"!==e&&"datepickerLocale"!==e&&"minDate"!==e&&"maxDate"!==e||a.find(".date-picker-wrap").length&&("dateFormat"===e?M(a).find("amp-date-picker").attr("format",n):"datepickerLocale"===e?M(a).find("amp-date-picker").attr("locale",n):"minDate"===e?M(a).find("amp-date-picker").attr("min",n):"maxDate"===e&&M(a).find("amp-date-picker").attr("max",n)),"containersCount"!==e&&"firstCount"!==e&&"secondCount"!==e&&"thirdCount"!==e&&"fourthCount"!==e||a.find("section.gallery").length&&((m=M("<div>")).html(o._customHTML),_=S.Core.$template.find("[data-app-component-id="+t+"] .app-component-content"),x=S.Core.getSecondaryComponent(o),o._customHTML=m.html(),S.isSecondaryComponent(o))&&!x.isActualTemplate()&&(w=x.update().createElementFromTemplate(),S.Core.$window[0].rivets.unbind(_).bind(w,o),_.html(w),S.Core.fire("loadedComponent",o,S.Core.currentPage,S.Core.$template,!1)),"imagesAmount"===e&&a.find(".slider").length){(m=M("<div>")).html(o._customHTML);for(var m,u=m.find(".slider-box"),g=m.find("amp-carousel"),b=M(g).clone().empty(),v=m.find("amp-carousel > *"),y=n;v.length<y;)v.push(M(v[v.length-1]).clone().get(0));for(;v.length>y;)v.splice(-1,1);v.each(function(){b.append(M(this).clone())}),M(g).remove(),M(u).prepend(b),m.find(".dots span").length&&(m.find(".dots span").each(function(){M(this).removeClass("current")}),m.find(".dots span").eq(0).addClass("current"));var w,_=S.Core.$template.find("[data-app-component-id="+t+"] .app-component-content"),x=S.Core.getSecondaryComponent(o);o._customHTML=m.html(),S.isSecondaryComponent(o)&&!x.isActualTemplate()&&(w=x.update().createElementFromTemplate(),S.Core.$window[0].rivets.unbind(_).bind(w,o),_.html(w),S.Core.fire("loadedComponent",o,S.Core.currentPage,S.Core.$template,!1))}}),S.Core.on("loadedComponent",function(t,e,n,i){var r,o,a,s,l=M(n).find("[data-app-component-id="+t._id+"]"),c=S.Core.$template.find("[data-app-component-id="+t._id+"] .app-component-content");if(i?(l.find("*[once]").each(function(){M(this).removeAttr("once")}),n.find("amp-sidebar").length&&c.length&&-1!==t._plugins.indexOf("amp-sidebar")&&(M(c.find("section").attr("class").split(" ")).each(function(t){0===this.indexOf("cid-")&&(a=this)}),n.find("amp-sidebar").addClass(a)),M(n).find("img.mbr-temp").each(function(t,e){var n=M(this).attr("src");M(this).closest("amp-img").attr("src",S.addImage2PublishList(n)),M(this).remove()}),M(n).find("form").each(function(){M(this).removeAttr("action").removeAttr("novalidate").attr("action-xhr","https://f.8b.com/api/sites/"+S.projectSettings.id+"/forms/data/")}),M(n).find("amp-img[lightbox]").each(function(){var t=M(this).closest("section").attr("id");M(this).attr("lightbox",t)})):(l.find("i-amphtml-sizer").each(function(){M(this).addClass("temp-amp-sizer"),"AMP-CAROUSEL"===this.parentNode.tagName&&M(this).css("position","static")}),r=c.find("amp-sidebar"),o=c.find("section"),r.length&&(c.find('button[on="tap:sidebar.toggle"]').on("click",function(){o.toggleClass("sidebar-open"),r.toggleClass("open"),r.css({display:"block",transform:"translateX(0%)!important"})}),c.find('button[on="tap:sidebar.close"]').on("click",function(){o.toggleClass("sidebar-open"),r.toggleClass("open"),r.css({display:"none",transform:"translateX(100%)!important"})})),c.find("img.mbr-temp").each(function(t,e){var n=M(this).attr("src"),p=M(this).parents("amp-carousel"),m=p.height?p.attr("height"):null,i=M(this).attr("alt");M(this).closest("amp-img").attr("src",n),M(this).closest("amp-img").attr("alt",i),M(this).on("load",function(t){var e,n,i,r,o,a,s=M('<div id="amp-sandbox">'),l=S.Core.getComponent(M(this).closest(".app-component").attr("data-app-component-id")),c=S.Core.$template.find("[data-app-component-id="+l._id+"] .app-component-content"),u=M(this).height(),h=this.naturalWidth/this.naturalHeight*u,d=M(this).attr("src"),f=M(this).attr("alt");l&&(s.html(l._customHTML),p&&m&&(h=this.naturalWidth/this.naturalHeight*(u=m)),e=c.find("amp-img"),c.find("amp-carousel"),n=M(this).closest("amp-img"),o=s.find("img.mbr-temp")[e.index(n)],i=S.Core.getSecondaryComponent(l),r=M(e[e.index(n)]).parents("amp-carousel"),h)&&u&&d&&(M(o).attr("src",d).closest("amp-img").attr("width",h).attr("height",u).attr("src",d).attr("alt",f||""),l._customHTML=s.html(),0===M(this).closest("amp-img").parents(".lightbox").length&&S.isSecondaryComponent(l)&&!i.isActualTemplate()&&(o=i.update().createElementFromTemplate(),S.Core.$window[0].rivets.unbind(c).bind(o,l),c.html(o),c.find(".preview .preview-img").length&&c.find("section.carousel-with-preview").length&&r.length&&d!=M(e[e.index(n)]).attr("src")&&(a=0,M.each(p,function(){for(var t=0;e[e.index(n)]!==M(this).find("amp-img")[t]&&M(this).find("amp-img")[t];)t++;if(M(this).find("amp-img")[t]&&c.find(".preview .preview-img")[a+t])return M(c.find(".preview .preview-img img")[a+t]).attr("src",d),!1;a+=M(this).find("amp-img").length})),S.Core.fire("loadedComponent",l,S.Core.currentPage,S.Core.$template,!1)),M("#amp-sandbox").remove())}),M(this).addClass("nodisplay")})),l.find("amp-youtube").length||l.find("amp-vimeo").length){var i=t._params.videoUrl;if(!i||-1==i.indexOf("youtu")&&-1==i.indexOf("vimeo"))return void(l.find("amp-vimeo").length?t._params.videoUrl="https://vimeo.com/"+l.find("amp-vimeo").attr("data-videoid"):t._params.videoUrl="https://www.youtube.com/watch?v="+l.find("amp-youtube").attr("data-videoid"));var u,n=l.find("amp-youtube").length?l.find("amp-youtube"):l.find("amp-vimeo"),h=l.find(".video-block"),d="",f=n.attr("layout"),p=n.attr("class"),m=M(n).attr("autoplay");if(-1!==i.indexOf("youtu"))""!=(u=(u=-1!==(u=-1!==i.indexOf("v=")?i.split("v=")[1]:"").indexOf("&")?u.split("&")[0]:u).split("&")[0])&&(d='<amp-youtube width="16" height="9" layout="'+f+'" data-videoid="'+u+'"',"undefined"!==(void 0===m?"undefined":k(m))&&!1!==m&&(d+=" autoplay",console.log("onLoadYoutubeAutoplay")),"undefined"!==(void 0===p?"undefined":k(p))&&!1!==p&&(d+=' class="'+p+'"'),d+="></amp-youtube>");else if(-1!==i.indexOf("vimeo")){try{u=i.match(/(videos|video|channels|\.com)\/([\d]+)/)[2]}catch(t){u=""}""!=u&&(d='<amp-vimeo width="16" height="9" layout="'+f+'" data-videoid="'+u+'"',"undefined"!==(void 0===m?"undefined":k(m))&&!1!==m&&(d+=" autoplay",console.log("onLoadVimeoAutoplay")),"undefined"!==(void 0===p?"undefined":k(p))&&!1!==p&&(d+=' class="'+p+'"'),d+="></amp-vimeo>")}h.prepend(d),n.remove()}if(l.find(".animated-text").length&&(i=l.find(".animated-text"),f=t._params.animatedText,i.text(f)),l.find(".amp-accordion").length){l.find(".accordion-item").each(function(){var t=M(this);M(this).find(".accordion-title").on("click",function(){l.find(".accordion-item-body").each(function(){M(this).attr("hidden",!0)}),t.find(".accordion-item-body").removeAttr("hidden"),l.find(".accordion-title .fa-plus").length&&(l.find(".fa-plus").each(function(){M(this).removeAttr("hidden")}),t.find(".fa-minus").removeAttr("hidden"),t.find(".fa-plus").attr("hidden",!0))})});for(var g=l.find(".accordion-item"),b=0;b<g.length;b++)M(g[b]).find(".accordion-item-body").attr("id","amp-accordion-item"+(b+1)+t._id),l.find(".accordion-title .fa-plus").length&&(M(g[b]).find(".fa-minus").attr("id","fa-minus"+(b+1)+t._id),M(g[b]).find(".fa-plus").attr("id","fa-plus"+(b+1)+t._id))}if(l.find(".img-with-overlay").length&&l.find(".img-with-overlay").each(function(){M(this).addClass("builder-overlay")}),l.find("amp-date-picker").length&&(m=(u=l.find("amp-date-picker")).find("input"),p="input-date"+t._id,u.attr("input-selector","."+p),m.removeClass("input-date").addClass(p)),l.find("amp-soundcloud").length&&l.find("amp-soundcloud").each(function(){var t;-1!==M(this).attr("data-color").indexOf("#")&&(t=M(this).attr("data-color").indexOf("#"),t=M(this).attr("data-color").substring(t+1),M(this).attr("data-color",t))}),l.find("div.placeholder").length&&l.find("div.placeholder").each(function(){var t=!1;M(this).parents().each(function(){"none"==M(this).css("display")&&(t=!0)}),M(this).parents().is(".is-builder")&&t&&M(this).css("display","none")}),c.find("section.slider-with-bullets").length){for(var h=M("<div>"),d=(h.html(t._customHTML),h.find(".slider-box")),n=h.find("amp-carousel"),v=M(n).clone().empty(),y=h.find("amp-carousel > *"),w=t._params.imagesAmount;y.length<w;)y.push(M(y[y.length-1]).clone().get(0));for(;y.length>w;)y.splice(-1,1);y.each(function(){v.append(M(this).clone())}),M(n).remove(),M(d).prepend(v),h.find(".dots span").each(function(){M(this).removeClass("current")}),h.find(".dots span").eq(0).addClass("current");for(var i=S.Core.getSecondaryComponent(t),_=(t._customHTML=h.html(),S.isSecondaryComponent(t)&&!i.isActualTemplate()&&(f=i.update().createElementFromTemplate(),S.Core.$window[0].rivets.unbind(c).bind(f,t),c.html(f),S.Core.fire("loadedComponent",t,S.Core.currentPage,S.Core.$template,!1)),l.find(".dots-wrapper span")),b=0;b<_.length;b++)M(_[b]).on("click",function(t){var e=l.find("amp-carousel .i-amphtml-slides-container > div"),t=(e.each(function(){M(this).addClass("hidden-slide").removeClass("visible-slide")}),_.index(t.target));M(e[t]).addClass("visible-slide").removeClass("hidden-slide"),_.each(function(){M(this).removeClass("current")}),M(this).addClass("current")})}c.find("section.carousel-with-preview").length&&(s=0,M.each(c.find("amp-carousel"),function(){for(var t=0;t<M(this).find("amp-img").length;t++,s++)M(M(this).find("amp-img")[t]).attr("src")!==M(c.find(".preview .preview-img img")[s]).attr("src")&&M(c.find(".preview .preview-img img")[s]).attr("src",M(M(this).find("amp-img")[t]).attr("src"))}))}),S.iconFonts)(S.iconFonts[t].root||S.iconFonts[t].addon_root)&&delete S.iconFonts[t];S.registerPlugin({name:"fontawesome",condition:!1,priority:900,iconfont:{family:"FontAwesome",title:"FontAwesome",prefix:"fa-",class:"fa",names:["glass","music","search","envelope-o","heart","star","star-o","user","film","th-large","th","th-list","check","remove","search-plus","search-minus","power-off","signal","gear","trash-o","home","file-o","clock-o","road","download","arrow-circle-o-down","arrow-circle-o-up","inbox","play-circle-o","rotate-right","refresh","list-alt","lock","flag","headphones","volume-off","volume-down","volume-up","qrcode","barcode","tag","tags","book","bookmark","print","camera","font","bold","italic","text-height","text-width","align-left","align-center","align-right","align-justify","list","dedent","indent","video-camera","photo","pencil","map-marker","adjust","tint","edit","share-square-o","check-square-o","arrows","step-backward","fast-backward","backward","play","pause","stop","forward","fast-forward","step-forward","eject","chevron-left","chevron-right","plus-circle","minus-circle","times-circle","check-circle","question-circle","info-circle","crosshairs","times-circle-o","check-circle-o","ban","arrow-left","arrow-right","arrow-up","arrow-down","mail-forward","expand","compress","plus","minus","asterisk","exclamation-circle","gift","leaf","fire","eye","eye-slash","warning","plane","calendar","random","comment","magnet","chevron-up","chevron-down","retweet","shopping-cart","folder","folder-open","arrows-v","arrows-h","bar-chart-o","twitter-square","facebook-square","camera-retro","key","gears","comments","thumbs-o-up","thumbs-o-down","star-half","heart-o","sign-out","linkedin-square","thumb-tack","external-link","sign-in","trophy","github-square","upload","lemon-o","phone","square-o","bookmark-o","phone-square","twitter","facebook-f","github","unlock","credit-card","feed","hdd-o","bullhorn","bell","certificate","hand-o-right","hand-o-left","hand-o-up","hand-o-down","arrow-circle-left","arrow-circle-right","arrow-circle-up","arrow-circle-down","globe","wrench","tasks","filter","briefcase","arrows-alt","group","chain","cloud","flask","cut","copy","paperclip","save","square","navicon","list-ul","list-ol","strikethrough","underline","table","magic","truck","pinterest","pinterest-square","google-plus-square","google-plus","money","caret-down","caret-up","caret-left","caret-right","columns","unsorted","sort-down","sort-up","envelope","linkedin","rotate-left","legal","dashboard","comment-o","comments-o","flash","sitemap","umbrella","paste","lightbulb-o","exchange","cloud-download","cloud-upload","user-md","stethoscope","suitcase","bell-o","coffee","cutlery","file-text-o","building-o","hospital-o","ambulance","medkit","fighter-jet","beer","h-square","plus-square","angle-double-left","angle-double-right","angle-double-up","angle-double-down","angle-left","angle-right","angle-up","angle-down","desktop","laptop","tablet","mobile-phone","circle-o","quote-left","quote-right","spinner","circle","mail-reply","github-alt","folder-o","folder-open-o","smile-o","frown-o","meh-o","gamepad","keyboard-o","flag-o","flag-checkered","terminal","code","mail-reply-all","star-half-empty","location-arrow","crop","code-fork","unlink","question","info","exclamation","superscript","subscript","eraser","puzzle-piece","microphone","microphone-slash","shield","calendar-o","fire-extinguisher","rocket","maxcdn","chevron-circle-left","chevron-circle-right","chevron-circle-up","chevron-circle-down","html5","css3","anchor","unlock-alt","bullseye","ellipsis-h","ellipsis-v","rss-square","play-circle","ticket","minus-square","minus-square-o","level-up","level-down","check-square","pencil-square","external-link-square","share-square","compass","toggle-down","toggle-up","toggle-right","euro","gbp","dollar","rupee","cny","ruble","won","bitcoin","file","file-text","sort-alpha-asc","sort-alpha-desc","sort-amount-asc","sort-amount-desc","sort-numeric-asc","sort-numeric-desc","thumbs-up","thumbs-down","youtube-square","youtube","xing","xing-square","youtube-play","dropbox","stack-overflow","instagram","flickr","adn","bitbucket","bitbucket-square","tumblr","tumblr-square","long-arrow-down","long-arrow-up","long-arrow-left","long-arrow-right","apple","windows","android","linux","dribbble","skype","foursquare","trello","female","male","gittip","sun-o","moon-o","archive","bug","vk","weibo","renren","pagelines","stack-exchange","arrow-circle-o-right","arrow-circle-o-left","toggle-left","dot-circle-o","wheelchair","vimeo-square","turkish-lira","plus-square-o","space-shuttle","slack","envelope-square","wordpress","openid","institution","mortar-board","yahoo","google","reddit","reddit-square","stumbleupon-circle","stumbleupon","delicious","digg","pied-piper-pp","pied-piper-alt","drupal","joomla","language","fax","building","child","paw","spoon","cube","cubes","behance","behance-square","steam","steam-square","recycle","automobile","cab","tree","spotify","deviantart","soundcloud","database","file-pdf-o","file-word-o","file-excel-o","file-powerpoint-o","file-photo-o","file-zip-o","file-sound-o","file-movie-o","file-code-o","vine","codepen","jsfiddle","life-bouy","circle-o-notch","ra","ge","git-square","git","y-combinator-square","tencent-weibo","qq","wechat","send","send-o","history","circle-thin","header","paragraph","sliders","share-alt","share-alt-square","bomb","soccer-ball-o","tty","binoculars","plug","slideshare","twitch","yelp","newspaper-o","wifi","calculator","paypal","google-wallet","cc-visa","cc-mastercard","cc-discover","cc-amex","cc-paypal","cc-stripe","bell-slash","bell-slash-o","trash","copyright","at","eyedropper","paint-brush","birthday-cake","area-chart","pie-chart","line-chart","lastfm","lastfm-square","toggle-off","toggle-on","bicycle","bus","ioxhost","angellist","cc","shekel","meanpath","buysellads","connectdevelop","dashcube","forumbee","leanpub","sellsy","shirtsinbulk","simplybuilt","skyatlas","cart-plus","cart-arrow-down","diamond","ship","user-secret","motorcycle","street-view","heartbeat","venus","mars","mercury","intersex","transgender-alt","venus-double","mars-double","venus-mars","mars-stroke","mars-stroke-v","mars-stroke-h","neuter","genderless","facebook-official","pinterest-p","whatsapp","server","user-plus","user-times","hotel","viacoin","train","subway","medium","pied-piper"]},files:["web/assets/fontawesome/css/font-awesome.css","web/assets/fontawesome/fonts/fontawesome-webfont.eot","web/assets/fontawesome/fonts/fontawesome-webfont.svg","web/assets/fontawesome/fonts/fontawesome-webfont.ttf","web/assets/fontawesome/fonts/fontawesome-webfont.woff"]}),S.on("runIconFontDialog",function(t){t.addClass("amp-icons-dialog")}),S.addFilter("allUsedPluginsForPage",function(t,e){return S.getPlugin("amp-bind")&&-1==t.indexOf("amp-bind")&&S.Core.resultJSON[e].components.some(function(t){return/<form.+?class=".*?mbr-form/.test(t._customHTML)})&&t.push("amp-bind"),S.getThemeSettings("isScrollToTopButton")||(!S.Core.resultJSON[e].components.some(function(t){return/<amp-animation/.test(t._customHTML)})&&t.includes("amp-animation")&&t.splice(t.indexOf("amp-animation"),1),!S.Core.resultJSON[e].components.some(function(t){return/<amp-position-observer/.test(t._customHTML)})&&t.includes("amp-position-observer")&&t.splice(t.indexOf("amp-position-observer"),1)),t}),S.addFilter("getPluginResource",function(t,e,n,i,r){return 0===e.indexOf("amp-")&&"js"===n&&r&&(t.js_head="<script async "+("amp-main"===e?"":"amp-mustache"===e?'custom-template="'+e+'"':'custom-element="'+e+'"')+' src="'+i+'"><\/script>\n  '),"amp-animation"!==e&&"amp-date-countdown"!==e||(!S.Core.$body.find("amp-animation").length&&"amp-animation"===e||!S.Core.$body.find("amp-date-countdown").length&&"amp-date-countdown"===e)&&(t.js_head=""),t}),S.addFilter("filterUserBlocks",function(t){return t.filter(function(t){return t.isAMP})}),S.addFilter("prepareAmpStyles",function(o,t){function e(t){return t.replace(/\/\*(?:(?!\*\/)[\s\S])*\*\/|[\r\n\t]+/g,"").replace(/ {2,}/g," ").replace(/ ([{:}]) /g,"$1").replace(/([;,]) /g,"$1").replace(/ !/g,"!")}var i=this,n=M.Deferred(),r=mbrApp.getPluginsFilesForPublish(),a=function(t){if(t){for(var e={},n=0;n<t.length;n++)e[t[n]]=!0;return Object.keys(e)}return[]},s=o.match(/<[^>]*>/g),l=(s&&s.length&&(s=s.filter(function(t){return-1===t.indexOf("app.8b.io")&&(-1!==t.indexOf("https")||-1!==t.indexOf("http"))}),o=s.join("")+"\n"),o=(o=(o+='<link rel="canonical" href="'+(S.projectSettings.publicUrl+("index.html"===t?"":t))+'">\n ')+"<style amp-boilerplate>body{-webkit-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-moz-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-ms-animation:-amp-start 8s steps(1,end) 0s 1 normal both;animation:-amp-start 8s steps(1,end) 0s 1 normal both}@-webkit-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-moz-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-ms-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-o-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}</style>\n"+"<noscript><style amp-boilerplate>body{-webkit-animation:none;-moz-animation:none;-ms-animation:none;animation:none}</style></noscript>\n").replace(/!important/g,""),[]),c="";return r.forEach(function(e){var n=M.Deferred();e.dest&&-1!==e.dest.indexOf("theme/css/style.css")?u.Bridge.loadLocalFile(e.src,function(t){t&&(c+=t),n.resolve()}):i.registeredAmpPlugins.length?i.registeredAmpPlugins.forEach(function(t){e&&e.src&&-1!==e.src.indexOf(".css")&&-1!==e.src.indexOf(t)?u.Bridge.loadLocalFile(e.src,function(t){t||n.resolve(),c+=t,n.resolve()}):n.resolve()}):n.resolve(),l.push(n.promise())}),M.when.apply(this,l).then(function(){5e4<(c=e(c)).length&&n.reject(new Error("Author stylesheet is larger than 50,000 bytes.")),i.additionalStyles=function(t){for(var e=t.match(/https.*?(?=[\)|\s])/g)||"",n=a(t.match(/https.*?(?=[\)|\s])/g)),i=0,r=e.length;i<r;i++)t=t.replace("@import url("+e[i]+");","");return n.forEach(function(t){o+='<link href="'+t+'" rel="stylesheet">\n '}),t}(i.additionalStyles),i.additionalStyles=e(i.additionalStyles),o=(o+="\n <style amp-custom> \n"+c+"\n"+i.additionalStyles+'\n[class*="-iconfont"]{display: inline-flex;}</style>\n ').replace(/!important/g,""),n.resolve(o)}),n.promise()}),S.addFilter("publishFiles",function(t){for(var e=0;e<t.length;){var n=t[e].dest;n.endsWith(".css")||n.endsWith(".js")&&!n.endsWith("sw.js")&&!n.endsWith("sw-toolbox.js")?t.splice(e,1):e++}return t}),S.addFilter("publishHTML",function(t){return t=S.isAMP()?t.replace("<html","<html amp"):t})}else mbrApp.addFilter("filterUserBlocks",function(t){return t.filter(function(t){return!t.isAMP})})}}})},["jQuery","mbrApp"])},function(t,e,n){"use strict";var d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},f=n(25);defineM("app-component-presets",function(c,u,t){function e(){var e=u.$body.find("#edit-component-params .preset-slider .block-presets .preset").length,n=u.$body.find("#edit-component-params .preset-slider"),i=u.$body.find("#edit-component-params .presets-wrapper"),t=250*e,r=0;i.find(".active-number").html(r+1+"/"+e),n.css({width:250,height:150}),n.find(".block-presets").css({width:t,height:150,marginLeft:-250}),n.find(".block-presets .preset:last-child").prependTo("#edit-component-params .preset-slider .block-presets"),n.find(".active-number").html(r+1+"/"+e),c(".preset-slider .sl-prev").click(function(t){t=t.target.closest("section[data-component-id]").getAttribute("data-component-id");/slider/gi.test(u.Core.getComponent(t)._name)&&u.Core.render(t),n.find(".block-presets .preset:last-child").prependTo("#edit-component-params .preset-slider .block-presets"),n.find(".block-presets").css("left",""),r=r-1<0?e-1:r-1,i.find(".active-number").html(r+1+"/"+e),n.find(".preset[data-id="+r+"]").click()}),c(".preset-slider .sl-next").click(function(t){t=t.target.closest("section[data-component-id]").getAttribute("data-component-id");/slider/gi.test(u.Core.getComponent(t)._name)&&u.Core.render(t),n.find(".block-presets .preset:first-child").appendTo("#edit-component-params .preset-slider .block-presets"),n.find(".block-presets").css("left",""),r=e-1<r+1?0:r+1,i.find(".active-number").html(r+1+"/"+e),n.find(".preset[data-id="+r+"]").click()})}function h(t){t=u.Core.getComponent(t);return{name:"default",params:function(t){if(t){for(var e in t){if("bg"===e)for(var n in t[e])"type"!==n&&"value"!==n&&delete t.bg[n];0===e.indexOf("uname__")&&delete t[e]}return t}}(c.extend(!0,{},t._params)),styles:c.extend(!0,{},t._styles)}}u.regExtension({name:"component-presets",global:{exBlockPreset:{},presetsLoading:!1,renderComponentPresets:function(o,a,s){var n=void 0,l=void 0,n=(l=!isNaN(parseFloat(o))&&isFinite(o)?(u.Core.getComponentParams(o),u.Core.getComponent(o)._name):a,u.getAddonDir(u.theme.name)+"/components/"+l+"/presets/list.json");return new Promise(function(e,r){u.components[l]&&!0!=!u.components[l].presets?f.Bridge.isExistsLocal(n,function(t){t&&f.Bridge.getLocalJSON(n,function(t){var n,i;t&&t.presets&&Array.isArray(t.presets)?(t.presets.forEach(function(t){t.params&&t.params.bg&&"image"===t.params.bg.type&&(t.params.bg.value=u.theme.pathCore+"/components/"+l+t.params.bg.value)}),u.exBlockPreset[l]?t.presets.forEach(function(e){u.exBlockPreset[l].presets.some(function(t){return e.name===t.name})||u.exBlockPreset[l].presets.push(e)}):u.exBlockPreset[l]=t,e({id:o,name:a,count:t.presets.length,template:'<div class="block-presets">\n\t\t\t\t\t\t\t\t\t\t\t\t\t'+(t=u.exBlockPreset[l].presets,n=l,i="","default"!==t[0].name?t.unshift(h(o)):t[0]=h(o),t.map(function(t,e){0===e&&s||(0!==e||s?t.type&&"fromProject"===t.type?i+='<div class="preset" data-id="'+e+'">\n\t\t\t\t\t\t\t\t\t\t\t<img src="'+t.skin+'">\n\t\t\t\t\t\t\t\t\t\t</div>':i+='<div class="preset" data-id="'+e+'">\n\t\t\t\t\t\t\t\t\t\t<img src="'+f.Bridge.path2app(u.getAddonDir(u.DEFAULT_THEME))+"/components/"+n+"/presets/"+t.skin+'">\n\t\t\t\t\t\t\t\t\t</div>':i+='<div class="preset default" data-id="0">\n\t\t\t\t\t\t\t\t\t\t\t<div style="padding: 5px;">Current Layout</div>\n\t\t\t\t\t\t\t\t\t\t\t<img src="'+f.Bridge.path2app(u.getAddonDir(u.DEFAULT_THEME))+"/components/"+l+'/thumb.png">\n\t\t\t\t\t\t\t\t\t\t</div>')}),i)+"\n\t\t\t\t\t\t\t\t\t\t\t\t  </div>"})):r()},function(t){e("")})}):e(!1)})}},events:{load:function(){var l=this;l.$body.on("click",".block-presets > .preset",function(a){a.preventDefault();var s=c('<div class="preloader no-select" style="background-color: rgba(255,255,255,.8)"></div>').html('<div class="preloader-wrapper">\n                                    \t\t<div style="transform: scale(0.35);">\n\t\t\t                                    <svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 300 300" width="200" height="200">\n\t\t\t    \t\t\t\t\t\t\t\t\t<circle fill="none" stroke="#008B8B" stroke-width="3" stroke-dasharray="230" stroke-dashoffset="230" cx="150" cy="150" r="145">\n\t\t\t        \t\t\t\t\t\t\t\t\t<animate attributeType="CSS" attributeName="stroke-dashoffset" from="900" to="0" dur="3s" repeatCount="indefinite"></animate>\n\t\t\t    \t\t\t\t\t\t\t\t\t</circle>\n\t\t\t    \t\t\t\t\t\t\t\t\t<circle fill="none" stroke="#008B8B" stroke-width="3" stroke-dasharray="212" cx="150" cy="150" r="135">\n\t\t\t        \t\t\t\t\t\t\t\t\t<animate attributeType="CSS" attributeName="stroke-dashoffset" from="850" to="0" dur="1.5s" repeatCount="indefinite"></animate>\n\t\t\t    \t\t\t\t\t\t\t\t\t</circle>\n\t\t\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>');c(s).addClass("comp-preloading"),c(a.target).closest(".preset-slider").prepend(s),setTimeout(function(){var t=c(a.target).closest("section").attr("data-component-id"),e=u.Core.getComponent(t),n=c(a.target).closest(".preset").attr("data-id"),i=c(a.target).closest(".preset").hasClass("default"),r=void 0,o=void 0;l.presetsLoading=!0,o=i?(r=c.extend(!0,{},u.exBlockPreset[e._name].presets[0].params),c.extend({},u.exBlockPreset[e._name].presets[0].styles)):(r=c.extend(!0,{},u.exBlockPreset[e._name].presets[+n].params),c.extend({},u.exBlockPreset[e._name].presets[+n].styles)),r=function(t,e){var n,i=u.Core.getComponent(t),r=u.Core.getComponentParams(t).default,o=u.Core.getComponentParams(t).current;for(n in e.bg&&"object"===d(e.bg)&&r.bg&&(t=r.bg.default[e.bg.type].sourceProp,i.usersParams)&&i.usersParams[t]&&(e.bg.value=i.usersParams[t]),c.extend(!0,e,i.usersParams),e)e[n]===o[n]&&delete e[n];return e}(t,r),u.Core.changeComponentParamsObj(t,r),s.remove(),e._styles=c.extend({},e._defaultStyles,o),u.Core.renderComponentsStyles(),u.fire("presetSwitched",t),l.presetsLoading=!1},50)}),u.on("presetsReady",function(){e()}),u.Core.on("changedComponentParams",function(t,e,n){l.presetsLoading||(t=u.Core.getComponent(t))&&(t.usersParams=t.usersParams||{},t.usersParams[e]=n)})}}})},["jQuery","mbrApp","TR()"])},function(t,e,n){"use strict";defineM("app-logging",function(n,t,e){t.regExtension({name:"logging",global:{stagingElement:n("<div class='staging'>").appendTo(".preloader .logo.top"),stagingStartTime:new Date,stagingMessage:["..."],stagingTime:[new Date],stagingDuration:[],staging:function(t,e){this.stagingMessage.push(t),this.stagingTime.push(new Date);var n=(new Date-(this.stagingTime[this.stagingTime.length-2]||this.stagingStartTime))/1e3;this.stagingDuration.push(n),this.stagingElement.html(t),console.log("logging:",t,(new Date-this.stagingStartTime)/1e3),e&&e()}},events:{bridgeInit:function(){n(".preloader .painter").css({width:"45%",transition:"width 2.4s"}),this.addFilter("loadComponentsHTML",function(t){return this.staging("prepare Components Palette"),t})},addonLoaded:function(t,e){n(".preloader .painter").css({width:"70%",transition:"width 1.1s"}),this.staging("loading ...",function(){})},addonLoadFinish:function(t){n(".preloader .painter").css({width:"100%",transition:"width 1.5s"})},beforeCoreLoad:function(){},coreLoad:function(){t.on("loadedComponentTemplates",function(){this.staging("init Components Palette")}),this.addFilter("loadComponents",function(t){return this.staging("loadComponents"),t})},load:function(){},loaded:function(){this.staging("loaded",function(){n(".preloader .painter").css({width:"100%",transition:"width 0s"})})}}})},["jQuery","mbrApp","TR()"])},function(t,e,n){"use strict";defineM("app-plugin-form-editor",function(d,f,p,a,m){function g(t){return""==t||n(t)||v(t)}function o(e,t,n,i){var r,o,a,s,l=n[e.attr("mbr-form")]||{},c="true"===n._params.usedRecaptcha;e.find('a[type="submit"]').each(function(){d(this).replaceWith(this.outerHTML.replace(/(<\/?)a(\W)/gi,"$1button$2"))}),v(l.action)?(u=h=!0,r=n.title?n.title.replace(/(<([^>]+)>)/gi,""):l.title||"UNTITLED FORM",o=e.attr("data-rcpha_secretKey"),s=e.attr("data-rcpha_siteKey"),a=e.attr("data-rcpha_label"),e.attr("data-rcpha")&&"true"===a&&(y=!1),e.find("[data-form-email]").length||(e.prepend('<input type="hidden" name="email" data-form-email="true">'),f.isAMP()||(e.attr("data-rcpha")&&e.attr("data-rcpha_siteKey")&&o?(e.prepend('<input type="hidden" name="g-recaptcha-response" data-form-captcha="true" value="'+e.attr("data-rcpha_siteKey")+'">'),f.registerPlugin("recaptcha-input-"+s,{name:"recaptcha-input-"+s,priority:3500,condition:"_params.usedRecaptcha=true",files:["https://www.google.com/recaptcha/api.js?render="+s]})):(f.getPlugin("recaptcha-input-"+s)||{}).condition=!1),f.isAMP()&&(e.attr("data-rcpha")&&e.attr("data-rcpha_siteKey")&&o?(e.prepend('<amp-recaptcha-input layout="nodisplay" name="recaptcha_token" data-sitekey="'+e.attr("data-rcpha_siteKey")+'" data-action="recaptcha_example"></amp-recaptcha-input>'),n._plugins=n._plugins+",amp-recaptcha-input"):n._plugins&&(n._plugins=n._plugins.replace(",amp-recaptcha-input",""))),e.removeAttr("data-rcpha data-rcpha_secretKey data-rcpha_siteKey data-rcpha_label data-verified")),a={email:l.action},o&&c&&(a.captcha=o),i&&(a.licenseKey=i),e.find("[data-form-email]").val(b(JSON.stringify(a))),e.attr("data-form-title",r).parent().attr("data-form-type","formoid"),d.each(l.fields,function(t){e.find("[name='"+t+'\']:not([data-form-email="true"])').attr("data-form-field",this.title)})):(l.action&&e.attr("action",l.action),(s=t.find("form")).removeAttr("data-rcpha_sitekey"),s.removeAttr("data-rcpha_secretkey"),s.removeAttr("data-rcpha"),t.find("[data-form-email], [data-form-alert]").remove())}(e=new JSEncrypt).setPublicKey(FORMOID_PUBLIC_KEY);var e,u,h,b=function(t){return t.match(/(^$|[\s\S]{64}|[\s\S]{1,63}$)/g).map(function(t){return e.encrypt(t)}).join(".")},v=function(t){return/^((([a-z]|\d|[!#$%&\'*+\-\/=?\^_`{|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#$%&\'*+\-\/=?\^_`{|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i.test(t)},n=function(t){return/^(?:http(s)?:\/\/)?[\w.-]+(?:\.[\w\.-]+)+[\w\-\._~:/?#[\]@!\$&'\(\)\*\+,;=.]+$/gm.test(t)},y=!0;f.regExtension({name:"plugin-form-editor",global:{formbuilderBuyer:{}},events:{coreLoad:function(){f.Core.$window[0].rivets.binders.form={routine:function(t,e){}}},load:function(){f.Core.$body.on("click","[mbr-form] input, [mbr-form] textarea, [mbr-form] select",function(t){t.preventDefault(),t.stopPropagation(),d(this).keyup(function(t){this.value=""});var i,r,e,o,a,n,s,l=d(this).parents("[mbr-form]"),c=l.parents("[data-app-component-id]:eq(0)").attr("data-app-component-id"),u=f.Core.getComponent(c),h=l.attr("mbr-form");void 0!==u[h]&&(i=u[h],r=c,o="",o+="<h4>"+p("Form Fields")+"</h4><hr>",d.each(i.fields,function(t){var e,n;"hidden"!==this.type&&(e=(t=d('<div>   <div class="row">       <div class="togglebutton col-md-4">           <label class="checkbox-inline">               <input type="checkbox" name="visible" checked onchange="               jQuery(this).parents(\'.row\').find(\'[type=\\\'text\\\']\').prop(\'disabled\', !this.checked);               "><span class="toggle"></span> <b></b>           </label>       </div>       <div class="col-md-8">           <input type="text" name="title" class="form-control" placeholder="">       </div>   </div></div>').find(".row").attr("field",t).end().find("b").text(this.title).end()).find('[type="checkbox"]'),n=t.find('[type="text"]').attr("value",this.customTitle),"visible"in this?this.visible||(n.prop("disabled",!0),e.removeAttr("checked")):(e.remove(),t.find(".toggle").remove()),"type"in this&&(/text|tel|password|number|url|textarea|email/.test(this.type)||n.prop("disabled",!0)),o+=t.html())}),o+="<h4>"+p("Form Options")+"</h4><hr>",t=i.verify&&i.verify.status,o=(o+=d('<div>\n               <div class="row">\n                   <div class="col-md-3">\n                       <b>'+p("Notification Email or Action URL")+'</b>\n                   </div>\n                   <div class="col-md-9 wrapper">\n                       <div style="display:flex;align-items:center;">\n                           <input type="text" name="action" class="form-control" placeholder="">\n                           <button id="verifyBtn" class="btn btn-primary" '+(!v(i.action)||t?"disabled":"")+">"+p(t?"Verified":"Verify")+'</button>\n                       </div>\n                       <span class="help-block" style="display:none">'+p("Please enter a valid email address or URL")+"</span>\n                   </div>\n               </div>\n            </div>").find('[name="action"]').attr("value",i.action).end().html())+d('<div>   <div class="row" alert="success"'+(v(i.action)?"":' style="display:none"')+'>       <div class="col-md-3">           <b>'+p("Success Message")+'</b>       </div>       <div class="col-md-9">           <textarea name="message" class="form-control" style="height:55px;" placeholder=""></textarea>       </div>   </div></div>').find('[name="message"]').text(i.alerts.success).end().html(),a=d.Deferred(),t=f.showDialog({title:"",className:"note-air-layout form-settings-dialog",body:"<form>"+o+"</form>",cancel:function(){},successLabel:"Save",success:function(){var t=d(this).find('[name="action"]'),n={action:t.val(),alerts:{},fields:{}};if(!g(n.action))return t.keyup(),!1;d(this).find("[alert]").each(function(){n.alerts[d(this).attr("alert")]=d(this).find('[name="message"]').val()}),d(this).find("[field]").each(function(){var t=d(this).attr("field"),e=d(this).find('[name="visible"]').prop("checked");n.fields[t]={customTitle:d(this).find('[name="title"]').val()},void 0!==e&&(n.fields[t].visible=e)}),a.resolve(n)},id:"form-editor"}),n=t.find("#verifyBtn"),e=n,s=function(t){t?(e.attr("disabled",!1),e.text(""+p("Verify"))):(e.attr("disabled",!0),e.text(""+p("Verified")))},t.find('[name="action"]').keyup(function(){g(this.value)?(d(this).closest(".wrapper").removeClass("has-error").find(".help-block").hide(),d(this).parents("form:eq(0)").find("[alert]")[v(this.value)?"show":"hide"]()):d(this).closest(".wrapper").addClass("has-error").find(".help-block").show(),v(this.value)&&this.value!==i.verify.action?s(!0):s(!1)}),n.click(function(t){t.preventDefault();var n=d(this).parent().find('[name="action"]')[0].value;n&&v(n)&&(f.showPreloader(),m.http("https://formoid.net/api/register",{method:"POST",data:n?JSON.stringify({email:n}):"",success:function(e){try{e=JSON.parse(e)}catch(t){return console.error(t,e),void f.hidePreloader()}e.error?f.alertDlg(e.error):(e=f.Core.getComponent(r),r&&e._customHTML&&(e._customHTML=e._customHTML.replace("<form action",'<form data-verified="'+n+'" action'),f.fire("formoidSucces")),s(!1),f.alertDlg(p("Email verified")),d.extend(!0,i,{verify:{action:n,status:!0}})),f.hidePreloader()},error:function(t){console.log(t),f.hidePreloader()}}))}),f.fire("formeditorOpen",t,r),a.done(function(t){u[h].verify&&u[h].verify.action!==t.action&&(u[h].verify.action=t.action,u[h].verify.status=!1),d.extend(!0,u[h],t),f.Core.updateGlobalComponents(c),f.fire("formoidSucces",c,h,u[h],l)}),f.fire("showedPopup"))}),f.Core.addFilter("getResultComponent",function(t){return t.then(function(e,n,i){var t=e.find("[mbr-form]").attr("mbr-form"),r=n[t]||null,o=d.Deferred();return r&&r.action&&v(r.action)?f.formbuilderBuyer[r.action]?o.resolve(e,n,i,f.formbuilderBuyer[r.action]):(a.get("storage/formbuilder?email="+r.action).then(function(t){f.formbuilderBuyer[r.action]=t.key,o.resolve(e,n,i,t.key)},function(t){o.resolve(e,n,i)}),o):o.resolve(e,n,i)}).then(function(t,e,n,i){var r=t.find("[mbr-form]");return r.length&&o(r,t,e,i),d.Deferred().resolve(t,e,n)})}),f.Core.addFilter("resultHTMLforEditor",function(t,e){var n=t.find("[mbr-form]");return n.length&&o(n,t,e),t}),f.on("runPublish",function(){u=!1}),f.on("formoidSucces",function(){f.runSaveProject(!1,!0)}),f.addFilter("allUsedPlugins",function(t){return u&&this.getPlugin("Formoid")&&-1==t.indexOf("Formoid")?t.push("Formoid"):u&&this.getPlugin("formoid")&&-1==t.indexOf("formoid")&&t.push("formoid"),u&&y&&this.getPlugin("formoid-css")&&-1==t.indexOf("formoid-css")&&t.push("formoid-css"),t}),f.addFilter("allUsedPluginsForPage",function(t){return h&&this.getPlugin("Formoid")&&-1==t.indexOf("Formoid")?t.push("Formoid"):h&&this.getPlugin("formoid")&&-1==t.indexOf("formoid")&&t.push("formoid"),h&&y&&this.getPlugin("formoid-css")&&-1==t.indexOf("formoid-css")&&t.push("formoid-css"),h=!(y=!0),t})}}})},["jQuery","mbrApp","TR()","mbrServer","Bridge"])},function(t,e,n){"use strict";defineM("app-plugin-help-info",function(t,e,n){var i=t('\n        <p class="app-help-info">\n            '+n("This is the site editor. Click any text or image to edit it. Select a text to insert a link. Click the 'gear' $gearIcon$ to change the section's layout and settings. Click the 'plus' $plusIcon$ to add a new section. Use the 'menu' $menuIcon$ to publish site, change the site style and settings, create new pages and sites.").replace("$gearIcon$",'<span class="app-btn mbr-icon-setting"></span>').replace("$plusIcon$",'<span class="app-btn mbr-icon-plus"></span>').replace("$menuIcon$",'<span class="app-btn mbr-icon-menu"></span>')+"\n        </p>\n    "),r=void 0;function o(){e.Core.$document.scrollTop()>r+30&&(i.remove(),e.Core.$window.off("scroll",o))}e.regExtension({name:"plugin-help-info",events:{createdProject:function(){e.Core.$body.find(".browser-template-wrap").before(i),r=i.outerHeight(),e.Core.$window.on("scroll",o)}}})},["jQuery","mbrApp","TR()"])},function(t,e,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};defineM(function(o,a,t){function s(t,e){if(!(this instanceof s))throw new TypeError("Cannot call a class as a function");this.type="custom",this.name=e,this.customThumb=a.theme.path+"/projects/"+a.projectSettings.sourceProject+"/"+o(t._customHTML).attr("custom-thumb"),this._group=o(t._customHTML).attr("group"),this.styles=t._styles,this.html=t._customHTML,this._once=t._once,this._global=t._global}var l={};a.regExtension({name:"aws-app-project-components",events:{load:function(){a.on("loadProjectCore",function(e,t){if(a.projectSettings.developerProject){if(l={},e&&"object"===r(e.pages)){var n,i=function(t){var i=0,r=[];e.pages[t].components&&e.pages[t].components.map(function(t){var e,n;!(n=t)._customHTML||-1===n._customHTML.indexOf("custom-thumb")||a.components[t._name]||(e=o(t._customHTML).attr("custom-thumb").split("/").pop(),r.some(function(t){return t===e}))||(r.push(e),n=void 0,n=-1!==t._name.indexOf("-custom-")?t._name.slice(0,t._name.length-1)+i:t._name+"-custom-"+i,l[n]=new s(t,n),i++)})};for(n in e.pages)i(n)}a.projectComponents=l}}),a.addFilter("addProjectsComponents",function(t){return o.extend(!0,t,l)}),a.addFilter("customThumb",function(t,e){return"custom"===e.type?e.customThumb:t})},loadedProject:function(){for(var t in a.$componentsLayer.removeAttr("data-pallete-inited"),a.components)"ProjectsComponent"===a.components[t].constructor.name&&delete a.components[t]}}})},["jQuery","mbrApp","TR()"])},function(t,e,n){"use strict";defineM(function(i,r,t){r.regExtension({name:"aws-app-project-components-presets",events:{load:function(){r.addFilter("publishProjectSettings",function(t){return t.developerProject&&delete t.developerProject,t}),r.Core.addFilter("cleanHTMLplease",function(t,e){return t.find("[custom-thumb]").removeAttr("custom-thumb"),t})},loadedProject:function(){r.$componentsLayer.removeAttr("data-pallete-inited"),r.exBlockPreset={},r.projectSettings.developerProject&&r.on("beforeRenderComponentPresets",function(t){if(r.Core.resultJSON)for(var e in r.Core.resultJSON)r.Core.resultJSON[e].components&&r.Core.resultJSON[e].components.map(function(t){var e,n;(n=t)._customHTML&&-1!==n._customHTML.indexOf("custom-thumb")&&(e=i(t._customHTML).attr("custom-thumb").split("/").pop(),r.exBlockPreset[t._name]||(r.exBlockPreset[t._name]={presets:[]}),r.exBlockPreset[t._name].presets.some(function(t){return t.name===e})||r.exBlockPreset[t._name].presets.push({type:"fromProject",name:e,skin:r.theme.path+"/projects/"+r.projectSettings.sourceProject.toLowerCase()+"/"+i(t._customHTML).attr("custom-thumb"),params:i.extend(!0,{},t._params),styles:i.extend(!0,{},t._styles)}))})})}}})},["jQuery","mbrApp","TR()"])},function(t,e,n){"use strict";var c=n(25);defineM("app-plugin-iconfont-svg",function(s,l,t){l.regExtension({name:"iconfont-svg",events:{registeredPlugin:function(t){t.iconfont&&(t.iconfont.addon_root=t.addon_root||null,t.iconfont.root=t.root||null)},loaded:function(){"secondary"!=!l.Core.theme.type&&l.isAMP()&&(l.addFilter("svgFontFilter",function(t){return t=t&&Array.isArray(t)?t.filter(function(t){return!t.iconfont}):t}),l.Core.addFilter("getResultComponent",function(t){return t.then(function(t,e,n){var i=s.Deferred(),o=[],a=l.iconFonts;return t.find("[class*=-iconfont]").each(function(t,e){var i=s.Deferred(),n=l.extractIconFont(e),r=void 0;o.push(i.promise()),a[n.family]&&n&&(s(e).hasClass("mbr-iconfont")||s(e).hasClass("amp-iconfont"))?(r=a[n.family].addon_root&&!a[n.family].root?a[n.family].addon_root+"/"+a[n.family].plugin+"/svg/"+n.name+".svg":a[n.family].root?a[n.family].root+"/"+n.family+"/svg/"+n.name+".svg":"web/assets/"+a[n.family].plugin+"/svg/"+(n.classPrefix+n.name)+".svg",l.isAMP()&&s(e).removeAttr("style"),c.Bridge.loadLocalFile(r,function(t){var n=void 0;s(t).each(function(t,e){e.nodeName&&"svg"===e.nodeName&&(s(e).find("title").remove(),n=e)}),n&&(s(n).attr("fill","currentColor"),s(n).attr("width","100%"),s(n).attr("height","100%"),s(e).html(n.outerHTML)),i.resolve()})):i.resolve()}),s.when.apply(this,o).then(function(){i.resolve(t,e,n)}),i.promise()})}))}}})},["jQuery","mbrApp","TR()"])},function(t,e,n){"use strict";var _=function(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t};function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},M=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n,i=arguments[e];for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},S=n(25);defineM("app-plugin-whois",function(s,l,c,o){var e="https://api.whois.vu/?q=",n="mobirisesite.com",u=["mx","txt"],r=null,a="",i=function(t,e){var n=((e=e||{}).method||"GET").toUpperCase();function i(){return console.log("Token updating..."),o.getAuthToken().then(function(t){return a=t.access_token})}function r(){return fetch(t,{method:n,headers:M(e.headers||{},{Authorization:"bearer "+a,"Content-type":e.contentType,"Access-Control-Allow-Origin":"*"}),body:e.data})}return"POST"!=n&&"PUT"!=n||(e.contentType="application/json","data"in e&&(e.data=JSON.stringify(e.data))),Promise.resolve().then(function(){if(!a)return i()}).then(r).catch(function(t){if("TokenExpired"==t.type)return i().then(r);throw t}).then(function(t){if(t.status<200||299<t.status)throw new Error(""+t.statusText);return t.json()})},h=!1;function d(t){var e=l.$body.find(".app-layer-common");h=t,e&&(e.find(".domains-wrapper").html(m()),e.find(".domains-template__input").each(function(t,e){s(e).off().on("focus",b)}))}function f(t){return i(e+t)}function p(t,i){return f(t).then(function(t){try{var e=JSON.parse(t).whois.match(/Name Server: .*/g);return e?e.map(n).reduce(r,[]):""}catch(t){return console.error(t.message),""}},function(t){console.error(t.message)}).then(function(t){var n="";return t?(t.forEach(function(t,e){n+='<div class="col-md-12">\n                                        <div class="col-md-6">\n                                            <input name="name" type="text" value="'+t.toLowerCase()+'" class="form-control" readonly>\n                                        </div>\n                                        <div class="col-md-6">\n                                            <input name="name" type="text" value="'+(i?i[e]:"ns"+((e+1)%2==0?2:1)+".mobirisesite.com")+'" class="form-control domain-readonly" readonly>\n                                            '+(e<2?'<span class="domain-copy">'+c("Copy")+"</span>":"")+"\n                                            "+(1<e?'<span class="domain-remove">'+c("Remove")+"</span>":"")+"\n                                        </div>\n                                      </div>"}),n):'<div class="col-md-12">\n                                    <div class="col-md-6">\n                                        <input name="name" type="text" value="your nameserver" class="form-control" readonly>\n                                    </div>\n                                    <div class="col-md-6">\n                                        <input name="name" type="text" value="'+i[0]+'" class="form-control domain-readonly" readonly>\n                                        <span class="domain-copy">'+c("Copy")+'</span>\n                                    </div>\n                                </div>\n                                <div class="col-md-12">\n                                    <div class="col-md-6">\n                                        <input name="name" type="text" value="your nameserver" class="form-control" readonly>\n                                    </div>\n                                    <div class="col-md-6">\n                                        <input name="name" type="text" value="'+i[1]+'" class="form-control domain-readonly" readonly>\n                                        <span class="domain-copy">'+c("Copy")+"</span>\n                                    </div>\n                                </div>"},function(t){console.error(t.message)});function n(t,e,n){return t.replace("Name Server: ","")}function r(t,e){return 0===t.filter(function(t){return t.toLowerCase()===e.toLowerCase()}).length&&t.push(e),t}}function m(){var t;if(1<l.projectSettings.domains.length){var e=void 0;switch(l.projectSettings.domains[1].status.type){case"info":e="pending";break;case"error":e="error";break;case"success":e="connected";break;default:console.warn("invalid status")}return'<div class="domains-template">\n                        <div class="wrapper col-md-12">\n                            <div class="wrapper__row">\n                                <span class="domains-template__protocol">https://</span>\n                                <input class="form-control domains-template__input" id="userDomain" type="text" value="'+l.projectSettings.domains[1].name+'" readonly/>\n                                <span title="'+l.projectSettings.domains[1].status.description+'" class="domains-template__status '+("pending"===e?"warn":"error"===e?"danger":"")+'">\n                                    '+("pending"===e?'<span id="domainInfo">Pending connection...</span>':"connected"===e?"Connected":"")+'\n                                </span>\n                            </div>\n                            <button class="btn btn-primary" type="button" id="dnsManagerButton"><i class="mbr-icon-cog" style="vertical-align:middle;"></i></button>\n                            <button class="btn btn-warning" type="button" id="domainRemoveButton">'+c("Disconnect")+"</button>\n                        </div>\n                    </div>"}return t=void 0,null!==r&&r.length&&((t=r.filter(function(t){return!t.siteId&&"active"===t.status.toLowerCase()}).map(function(t){return t.name})).getTemplate=function(){return t.reduce(function(t,e){return t+'<option value="'+e+'">'},'<datalist id="mydomains">')+"</datalist>"}),'<div class="domains-template">\n                        <div class="wrapper row">\n                            <div class="wrapper__row col-12">\n                                <div class="d-flex" style="display:flex; align-items: center;">\n                                    <span class="domains-template__protocol">https://</span>\n                                    <input class="domains-template__input form-control" style="margin-right: 15px;" id="userDomain" type="text" '+(t?'list="mydomains"':"")+' placeholder="yourdomain.com"/>\n                                    '+(t?t.getTemplate():"")+'\n                                    <button class="btn btn-primary '+(!0===h?"loading":"")+'" type="button" id="domainConnectButton" '+(!0===h?"disabled":"")+">"+c("Connect")+'</button>\n                                </div>\n                            </div>\n                            <div class="col-12">\n                                <span id="userDomainStatus" class="domains-template__status col-md-12"></span>\n                            </div>\n                        </div>\n                        <div class="wrapper basic row">\n                            <div class="wrapper__row col-12">\n                                <div class="d-flex" style="display:flex; align-items: center;">\n                                    <input style="padding-left:0;" class="domains-template__input form-control" id="newDomain" type="text" value="'+l.projectSettings.domains[0].name.match(/^[A-Za-z0-9-]+/gm)+'"/>\n                                    <span class="col-md-7 domains-template-label">.mobirisesite.com</span>\n                                    <button class="w-100 btn btn-primary" type="button" id="domainChangeButton">'+c("Change")+'</button>\n                                </div>\n                            </div>\n                            <div class="col-12">\n                                <span class="domains-template__status col-md-12"></span>\n                            </div>\n                        </div>\n                    </div>'}function g(o){l.showDialog({title:c("Connect domain"),className:"domain-settings-modal",buttons:{success:{label:c("OK"),default:!0,className:"iconfont-ok",callback:function(){}}},body:['<div class="row wrapper"><div class="col-md-12">\n                    '+l.preloaderHTML+'\n                    <div class="form-group row">\n                        <span class="col-md-12 control-label">\n                            '+c("1. Log into your domain ")+'<span id="registratorUrl"></span><br>\n                            '+c("2. Go to your domain's DNS / name server settings.")+"<br>\n                            "+c("3. Replace your current name servers with the Mobirise name servers shown below.")+'<br>\n                        </span>\n                        <div class="user-domains col-md-12"></div>\n                        <span class="col-md-12 control-label">\n                            '+c("4. After your nameservers change it may take from 20 minutes to 48 hours for your domain to be visible online.")+"<br>\n                        </span>\n                    </div>\n                </div></div>"].join("\n"),create:function(){l.infoUsrDomain(l.projectSettings.id).then(function(t){l.projectSettings.domains=t.domains;var e=s.Deferred(),n=s.Deferred(),i=void 0,r=(((t||{}).domains[1]||{}).requiredDnsRecords[1]||{}).values,i=i||l.projectSettings.domains[1].requiredDnsRecords[0].values;p(o,i).then(function(t){return t=t,e=l.projectSettings.domains[1].name,n=r,s.isEmptyObject(n)?t:t+('<div class="cname-wrapper col-md-12">\n                    <div class="col-md-12 cname-wrapper__title">\n                        <span>'+c("DNS SETTINGS"))+':</span>\n                    </div>\n                    <div class="col-md-12">\n                        <div class="col-md-5 cname-wrapper__domain">\n                            <span>'+e+'</span>\n                        </div>\n                        <div class="col-md-2 cname-wrapper__slash">\n                            <span>CNAME</span>\n                        </div>\n                        <div class="col-md-5 cname-wrapper__cname">\n                            <span>'+n+"</span>\n                        </div>\n                    </div>\n                </div>";var e,n}).then(function(t){l.$body.find(".domain-settings-modal .user-domains").html(t),n.resolve()},function(t){console.error(t.message),n.resolve()}),f(o).then(function(t){try{var e=JSON.parse(t).whois.match(/Registrar URL: .*/);return e?e[0].replace("Registrar URL: ",""):""}catch(t){return console.error(t.message),""}},function(t){console.error(t.message)}).then(function(t){t?l.$body.find("#registratorUrl").html('<a href="'+t+'" target="_blank"> '+c("provider's account")+"</a> ("+t.replace(/https?:\/\//gi,"").split("/")[0].replace("www.","")+")"):l.$body.find("#registratorUrl").html(""+c("provider's account")),e.resolve()},function(t){console.error(t.message),e.resolve()}),s.when(e,n).then(function(t){l.$body.find(".domain-settings-modal .preloader").hide()},function(t){bootbox.alert(t.message)})},function(t){throw new Error(t)})}})}function b(){l.$body.find(".app-layer-common").find(".domains-template__status").each(function(t,e){s(e).html("").removeClass("danger")}),l.$body.find(".app-layer-common").find(".domains-template__input").each(function(t,e){s(e).removeClass("err")})}t.prototype.getMyOwnDomains=function(){var e=[];return Promise.resolve().then(function(){return S.Bridge._REST("me/sites").then(function(t){if(t.items.length)return t.items.forEach(function(t){t.domains&&t.domains.length<2||e.push(new y(t))}),e})}).catch(function(t){return console.error(t),e})},t.prototype.api={request:function(t){return S.Bridge._REST(t)},get:function(t){return S.Bridge._REST(t,{method:"GET"})},post:function(t){var e=t.path,t=t.data;return S.Bridge._REST(e,{method:"POST",data:void 0===t?{}:t})},put:function(t){return S.Bridge._REST(t,{method:"PUT"})},delete:function(t){return S.Bridge._REST(t,{method:"DELETE"})}},t.prototype.getDomainInfo=function(){return this.data&&this.data.domains&&this.data.domains[0]?this.data.domains[0]:null},t.prototype.getCustomDomainInfo=function(){return this.data&&this.data.domains&&this.data.domains[1]?this.data.domains[1]:null},t.prototype.getDomainStatus=function(){var t=this.getCustomDomainInfo();return t&&t.status?"..."===t.status.description.slice(-3)?t.status.description:t.status.description+"...":"Connecting..."},t.prototype.onLoaded=function(){this.isLoading=!1,s("#app-project-sidebar").length&&(s(this.sidebarHTML).empty().html(this.getSidebarTemplate()),s(this.sidebarHTML).find("#pending-overlay").hide()),l.fire("domainManagerLoaded")},t.prototype.onLoad=function(){this.isLoading=!0},t.prototype.syncDomainData=function(){var i=this;if(l.projectSettings.mbrsite)return this.onLoad(),new Promise(function(n,e){i.api.get("/me/sites").then(function(t){t.items.map(function(t){var e;t.id===l.projectSettings.id&&(e=t.domains[1]||null,i.data=t,i.siteId=t.id,i.isConnected=!!e,i.isConnected&&(i.subdomain=l.getSubdomain(e.name)),i.isConnected&&"Deployed"===e.status.name&&(i.isReady=!0,l.fire("CustomDomainConnected")),i.onLoaded(),n(t))})}).catch(function(t){i.onLoaded(),e(t)})});this.onLoaded()},t.prototype.checkPublishTemplate=function(t){var e,n,i,r=this;this.getCustomDomainInfo()&&(e=t.find(".mbrsite-publish-settings .publishBody"),(n=t.find(".mbrsite-publish-settings .publishBody .row")).addClass("custom-domain-publish-row"),!1!==this.isConnected)&&(i=void 0,this.isReady?(i=this.getCustomDomainInfo().name,n.find('[class^="col-"]').hide(),n.append('\n                    <div class="custom-domain-publish-wrap">\n                        <span class="control-label">https://</span>\n                        <input id="custom-domain" type="text" class="form-control" value="'+(i||"")+'" disabled>\n                        <button id="custom-dmn-settings" class="btn btn-primary" style="display: flex;"><i class="mbr-icon-cog"></i></button>\n                    </div>\n                ')):(this.isReady||this.syncDomainData(),n.find('[class^="col-"]').hide(),n.append('<div class="custom-domain-publish-wrap">'+l.preloaderHTML+"</div>"),setTimeout(function(){i=r.getCustomDomainInfo().name,n.find(".custom-domain-publish-wrap").remove(),r.isReady?n.append('\n                        <div class="custom-domain-publish-wrap">\n                            <span>https://</span>\n                            <input id="custom-domain" type="text" class="form-control" value="'+(i||"")+'" disabled>\n                            <button id="custom-dmn-settings" class="btn btn-primary" style="display: flex;"><i class="mbr-icon-cog"></i></button>\n                        </div>\n                    '):(n.find('[class^="col-"]').show(),e.append('<div class="custom-dmn__pending" data-domain="'+i+'">Domain '+i+" pending connection...</div>"))},3e3)))},t.prototype.getSidebarTemplate=function(){return this.isConnected?this.isConnected&&!this.isReady?'<div class="row">\n                                <label class="control-label col" for="site-settings-domain">'+c("Site Domain")+'</label>\n                            </div>\n                            <div class="row">\n                                <div class="custom-domain" style="justify-content: center;">\n                                    <div style="padding-right: 5px;display: flex;justify-content: center;">\n                                        <span class="control-label" style="padding-right: 10px;">https://</span>\n                                        <input id="custom-domain" type="text" class="form-control" value="'+(this.getCustomDomainInfo().name||"")+'" disabled>\n                                    </div>\n                                </div>\n                                <div class="custom-domain__status">\n                                    <span id="domainHelp">'+this.getDomainStatus()+'</span>\n                                </div>\n                            </div>\n                            <div class="mbrsite-buttons form-row">\n                                <div class="col">\n                                    <a href="#" class="disconnnect-domain btn btn-danger w-100">'+c("Cancel")+'</a>\n                                </div>\n                                <div class="col">\n                                    <a href="#" class="custom-dmn-recheck btn btn-primary w-100">'+c("Recheck")+"</a>\n                                </div>\n                            </div>":this.isConnected&&this.isReady?'<div class="row">\n                                <label class="control-label col" for="site-settings-domain">'+c("Site Domain")+'</label>\n                            </div>\n                            <div class="row">\n                                <div class="custom-domain" style="justify-content: center;">\n                                    <div style="display: flex;flex-direction: row;justify-content: center;">\n                                        <div style="padding-right: 5px;display: flex;justify-content: center;">\n                                            <span class="control-label" style="padding-right: 10px;">https://</span>\n                                            <input id="custom-domain" type="text" class="form-control" value="'+(this.getCustomDomainInfo().name||"")+'" disabled>\n                                        </div>\n                                        '+(this.subdomain?"":'<button id="custom-dmn-settings" class="btn btn-primary" style="display: flex;"><i class="mbr-icon-cog"></i></button>')+'\n                                    </div>\n                                    <div class="custom-domain__status">\n                                        <span id="domainHelp" class="deployed">Deployed</span>\n                                    </div>\n                                </div>\n                            </div>\n                            <div class="mbrsite-buttons form-row">\n                                <div class="col">\n                                    <a href="#" class="disconnnect-domain btn btn-danger w-100">'+c("Disconnect")+'</a>\n                                </div>\n                                <div class="col">\n                                    <a href="#" class="custom-dmn-open btn btn-primary w-100">'+c("Open in Browser")+"</a>\n                                </div>\n                            </div>":void 0:'<div class="row">\n                                <label class="control-label col" for="site-settings-domain">'+c("Site Domain")+'</label>\n                            </div>\n                            <div class="row" style="justify-content: center;padding-bottom: 10px;">\n                                <div style="display:flex;flex-direction:row;">\n                                    <div style="padding-right: 5px;">\n                                        <span class="control-label">https://</span>\n                                        <input id="custom-domain" type="text" placeholder="yourdomain.com" class="form-control">\n                                    </div>\n                                    <button id="connect-custom-btn" class="btn btn-primary">'+c("Connect")+'</button>\n                                </div>\n                            </div>\n                            <div class="row">\n                                <div class="col">\n                                    <input name="mbrsiteDomain" id="site-settings-domain" type="text" '+(this.getDomainInfo()?'placeholder="'+l.getSubdomain(this.getDomainInfo().name)+'"':'value="'+l.getUID(10).toLowerCase()+'"')+' class="mbrsite-domain form-control">\n                                    <label class="control-label">.'+n+'</label>\n                                    <button class="btn btn-info mbrsite-change-domain-btn pull-right" data-tooltipster="bottom" title="'+c("OK")+'">\n                                        <i class="mbr-icon-check"></i>\n                                    </button>\n                                </div>\n                            </div>\n                            <div class="row">\n                                <div class="col-md-12">\n                                    <small class="mbrsite-input-status col-12"></small>\n                                </div>\n                            </div>\n                            '+(this.getDomainInfo()?'<div class="mbrsite-buttons form-row">\n                                        <div class="col">\n                                            <a href="#" class="mbrsite-delete btn btn-danger w-100">'+c("Remove Domain")+'</a>\n                                        </div>\n                                        <div class="col">\n                                            <a href="#" class="mbrsite-open btn btn-primary w-100 if-custom-connected">'+c("Open in Browser")+"</a>\n                                        </div>\n                                    </div>":'<div class="mbrsite-buttons form-row">\n                                        <div class="col">\n                                            <a href="#" id="publish-default-btn" class="mbrsite-open btn btn-primary w-100 if-custom-connected">'+c("Publish")+"</a>\n                                        </div>\n                                    </div>")},t.prototype.connectCustomDomain=function(t){var i=this,e=(this.onLoad(),void 0),r=void 0;if("object"===(void 0===t?"undefined":x(t))?(e=t.closest(".mbrsite-domain-control"),r=e.find("input#custom-domain").val(),this.sidebarHTML||(this.sidebarHTML=e)):"string"==typeof t&&(r=t),/^(([a-zA-Z]{1})|([a-zA-Z]{1}[a-zA-Z]{1})|([a-zA-Z]{1}[0-9]{1})|([0-9]{1}[a-zA-Z]{1})|([a-zA-Z0-9][-_\.a-zA-Z0-9]{1,61}[a-zA-Z0-9]))\.([a-zA-Z]{2,13}|[a-zA-Z0-9-]{2,30}\.[a-zA-Z]{2,3})$/gi.test(r))return new Promise(function(e,n){i.syncDomainData().then(function(t){return i.api.post({path:"/sites/"+i.siteId+"/domains",data:JSON.stringify({name:r})}).then(function(t){i.requiredDnsRecords=t.requiredDnsRecords,i.data.domains[1]=t,i.isConnected=!0,i.subdomain=l.getSubdomain(t.name),i.onLoaded(),bootbox.hideAll(),l.$body.find("#app-project-sidebar .app-layer-close").trigger("click"),g(t.name),e(t)})}).catch(function(t){return n(t),i.onLoaded()})});throw this.onLoaded(),l.alertDlg(c("Invalid domain name")),new Error("Invalid domain name")},t.prototype.getRequiredDns=function(){var e=this;return this.api.get({path:"/sites/"+this.siteId+"/domains"}).then(function(t){t.forEach(function(t){t=t.requiredDnsRecords;t&&Array.isArray(t)&&t.length&&(e.requiredDnsRecords=t)})}).catch(function(t){e.onLoaded(),reject(t)})},t.prototype.detachCustomDomain=function(){var i=this;return this.onLoad(),new Promise(function(e,n){i.api.delete("/sites/"+i.siteId+"/domains/"+i.getCustomDomainInfo().id).then(function(t){i.data.domains=[i.data.domains[0]],i.isConnected=!1,i.isReady=!1,i.onLoaded(),l.alertDlg(c("Domain successfully detached")),e(t)}).catch(function(t){i.onLoaded(),n(t)})})};var v=t;function t(){this.data,this.siteId,this.sidebarHTML,this.publishHTML,this.isConnected,this.isReady,this.isLoading,this.requiredDnsRecords,this.subdomain,Object.defineProperty(this,"isLoading",{set:function(t){t?s(this.sidebarHTML).prepend(l.preloaderHTML):s(this.sidebarHTML).find("div.preloader").remove()}})}_(w,[{key:"getDNSRecords",value:function(){return this.customDmn?S.Bridge._REST("/sites/"+this.siteId+"/domains/"+this.customDmn.id+"/records"):Promise.reject(new Error("Custom domain not exist"))}},{key:"deleteDNSRecord",value:function(t){return this.customDmn?S.Bridge._REST("/sites/"+this.siteId+"/domains/"+this.customDmn.id+"/records/"+t,{method:"DELETE"}):Promise.reject(new Error("Custom domain not exist"))}},{key:"setDNSRecords",value:function(t){return this.customDmn?S.Bridge._REST("/sites/"+this.siteId+"/domains/"+this.customDmn.id+"/records",{method:"POST",data:t}):Promise.reject(new Error("Custom domain not exist"))}},{key:"buildNsConstructor",value:function(o){var a=this;if(!Array.isArray(this.records))throw new Error("Invalid NS records");var e,n,i="",t=(u.forEach(function(t){switch(t){case"mx":i+='\n                <div class="ns-form__body" name="mx">\n                    <div class="ns-item">\n                        <label class="">Mail server</label>\n                        <div class="ns-input">\n                            <input name="exchange">\n                        </div>\n                    </div>\n                    <div class="ns-item">\n                        <label class="">Priority</label>\n                        <div class="ns-input">\n                            <input name="priority" placeholder="0 - 65535">\n                        </div>\n                    </div>\n                    <div class="ns-item">\n                        <label class="">TTL</label>\n                        <div class="ns-input">\n                            <input name="ttl">\n                        </div>\n                    </div>\n                </div>';break;case"txt":i+='\n                <div class="ns-form__body" name="txt">\n                    <div class="ns-item">\n                        <label class="">TTL</label>\n                        <div class="ns-input">\n                            <input name="ttl">\n                        </div>\n                    </div>\n                    <div class="ns-item">\n                        <label class="">Content</label>\n                        <div class="ns-input">\n                            <input name="data">\n                        </div>\n                    </div>\n                </div>'}}),s('\n                    <div class="ns-module">\n                        <div class="row ns-module__wrapper">\n                            <div class="ns-module__addbutton">\n                                <button type="button" class="btn btn-success">Add record</button>\n                            </div>\n                            <div class="ns-module__form">\n                                <div class="ns-module__form-body">\n                                    <form name="txt" class="ns-form">\n                                        <div class="ns-form__select">\n                                            <label class="">Type</label>\n                                            <div class="ns-input">\n                                                '+(e=e||u[0],n='<select name="type" class="ns-type-select">',u.forEach(function(t){n+='\n                        <option value="'+t+'" '+(t===e?"selected":"")+">\n                            "+t.toUpperCase()+"\n                        </option>\n                    "}),n)+'</select>\n                                            </div>\n                                        </div>\n                                        <div class="ns-form__body-wrapper">\n                                            '+i+'\n                                        </div>\n                                    </form>\n                                </div>\n                                <div class="ns-module__footer">\n                                    <button type="button" class="btn btn-default ns-module__cancel">Cancel</button>\n                                    <button type="button" class="btn btn-info ns-module__save">Save</button>\n                                </div>\n                            </div>\n                        </div>\n                    </div>'));function r(n,t){n=n||u[0],s(t).find('select.ns-type-select option[value="'+n+'"]').prop("selected",!0),s(t).find(".ns-form__body-wrapper .ns-form__body").each(function(t,e){s(e).attr("name")===n?s(e).show():s(e).hide()})}o.empty(),o.append(t),o.find(".ns-module__addbutton form").on("click",function(t){}),o.find(".ns-module__addbutton > button").on("click",function(t){o.find(".ns-module__form").toggleClass("open"),r(null,o)}),o.find("button.ns-module__cancel").on("click",function(t){o.find(".ns-module__form").toggleClass("open",!1)}),o.find("button.ns-module__save").on("click",function(t){var n,e=s(a.html).find(".preloader"),i=(e.show(),o.find(".ns-form__body-wrapper")),r=o.find("select.ns-type-select").val();r&&(i.find(".ns-form__body").each(function(t,e){s(e).attr("name")!==r&&s(e).remove()}),n={},i=o.find("form.ns-form").serializeArray(),s(i).each(function(t,e){n[e.name]=e.value}),n.name||(n.name=a.customDmn.name),a.setDNSRecords(JSON.stringify(n)).then(function(t){return a.getDNSRecords().then(function(t){a.records=t,a.buildNsTable(s(a.html).find("#nsrecord .nsrecord__table")),a.buildNsConstructor(o),e.hide()})}).catch(function(t){a.buildNsConstructor(o),e.hide(),console.log(t),l.alertDlg(t.message)}))}),o.find("select.ns-type-select").on("click",function(t){r(s(t.target).val(),o)})}},{key:"buildNsTable",value:function(t){var a=this,e=(this.records.sort(function(t,e){return t.type<e.type?-1:t.type>e.type?1:0}),this.records.reduce(function(t,e){var n="";return"A"===e.type&&(e.data=e.address),"SRV"===e.type?t:t+(n+='\n                    <tr data-id="'+e.id+'">\n                        <td name="type">'+e.type+'</td>\n                        <td name="name">'+e.name+"</td>\n                        "+(/MX/i.test(e.type)?'<td name="data" class="mx">\n                                <span class="priority">\n                                    '+e.priority+'\n                                </span>\n                                <span class="mserver">\n                                    '+e.exchange+"\n                                </span>\n                               </td>":'<td name="data">'+e.data+"</td>")+'\n                        <td name="ttl">'+e.ttl+"</td>\n                        "+(u.includes(e.type.toLowerCase())?'<td class="rm">\n                                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M14.3 3.625L12.375 1.7 8 6.075 3.625 1.7 1.7 3.625 6.075 8 1.7 12.375 3.625 14.3 8 9.925l4.375 4.375 1.925-1.925L9.925 8 14.3 3.625z"></path></svg>\n                               </td>':"<td></td>")+"\n                    </tr>\n                ")},""));t.empty(),t.append('<table id="Table" class="Table">\n                        <thead>\n                            <tr>\n                                <th>Type</th>\n                                <th>Name</th>\n                                <th>Value</th>\n                                <th>TTL</th>\n                                <th></th>\n                            </tr>\n                        </thead>\n                        <tbody>\n                            '+e+"\n                        </tbody>\n                    </table> "),t.find("td.rm").on("click",function(t){var e=s(t.target).closest("tr"),n=e.attr("data-id"),i=e.find('td[name="type"]').text(),r=e.find('td[name="name"]').text(),o=(e.find('td[name="ttl"]').text(),e.find('td[name="data"]').text());bootbox.confirm({title:c("Are you sure you want to delete this record?"),message:e.clone(),className:"remove-ns",buttons:{confirm:{label:c("Delete"),className:"btn-warning"},cancel:{label:c("Cancel"),className:"btn-default"}},callback:function(t){t&&r&&i&&o&&a.deleteDNSRecord(n).then(function(t){e.remove()}).catch(function(t){l.alertDlg(c("Internal server error."))})}})})}},{key:"buildNsWindow",value:function(){var i=this;return l.showDialog({title:""+c("DNS management"),className:"domain-manager__ns-editor",body:'<div class="row">\n                            <div class="col-md-12">\n                                <div class="form-group clearfix">\n                                    <div class="row">\n                                        <div class="col-md-12" id="nsrecord" class="nsrecord">\n                                            '+l.preloaderHTML+'\n                                            <div class="nsrecord__add-new"></div>\n                                            <div class="nsrecord__table"></div>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>',create:function(e){var n=s(e).find(".preloader");i.getDNSRecords().then(function(t){i.records=t,n.hide(),i.buildNsConstructor(s(e).find("#nsrecord .nsrecord__add-new")),i.buildNsTable(s(e).find("#nsrecord .nsrecord__table"))}).catch(function(t){console.error(t),bootbox.hideAll(),l.alertDlg(t.message),n.hide()})},cancel:function(t){}})}},{key:"onClick",value:function(){this.html=this.buildNsWindow()}}]);var y=w;function w(t){if(!(this instanceof w))throw new TypeError("Cannot call a class as a function");this.siteId=t.id,this.defaultDmn=t.domains?t.domains[0]:null,this.customDmn=t.domains?t.domains[1]:null,this.name=t.domains?this.customDmn.name:null,this.type="connected",this.html,this.records=null}l.regExtension({name:"plugin-whois",global:{filterCustomDomain:function(t,e,n){n=n||l.projectSettings.domains;return 1<n.length&&"success"===n[1].status.type?e?"https://"+n[1].name+"/":n[1].name:t},getPublicDomain:function(){var t;return S.Bridge.args.external?l.projectSettings.publicUrl:1<(t=l.projectSettings.domains||[]).length&&"success"===t[1].status.type?"https://"+t[1].name+"/":"https://"+t[0].name+"/"},withSubdomain:function(t){return t+"."+n}},events:{load:function(){var i=this;new CustomEvent("updateDomainsList");l.addFilter("sidebarProjectSettings",function(t){var e={title:"Common",name:"common",html:'<div class="form-group domain col-md-12">\n                                    <label class="control-label">Domain</label>\n                                    <div class="domains-wrapper">\n                                        '+m()+"\n                                    </div>\n                                </div>"};return t.push(e),t}),i.$body.on("click","#connectDomain",function(t){bootbox.hideAll(),s(".preview-close").click(),l.openProjectSettings(l.projectPath+"/project.mobirise"),l.fire("selectBasicDomain")}),i.$body.on("click","#domainConnectButton",function(t){l.isPremiumUser().then(function(t){if(!l.projectHasLicense()&&!t)throw l.goToBuyPremium(),new Error("Premium plan required")}).then(function(){function t(t){l.domainManager||(l.domainManager=new v),l.domainManager.syncDomainData().then(function(){return l.domainManager.connectCustomDomain(t)}).catch(function(t){"FeatureNotAvailable"===t.type&&l.goToBuyPremium()})}var e=s("#userDomain").val();if(l.projectSettings.mbrsite)return t(e);var n=l.getPublicDomain();i.publish(!1,n,function(){return l.projectSettings.mbrsite!==n&&(l.projectSettings.mbrsite=n,l.runSaveProject(null,!0)),t(e)})})}),i.$body.on("click","#domainChangeButton",function(t){var e=l.$body.find(".app-layer-common").find("#newDomain"),n=s(t.target),i=n.closest(".wrapper").find(".domains-template__status");n.addClass("loading").prop("disabled",!0),l.changeUsrDomain(e.val()).then(function(t){l.projectSettings.domains[0]=t,l.projectSettings.publicUrl="https://"+t.name+"/",l.projectSettings.mbrsite="https://"+t.name+"/",l.runSaveProject(),l.Core.$body.find(".browser-chrome .address-bar-url").text(t.name),n.removeClass("loading").prop("disabled",!1),i.html(c("Changed")),e.addClass("success"),setTimeout(function(){i.html(""),e.removeClass("success")},1500),l.fire("userDomainChanged",e.val())},function(t){n.removeClass("loading").prop("disabled",!1),e.addClass("err"),i.addClass("danger").html(t.message)})}),i.$body.on("click","#domainRemoveButton",function(t){var e=s(t.target);bootbox.confirm(c("Do you really want to disconnect this domain?"),function(t){t&&(e.addClass("loading").prop("disabled",!0),l.deleteUsrDomain(l.projectSettings.id).then(function(t){l.infoUsrDomain(l.projectSettings.id).then(function(t){l.projectSettings.domains=t.domains,d(!1),l.Core.$body.find(".browser-chrome .address-bar-url").text(t.domains[0].name),l.$body.find("#app-project-sidebar .app-layer-close").trigger("click")}),l.fire("domainDisconnected")},function(t){throw bootbox.alert(c("Something went wrong. Domain disconnecting issue.")),e.removeClass("loading").prop("disabled",!1),new Error(t)}))})}),i.$body.on("click","#domainInfo",function(t){g(s(t.target).closest(".domains-template").find("#userDomain").val())}),i.$body.on("click",".domain-settings-modal .domain-copy",function(t){s(t.target).siblings("input.domain-readonly").select(),document.execCommand("copy"),s(t.target).addClass("copied").text(c("Copied")),setTimeout(function(){s(t.target).text("Copy").removeClass("copied"),window.getSelection?window.getSelection().removeAllRanges():document.selection&&document.selection.empty()},500)}),l.on(["showProjectSettings","showProjectsList"],function(t){1<l.projectSettings.domains.length&&l.infoUsrDomain(l.projectSettings.id).then(function(t){1<l.projectSettings.domains.length&&1<t.domains.length&&l.projectSettings.domains[1].status.type!==t.domains[1].status.type&&(l.projectSettings.domains=t.domains,l.$body.find(".app-layer-common").length)&&(d(!0),l.Core.$body.find(".browser-chrome .address-bar-url").text(t.domains[1].name))})}),l.on("shownProjectSettings",function(t){s(t.target).find(".domains-template__input").each(function(t,e){s(e).off().on("focus",b)})}),l.on("selectBasicDomain",function(t){l.$body.find(".app-layer-common .domains-template").addClass("selected")})},loadedProject:function(){var n,i=this;S.Bridge.args.external||(l.domainManager=new v,l.projectSettings.publicUrl=l.getPublicDomain(),l.domainManager.syncDomainData(),n=l.projectSettings.domains[1]||null,l.domainManager.getMyOwnDomains().then(function(t){t&&n&&t.forEach(function(t,e){!t.name&&t.customDmn.name!==n.name||i.$body.on("click","#custom-dmn-settings, #dnsManagerButton",t.onClick.bind(t))}),r=t}))}}})},["jQuery","mbrApp","TR()","mbrServer"])},function(t,e,n){"use strict";var d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};defineM("app-plugin-history",function(i,a,s){var l="hidden-do",c="disabled-do no-events",n=[{event:"saveMediaImageDialog",text:s("Image")},{event:"saveMediaVideoDialog",text:s("Video")},{event:"addedComponent",text:s("Add Block")},{event:"removedComponent",text:s("Remove Block")},{event:"changedComponentPosition",text:s("Block Position")},{event:"changedComponentParams",text:s("Block Params")},{event:"convertedComponentToCustomHTML",text:s("Block to HTML")},{event:"renderedCodeEditorChanges",text:s("Code Editor")},{event:"rivetsBlur",text:s("Text Type")},{event:"saveMediaIconFontDialog",text:s("Icon")},{event:"setComponentHTML",text:s("Change Component")}];function r(t){return!!t.pages}function o(t){var e,n,i,r,o;a.$undoButton&&a.$redoButton&&(a.$undoButton.removeClass(c),a.$redoButton.removeClass(c),t=t||a.Core.currentPage,n=(e=a.Core.history).pages?e.pages[t]:{},i=a.$body.find(".app-undo").find("a"),e&&n&&n.items&&0!==n.items.length?(r=s("Undo"),o=s("Redo"),n.curItem+1<n.items.length&&(r=r+" "+e.pages[t].items[n.curItem].action),0<n.curItem&&(o=o+" "+e.pages[t].items[n.curItem-1].action),a.$undoButton.hasClass("tooltipstered")&&(a.$undoButton.tooltipster("content",r),a.$redoButton.tooltipster("content",o)),n.curItem<=0?a.$redoButton.addClass(c):"true"===a.appSettings.showRedo&&a.$redoButton.show(600),n.curItem+1>=n.items.length?a.$undoButton.addClass(c):i.removeClass(l)):(a.$undoButton.addClass(c),a.$redoButton.addClass(c)))}function u(t,e,n){var n=n||a.Core.currentPage,t=t[n],i=(a.Core.history||(a.Core.history={},a.Core.history.pages={}),a.Core.history),i=(i.pages||(i.pages={}),i.pages[n]||(i.pages[n]={},i.pages[n].curItem=0,i.pages[n].items=[]),i.pages[n]);(0===i.items.length||0<i.items.length&&!function t(e,n){for(var i in e){if("function"==typeof e[i])break;if(e.hasOwnProperty(i)!==n.hasOwnProperty(i))return;switch(d(e[i])){case"object":if(t(e[i],n[i]))break;return;case"function":if(void 0===n[i]||"compare"!=i&&e[i].toString()!=n[i].toString())return;break;default:if(e[i]!=n[i])return}}for(var r in n)if(void 0===e[r])return;return 1}(t,i.items[0].state))&&(0<i.curItem&&(i.items.splice(0,i.curItem),i.curItem=0),i.items.unshift({state:t,action:e.text,event:e.event})),o()}function h(t,e){var n=e.Core.currentPage;e.Core.resultJSON[n]=i.extend(!0,{},t.state),e.calulateComponentParams(),e.Core.render(),o()}a.regExtension({name:"history",global:{$undoButton:null,$redoButton:null},events:{switchedPage:function(){a.Core.history&&a.Core.history.pages&&a.Core.history.pages[a.Core.currentPage]?o():u(i.extend(!0,{},a.Core.resultJSON),"load page")},load:function(){a.Core.history={curItem:0,items:[]};var t=i("<li>"),e=i("<li>");a.$undoButton=t,a.$redoButton=e,t.addClass("app-undo").attr({"data-tooltipster":"bottom",title:s("Undo")}).html('<a href="javascript:void(0)" class="'+l+'"><i class="mbr-icon-undo"></i></a>'),e.addClass("app-redo").attr({"data-tooltipster":"bottom",title:s("Redo")}).html('<a href="javascript:void(0)"><i class="mbr-icon-redo"></i></a>'),a.$body.find(".app-publish").parent().prepend(e),a.$body.find(".app-publish").parent().prepend(t),a.$redoButton.hide(),n.forEach(function(e){a.Core.on(e.event,function(t){u(i.extend(!0,{},a.Core.resultJSON),e)})}),a.Core.on("changedPageSettings",function(t){"order"!==t&&u(i.extend(!0,{},a.Core.resultJSON),{event:"changedPageSettings",text:s("Page Settings")})}),a.Core.on("projectLoaded",function(){var t;(t=a.Core.history).curItem=0,t.items=[],t.pages={},o()}),a.$body.find(".navbar-right").on("click",".app-undo",function(t){var e,n,i;n=(e=a).Core.currentPage,i=e.Core.history,n=i.pages[n],!r(i)||n.items.length<=n.curItem+1||(n.curItem+=1,h(n.items[n.curItem],e))}),a.$body.find(".navbar-right").on("click",".app-redo",function(t){var e,n,i;n=(e=a).Core.currentPage,i=e.Core.history,n=i.pages[n],r(i)&&0!==n.curItem&&(--n.curItem,h(n.items[n.curItem],e))})}}})},["jQuery","mbrApp","TR()"])},function(t,e,n){"use strict";defineM("user-licenses",function(i,r,h,t){n.prototype.renderLicenses=function(){var t,e,n,i,r,o=this,a=this.state.data;return a.length&&(t={type:"subscription",data:a.filter(s("subscription"))},e={type:"theme",data:a.filter(s("theme"))},n={type:"plugin",data:a.filter(s("plugin"))},i={type:"site_plan",data:a.filter(s("site_plan"))},r={type:"archive",data:a.filter(s(null,!0))},t.data.forEach(function(e){r.data=r.data.filter(function(t){return t.items[0].name!==e.items[0].name})}),""+l(t)+l(e)+l(n)+l(i)+l(r))||'<span class="user-licenses-wrap__nolicense">'+h("No active licenses")+"</span>";function s(i,r){return function(t){var e=t.items[0]&&t.items[0].expiredDate,n=+new Date;return!!e&&(r?1e3*e<n:t.items[0].type===i&&n<=1e3*e)}}function l(t){if(!t.data.length)return"";switch(t.type){case"subscription":return"\n                            <label>"+h("Kits")+"</label>\n                            "+c(t.data);case"theme":return"\n                            <label>"+h("Themes")+"</label>\n                            "+c(t.data);case"plugin":return"\n                            <label>"+h("Extensions")+"</label>\n                            "+c(t.data);case"site_plan":return"\n                            <label>"+h("Sites")+"</label>\n                            "+c(t.data);case"archive":return'\n                            <label class="collapsed" data-toggle="collapse" href="#archiveList">\n                                <span style="margin-right: 5px">'+h("Expired")+'</span>\n                                <span class="user-license__expired-icon mbr-icon-angle-right"></span>\n                            </label>\n                            <div class="collapse" id="archiveList">\n                                '+c(t.data)+"\n                            </div>";default:return""}}function c(t){var i={year:"numeric",month:"long",day:"numeric"};return t.reduce(function(t,n){return t+n.items.map(function(e){return'<div id="license-'+n.id+'" class="user-license">\n                            <div>\n                                <span>'+("subscription"===e.type?e.paymentTitle:e.title)+"</span>\n                                "+("site_plan"===e.type?'<span class="user-license__domain"><a href="javascript:void(0)" dataHref="'+u(o.state.sites.items.find(function(t){return t.id===e.params.site.id}))+'">'+u(o.state.sites.items.find(function(t){return t.id===e.params.site.id}))+"</a></span>":"")+'\n                            </div>\n                            <div>\n                                <span class="user-license__expiration '+((t=e.expiredDate)&&+new Date+6048e5>1e3*t?"expires":"")+'">\n                                    '+new Date(1e3*e.expiredDate).toLocaleDateString("en-US",i)+"\n                                </span>\n                            </div>\n                        </div>";var t})},"")}function u(t){return t&&t.domains?t.domains[t.domains.length-1].name:""}},n.prototype.getPlansLicenses=function(){return this.state.data.filter(function(t){return"site_plan"===t.items[0].type})},n.prototype.show=function(){var n=this;r.showDialog({title:h("User Licenses"),className:"app-user-licenses",body:'<div class="row"><div id="user-licenses-wrap" class="col-md-12"></div></div>',show:function(e){n.state.modal=e,r.fire("showUserLicenses",e),n.state.loading=!0,n.state.modal.find("#user-licenses-wrap").html(r.preloaderHTML),n.serverSync().then(function(){return n.getUserSites()}).then(function(t){return n.state.sites=t,n.renderLicenses()}).then(function(t){e.find("#user-licenses-wrap").html(t),e.find("a[dataHref]").each(function(t,e){i(e).click(function(t){r.openUrl("https://"+i(e).attr("dataHref"))})})})},hide:function(){n.state.shown=!1,n.state.modal=null}}),this.state.shown=!0},n.prototype.close=function(){this.state.shown&&this.state.modal&&(this.state.shown=!1,this.state.modal.remove(),this.state.modal=null)},n.prototype.serverSync=function(){var e=this,n=i.Deferred();return t.licenses().then(function(t){e.state.data=t,n.resolve(t)},function(t,e){n.reject(t),r.handleServerError(t,e)}),n},n.prototype.getUserSites=function(){var e=i.Deferred();return r.domainManager?(r.domainManager.api.get("/me/sites").then(function(t){e.resolve(t)}),e):e.resolve([])};var e=n;function n(){this.state={shown:!1,modal:null,loading:!1,data:[],sites:[]}}r.regExtension({name:"user-licenses",global:{userLicenses:new e},events:{initAccountSettings:function(t){t.find("#app-settings-btn").after('<div class="hover-block" id="app-user-licenses"><label>'+h("Licenses")+"</label></div>")},load:function(){i("#app-user-licenses").click(function(){r.userLicenses.show()})},loaded:function(){r.userLicenses.serverSync()}}})},["jQuery","mbrApp","TR()","mbrServer"])},function(t,e,n){"use strict";defineM("app-plugin-help",function(r,o,a,s,l){o.regExtension({name:"help",global:{helpBtn:".helpme-block",helpLoginMsg:a("Please sign up/login to contact us or get the access to public forums"),showHelp:function(e){o.checkSign(function(t){var n,i;t&&((n=o.getUserInfo())&&n.email?(e=e||{},i=o.showDialog({title:a("Help"),className:"help-dialog",body:"<p>"+a("Please visit %Help Center% or %Forums% before contacting us.").replace(/%(.[^%]+)%/,' <b><a class="link-help" href="https://mobirise.com/help/">$1</a></b>').replace(/%(.[^%]+)%/,'<b><a class="link-forum" href="http://forums.mobirise.com">$1</a></b>')+'</p><a class="btn btn-help" href="https://mobirise.com/help/">'+a("Visit Help Center")+'</a><a class="btn btn-primary link-forum" href="http://forums.mobirise.com">'+a("Visit Forums")+"</a><br/><br/><h4>"+a("Send us a message")+"</h4><span>"+a("From")+':</span><input class="form-control email" disabled="disabled" value="email@email.com" style="margin-bottom: 10px"></input><span>'+a("Message")+':</span><textarea rows="4" class="form-control" placeholder="'+a("Please explain in details what happened and what steps we can take to reproduce the problem.")+'"></textarea>',buttons:{send:{label:a("SEND"),default:!0,callback:function(){var e=i.find("textarea").val();if(!e||e.length<100)return o.alertDlg(a("Your message is too short. Please add more details")),!1;e+="\n--------------\n",o.getAddonsListAsText(function(t){e=(e=(e+=l.appName+" "+l.version+"\n")+"Platform: "+l.getPlatform()+", "+window.navigator.userAgent+"\nAddons: "+t)+"Data location: "+l.dataLocation,s.sendMessage("support",e).then(function(){o.alertDlg(a("Your message has been successfully sent!")+"<br/> "+a("We will reply to your email $userEmail$ shortly.").replace("$userEmail$","<b>"+n.email+"</b>")).on("hidden.bs.modal",function(){i.hide()})},function(t,e){o.alertDlg(t),o.handleServerError(t,e)})})}}},show:function(t){t.find("textarea").val(e.message||""),t.find(".link-forum").attr("href","javascript:void(0)").click(function(){s.url("forum").then(function(t){o.openUrl(t)},function(t,e){o.alertDlg(t),o.handleServerError(t,e)})}),t.find(".link-help, .btn-help").click(function(t){t.preventDefault(),o.openUrl("https://mobirise.com/help/")}),t.find(".email").val(n.email),t.on("shown.bs.modal",function(){r(this).find("textarea").focus()}),t.on("hidden.bs.modal",function(){r(this).data("modal",null),e.onhide&&e.onhide(),r(this).remove()}),o.fire("showedHelp")}})):console.log("Error: wrong checkSign"))},o.helpLoginMsg)}},events:{load:function(){var t=this;t.helpBtn=o.addSidebarItem({title:a("Help"),className:"helpme-block",tooltip:a("Visit Help Center or Contact Us"),onclick:function(){o.fire("shownHelpDialog"),t.showHelp()}})}}})},["jQuery","mbrApp","TR()","mbrServer","Bridge"])},function(t,e,n){"use strict";!function(i){var t=n(160),h=(t=t)&&t.__esModule?t:{default:t},d=n(25);defineM(function(u,s,n){s.regExtension({name:"app-plugin-zip-project",global:{createZipProject:function(){var a=this;s.isPremiumUser().then(function(t){if(!s.projectHasLicense()&&!t)throw s.goToBuyPremium(),new Error("Premium plan required")}).then(function(){return s.applyFilter("createZipProject",Promise.resolve())}).then(function(){s.publish(!1,null,function(){function l(t){return(t=t.replace(/\?.+$/g,"")).replace(/https?:\/\/.*?\/.*?\/.*?\//g,"")}var e=u(s.preloaderHTML),o=(s.$body.find(".site-settings-modal .modal-content").prepend(e),[]),c=(s.prepareProjectText(),d.Bridge.zip());s.Core.getResultProject();h.default.dirList(mbrApp.projectSettings.path).then(function(t){var r=Object.keys(s.Core.getResultProject().pages);t.map(function(n,t){var i,e;/\.html$/.test(n)&&r.includes(n)&&0!==n.indexOf("google")&&(i=u.Deferred(),o.push(i),h.default.loadLocalFile(mbrApp.projectSettings.path+"/"+n).then(function(t){return t=t,r=[],e=/(<amp-img.*?src=")([^">]*\/[^">]*?)(".*?>)/g,e=s.isAMP()?/(<amp-img.*?src=")([^">]*\/[^">]*?)(".*?>)/g:/(<img.*?src=")([^">]*\/[^">]*?)(".*?>)/g,t=(t=(t=(t=(t=t.replace(e,function(t,e,n,i){return r.push(n),e+"assets/"+l(n)+i})).replace(/(url\(['"]?)(.*?)(['"]?\);)+/g,function(t,e,n,i){return 0!==n.indexOf("http")?t:(r.push(n),e+"assets/"+l(n)+i)})).replace(/(<link.*?rel="shortcut icon".*?href=")([^">]*\/[^">]*?)(".*?>)/g,function(t,e,n,i){return r.push(n="assets/images/logo5.png"===n?"app/builder/images/logo5.png":n),e+"assets/"+l(n)+i})).replace(/(<link.*?rel="canonical".*?href=")([^">]*\/[^">]*?)(".*?>)/g,function(t,e,n,i){n=n.split("/");return e+(n[n.length-1]?n[n.length-1]:"/")+i})).replace(/(<script.*?src=")([^">]*\/[^">]*?)(".*?>)/g,function(t,e,n,i){return r.push(n),e+"assets/"+l(n)+i}),u.Deferred().resolve(t,r);var r,e}).then(function(t,e){var s;c.file(n,t),e?(s=[],e.forEach(function(t,e){var n,i,r,o,a;-1!==t.indexOf("dummy")&&((n=t.split("?")).pop(),t=n.join("")),s.push((i=t,r=c,o="assets",a=u.Deferred(),d.Bridge.loadLocalBase64(i,function(t){t?r.file((o||"")+"/"+l(i),t,{base64:!0}):console.log("Loading image error: "+(o||"")+"/"+l(i)),a.resolve()}),a))}),u.when.apply(a,s).then(function(){console.log("all files from "+n+" page are uploaded"),i.resolve()},function(t){console.error(t),i.reject()})):i.resolve()})),(/robots\.txt$/.test(n)||/project\.mobirise$/.test(n)||/manifest\.json$/.test(n)||/sw\.js$/.test(n)||/sw-toolbox\.js$/.test(n))&&(e=u.Deferred(),o.push(e),h.default.loadLocalFile(mbrApp.projectSettings.path+"/"+n).then(function(t){c.file(n,t),e.resolve()},function(t){e.reject()}))}),u.when.apply(a,o).then(function(){console.log("All promise resolved. Starting zip process..."),c.generateAsync({type:"blob"}).then(function(t){d.Bridge.saveAs(t,(t=mbrApp.projectSettings.title,(t=/^[A-Za-z0-9]*$/.test(t)?t:new i(t).toString("hex"))+".zip")),e.remove(),s.fire("zipProjectCreated")},function(t){console.error(t),e.remove()})},function(t){e.remove(),bootbox.alert(n("Something went wrong"))})},function(t){console.error(t),e.remove()})})}).catch(function(t){console.error(t)})}}})},["jQuery","mbrApp","TR()"])}.call(this,n(48).Buffer)},function(t,e,n){"use strict";var s=n(25);defineM("progressive-web-app",function(e,i,n){function r(){return!i.projectSettings.PWA||!i.projectSettings.PWA.enabled}var o=s.Bridge.base+"assets/progressive-web-app",a=o+"/icons/512x512.png";i.$body.on("change","#pwa-switcher",function(){i.$body.find(".pwa-edit")[0].classList.toggle("hidden"),i.projectSettings.PWA?i.projectSettings.PWA.enabled=this.checked:i.projectSettings.PWA={enabled:this.checked},i.runSaveProject(!1,!0)}),i.$body.on("click","#pwa-edit",function(){i.showDialog({title:n("Enter your PWA parameters"),className:"pwa-edit-modal",size:"small",body:'<div class="row">\n                        <div class="form-group col-md-12 col-sm-12">\n                            <p>App Name</p>\n                            <input type="text" class="form-control" id="pwa-name" placeholder="'+i.projectSettings.name+'" value="'+(i.projectSettings.PWA.name||"")+'">\n                        </div>\n                        <div class="form-group col-md-12 col-sm-12 pwa-icon-field">\n                            <p>Icon</p>\n                            <img src="'+(i.projectSettings.PWA.icon||a)+'" id="pwa-current-icon" class="img-responsive">\n                            <button id="pwa-icon-change-btn" class="btn btn-primary">Change Icon</button>\n                        </div>\n                        <div class="form-group col-md-12 col-sm-12 pwa-color-field">\n                            <p>Theme Color</p>\n                            <input type="color" class="form-control" id="pwa-theme-color" value="'+(i.projectSettings.PWA.themeColor||i.projectSettings.theme.styling.primaryColor)+'">\n                        </div>\n                    </div>',create:function(t){e(t).find("#pwa-theme-color").spectrum({showButtons:!1,preferredFormat:"hex",showInput:!0,showPaletteOnly:!0,togglePaletteOnly:!0,togglePaletteMoreText:n("More")+" >",togglePaletteLessText:n("Less")+" <",maxSelectionSize:1,palette:i.getThemeColorsSet(7),move:function(t){e(this).val(t.toHexString())}})},success:function(t){var e=i.projectSettings.PWA;e.name=t[0].querySelector("#pwa-name").value.trim(),e.icon=t[0].querySelector("#pwa-current-icon").src,e.themeColor=t[0].querySelector("#pwa-theme-color").value,i.runSaveProject(!1,!0)},cancel:function(){}})}),i.$body.on("click","#pwa-icon-change-btn, #pwa-current-icon",function(){s.Bridge.openImage("Select 512x512px PNG Icon",i.projectPath?i.projectPath+"/icons":"","",{width:"512",height:"512",keepAspectRatio:!1,format:"png"},function(t){t&&e("#pwa-current-icon").attr("src",s.Bridge.path2app(t))},!1)}),i.addFilter("publishFiles",function(t){return r()||(t.push({srcList:[{src:o+"/sw.js"}],dest:"sw.js"},{srcList:[{src:"manifest.json",filter:"template"}],dest:"manifest.json"}),i.projectSettings.PWA.icon?t.push({srcList:[{src:i.projectSettings.PWA.icon}],dest:"icons/512x512.png"}):t.push({srcList:[{src:a}],dest:"icons/512x512.png"}),i.isAMP())||t.push({srcList:[{src:o+"/sw-connect.js"}],dest:"sw-connect.js"}),t}),i.addFilter("publishTemplating",function(t,e){var n;return!r()&&"manifest.json"==e?(e=i.projectSettings.PWA,n=i.projectSettings,e={name:e.name||n.name,short_name:e.name||n.name,start_url:"/",display:"standalone",theme_color:e.themeColor||n.theme.styling.primaryColor,background_color:e.themeColor||n.theme.styling.primaryColor,icons:[{src:i.projectSettings.resourcesUrl+"icons/"+(i.projectSettings.PWA.icon?s.Bridge.splitPath(i.projectSettings.PWA.icon).name+".png":"512x512.png"),sizes:"512x512",type:"image/png"}]},JSON.stringify(e)):t}),i.addFilter("publishHTML",function(t){return t=r()?t:i.isAMP()?(t=t.replace("</head>",'<meta name="theme-color" content="'+(i.projectSettings.PWA.themeColor||i.projectSettings.theme.styling.primaryColor)+'">\n                     <link rel="manifest" href="manifest.json">\n                     <script async custom-element="amp-install-serviceworker" src="https://cdn.ampproject.org/v0/amp-install-serviceworker-0.1.js"><\/script></head>')).replace("</body>",'<amp-install-serviceworker src="sw.js" layout="nodisplay"></amp-install-serviceworker></body>'):t.replace("</head>",'<meta name="theme-color" content="'+(i.projectSettings.PWA.themeColor||i.projectSettings.theme.styling.primaryColor)+'">\n                     <link rel="manifest" href="manifest.json">\n                     <script src="sw-connect.js"><\/script></head>')}),i.addFilter("changeProjectSettings",function(t,e){return t.hasOwnProperty("pwa-switcher")?i.fire("settingsPWAEnable",!0):i.fire("settingsPWAEnable",!1),t}),i.regExtension({name:"progressive-web-app",events:{load:function(){i.addFilter("additionalSiteSettings",function(t){return t+('<div class="form-group row clearfix">\n                            <label class="col-md-3 control-label" for="pwa-switcher">Progressive Web App</label>\n                            <div class="col-md-9">\n                                <div class="pwa-inner">\n                                    <div class="togglebutton">\n                                        <label style="width: 100%;">\n                                            <input type="checkbox" id="pwa-switcher" name="pwa-switcher" '+(r()?"":"checked")+'>\n                                            <span class="toggle" style="margin-top: -6px;"></span>\n                                        </label>\n                                    </div>\n                                    <button id="pwa-edit" class="btn btn-primary pwa-edit '+(r()?"hidden":""))+'" type="button">PWA Settings</button>\n                                </div>\n                            </div>\n                        </div>'})}}})},["jQuery","mbrApp","TR()"])},function(t,e,n){"use strict";var s=n(673);defineM(function(e,a,n){a.regExtension({name:"dropCSS",events:{load:function(){a.isAMP()&&(a.addFilter("additionalSiteSettings",function(t){return t+'<div class="form-group row clearfix">\n\t\t\t\t            <label class="col-md-3 control-label">'+n("Remove Unused Css")+'</label>\n                            <div class="togglebutton col-md-9">\n                                <label style="width: 100%">\n                                    <input id="unuse-css-check" type="checkbox" '+(a.projectSettings.cleanCSS?"checked":"")+'>\n                                    <span class="toggle" style="margin-top: -6px;"></span>\n                                </label>\n                            </div>\n                        </div>'}),a.$body.on("change","#unuse-css-check",function(t){a.projectSettings.cleanCSS=e(t.target).prop("checked")}))},loadProject:function(){a.addFilter("publishTemplating",function(t){var e,n,i,r,o;return a.projectSettings.cleanCSS&&(o=t.match(/<body>[^]*<\/body>/),e=t.match(/<style amp-custom>([^]*)<\/style>/),o)&&e&&(o=o[0],n=e[1],i=/amp|cookie|scroll/,r=new Set,o=s({html:o,css:n,shouldDrop:function(t){return!i.test(t)&&(r.add(t),!0)}}),t=t.replace(e[0],"<style amp-custom>"+o.css+"</style>")),t})}}})},["jQuery","mbrApp","TR()"])},function(t,s,l){"use strict";function u(t,e,n){throw new Error(t+' parser stopped here: "'+e.substring(n,n+100)+'"')}var c=1,h=2,d=3,f=new Set("area base br col command embed hr img input keygen link meta param source track wbr".split(" ")),p=/<!doctype[^>]*>|<!--[\s\S]*?-->|<script[^>]*>[\s\S]*?<\/script>|<style[^>]*>[\s\S]*?<\/style>|<link[^>]*>|<meta[^>]*>/gim,m={NAME:/\s*<([\w-]+)\s*/imy,ATTR:/\s*([\w-:]+)(?:="([^"]*)"|='([^']*)'|=([\w-]+))?\s*/imy,TAIL:/\s*(\/?>)\s*/imy,TEXT:/\s*[^<]*/my,CLOSE:/\s*<\/[\w-]+>\s*/imy};function g(t){var e,n,i=0,r=[];function o(t){for(var e in i=t.lastIndex,m)m[e].lastIndex=i}for(var a=i;i<t.length;){if(s=l=void 0,null!=m.CLOSE.exec(t))o(m.CLOSE),r.push(d);else if(null!=(e=m.NAME.exec(t))){o(m.NAME);var s,l=e[1];for(r.push(c,l);n=m.ATTR.exec(t);)o(m.ATTR),(s=s||new Map).set(n[1],(n[2]||n[3]||n[4]||"").trim());s&&r.push(h,s),n=m.TAIL.exec(t),!f.has(l)&&"/>"!=n[1]||r.push(d),o(m.TAIL)}else null!=m.TEXT.exec(t)&&o(m.TEXT);a===i&&u("html",t,i),a=i}return o({lastIndex:0}),r}var b=new Set;function v(t,e,n){return{tagName:e,attributes:n,classList:null!=n&&n.has("class")?new Set(n.get("class").split(/\s+/g)):b,parentNode:t,childNodes:[]}}var r=[];function y(t,e){var n,i;return null!=t?(n=t._ofTypes=t._ofTypes||{},e in n||(i=0,n[e]=t.childNodes.filter(function(t){if(t.tagName==e)return t._typeIdx=i++,!0})),n[e]):r}function w(t){for(var e,t=g(t=t.replace(p,"")),i={nodes:[],tag:new Set(["*"]),class:new Set,attr:new Set},n=t,r=function(t,e){var n;e=e,n=i,(t=t).idx=e,e=t.attributes,n.tag.add(t.tagName),t.classList.forEach(function(t){return n.class.add(t)}),e.has("id")&&n.attr.add("[id="+e.get("id")+"]"),e.has("type")&&n.attr.add("[type="+e.get("type")+"]"),n.nodes.push(t)},o=v(null,"root",b),a=0;a<n.length;a++)switch(n[a]){case c:var s=n[++a],l=b;n[a+1]===h&&(l=n[a+=2]),e=o.childNodes.length,o.childNodes.push(o=v(o,s,l)),r(o,e);break;case d:o=o.parentNode}return i}var _=/\s*\/\*[\s\S]*?\*\/\s*/gm,e=/\s*[>~+.#]\s*|\[[^\]]+\]|\s+/gm,x=1,M=2,S=3,k=4,C=5;function E(t){t=t.split(/\s*,\s*/gm);return t.push(t.map(function(t){return function(t){for(var e=t.length;(t=t.replace(n,"")).length!=e;)e=t.length;return t.replace(/:?:[a-z-]+/gm,"")}(t).trim().replace(e,function(t,e){return t=t.trim(),0==e?t:"."==t||"#"==t?"`"+t:t.length<=1?"`":"`"+t.replace(/['"]/gm,"")}).split(/`+/gm)})),t}var n=/:[a-z-]+\([^()]*\)/;function P(t,e,n,i){for(var r="",o=1;t[e]==n?o++:t[e]==i&&o--,0!=o;)r+=t[e++];return r}function A(t){var e,n={RULE_HEAD:/\s*([^{;]+?)\s*[{;]\s*/my,RULE_TAIL:/\s*([^}]*?)\s*\}/my,AT_TAIL:/\s*\}/my,RULE_FULL:/\s*([^{]*?)\{([^}]+?)\}/my},i=0,r=0,o=[];function a(t){for(var e in r=t.lastIndex,n)n[e].lastIndex=r}for(var s=r;r<t.length;){if(c=l=void 0,0<i&&null!=(e=n.AT_TAIL.exec(t)))i--,o.push(M),a(n.AT_TAIL);else if(null!=(e=n.RULE_HEAD.exec(t))){var l=e[1];if(a(n.RULE_HEAD),"@"==l[0])switch(l.match(/@[a-z-]+/)[0]){case"@media":case"@supports":case"@document":i++,o.push(x,l);break;case"@import":case"@charset":case"@namespace":o.push(C,l+";");break;default:i++;var c=P(t,r,"{","}");a({lastIndex:r+c.length}),o.push(x,l,C,c)}else o.push(S,E(e[1])),e=n.RULE_TAIL.exec(t),o.push(k,e[1]),a(n.RULE_TAIL)}else r=t.length;s===r&&u("css",t,r),s=r}return o}function T(t){return t.replace(/@[a-z-]+[^{]+\{\s*\}/gm,"")}function j(t){var e,n,i,r={IDENT:/([\w*-]+)/iy,ATTR:/([\w-]+)(?:(.?=)["']?([^\]]*?)["']?)?\]/iy,PSEUDO:/([\w-]+)(\()?/iy,MODE:/\s*[:.#\[]\s*/iy,COMB:/\s*[>~+]\s*|\s+/iy},o=0,a=[],s=-1;function l(t){for(var e in o=t.lastIndex,r)r[e].lastIndex=o}for(;o<t.length;)i=n=void 0,(e=r.COMB.exec(t))?(n=e[0].trim(),a.push(n=""==n?" ":n),l(r.COMB),s=a.length-1):(e=r.MODE.exec(t))?(n=e[0].trim(),l(r.MODE),":"==n?("("==(e=r.PSEUDO.exec(t))[2]&&(i=P(t,r.PSEUDO.lastIndex,"(",")"),r.PSEUDO.lastIndex+=i.length+1,e[2]="not"==e[1]?j(i):i),a.splice(s+1,0,e[2],e[1],n),l(r.PSEUDO)):"["==n?(e=r.ATTR.exec(t),a.splice(s+1,0,e[3],e[2],e[1],n),l(r.ATTR)):(e=r.IDENT.exec(t),a.push(e[1],n),l(r.IDENT))):(e=r.IDENT.exec(t))&&(a.push(e[1],"_"),l(r.IDENT));return a}var o=/^([+-]?\d*)?n([+-]\d+)?$/;function L(t,e,n,i){i=i||"=";t=t.attributes;if(t.has(e)){var r=t.get(e);switch(i){case"=":return null==n||n==r;case"*=":return-1!=r.indexOf(n);case"^=":return r.startsWith(n);case"$=":return r.endsWith(n);case"~=":return n==r||r.startsWith(n+" ")||r.endsWith(" "+n)||-1!=r.indexOf(" "+n+" ")}}return!1}function O(t,e){var n,i,e="odd"==e?t%2==1:"even"==e?t%2==0:/^\d+$/.test(e)?t==+e:(e=e,e=null!=(e=o.exec(e))?[i=null==(i=e[1])||"+"==i?1:"-"==i?-1:+i,i=null==(i=e[2])?0:+i]:[0,0],i=e[0],t=t,!((e=e[1])<0&&i<=0)&&(-1===i?t<=e:0===i?t===e:1===i?e<0||e<=t:((n=e%i)<0&&(n+=i),1<i?e<=t&&t%i===n:(i*=-1,t<=e&&t%i===n))));return e}function R(t,e){return t.some(function(t){return function t(e,n){for(var i,r,o,a;-1<n.idx;){switch(e[n.idx]){case"_":l=e[--n.idx],o=n.node,r=(a=l)==o.tagName||"*"==a,n.idx--;break;case"#":c=e[--n.idx],r=L(n.node,"id",c,"="),n.idx--;break;case".":l=e[--n.idx],o=n.node,a=l,r=o.classList.has(a),n.idx--;break;case"[":l=e[--n.idx],i=e[--n.idx],c=e[--n.idx],r=L(n.node,l,c,i),n.idx--;break;case":":var s,l=e[--n.idx],c=e[--n.idx],u=n.node,h=u.tagName,d=u.idx,f=(s=u.parentNode)?s.childNodes.length:1,p=void 0;switch(l){case"not":r=!t(c,{node:n.node,idx:c.length-1});break;case"first-child":r=0==d;break;case"last-child":r=d==f-1;break;case"only-child":r=1==f;break;case"nth-child":r=O(d+1,c);break;case"nth-last-child":r=O(f-d,c);break;case"first-of-type":p=y(s,h),r=0==u._typeIdx;break;case"last-of-type":p=y(s,h),r=u._typeIdx==p.length-1;break;case"only-of-type":r=1==(p=y(s,h)).length;break;case"nth-of-type":p=y(s,h),r=O(u._typeIdx+1,c);break;case"nth-last-of-type":r=O((p=y(s,h)).length-u._typeIdx,c)}n.idx--;break;case" ":for(d=--n.idx,r=!1;!r&&null!=(s=n.node.parentNode);)n.idx=d,n.node=s,r=t(e,n);break;case">":n.idx--,r=null!=(s=n.node.parentNode)&&(n.node=s,t(e,n));break;case"+":n.idx--,r=null!=(s=n.node.parentNode)&&0<n.node.idx&&(n.node=s.childNodes[n.node.idx-1],t(e,n));break;case"~":if(n.idx--,r=!1,d=n.node.idx,null!=(s=n.node.parentNode)&&0<d)for(var m=0;m<d&&!r;m++)n.node=s.childNodes[m],r=t(e,n)}if(!r)break}return r}(e,{idx:e.length-1,node:t})})}function I(t,e,n,i,r){r=r||"";for(var o,a,s,l=e.length-1;-1<l;l--){var c=e[l];n.has(c[2])||!0!==i(r+c[2])||(o=t,a=c[0],c=c[1],s="",t=o.slice(0,a)+s+o.slice(a+c))}return t}var a=/([{};])\s*(--[\w-]+)\s*:\s*([^;}]+);?\s*/gm,i=/var\(([\w-]+)\)/gm,D=/\s*,\s*/gm;function B(t){return t.trim().replace(/'|"/gm,"").split(D)}function N(t,e){var n=function(t){for(var e,n={};i.test(t);){for(;e=a.exec(t);)n[e[2]]=e[3];t=t.replace(i,function(t,e){return i.test(n[e])?t:n[e]})}return t}(t).replace(a,function(t,e){return e});return(t=function(i){for(var t=i;(t=(i=t).replace(a,function(t,e,n){return-1!=i.indexOf("var("+n+")")?t:e}))!=i;);return t}(t=function(t,e,n){for(var i,r="@font-face[^}]+\\}+",o=RegExp(r,"gm"),a=[];i=o.exec(t);)a.push([i.index,i[0].length]);for(var s,l="font-family:([^;!}]+)",c=RegExp(l),u=0;i=o.exec(e);)s=c.exec(i[0]),a[u++].push(B(s[1])[0]);for(var h=new Set,d=RegExp(r+"|"+l,"gm");i=d.exec(e);)"@"!==i[0][0]&&B(i[1]).forEach(function(t){return h.add(t)});for(var f,p=/font:([^;!}]+)/gm,m=/\s*(?:['"][\w- ]+['"]|[\w-]+)\s*(?:,|$)/gm;i=p.exec(e);){for(f="";s=m.exec(i[1]);)f+=s[0];B(f).forEach(function(t){return h.add(t)})}return I(t,a,h,n,"@font-face ")}(t=function(t,e,n){for(var i,r=[],o=/@(?:-\w+-)?keyframes\s+([\w-]+)\s*\{/gm;i=o.exec(t);){var a=P(t,o.lastIndex,"{","}");r.push([i.index,i[0].length+a.length+1,i[1]])}for(var s=new Set,l=/animation(?:-name)?:([^;!}]+)/gm;i=l.exec(e);)i[1].trim().split(D).forEach(function(t){var e=t.match(/^\S+/)[0];/^-?[\d.]+m?s/.test(e)&&(e=t.match(/\S+$/)[0]),s.add(e)});return I(t,r,s,n,"@keyframes ")}(t,n,e),n,e))).replace(/[^{}]+\{\s*\}/gm,"")}var F=/\[([\w-]+)(?:(.?=)"?([^\]]*?)"?)?\]/i,$=/:(?:first|last|nth|only|not)\b/;function U(t){return!0}t.exports=function(t){for(var i=w(t.html,t.keepText),r=t.shouldDrop||U,e=A(t.css.replace(_,"")),o={},n=0;n<e.length;n++){var a=e[n];if(a===S){var s=e[n+1],l=s[s.length-1];n++;for(var c=0;c<l.length;c++)for(var u=l[c],h=0;h<u.length;h++){var d,f=u[h],p=!1,m=void 0;if(""!=f){if(f in o)p=o[f];else switch(f[0]){case"#":m=f.substr(1),o[f]=p=i.attr.has("[id="+m+"]");break;case".":m=f.substr(1),o[f]=p=i.class.has(m);break;case"[":f.startsWith("[type=")?o[f]=p=i.attr.has(f):(d=f.match(F),o[f]=p=i.nodes.some(function(t){return L(t,d[1],d[3],d[2])}));break;default:o[f]=p=i.tag.has(f)}if(!p){!0===r(s[c])?s[c]=null:o[s[c]]=!0;break}}}}}for(var g=0;g<e.length;g++)e[g]===S&&(e[++g].length,e[g]=e[g].filter(function(t){var e,n;return"string"==typeof t&&(t in o?o[t]:""==(n=t.replace(/:?:[a-z-]+/gm,function(t){return t.startsWith("::")||!$.test(t)?"":t}).replace(/:[a-z-]+\(\)/gm,""))||(n in o?o[n]:o[n]=(e=i.nodes,n=n,R(e,Array.isArray(n)?n:j(n))||!0!==r(t))))}));var t=new Set,b=function(t,e){for(var n="",i=0,r=0;r<t.length;r++)switch(t[r]){case S:var o=t[++r];0<(i=o.length)&&(o.forEach(function(t){return e.add(t)}),n+=o.join());break;case k:0<i&&(n+="{"+t[++r]+"}");break;case x:n+=t[++r]+"{";break;case M:n+="}";break;case C:n+=t[++r]}return T(n)}(e,t);return{css:T(N(b,r)),sels:t}}},function(t,e,n){"use strict";var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n,i=arguments[e];for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t};defineM("google-analytics",function(i,r,n){function t(t,e){gtag("event",t,o({event_category:"engagement"},1<arguments.length&&void 0!==e?e:{}))}r.regExtension({name:"google-analytics",events:{shownAddonsDialog:function(){t("main_sidebar_extensions_click")},toggleComponents:function(){t("toggle_components_sidebar")},showedProjectsList:function(){t("main_sidebar_sites_click")},showedAccountSettings:function(){t("main_sidebar_account_click")},showedPagesList:function(){t("main_sidebar_pages_click")},showedHelp:function(){t("main_sidebar_help_click")},zipProjectCreated:function(){t("publish_click",{publish_click_type:"local"})},publishedToMbrsite:function(){t("publish_click",{publish_click_type:"mbrsite"})},CustomDomainConnected:function(){t("domain_connect")},domainDisconnected:function(){t("domain_disconnect")},openThemeSettings:function(){t("toggle_theme_settings")},redeemActivated:function(){t("redeem_activated")},removedComponent:function(){t("component_removed")},addedPage:function(){t("page_added")},removedPage:function(){t("page_removed")},changedProjectSettings:function(){t("project_settings_changed")},load:function(){r.addFilter("publishHTML",function(t){var e=r.projectSettings["google-analytics"]||"";return e?t.replace("<body>","<body>\n\n\x3c!-- Analytics --\x3e\n"+e+"\n\x3c!-- /Analytics --\x3e\n\n"):t}),r.addFilter("sidebarProjectSettings",function(t){var e={title:"SEO & Analytics",name:"seo-analytics",html:'<div class="form-group col-md-12"><label class="control-label" for="site-settings-google-analytics">'+n("Analytics")+'</label><textarea id="site-settings-google-analytics" rows="5" name="google-analytics" placeholder="'+n("Paste your Analytics code snippet here or paste any other code that you want to have on every page immediately after the opening $body$ tag.").replace("$body$","&lt;body&gt;")+'" class="form-control"></textarea></div>'};return t.push(e),t})},shownSidebarProjectSettings:function(t,e){var n=r.projectSettings["google-analytics"]||"";i("#site-settings-google-analytics").val(n),i("#site-settings-google-analytics").change(function(t){r.projectSettings["google-analytics"]=t.target.value,r.changeProjectSettings(e,{"google-analytics":t.target.value})})}}})},["jQuery","mbrApp","TR()"])},function(t,e,n){"use strict";var j=2147483647,L=36,O=26,r=38,o=700,i=/^xn--/,a=/[^\0-\x7E]/,s=/[\x2E\u3002\uFF0E\uFF61]/g,l={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},c=L-1,R=Math.floor,I=String.fromCharCode;function D(t){throw new RangeError(l[t])}function u(t,e){var n=t.split("@"),i="",n=(1<n.length&&(i=n[0]+"@",t=n[1]),(t=t.replace(s,".")).split("."));return i+function(t,e){for(var n=[],i=t.length;i--;)n[i]=e(t[i]);return n}(n,e).join(".")}function B(t){for(var e=[],n=0,i=t.length;n<i;){var r,o=t.charCodeAt(n++);55296<=o&&o<=56319&&n<i?56320==(64512&(r=t.charCodeAt(n++)))?e.push(((1023&o)<<10)+(1023&r)+65536):(e.push(o),n--):e.push(o)}return e}function N(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function F(t,e,n){var i=0;for(t=n?R(t/o):t>>1,t+=R(t/e);c*O>>1<t;i+=L)t=R(t/c);return R(i+(c+1)*t/(t+r))}function h(t){var e=[],n=t.length,i=0,r=128,o=72,a=t.lastIndexOf("-");a<0&&(a=0);for(var s=0;s<a;++s)128<=t.charCodeAt(s)&&D("not-basic"),e.push(t.charCodeAt(s));for(var l=0<a?a+1:0;l<n;){for(var c=i,u=1,h=L;;h+=L){n<=l&&D("invalid-input");var d=(d=t.charCodeAt(l++))-48<10?d-22:d-65<26?d-65:d-97<26?d-97:L,f=((L<=d||d>R((j-i)/u))&&D("overflow"),i+=d*u,h<=o?1:o+O<=h?O:h-o);if(d<f)break;d=L-f;u>R(j/d)&&D("overflow"),u*=d}var p=e.length+1,o=F(i-c,p,0==c);R(i/p)>j-r&&D("overflow"),r+=R(i/p),i%=p,e.splice(i++,0,r)}return String.fromCodePoint.apply(String,e)}function d(t){var e=[],n=(t=B(t)).length,i=128,r=0,o=72,a=!0,s=!1,l=void 0;try{for(var c,u=t[Symbol.iterator]();!(a=(c=u.next()).done);a=!0){var h=c.value;h<128&&e.push(I(h))}}catch(t){s=!0,l=t}finally{try{!a&&u.return&&u.return()}finally{if(s)throw l}}var d=e.length,f=d;for(d&&e.push("-");f<n;){var p=j,m=!0,g=!1,b=void 0;try{for(var v,y=t[Symbol.iterator]();!(m=(v=y.next()).done);m=!0){var w=v.value;i<=w&&w<p&&(p=w)}}catch(t){g=!0,b=t}finally{try{!m&&y.return&&y.return()}finally{if(g)throw b}}var _=f+1,x=(p-i>R((j-r)/_)&&D("overflow"),r+=(p-i)*_,i=p,!0),g=!1,b=void 0;try{for(var M,S=t[Symbol.iterator]();!(x=(M=S.next()).done);x=!0){var k=M.value;if(k<i&&++r>j&&D("overflow"),k==i){for(var C=r,E=L;;E+=L){var P=E<=o?1:o+O<=E?O:E-o;if(C<P)break;var A=C-P,T=L-P;e.push(I(N(P+A%T,0))),C=R(A/T)}e.push(I(N(C,0))),o=F(r,_,f==d),r=0,++f}}}catch(t){g=!0,b=t}finally{try{!x&&S.return&&S.return()}finally{if(g)throw b}}++r,++i}return e.join("")}window.punycode={version:"2.1.0",ucs2:{decode:B,encode:function(t){return String.fromCodePoint.apply(String,function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(t))}},decode:h,encode:d,toASCII:function(t){return u(t,function(t){return a.test(t)?"xn--"+d(t):t})},toUnicode:function(t){return u(t,function(t){return i.test(t)?h(t.slice(4).toLowerCase()):t})}}},function(t,e,n){"use strict";var d=n(25);defineM(function(r,o,a){var s="User-agent: *\r\nDisallow: /cgi-bin\r\n";function l(t){var e,n,i=o.Core.getPages(),r=[];for(n in t=(e=(t=t.match(/\/$/i)?t.slice(0,-1):t).match(/https?:\/\//i)[0])+punycode.toASCII(t.slice(e.length)),i)r.push("\t<url>","\t\t<loc>"+t+"/"+n.toString()+"</loc>","\t</url>");return['<urlset xmlns="http://www.sitemaps.org/schemas/sitemap/0.9">',r=r.join("\n"),"</urlset>"].join("\n")}function c(t){d.Bridge.saveLocalFile(o.projectPath+"/sitemap.xml",t)}function u(t){return t.match(/^https?:\/\/.*/i)}function h(){o.showDialog({title:a("Enter site URL"),className:"site-url-modal",body:['<form class="page-settings-form">','<div class="form-group row clearfix">','<div class="col-md-12">','<span class="site-url-error" style="color: red;display: none;">'+a('URL is not valid! (must be like "http://mysite.com")')+"</span>",'<input class="form-control" type="text" name="siteUrlModal" placeholder="http://mysite.com" value="'+o.projectSettings.siteUrl+'">',"</div>","</div>","</form>"].join("\n"),buttons:[{label:"save",default:!0,callback:function(){var t=r("input[name='siteUrlModal']");if(!u(t.val()))return r(".site-url-error").show(),t.focus(),o.projectSettings.siteUrl="",!1;o.projectSettings.siteUrl=t.val(),r("#siteUrl").parents(".form-group").show(),r("#siteUrl").val(t.val()),r(".sitemapEdit").parents(".form-group").hide()}}]})}o.regExtension({name:"seo",events:{shownSidebarProjectSettings:function(t,e){var n,i;n=e,r("#robotsSwitcher").change(function(t){t=r(t.target).prop("checked");(o.projectSettings.robotsSwitcher=t)&&r(".robotsEdit").click(),o.projectSettings.robotsText=s,r(".robotsText").val(s),r(".robotsEdit").parents(".form-group").toggle()}),r(".robotsEdit").click(function(t){t.preventDefault(),o.showDialog({title:a("Edit robots.txt"),className:"robots-modal",body:['<form class="page-settings-form">','<div class="form-group row clearfix">','<div class="col-md-12">','<textarea class="form-control robotsText" name="robotsText" rows="10">',o.projectSettings.robotsText,"</textarea>","</div>","</div>","</form>"].join("\n"),buttons:[{label:"save",default:!0,callback:function(){o.changeProjectSettings(n,{robotsText:r(".robotsText").val()}),o.projectSettings.robotsText=r(".robotsText").val()}}]})}),i=e,r("#sitemapSwitcher").change(function(t){var e=r(t.target).prop("checked");o.projectSettings.sitemapSwitcher=e,o.projectSettings.siteUrl="",o.projectSettings.sitemapSwitcherAuto="on",o.changeProjectSettings(i,{siteUrl:""}),o.changeProjectSettings(i,{sitemapSwitcherAuto:"on"}),r("#siteUrl").val(""),r("#sitemapSwitcherAuto").prop("checked",!0),r(t.target).prop("checked")?(h(),r(".togglebutton").has("#sitemapSwitcher").prev("label").addClass("col-auto").removeClass("col"),r(".togglebutton").has("#sitemapSwitcherAuto").show(),r(".togglebutton").has("#sitemapSwitcherAuto").prev("label").show(),r(".form-group").has("#siteUrl").show(),r(".form-group").has(".sitemapEdit").hide(),r("input[name='siteUrlModal']").on("input",function(){u(r(this).val())?r(".site-url-error").hide():r(".site-url-error").show()}),r(".site-url-modal").on("hidden.bs.modal",function(){r(".site-url-modal").remove(),o.projectSettings.siteUrl||r("#sitemapSwitcher").trigger("click")})):(r(".togglebutton").has("#sitemapSwitcher").prev("label").addClass("col").removeClass("col-auto"),r(".form-group").has("#siteUrl").hide(),r(".togglebutton").has("#sitemapSwitcherAuto").hide(),r(".togglebutton").has("#sitemapSwitcherAuto").prev("label").hide(),r(".form-group").has(".sitemapEdit").hide())}),r("#siteUrl").click(function(){h()}),r("#sitemapSwitcherAuto").change(function(t){t=r(t.target).prop("checked");return c(l(o.projectSettings.siteUrl)),t?(r("#siteUrl").parents(".form-group").show(),r(".sitemapEdit").parents(".form-group").hide()):(r("#siteUrl").parents(".form-group").hide(),r(".sitemapEdit").parents(".form-group").show()),o.projectSettings.sitemapSwitcherAuto=t?"on":"",o.changeProjectSettings(i,{sitemapSwitcherAuto:t?"on":""}),!0}),r(".sitemapEdit").click(function(t){t.preventDefault(),d.Bridge.loadLocalFile(o.projectPath+"/sitemap.xml",function(t){o.showDialog({title:a("Edit sitemap.xml"),className:"sitemap-modal",body:['<form class="page-settings-form">','<div class="form-group row clearfix">','<div class="col-md-12">','<textarea class="form-control sitemapText" name="robotsText" rows="15">',t,"</textarea>","</div>","</div>","</form>"].join("\n"),buttons:[{label:"save",default:!0,callback:function(){c(r(".sitemapText").val())}}]})}),r(".sitemap-modal").on("hidden.bs.modal",function(){r(".sitemap-modal").remove()})})},load:function(){var n=this;o.addFilter("sidebarProjectSettings",function(t){var e={title:a("SEO & Analytics"),name:"seo-analytics",html:'<div class="form-group col-md-12"><div class="row"><label class="col control-label" for="robotsSwitcher">'+a("Use robots.txt")+'</label><div class="togglebutton col-auto"><label><input type="checkbox" id="robotsSwitcher" name="robotsSwitcher" '+(n.projectSettings.robotsSwitcher?"checked":"")+'><span class="toggle" style="margin:0;"></span></label></div></div></div><div class="form-group col-md-12"'+(n.projectSettings.robotsSwitcher?">":' style="display: none;">')+'<button class="btn btn-primary pull-right robotsEdit" type="button">'+a("Edit Robots.txt")+'</button></div><div class="form-group col-md-12"><div class="row"><label class="'+(n.projectSettings.sitemapSwitcher?"col-auto":"col")+' control-label" for="sitemapSwitcher">'+a("Use sitemap.xml")+'</label><div class="col-auto togglebutton"><label><input type="checkbox" id="sitemapSwitcher" name="sitemapSwitcher" '+(n.projectSettings.sitemapSwitcher?"checked":"")+'><span class="toggle" style="margin:0;"></span></label></div><label class="col text-right control-label"'+(n.projectSettings.siteUrl&&"undefined"!==n.projectSettings.siteUrl&&n.projectSettings.sitemapSwitcher?"":'style="display:none"')+' for="sitemapSwitcherAuto">'+a("Auto")+'</label><div class="col-auto togglebutton"'+(n.projectSettings.siteUrl&&"undefined"!==n.projectSettings.siteUrl&&n.projectSettings.sitemapSwitcher?"":'style="display:none"')+'><label><input type="checkbox" id="sitemapSwitcherAuto" name="sitemapSwitcherAuto" '+(n.projectSettings.sitemapSwitcherAuto?"checked":"")+'><span class="toggle" style="margin:0;"></span></label></div></div></div><div class="form-group col-md-12" '+(n.projectSettings.siteUrl&&n.projectSettings.sitemapSwitcherAuto&&n.projectSettings.sitemapSwitcher?"":'style="display: none;"')+'><input class="form-control" type="text" id="siteUrl" name="siteUrl" placeholder="http://mysite.com" '+(n.projectSettings.siteUrl?'value="'+n.projectSettings.siteUrl+'"':"")+'readonly></div><div class="form-group col-md-12"'+(n.projectSettings.siteUrl&&!n.projectSettings.sitemapSwitcherAuto&&n.projectSettings.sitemapSwitcher?">":'style="display: none;">')+'<button class="btn btn-primary pull-right sitemapEdit" type="button">'+a("Edit Sitemap Settings")+"</button></div>"};return t.push(e),t}),n.addFilter("publishFiles",function(t){return n.projectSettings.robotsSwitcher&&t.push({srcList:[{src:"robots.txt",filter:"template"}],dest:"robots.txt"}),n.projectSettings.siteUrl&&"undefined"!==n.projectSettings.siteUrl&&(n.projectSettings.sitemapSwitcherAuto?t.push({srcList:[{src:"sitemap.xml",filter:"template"}],dest:"sitemap.xml"}):t.push({srcList:[{src:o.projectPath+"/sitemap.xml"}],dest:"sitemap.xml"})),t}),n.addFilter("publishTemplating",function(t,e){return"robots.txt"==e?n.projectSettings.robotsText:"sitemap.xml"==e?l(n.projectSettings.siteUrl):t})}}})},["jQuery","mbrApp","TR()"])},function(t,e,n){"use strict";var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},M=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n,i=arguments[e];for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t};defineM("cookies-alert",function(c,u,h){var n={colorText:"#a7a7a7",colorLink:"#149dcc",underlineLink:!1,text:h("By continuing you agree to our %Terms of Service% and %Privacy Policy%").replace(/%(.[^%]+)%/,"<a href='terms.html'>$1</a>").replace(/%(.[^%]+)%/,"<a href='policy.html'>$1</a>.")},d="We use cookies to give you the best experience as specified in the <a href='privacy.html'>cookie policy</a>.",f="GOT IT",p="We use cookies to give you the best experience as specified in the <a href='privacy.html'>cookie policy</a>. Rejecting cookies may make some features unavailable.",m="ACCEPT",g="REJECT",b="We use cookies to give you the best experience as specified in the <a href='privacy.html'>cookie policy</a>.",v="ACCEPT",i={customDialogSelector:!1,colorText:"#424a4d",colorBg:"#ffffff",colorButton:"",rejectColor:"",colorLink:"#424a4d",underlineLink:!0,opacityOverlay:"0",bgOpacity:100,text:h("We use cookies to give you the best experience. Read our %cookie policy%").replace(/%(.+)%/,"<a href='privacy.html'>$1</a>."),textButton:h("GOT IT"),rejectText:h("REJECT")};function y(t){return t=t.slice(1),186<.299*parseInt(t.slice(0,2),16)+.587*parseInt(t.slice(2,4),16)+.114*parseInt(t.slice(4,6),16)?"#000000":"#FFFFFF"}function r(){var t=['<span class="gdpr-block'+(u.projectSettings.gdpr?"":" covert")+'">',"<label>",'<span class="textGDPR display-7"><input type="checkbox" name="gdpr" id="gdpr-input" required>'+(u.projectSettings.gdpr?u.projectSettings.gdpr.text:"")+"</span>","</label>","</span>"].join("\n");return t=u.projectSettings.gdpr?(t=t.replace('class="textGDPR display-7"','class="textGDPR display-7" style="color: '+u.projectSettings.gdpr.colorText+'"')).replace(/<a/gi,'<a style="color: '+u.projectSettings.gdpr.colorLink+"; text-decoration: "+(u.projectSettings.gdpr.underlineLink?"underline":"none")+';"'):t}function w(t){var e,n,i={};return"cookiesAlert"===t&&(n=(e=c(".cookiesDialog")).find("#customDialogSelector").val(),i.customDialogSelector="false"!==n&&"true"===n,i.colorText=e.find("#colorText").val(),i.colorBg=e.find("#colorBg").val(),i.textButton=e.find("#buttonCookies").val(),i.colorButton=e.find("#colorButton").val(),i.rejectColor=e.find("#rejectColor").val(),i.colorLink=e.find("#colorLink").val(),i.opacityOverlay=e.find("#opacityOverlay").val(),i.bgOpacity=e.find("#bgOpacity").val(),i.text=e.find("#textCookies").val(),i.rejectText=e.find("#rejectText").val()),"gdpr"===t&&(n=c(".editorGDPR"),i.colorText=n.find("#colorText").val(),i.colorLink=n.find("#colorLink").val(),i.underlineLink=n.find("#underlineLink").prop("checked"),i.text=n.find("#textareaGDPR").val()),i}function _(t,e){var n,i;if(t)return n=parseInt(t.slice(1,3),16),i=parseInt(t.slice(3,5),16),t=parseInt(t.slice(5,7),16),e?"rgba("+n+", "+i+", "+t+", "+e+")":"rgb("+n+", "+i+", "+t+")"}function x(t){var e=t.contents().find("body");u.isAMP()?e.find(".custom-dialog").length?t.css("height",e.find(".cookie-wrapper")[0].scrollHeight+40):t.css("height",e.find("#amp-cookies-notification")[0].scrollHeight):e.find("#cookie-dialog").length||e.find("#cookiesdirective").length?t.css("height",e.find(".cookie-wrapper")[0].scrollHeight+40):t.css("height",e.find("#cookiesdirective")[0].scrollHeight)}function o(){var o=u.projectSettings.cookiesAlert,n=M({},o),t=u.projectSettings.cookiesAlertType,a=u.projectSettings.cookiesAlert||"";function s(t,e){c(t).contents().find("body").find("#epd, #cookie-dialog").remove();var n=u.projectSettings.cookiesAlertType,i=_(a.colorBg),r="rgba($2,$3,$4,"+.01*a.bgOpacity+")",i=i.replace(/(rgba?)\(([0-9]+),\s+([0-9]+),\s+([0-9]+)(,\s+(\d?\.?\d+))?\)/,r);e.customDialogSelector&&(r='<div id="cookie-dialog" style="display: none;"><div id="cookiesdirective" style="background-color:'+i+'"><div class="cookieOverlay" style="position: fixed; top: 0; right: 0; bottom: 0; left: 0; background-color: rgb(0, 0, 0); opacity: '+(e.opacityOverlay?.01*e.opacityOverlay:".8")+'; z-index: 9999;"></div><div style="position: fixed; top: 0; right: 0; bottom: 0; left: 0; display: flex; align-items: center; z-index: 10000;"><div class="cookie-wrapper" style="font-family:sans-serif;position: relative; width: 100%; max-width: 500px; margin-right: auto; margin-left: auto; padding: 1rem; text-align: center; border-radius: .3rem; box-shadow: 0 10px 40px 0 rgba(0,0,0,0.2); font-family: Arial; font-size: 16px; line-height: 1.5; color:'+e.colorText+"; background:"+_(e.colorBg)+';"><div class="mbr-text"><p class="display-7 alert-message">'+e.text.replace(/<a/gi,"<a style='color: "+e.colorLink+"; text-decoration: "+(e.underlineLink?"underline":"none")+";'")+"</div>"+("2"!==n&&"3"!==n?'<div class="mbr-section-btn"><a class="btn btn-sm btn-primary" style="margin:0;'+(e.colorButton?" background-color:"+e.colorButton+"!important;color:"+y(e.colorButton)+"!important":"")+'" id="impliedsubmit">'+e.textButton||!1:"")+"</div></div></div></div>",c(t).contents().find("body").append(r)),t[0].contentWindow.$.cookiesDirective({explicitConsent:"2"===n||"3"===n,cookiesAlertType:n,position:"bottom",duration:0,limit:0,customDialogSelector:e.customDialogSelector?"#cookie-dialog":null,message:e.text,fontFamily:"Arial",fontColor:e.colorText,fontSize:"13px",backgroundColor:_(e.colorBg),bgOpacity:e.bgOpacity,linkColor:e.colorLink,textButton:e.textButton||h("GOT IT"),rejectText:e.rejectText||h("REJECT"),colorButton:e.colorButton,rejectColor:e.rejectColor,underlineLink:e.underlineLink,animate:!1}),c(t).contents().find("#impliedsubmit").attr("demo","")}function l(t,e){t=c(t).contents().find("body");t.empty(),e=e.customDialogSelector?'<amp-user-notification id="amp-cookies-notification" class="custom-dialog" style="position: fixed; top: 0; right: 0; bottom: 0; left: 0; display: flex; align-items: center;"><div class="cookieOverlay" style="position: absolute; top: 0; right: 0; bottom: 0; left: 0; background-color: rgb(0, 0, 0); opacity: '+(e.opacityOverlay?.01*e.opacityOverlay:".8")+'; z-index: 999;"></div><div class="cookie-wrapper" style="background:'+_(e.colorBg)+"; color:"+e.colorText+'; position: relative; width: 100%; max-width: 500px; margin-right: auto; margin-left: auto; padding: 1rem; text-align: center; border-radius: .3rem; box-shadow: 0 10px 40px 0 rgba(0,0,0,0.2); z-index: 1000;"><span class="display-7">'+e.text.replace(/<a/gi,"<a style='color: "+e.colorLink+"; text-decoration: "+(e.underlineLink?"underline":"none")+";'")+'</span><button class="btn btn-sm btn-primary display-7" id="impliedsubmit" style="display: block; margin-top: 10px; margin-right: auto; margin-left: auto; cursor: pointer;'+(e.colorButton?" background-color:"+e.colorButton+";border-color:"+e.colorButton+";color:"+y(e.colorButton)+"!important;":"")+'">'+e.textButton||!1:'<amp-user-notification id="amp-cookies-notification" style="background:'+_(e.colorBg)+"; color:"+e.colorText+'; padding: 10px 5px; display:block; text-align: center;" layout="nodisplay" class="cookie-wrapper"><span class="display-7">'+e.text.replace(/<a/gi,"<a style='color: "+e.colorLink+"; text-decoration: "+(e.underlineLink?"underline":"none")+";'")+'</span><button class="btn btn-sm btn-primary display-7" id="impliedsubmit" style="margin-left: 10px; cursor: pointer;'+(e.colorButton?" background-color:"+e.colorButton+";border-color:"+e.colorButton+";color:"+y(e.colorButton)+"!important;":"")+'">'+(e.textButton||h("GOT IT"))+"</button></amp-user-notification>",t.append(e)}u.showDialog({title:h("Cookies Alert Editor"),className:"cookiesDialog",size:"medium",body:['<div class="row clearfix">','<div class="form-group col-md-12"><div class="row" style="display:flex;align-items:center"><label for="cookiesAlertTypeSwitcher" style="margin:0;" class="col-md-3 control-label">'+h("Consent")+'</label><div class="col"><select'+(u.isAMP()?"disabled":"")+' class="form-control" id="cookiesAlertTypeSwitcher"><option'+("1"===t?" selected":"")+' value="1">'+h("Alert only - without blocking")+"</option>"+(u.isAMP()?"":"<option"+("2"===t?" selected":"")+' value="2">'+h('Reject and Accept - "Reject" blocks JS and iframes')+"</option>")+(u.isAMP()?"":"<option"+("3"===t?" selected":"")+' value="3">'+h('Accept - page loads only after "Accept"')+"</option>")+'</select></div></div></div><div class="form-group col-md-12">','<div class="row" style="display:flex;align-items:center"><label style="margin:0;" class="col-md-3 control-label">'+h("Layout")+"</label>",'<div class="col"><select class="form-control" id="customDialogSelector" name="customDialogSelector"><option'+(n.customDialogSelector?"":" selected")+' value="false">'+h("Bottom panel")+"</option><option"+(n.customDialogSelector?" selected":"")+' value="true">'+h("Center popup")+"</option></select></div></div></div>",'<div class="app-layer-color col-md-6" style="margin-bottom: 15px" data-setting-type="color">',"<label>"+h("Text Color")+"</label>",'<input class="mbr-color" id="colorText" type="text" value='+n.colorText+">","</div>",'<div class="app-layer-color col-md-6" style="margin-bottom: 15px" data-setting-type="color">',"<label>"+h("Background Color")+"</label>",'<input class="mbr-color" id="colorBg" type="text" value='+n.colorBg+">","</div>",'<div class="app-layer-color col-md-6" style="margin-bottom: 15px" data-setting-type="color">',"<label>"+h("Accept Color")+"</label>",'<input class="mbr-color" id="colorButton" type="text" value='+n.colorButton+">","</div>",'<div class="app-layer-color col-md-6" style="margin-bottom: 15px" data-setting-type="color">',"<label>"+h("Link Color")+"</label>",'<input class="mbr-color" id="colorLink" type="text" value='+n.colorLink+">","</div>",'<div class="app-layer-color col-md-12" style="margin-bottom: 15px;'+("2"===t?"display:block":"display:none")+'" data-setting-type="color">',"<label>"+h("Reject Color")+"</label>",'<input class="mbr-color" id="rejectColor" type="text"'+(n.rejectColor?' value="'+n.rejectColor+'"':"")+">","</div>",'<div class="col-md-12 bgopacity-wrap" style="margin-bottom: 15px;'+("3"===t||n.customDialogSelector?"display:none;":"display:block;")+'">',"<label>"+h("Background Opacity")+"</label>",'<input type="range" style="margin-top: 10px" id="bgOpacity" name="bgOpacity" min="0" max="100" step="1" value='+(n.bgOpacity||"100")+">","</div>",'<div class="col-md-12 opacity-overlay-wrap" style="margin-bottom: 15px;'+("3"===t?"display:block;":"display:none;")+'">',"<label>"+h("Overlay Opacity")+"</label>",'<input type="range" style="margin-top: 10px" id="opacityOverlay" name="opacityOverlay" min="0" max="100" step="1" value='+(n.opacityOverlay||"80")+">","</div>",'<div class="col-md-12" style="margin-bottom: 15px">','<label style="margin-bottom: 15px">'+h("Text")+"</label>",'<textarea rows="3" id="textCookies" style="resize: vertical" name="textCookies" placeholder="'+h("Paste your cookies alert message.")+'" class="form-control">'+(n.text||h("We use cookies to give you the best experience. Read our %cookie policy%").replace(/%(.+)%/,"<a href='privacy.html'>$1</a>."))+"</textarea>","</div>",'<div class="col-md-'+("2"===t?"6":"12")+'" style="margin-bottom: 15px;'+("2"===t?"":" display:none;")+'">','<label style="margin-bottom: 15px">'+h("Reject Text")+"</label>",'<input id="rejectText" style="resize: vertical" name="rejectText" placeholder="'+h("Paste your cookies alert reject button text.")+'" class="form-control" value="'+(n.rejectText||h("Reject"))+'"></input>',"</div>",'<div class="col-md-'+("2"===t?"6":"12")+'" style="margin-bottom: 15px">','<label style="margin-bottom: 15px">'+h("Accept Text")+"</label>",'<input id="buttonCookies" style="resize: vertical" name="buttonCookies" placeholder="'+h("Paste your cookies alert accept button text.")+'" class="form-control" value="'+(n.textButton||h("GOT IT"))+'"></input>',"</div>","</div>",'<iframe src="javascript:\'\'" id="iframeCookies" class="" style="width: 100%; height: 40px; border: none; margin-top: 10px">'].join("\n"),buttons:[{label:"save",default:!0,callback:function(){M(o,w("cookiesAlert"))}}],hide:function(t){},show:function(i){var t=i.find("#colorButton"),e=(t.val()||(t.val(u.projectSettings.theme.styling.primaryColor),t.parent().find(".sp-preview-inner").attr("style","background-image: none;background:"+t.val())),i.find("#rejectColor")),n=(e.val()||(e.val("#ffffff"),e.parent().find(".sp-preview-inner").attr("style","background-image: none;background:"+e.val())),e.trigger("change"),t.trigger("change"),i.find("#iframeCookies"));n.on("load",function(){var r=n.contents().find("body");n.contents().find("head");r.css("background-color","#fff"),c("#cookiesAlertTypeSwitcher").change(function(t){u.projectSettings.cookiesAlertType=t.target.value;var e=w("cookiesAlert"),n=u.$body.find(".cookiesDialog #iframeCookies");switch((u.isAMP()?l:s)(n,e),t.target.value){case"1":i.find("#textCookies").val(d),i.find("#buttonCookies").val(f),i.find("#textCookies, #buttonCookies").trigger("change"),i.find("#textCookies, #buttonCookies").trigger("keyup"),i.find("#opacityOverlay").val(0),i.find("#opacityOverlay").trigger("change"),i.find("#opacityOverlay").parent().hide(),e.customDialogSelector||(i.find("#bgOpacity").parent().show(),i.find("#bgOpacity").trigger("change"),i.find("#bgOpacity").val(100));break;case"2":i.find("#textCookies").val(p),i.find("#buttonCookies").val(m),i.find("#rejectText").val(g),i.find("#textCookies, #buttonCookies, #rejectText").trigger("change"),i.find("#textCookies, #buttonCookies, #rejectText").trigger("keyup"),i.find("#opacityOverlay").parent().hide(),i.find("#opacityOverlay").val(0),i.find("#opacityOverlay").trigger("change"),e.customDialogSelector||(i.find("#bgOpacity").parent().show(),i.find("#bgOpacity").trigger("change"),i.find("#bgOpacity").val(100));break;case"3":i.find("#textCookies").val(b),i.find("#buttonCookies").val(v),i.find("#textCookies, #buttonCookies").trigger("change"),i.find("#textCookies, #buttonCookies").trigger("keyup"),i.find("#opacityOverlay").parent().show(),i.find("#opacityOverlay").val(100),i.find("#opacityOverlay").trigger("change"),i.find("#bgOpacity").parent().hide(),i.find("#bgOpacity").trigger("change"),i.find("#bgOpacity").val(100)}"2"===t.target.value?(i.find("#buttonCookies").parent().removeClass("col-md-12"),i.find("#buttonCookies").parent().addClass("col-md-6"),i.find("#rejectColor").parent().show(),i.find("#rejectText").parent().removeClass("col-md-12"),i.find("#rejectText").parent().addClass("col-md-6"),i.find("#rejectText").parent().show()):(i.find("#buttonCookies").parent().removeClass("col-md-6"),i.find("#buttonCookies").parent().addClass("col-md-12"),i.find("#rejectColor").parent().hide(),i.find("#rejectText").parent().addClass("col-md-12"),i.find("#rejectText").parent().removeClass("col-md-6"),i.find("#rejectText").parent().hide()),M(o,w("cookiesAlert")),x(n)}),i.find("#colorText, #colorBg, #colorButton, #colorLink, #rejectColor, #opacityAlert, #cookiesAlertTypeSwitcher").on("change",function(){var t,e,n,i=w("cookiesAlert");u.isAMP()?(e=r.find(".cookie-wrapper"),n=_(a.colorBg),t="rgba($2,$3,$4,"+.01*a.bgOpacity+")",n=n.replace(/(rgba?)\(([0-9]+),\s+([0-9]+),\s+([0-9]+)(,\s+(\d?\.?\d+))?\)/,t),e.css({color:i.colorText,"background-color":n||a.colorBg}),e.find("a").css({color:i.colorLink,"text-decoration":"underline"}),e.find("button").css({"background-color":i.colorButton})):(t=i.customDialogSelector?r.find(".cookie-wrapper"):r.find("#cookiesdirective"),n=_(i.colorBg),e="rgba($2,$3,$4,"+.01*i.bgOpacity+")",n=n.replace(/(rgba?)\(([0-9]+),\s+([0-9]+),\s+([0-9]+)(,\s+(\d?\.?\d+))?\)/,e),t.css({color:i.colorText,"background-color":n}),t.find("a:not(.btn)").css({color:i.colorLink,"text-decoration":"underline"}),e=t.find("#explicitsubmit").length,n=t.find("#impliedsubmit").length,e?(t.find("#explicitsubmit")[0].setAttribute("style","margin:0 5px;"+(i.colorButton?" background-color:"+i.colorButton+" !important;color:"+y(i.colorButton)+"!important;":"")+"border-color:"+i.colorButton+" !important;border:0px solid"+i.colorButton+"; padding:5px 20px; border-radius:2px; cursor: pointer;box-shadow: 0 2px 2px 0 rgb(0 0 0 / 20%);"),t.find("#explicitreject").length&&t.find("#explicitreject")[0].setAttribute("style","margin:0 5px;"+(i.rejectColor?" background-color:"+i.rejectColor+" !important;color:"+y(i.rejectColor)+"!important;":"")+"border-color:"+i.rejectColor+" !important;border:0px solid"+i.rejectColor+"; padding:5px 20px; border-radius:2px; cursor: pointer;box-shadow: 0 2px 2px 0 rgb(0 0 0 / 20%);")):n&&(t.find("#impliedsubmit").css({"background-color":i.colorButton,color:y(i.colorButton)}),t.find("#impliedsubmit")[0].style.setProperty("background-color",i.colorButton,"important"),t.find("#impliedsubmit")[0].style.setProperty("color",y(i.colorButton),"important"))),M(o,w("cookiesAlert"))}),i.find("#opacityOverlay").on("change",function(){var t=w("cookiesAlert");r.find(".cookieOverlay").css("opacity",.01*t.opacityOverlay),M(o,w("cookiesAlert"))}),i.find("#bgOpacity").on("change",function(){var t=w("cookiesAlert"),e=r.find("#cookiesdirective"),n=_(t.colorBg),t="rgba($2,$3,$4,"+.01*t.bgOpacity+")";e.css("background-color",n.replace(/(rgba?)\(([0-9]+),\s+([0-9]+),\s+([0-9]+)(,\s+(\d?\.?\d+))?\)/,t)),M(o,w("cookiesAlert"))}),i.find("#customDialogSelector").on("change",function(t){var e=w("cookiesAlert"),n=u.$body.find(".cookiesDialog #iframeCookies");(u.isAMP()?l:s)(n,e),x(n),"3"===i.find("#cookiesAlertTypeSwitcher").val()?i.find(".opacity-overlay-wrap").show():i.find(".opacity-overlay-wrap").hide(),"1"!==i.find("#cookiesAlertTypeSwitcher").val()&&"2"!==i.find("#cookiesAlertTypeSwitcher").val()||"false"!==t.target.value?i.find(".bgopacity-wrap").hide():i.find(".bgopacity-wrap").show(),M(o,w("cookiesAlert"))}),i.find("#textCookies").on("keyup",function(){var t=r.find(".cookie-wrapper .alert-message"),e=w("cookiesAlert");t.html(this.value),t.find("a:not(.btn)").css({color:e.colorLink,"text-decoration":"underline"}),i.find("#colorText, #colorBg, #colorButton, #colorLink, #opacityAlert").trigger("change"),x(n),M(o,w("cookiesAlert"))}),i.find("#buttonCookies").on("keyup",function(){var t=r.find(".cookie-wrapper").find("#impliedsubmit, #explicitsubmit");t.is("input")?t.val(c(this).val()):t.text(c(this).val()),i.find("#colorText, #colorBg, #colorButton, #colorLink, #opacityAlert").trigger("change"),x(n),M(o,w("cookiesAlert"))}),i.find("#rejectText").on("keyup",function(){var t=r.find(".cookie-wrapper").find("#explicitreject");t.is("input")?t.val(c(this).val()):t.text(c(this).val()),i.find("#colorText, #colorBg, #colorButton, #colorLink, #opacityAlert").trigger("change"),x(n),M(o,w("cookiesAlert"))})})}}).on("shown.bs.modal",function(){var t=c("#iframeCookies");x(t),t.contents().on("click","a",function(t){t.preventDefault()})}),c("#iframeCookies").on("load",function(){var t=c("#iframeCookies"),e=t.contents().find("body");e.css({margin:0,"background-color":"transparent"}),u.isAMP()||e.append('<input name="cookieData" type="hidden">'),c.when(function(){var e=c("#iframeCookies").contents(),n=c("#iframeCookies").contents().find("head"),i=c.Deferred(),t='<link rel="stylesheet" href="'+u.theme.path+'/plugins/theme/css/style.css"/>',r=c("body .desktop").contents().find('head style[name="theme-styles"]');n.append('<link rel="stylesheet" href="assets/bootstrap/bootstrap.min.css"/>'),n.append(t),n.append(r.clone()),u.isAMP()||n.append('<link rel="stylesheet" href="assets/bootstrap-material/css/material.min.css"/>');u.isAMP()?i.resolve():((t=e[0].createElement("script")).src="assets/jquery/jquery.js",t.onload=function(){var t=e[0].createElement("script");t.src="assets/cookies-alert-plugin/cookies-alert-core.js",n[0].append(t),t.onload=function(){i.resolve()}},n[0].append(t));return i}()).then(function(){(u.isAMP()?l:s)(t,n)})})}function a(){var e=u.projectSettings.gdpr,t=M({},e);u.showDialog({title:h("Compliance GDPR"),className:"editorGDPR",size:"medium",body:['<div class="row clearfix">','<div class="app-layer-color col-md-12" style="margin-bottom: 15px" data-setting-type="color">',"<label>"+h("Text Color")+":</label>",'<input class="mbr-color" id="colorText" type="text" value='+t.colorText+">","</div>",'<div class="app-layer-color col-md-12" style="margin-bottom: 15px" data-setting-type="color">',"<label>"+h("Link Color")+":</label>",'<input class="mbr-color" id="colorLink" type="text" value='+t.colorLink+">","</div>",'<div class="col-md-12" style="margin-bottom: 15px">','<label class="col-md-3 control-label" style="padding: 0;">'+h("Underline Link")+":</label>",'<div class="togglebutton col-md-9" style="display: flex; padding: 0; justify-content: flex-end;">',"<label>",'<input type="checkbox" id="underlineLink" name="underlineLink"'+(t.underlineLink?"checked":"")+">",'<span class="toggle" style="margin: 0"></span>',"</label>","</div>","</div>",'<div class="col-md-12" style="margin-bottom: 15px">','<label style="margin-bottom: 15px">Text:</label>','<textarea rows="2" id="textareaGDPR" style="resize: vertical" placeholder="'+h("Paste your GDPR message.")+'" class="form-control">'+t.text+"</textarea>","</div>",'<div class="col-md-12">','<label style="margin-bottom: 15px">'+h("Demo")+":</label>",'<span class="gdpr-block-for-customization" style="display: block;"><label><input type="checkbox" name="gdpr" id="gdpr-input" required style="width: 15px; height: 15px; margin: 0; margin-right: 10px;"></label><span class="textGDPR display-7">'+e.text+"</span></span>","</div>","</div>"].join("\n"),buttons:[{label:"Save",default:!0,callback:function(t){M(e,w("gdpr"))}}],show:function(t){t.find("#colorText, #colorLink, #underlineLink").on("change",function(){var t=c(".gdpr-block-for-customization").find(".textGDPR"),e=w("gdpr");t.css({color:e.colorText}),t.find("a").css({color:e.colorLink,"text-decoration":"underline"})}),t.find("#textareaGDPR").on("keyup",function(){c(".gdpr-block-for-customization").find(".textGDPR").html(c(this).val()),t.find("#colorText, #colorLink, #underlineLink").trigger("change")}),t.find("#colorText").trigger("change")}})}u.regExtension({name:"cookies-alert",filters:{getPluginResource:function(t,e,n,i,r){var o,a=u.projectSettings.cookiesAlertType;return void 0!==a&&"1"!==a&&u.projectSettings.cookiesAlert&&!u.isAMP()&&(o="","js"===n&&(o=i.includes("cookies-alert")?'<script src="'+i+'"><\/script>\n':'<script type="text/plain" data-src="'+i+'"><\/script>\n',r?t.js_head=o:t.js=o),"css"===n)&&"3"===a&&(t.css='<link rel="stylesheet" data-href="'+i+'">\n'),t}},events:{load:function(){u.addFilter("sidebarProjectSettings",function(t){var e=u.projectSettings.customCookies||u.projectSettings.cookiesAlert||"",n=u.projectSettings.gdpr||"",e={title:h("Cookies Alert"),name:"cookies-alert",html:'<div class="form-group col-md-12"><div class="row" style="margin-bottom:1rem;"><label for="cookiesAlertSwitcher" class="col control-label">'+h("Enable")+'</label><div class="togglebutton col-auto"><label><input type="checkbox" name="cookiesAlert" id="cookiesAlertSwitcher" '+(""!==e?"checked":"")+'><span class="toggle" style="margin:0;"></span></label></div></div></div><div class="form-group col-md-12" style="display:'+(""!==e?"block":"none")+'"><div class="row"><div class="col-md-12 customCookiesAlert"><button class="btn btn-primary pull-right" id="customCookiesButton" type="button">'+h("Edit")+"</button></div></div></div>"},n={title:h("GDPR Compliance"),name:"gdpr-compliance",html:'<div class="form-group col-md-12"><div class="row"><label for="gdprSwitcher" class="col control-label">'+h("Enable")+'</label><div class="togglebutton col-auto"><label><input type="checkbox" name="gdpr" id="gdprSwitcher" '+(""!==n?"checked":"")+'><span class="toggle" style="margin:0;"></span></label></div></div></div><div class="form-group col-md-12" style="display:'+(""!==n?"block":"none")+'"><div class="row"><div class="col-md-12 customGdpr"><button class="btn btn-primary pull-right" id="customGdprButton" type="button">'+h("Edit")+"</button></div></div></div>"};return t.push(e),t.push(n),t}),u.addFilter("publishHTML",function(t){var e,n,i,r=u.projectSettings.cookiesAlert||"",o=u.projectSettings.cookiesAlertType||"";return t=r?u.isAMP()?(e=r.customDialogSelector?'<amp-user-notification style="height: 100vh; padding-top: 40vh; background: none;" id="amp-cookies-notification" layout="nodisplay"><div style="position: absolute; top: 0; right: 0; bottom: 0; left: 0; background-color: rgb(0, 0, 0); opacity: '+(r.opacityOverlay?.01*r.opacityOverlay:".8")+'; z-index: 999;"></div><div class="cookie-wrapper" style="position: relative; width: 100%; max-width: 500px; margin-right: auto; margin-left: auto; padding: 1rem; text-align: center; border-radius: .3rem; box-shadow: 0 10px 40px 0 rgba(0,0,0,0.2); z-index: 1000; color:'+r.colorText+"; background:"+_(r.colorBg)+';"><span class="mbr-text display-7">'+r.text.replace(/<a/gi,"<a style='color: "+r.colorLink+"; text-decoration: "+(r.underlineLink?"underline":"none")+";'")+'</span><span class="mbr-section-btn" style="display:block"><button class="btn btn-sm btn-primary display-7" on="tap:amp-cookies-notification.dismiss,amp-cookies-notification.hide" style="display: block; margin-top: 10px; margin-right: auto; margin-left: auto; cursor: pointer;'+(r.colorButton?" background-color:"+r.colorButton+"; border-color:"+r.colorButton+";":"")+'">'+(r.textButton||h("GOT IT"))+"</button></span></div></amp-user-notification>":'<amp-user-notification class="display-7" id="amp-cookies-notification" style="color:'+r.colorText+"; background:"+_(r.colorBg)+'; padding: 10px 5%; display:inline-block;text-align: center;" layout="nodisplay"><span class="display-7">'+r.text.replace(/<a/gi,"<a style='color: "+r.colorLink+"; text-decoration: "+(r.underlineLink?"underline":"none")+";'")+'</span><span class="mbr-section-btn"><button class="btn btn-sm btn-primary display-7" on="tap:amp-cookies-notification.dismiss,amp-cookies-notification.hide" style="display: inline-block; cursor: pointer; margin-left: 10px;'+(r.colorButton?" background-color:"+r.colorButton+"; border-color:"+r.colorButton+";":"")+'">'+(r.textButton||h("GOT IT"))+"</button></span></amp-user-notification>",(t=/<script.*?(?=amp-user-notification-\d\.\d\.js).*?>/.test(t)?t:t.replace("</head>",'  <script async custom-element="amp-user-notification" src="https://cdn.ampproject.org/v0/amp-user-notification-0.1.js"><\/script>\n  </head>')).replace("</body>",e+"\n </body>")):(e=["data-cookie-cookiesAlertType='"+(o||"false")+"'","data-cookie-customDialogSelector='"+(r.customDialogSelector?"#cookie-dialog":"null")+"'","data-cookie-colorText='"+r.colorText+"'","data-cookie-colorBg='"+_(r.colorBg)+"'","data-cookie-opacityOverlay='"+r.opacityOverlay+"'","data-cookie-bgOpacity='"+r.bgOpacity+"'","data-cookie-textButton='"+(r.textButton||h("GOT IT"))+"'","data-cookie-rejectText='"+(r.rejectText||h("REJECT"))+"'","data-cookie-colorButton='"+(r.colorButton||"")+"'","data-cookie-rejectColor='"+(r.rejectColor||"")+"'","data-cookie-colorLink='"+r.colorLink+"'","data-cookie-underlineLink='"+r.underlineLink+"'",'data-cookie-text="'+r.text+'"'],n=_(r.colorBg),i="rgba($2,$3,$4,"+.01*r.bgOpacity+")",n=n.replace(/(rgba?)\(([0-9]+),\s+([0-9]+),\s+([0-9]+)(,\s+(\d?\.?\d+))?\)/,i),r.customDialogSelector&&(i='<div id="cookie-dialog" style="display: none;"><div id="cookiesdirective" style="background-color:'+n+'"><div style="position: fixed; top: 0; right: 0; bottom: 0; left: 0; background-color: rgb(0, 0, 0); opacity: '+(r.opacityOverlay?.01*r.opacityOverlay:".8")+'; z-index: 9999;"></div><div style="position: fixed; top: 0; right: 0; bottom: 0; left: 0; display: flex; align-items: center; z-index: 10000"><div class="cookie-wrapper" style="font-family: sans-serif;position: relative; width: 100%; max-width: 500px; margin-right: auto; margin-left: auto; padding: 1rem; text-align: center; border-radius: .3rem; box-shadow: 0 10px 40px 0 rgba(0,0,0,0.2); color:'+r.colorText+"; background:"+_(r.colorBg)+';"><div class="mbr-text"><p class="display-7 accept-text">'+r.text.replace(/<a/gi,"<a style='color: "+r.colorLink+"; text-decoration: "+(r.underlineLink?"underline":"none")+";'")+"</p></div>"+("2"!==o&&"3"!==o?'<div class="mbr-section-btn"><a class="btn btn-sm btn-primary" style="margin:0;'+(r.colorButton?" background-color:"+r.colorButton+"!important;color:"+y(r.colorButton)+"!important":"")+'" id="impliedsubmit">'+(r.textButton||h("GOT IT"))+"</a></div>":"")+"</div></div></div></div>",t=t.replace("</body>",i+"\n  </body>")),"2"===o&&(t=(t=t.replace(/(<iframe(?![^>]*data-src=")[^>]*)(src=")/g,'$1data-src="')).replace(/<script(.*?)>/gm,function(t,e){return t.includes('type="text/plain"')||t.includes("cookies-alert")?t:'<script type="text/plain"'+e.replace(" src"," data-src")+">"})),(t="3"===o?(t=t.replace(/(<(?:iframe|object|embed|img)(?![^>]*data-src=")[^>]*)(src=")/g,'$1data-src="')).replace(/<script(.*?)>/gm,function(t,e){return t.includes('type="text/plain"')||t.includes("cookies-alert")?t:'<script type="text/plain"'+e.replace(" src"," data-src")+">"}):t).replace("</body>",'<input name="cookieData" type="hidden" '+e.join(" ")+">\n  </body>")):t}),u.Core.addFilter("loadComponentTemplate",function(t,e,n,i){return(e._customHTML&&e._customHTML.indexOf("</form>")||e.form)&&(t=t.replace("</form>",r()+"</form>")),n&&!u.projectSettings.gdpr&&-1!==t.indexOf(r())&&(e=new RegExp(r(),"gi"),t=t.replace(e,"")),t}),u.registerAmpPlugin(["gdpr-plugin"])},shownSidebarProjectSettings:function(t,e){c("#cookiesAlertSwitcher").change(function(){c(this).prop("checked")?(u.projectSettings.cookiesAlert=M({},i),o(),c(".customCookiesAlert").parents(".form-group").show()):(delete u.projectSettings.cookiesAlert,delete u.projectSettings.cookiesAlertType,c(".customCookiesAlert").parents(".form-group").hide())}),c("#customCookiesButton").click(o),c("#gdprSwitcher").change(function(){c(this).prop("checked")?(u.projectSettings.gdpr=M({},n),a(),c(".customGdpr").parents(".form-group").show()):(delete u.projectSettings.gdpr,c(".customGdpr").parents(".form-group").hide())}),c("#customGdprButton").click(a)},loadedProject:function(){var t;if(u.projectSettings.gdpr&&"string"==typeof u.projectSettings.gdpr&&((t=M({},n)).text=u.projectSettings.gdpr,u.projectSettings.gdpr=M({},t)),u.projectSettings.cookiesAlert&&"string"==typeof u.projectSettings.cookiesAlert&&((e=M({},i)).text=u.projectSettings.cookiesAlert,u.projectSettings.cookiesAlert=M({},e)),u.projectSettings.customCookies&&"object"===s(u.projectSettings.customCookies)){if(u.projectSettings.cookiesAlert&&"object"===s(!!u.projectSettings.cookiesAlert))return void(u.projectSettings.cookiesAlert=M(u.projectSettings.cookiesAlert,u.projectSettings.customCookies),delete u.projectSettings.customCookies);var e=M({},i);e=M(e,u.projectSettings.customCookies),u.projectSettings.cookiesAlert=M({},e),delete u.projectSettings.customCookies}u.projectSettings.cookiesAlert&&u.projectSettings.cookiesAlert.colorButton&&!u.projectSettings.cookiesAlert.hasOwnProperty("customDialogSelector")&&"#ffffff"===u.projectSettings.cookiesAlert.colorButton&&delete u.projectSettings.cookiesAlert.colorButton}}})},["jQuery","mbrApp","TR()"])},function(t,e,n){"use strict";defineM("app-plugin-projects-presets",function(l,f,c,u){function a(s,e){return new Promise(function(o,i){var t,a;t=t=(t=(t=e).filter(function(t){return t.themeName===s.name})).map(function(t){return function(t){var e,n,i,r,o=t.presetsList,a=[],s=void 0;for(n in s=t.local?(e=f.getAddonDir(t.themeName),u.path2app(e)):"https://my.mobirise.com/data/upload/thumbs/"+t.themeName,o)o.hasOwnProperty(n)&&a.push((r=o[i=n],'<div class="column column-preset col-xs-6 col-sm-4 col-md-4 col-lg-3" data-local=\''+t.local+"' data-theme='"+t.themeName+"' namepreset=\""+i+'" titlepreset="'+r.title+'">\n                                       <div class="column-content">\n                                            <div class="wrapper-img">\n                                                <img src="'+s+"/projects/"+i+'/cover.jpg">\n                                            </div>\n                                            <div class="wrapper-name">\n                                                <span>'+r.title+"</span>\n                                            </div>\n                                       </div>\n                                    </div>"));return a}(t).join("")}),t='<div class="main-wrapper">\n                            <div class="row form-group">\n                                <div class="search-preset-wrap col-xs-12 col-sm-4">\n                                    <input class="search-preset-input form-control" type="text" placeholder="'+c("Search")+'" value="">\n                                </div>\n                            </div>\n                            <div class="row">\n                                <div class="columns">\n                                    <div class="column-options">\n                                        <div class="column column-option plus col-xs-6 col-sm-4 col-md-4 col-lg-3">\n                                            <div class="column-content">\n                                                <div class="wrapper-icon">\n                                                    <i class="mbr-icon-file"></i>\n                                                </div>\n                                                <div class="wrapper-name">\n                                                    <span>Add Blank Page</span>\n                                                </div>\n                                            </div>\n                                        </div>\n                                    </div>\n                                    <div class="columns-presets">\n                                        '+t.join("\n")+"\n                                    </div>\n                                </div>\n                            </div>\n                        </div>",a=f.showDialog({title:c("Choose Template for $nameTheme$ Theme").replace("$nameTheme$",s.title),className:"presets-site-modal",body:t,create:function(t){l(t).find(".columns-presets").on("click",".column-preset",function(){var n,t,e,i,r;"false"===l(this).attr("data-local")?(t=l(this),n=t,t="",e=f.getUserInfo(),i=n.attr("data-theme"),r=n.attr("data-theme"),e&&e.email&&(t=e.email),f.confirmDlg({message:c("The $extension$ theme isn't available for your account").replace("$extension$",r?"<strong>"+r+"</strong>":"")+(t?" "+t+"<br>":".<br>")+c("If the theme is installed, please reinstall it."),buttons:{cancel:{label:c("Cancel"),className:"btn-default"},confirm:{label:c("Upgrade"),className:"btn-primary"}},callback:function(t){var e;t&&((t=f.AddonsRegistry.get(i)).get("downloadURL")&&!t.isExpired()?(e=l(f.preloaderHTML).css({position:"fixed",opacity:"0.8",transition:"0.2s"}).appendTo(".presets-site-modal"),f.downloadAddon(t.toJSON()).done(function(){n.attr("data-local","true"),n.click()}).fail(function(){f.showError(c("Error add extension")+' "'+r+'"')}).always(function(){e.remove()})):f.goToBuyPremium())}})):(a.modal("hide"),s.titlePreset=l(this).attr("titlepreset"),s.nameSelectPreset=l(this).attr("namepreset"),s.presetSourceTheme=l(this).attr("data-theme"),o(s))}),l(t).find(".column-options").on("click",".column-option",function(){l(this).hasClass("plus")?(a.modal("hide"),o(void 0)):l(this).hasClass("features")&&(f.showAddonsList(),a.modal("hide"),i())});var e=l(t).find(".columns-presets > .column-preset");var n=f.stopIfRepeatDecorator(function(t){var n=t.target.value.toLowerCase();e.each(function(t,e){e=l(e);e.attr("titlepreset").toLowerCase().includes(n)?e.removeClass("hidden"):e.addClass("hidden")})},100);l(t).find(".search-preset-input").on("input",function(t){return n(t)}),u.isMobile||l(t).on("shown.bs.modal",function(){l(t).find(".search-preset-input").focus()})}}).on("hidden.bs.modal",function(){f.hidePreloader()})})}f.regExtension({name:"app-plugin-projects-presets",global:{},events:{load:function(){f.presetsList=[],f.on(["deletedAddon","downloadedAddon","redeemActivated","importedAddon"],function(){f.presetsList=[]}),f.addFilter("promiseChosenTheme",function(t){return t.then(function(o){return new Promise(function(e,n){var i,t=o.name.endsWith("amp"),r=f.presetsList;1<r.length&&r[0].themeName.endsWith("amp")===t?(r=r.filter(function(t){return void 0!==t}).sort(function(t,e){return t.themeName===o.name||e.themeName!==o.name&&t.local?-1:1}),a(o,r).then(function(t){return e(t||o)},function(){return n()})):(i=l(f.preloaderHTML).css({position:"fixed",opacity:"0.8",transition:"0.2s"}).appendTo(".create-site-modal"),t=f.getAddonDir(o.name)+"/projects/list.json",u.getLocalJSON(t,function(t){if(!(r=[{themeName:o.name,presetsList:t,local:!0}]).length)return i.remove(),e();a(o,r).then(function(t){return e(t||o)},function(){return n()}),i.remove()}))})})}),f.addFilter("promiseDefaultProject",function(t,e,a){return a.nameSelectPreset?t.then(function(o){return new Promise(function(e){var n,i,t,r=f.getAddonDir(a.presetSourceTheme);i=function(t){e(t||o)},t=(n=a).nameSelectPreset,u.loadLocalFile(r+"/projects/"+t+"/project.mobirise",function(t){try{t=l.parseJSON(t)}catch(t){return console.error("File 'project.mobirise' is missing!"),i()}if((t=function(e,t){if(1!==Object.keys(e.pages).length)return new Error("Error! Preset could not be loaded (> 1 page)");var n,i=void 0;for(n in e)if(e.hasOwnProperty(n))if("settings"===n){var r,o=e[n];for(r in o)if(o.hasOwnProperty(r))if("theme"===r){var a,s=o[r];for(a in s)s.hasOwnProperty(a)&&("name"===a?(i=s[a],s[a]=t.name):"title"===a?s[a]=t.title:"styling"!==a&&delete s[a])}else"currentPage"===r?o[r]="index.html":delete o[r]}else if("pages"===n){var l,c,u=e[n];for(l in u)u.hasOwnProperty(l)&&(c=u[l],"index.html"!==l&&(c=u["index.html"]=u[l],delete u[l]),c.settings=p.pages["index.html"].settings)}var h=JSON.stringify(e),d="startm5"!==i?f.getAddonDir(i):"..";h=h.replace(/@THEME_PATH@/g,f.path2core(d)),"startm5"!==f.theme.name&&(h=h.replace(/=\\"..\//g,'=\\"'+d+"/components/"));try{h=JSON.parse(h)}catch(t){console.error(t),h=e}return h}(t,n))instanceof Error)return console.error(t.message),i();i(t)})})}):t})}}});var p={pages:{"index.html":{settings:{main:!0,title:"Home",meta_descr:"",header_custom:"",footer_custom:"",html_before:""},components:[]}}}},["jQuery","mbrApp","TR()","Bridge"])},function(t,e,n){"use strict";var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n,i=arguments[e];for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t};function a(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}defineM("app-plugin-page-presets",function(h,d,f,p){function o(n){return n=n.filter(function(t){return t.themeName===d.theme.name}),new Promise(function(u,r){function e(t,e){var i=1<arguments.length&&void 0!==e?e:{},e=t.map(function(t){return function(t){var e,n,i,r,o=t.presetsList,a=[],s=void 0;for(n in s=t.local?(e=d.getAddonDir(t.themeName),p.path2app(e)):"https://my.mobirise.com/data/upload/thumbs/"+t.themeName,o)o.hasOwnProperty(n)&&a.push((r=o[i=n],'<div class="column column-preset col-xs-6 col-sm-4 col-md-4 col-lg-3" data-local=\''+t.local+"' data-theme='"+t.themeName+"' namepreset=\""+i+'" titlepreset="'+r.title+'">\n\t                                   <div class="column-content">\n\t                                        <div class="wrapper-img">\n\t                                            <img src="'+s+"/projects/"+i+'/cover.jpg">\n\t                                        </div>\n\t                                        <div class="wrapper-name">\n\t                                            <span>'+r.title+"</span>\n\t                                        </div>\n\t                                   </div>\n\t                                </div>"));return a}(t).join("")}),e=(t=e,e=Boolean(i.aiTheme),'<div class="main-wrapper">\n\t                        <div class="row form-group">\n\t                            <div class="search-preset-wrap col-xs-12 col-sm-4">\n\t                                <input class="search-preset-input form-control" type="text" placeholder="'+f("Search")+'" value="">\n\t                            </div>\n\t                        </div>\n\t                        <div class="row">\n\t                            <div class="columns">\n\t                                <div class="column-options">\n\t                                    <div class="column column-option plus col-xs-6 col-sm-4 col-md-4 col-lg-3">\n\t                                        <div class="column-content">\n\t                                            <div class="wrapper-icon">\n\t                                                <i class="mbr-icon-file"></i>\n\t                                            </div>\n\t                                            <div class="wrapper-name">\n\t                                                <span>Add Blank Page</span>\n\t                                            </div>\n\t                                        </div>\n\t                                    </div>\n\t                                    '+(e?'<div class="column column-option col-xs-6 col-sm-4 col-md-4 col-lg-3">\n\t                                        <div class="column-content ai-page project-element-panel">\n\t                                            <div class="ai-counter" style="position:absolute;background-color:#40b0bf;right:5px;top:5px;border-radius:50px;">\n\t                                                <span style="padding:10px;color:#fff">$STATUS$</span>\n\t                                            </div>\n\t                                            <div class="wrapper-icon">\n\t                                                <i class="mbr-icon-sparkles"></i>\n\t                                            </div>\n\t                                            <div class="wrapper-name">\n\t                                                <span>'+f("Create with Mobirise AI")+"</span>\n\t                                            </div>\n\t                                        </div>\n\t                                    </div>":"")+'\n\t                                </div>\n\t                                <div class="columns-presets">\n\t                                    '+t.join("\n")+"\n\t                                </div>\n\t                            </div>\n\t                        </div>\n\t                    </div>"),e=d.getAiSitesCount(e);d.showDialog({title:f("Choose Template for Page"),className:"presets-page-modal",body:e,create:function(c){h(c).find(".columns-presets").on("click",".column-preset",function(){var n,t,i,r,o,e,a,s,l;"false"===h(this).attr("data-local")?(t=h(this),n=t,t="",e=d.getUserInfo(),i=n.attr("data-theme"),r=n.attr("data-theme"),e&&e.email&&(t=e.email),d.confirmDlg({message:f("The $extension$ theme isn't installed or isn't available for your account").replace("$extension$",r?"<strong>"+r+"</strong>":"")+(t?" "+t+"<br>":".<br>")+f("If the theme is installed, please reinstall it."),buttons:{cancel:{label:f("Cancel"),className:"btn-default"},confirm:{label:f("Install $theme title$").replace("$theme title$",r),className:"btn-primary"}},callback:function(t){var e;t&&((t=d.AddonsRegistry.get(i)).get("downloadURL")&&!t.isExpired()?(e=h(d.preloaderHTML).css({position:"fixed",opacity:"0.8",transition:"0.2s"}).appendTo(".presets-page-modal"),d.downloadAddon(t.toJSON()).done(function(){n.attr("data-local","true"),n.click()}).fail(function(){d.showError(f("Error add extension")+' "'+r+'"')}).always(function(){e.remove()})):d.openUrl("https://mobirise.com/extensions/kit/"))}})):(o=h(d.preloaderHTML).css({position:"fixed",opacity:"0.8",transition:"0.2s"}).appendTo(".presets-page-modal"),e=h(this).attr("data-theme"),a=h(this).attr("namepreset"),s=d.getAddonDir(e),l=s+"/projects/"+a+"/assets",d.theme.name===e?p.dirList(l,function(t){p.dirList(d.projectPath+"/assets",function(e){var n=t.filter(function(t){return!e.includes(t)}),i=0;n.length?n.forEach(function(t){p.copyLocal(l+"/"+t,d.projectPath+"/assets/"+t,function(t){++i===n.length&&m(s,a,function(t){u(t),o.remove(),h(c).modal("hide")})})}):m(s,a,function(t){u(t),o.remove(),h(c).modal("hide")})})}):p.copyLocal(l,d.projectPath+"/assets",function(){m(s,a,function(t){u(t),o.remove(),h(c).modal("hide")})}))}),h(c).find(".column-options").on("click",".column-option",function(){h(c).modal("hide"),h(this).hasClass("plus")?u(void 0):h(this).hasClass("features")?(d.showAddonsList(),r()):h(this).find(".ai-page")&&d.checkAiLimits().then(function(t){if(!t)return d.goToBuyPremium({alert:!1});t=d.projectSettings.ai&&d.projectSettings.ai.prompt;d.createExtraAiPage(t,i.aiTheme&&{theme:i.aiTheme.name}).then(function(t){var e=d.Core.getMainPage().components.filter(function(t){return t._global});u([].concat(a(t.components.filter(function(t){return!t._global})),a(e)))}).catch(function(t){return console.log(t)})})});var e=h(c).find(".columns-presets > .column-preset");var n=d.stopIfRepeatDecorator(function(t){var n=t.target.value.toLowerCase();e.each(function(t,e){e=h(e);e.attr("titlepreset").toLowerCase().includes(n)?e.removeClass("hidden"):e.addClass("hidden")})},100);h(c).find(".search-preset-input").on("input",function(t){return n(t)}),p.isMobile||h(c).on("shown.bs.modal",function(){h(c).find(".search-preset-input").focus()})}})}d.getAiTheme(d.theme.name).then(function(t){e(n,{aiTheme:t})})})}function m(t,e,n){p.loadLocalFile(t+"/projects/"+e+"/project.mobirise",function(t){try{t=h.parseJSON(t)}catch(t){return console.error("File 'project.mobirise' is missing!"),n()}if((t=function(t){if(1!==Object.keys(t.pages).length)return new Error("Error! Preset could not be loaded (> 1 page)");var e,n=t.pages,i=void 0;for(e in n){i=n[e].components;break}if(!i)return new Error("Error! Empty page found.");var r=JSON.stringify(i),o="mobirise5"!==(a=t.settings.theme.name)&&"startm5"!==a?d.getAddonDir(a):"..",a=(r=(r=r.replace(/@THEME_PATH@/g,d.path2core(o))).replace(/\@PROJECT_PATH\@(\/project\.mobirise)+/g,"@PROJECT_PATH@"),d.path2core(d.getAddonDir(a)+"/projects/"+t.name));r=r.replace(/\@PROJECT_PATH\@/g,a),"mobirise5"!==d.theme.name&&"startm5"!==d.theme.name&&(r=r.replace(/=\\"..\//g,'=\\"'+o+"/components/"));try{r=JSON.parse(r)}catch(t){console.error(t),r=i}return r}(i(t,{name:e})))instanceof Error)return console.error(t.message),n();n(t)})}d.regExtension({name:"app-plugin-page-presets",global:{},events:{load:function(){d.addFilter("getPagePreset",function(t){return t.then(function(){return new Promise(function(e,n){var i,t=d.theme.name.endsWith("amp"),r=d.presetsList;r.length&&r[0].themeName.endsWith("amp")===t?o(r=r.filter(function(t){return void 0!==t}).sort(function(t,e){return t.themeName===d.theme.name||e.themeName!==d.theme.name&&t.local?-1:1})).then(function(t){return e(t)},function(){return n()}):(i=h(d.preloaderHTML).css({opacity:"0.8",transition:"0.2s"}).appendTo("body"),t=d.getAddonDir(d.theme.name)+"/projects/list.json",p.getLocalJSON(t,function(t){if(!(r=[{themeName:d.theme.name,presetsList:t,local:!0}]).length)return i.remove(),e();o(d.presetsList=r).then(function(t){return e(t)},function(){return n()}),i.remove()}))})})})}}})},["jQuery","mbrApp","TR()","Bridge"])},function(t,e,n){"use strict";var p=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n,i=arguments[e];for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},m=i(n(76)),g=i(n(475));function i(t){return t&&t.__esModule?t:{default:t}}function b(t){return function(){var s=t.apply(this,arguments);return new Promise(function(o,a){return function e(t,n){try{var i=s[t](n),r=i.value}catch(t){return void a(t)}if(!i.done)return Promise.resolve(r).then(function(t){e("next",t)},function(t){e("throw",t)});o(r)}("next")})}}defineM("app-plugin-mobirise-ai",function(a,c,t,s){var i={},n={},l={status:!0,projectLoaded:!1},e=void 0,r='<div class="col-xs-12">\n            <div class="app-new-mobirise-ai project-element-panel">\n                <div class="ai-counter" style="position:absolute;background-color:#40b0bf;right:5px;top:5px;border-radius:50px;">\n                    <span style="padding:10px;color:#fff">$STATUS$</span>\n                </div>\n                <div class="project-img">\n                    <i class="mbr-icon-sparkles"></i>\n                </div>\n                <div class="project-body app-mobirise-ai" style="height:70px;text-align:center;">\n                    <h3 style="margin-top:15px; margin-bottom:15px;" class="app-mobirise-ai-label">'+s("Create with Mobirise AI")+"</h3>\n                </div>\n            </div>\n        </div>";function o(t){i.limit===i.used&&i.isExceeded&&(t=t.replace('project-element-panel">','project-element-panel disabled">'));var e=i.limit-i.used,n=1==e?"generation":"generations";switch(i.period){case"currentMonth":t=t.replace("$STATUS$",e+" "+n+" left this month");break;case"allTime":t=t.replace("$STATUS$",e+" "+n+" left");break;default:t=t.replace("$STATUS$","Unlimited")}return t}function u(t){var e=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).ttl,n=void 0===e?1/0:e,i=void 0,r=void 0,o=void 0,a=!1;function s(){return!l.projectLoaded&&a&&o>Date.now()?Promise.resolve(i):r=r||t().then(function(t){return i=t,a=!(l.projectLoaded=!1),r=null,o=Date.now()+n,i},function(t){throw r=null,t})}return s.clearCache=function(){i=null,a=!1},s}var h=u(function(){return t._REST("me/stats").then(function(t){return n=t.sitesUsage,t})},{ttl:3e5}),d=u(function(){return m.default.request("/v2/me/stats").then(function(t){return i=t.pageGenerationUsage,t})},{ttl:3e5}),f=u(function(){return c.isPremiumUser().then(function(t){return t})},{ttl:3e5});c.regExtension({name:"plugin-mobirise-ai",global:{newAiProjectModal:function(){var i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},r=c.showDialog({title:i.title||s("Create with Mobirise AI"),className:"create-site-modal presets-site-project modal-fs",body:'<div class="row justify-content-center">\n                            <form class="project-create-ai-form col-md-6 col-md-offset-3">\n                                <div class="form-group">\n                                    <label\n                                        style="font-size:1.8rem;"\n                                        class="control-label"\n                                        for="mobirise-ai-prompt">'+(i.description||s("Describe in detail what your site will be about, what it will offer, who is behind it, your benefits and specialties. You can write in any language."))+'\n                                    </label>\n                                    <textarea\n                                        rows="7"\n                                        style="font-size:1.8rem;"\n                                        id="mobirise-ai-prompt"\n                                        placeholder="'+(i.placeholder||s("We are Craft22, a team of skilled artisans from Brooklyn, NY.  We offer a wide range of handmade crafts, from custom jewelry to home decor."))+'"\n                                        class="form-control">'+(i.prompt||"")+'</textarea>\n                                    <small class="text-warning" style="display:none;">'+s("Minimum 32 characters")+'\'</small>\n                                </div>\n                                <div style="display:flex; justify-content: space-between; align-items: center" class="form-group">\n                                    <a style="display:'+(i.hideRecents?"none":"block")+'" class="view-generation-link" style="text-decoration:underline; cursor: pointer">'+s("View recent generations")+'</a>\n                                    <button style="text-transform:none;" class="btn btn-primary" type="submit" id="mobirise-ai-generate" disabled>'+s("Generate")+'</button>\n                                </div>\n                            </form>\n                            <div class="col-md-6 col-md-offset-3" style="margin-bottom:2rem; margin-top:2rem; display:none" id="generatedSites">\n                                <div class="generated-sites-inner"></div>\n                            </div>\n                        </div>',show:function(t){var e=t.find(".view-generation-link"),n=t.find("#generatedSites"),i=!1,e=e[0],r=n[0],n=t[0].querySelector(".modal-dialog");n.style.minHeight="100vh",n.style.height="auto",e.addEventListener("click",function(t){i=!i,t.target.innerText=s(i?"Hide recent generations":"View recent generations"),i?(r.style.display="block",setTimeout(function(){r.classList.add("show")},10)):(r.classList.remove("show"),r.addEventListener("transitionend",function(){r.style.display="none"},{once:!0}))})},oncancel:function(){document.body.querySelector("#mobirise-ai-loading-state")&&document.body.querySelector("#mobirise-ai-loading-state").remove()}}),t=r.find(".modal-content"),e=r.find(".modal-body");function o(){return!1}t.length&&(t[0].style.display="flex",t[0].style.flexDirection="column",t[0].style.height="100vh"),e.length&&(e[0].style.overflowY="auto",e[0].style.flexDirection="column",e[0].style.height="100vh",e[0].style.justifyContent="center",e[0].style.alignContent="center",e[0].style.alignItems="center",e[0].style.flexGrow="1",e[0].style.flexShrink="1",e[0].style.flexBasis="auto"),a(r).on("shown.bs.modal",function(t){new m.default.getProjects({dialogElement:r,callbacks:void 0,TR:s,checkIsCanceled:o}).init();var n=a(t.target),e=n.find(".project-create-ai-form"),t=t.target.querySelector("#mobirise-ai-prompt");n.find(".close").css("position","fixed"),n.find(".close").css("transform","translateZ(15px)"),n.find(".close").css("right","25px"),n.find(".close").css("z-index","10"),n.find("small").hide(),i.onShow&&i.onShow(this),t.addEventListener("keyup",function(t){0!=t.target.value.length?e.find("button").removeAttr("disabled"):e.find("button").attr("disabled","disabled")}),e.submit(function(t){t.stopPropagation(),t.preventDefault(),n.find("small").hide();var e=t.target[0].value;e.length<=10?(n.find("small").text(s("Your prompt is too short, add more details.")),n.find("small").show(),setTimeout(function(){n.find("small").hide()},5e3)):1e3<=e.length?(n.find("small").text(s("Your prompt is too long, shorten it.")),n.find("small").show(),setTimeout(function(){n.find("small").hide()},5e3)):c.getUserAiStats().then(function(t){if(t.pageGenerationUsage.isExceeded)throw p(new Error("AI page generation quota exceeded. Upgrade your plan"),{code:"FeatureNotAvailable"});return f()}).then(function(t){return i.onSubmit?i.onSubmit({dialog:r,isCanceled:o,isPremium:t}):(t={mode:"onClient",clientPrompt:e,loaderNode:n[0]},m.default.multipleGenerator.start(t))}).catch(function(t){c.alertDlg(t.message||t||"Server Error"),"FeatureNotAvailable"===t.code&&c.goToBuyPremium({alert:!1})}).finally(function(){return a(r).remove()})})})},getUserAiStats:function(){return d()},getUserMbrStats:function(t){return h(t)},createCachingWrapper:u,createExtraAiPage:function(n){return new Promise(function(r,t){var e;c.newAiProjectModal({title:s("Create new page with Mobirise AI"),description:s("Describe the page you want to create for your project."),prompt:n,hideRecents:!0,onShow:function(t){n&&a(t).find("#mobirise-ai-prompt").focus().val("").val(n+"\n\n")},onSubmit:(e=b(regeneratorRuntime.mark(function t(){var e,n,i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=i.dialog.find("#mobirise-ai-prompt").val(),t.next=3,g.default.start({prompt:e});case 3:e=t.sent,n=c.substProject(e,c.projectPath),r(n.pages["index.html"]||{});case 6:case"end":return t.stop()}},t,this)})),function(){return e.apply(this,arguments)}),onHide:function(){t()}})})},getAiSitesCount:o,checkAiLimits:function(){return new Promise(function(t){return"allTime"===i.period&&i.isExceeded&&i.used>=i.limit?(c.showDialog({title:s("Limit reached"),body:s("You have reached the limit of AI site generations. Upgrade your plan to get more generations and premium features."),buttons:{btClose:{label:s("OK"),className:"btn-info",callback:function(){}},btSave:{label:s("UPGRADE"),default:!0,className:"btn-primary",callback:function(){c.goToBuyPremium({alert:!1}),gtag("event","ai_upgrade_click",{event_category:"engagement",dom_source:"limit_modal"})}}}}),t(!1)):"currentMonth"===i.period&&i.isExceeded&&i.used>=i.limit?(c.showDialog({title:s("Mobirise AI"),body:s("You have reached your monthly limit"),buttons:{btSave:{label:s("Ok"),default:!0,callback:function(){}}}}),t(!1)):t(!0)})},getAiThemes:function(){return e?Promise.resolve(e):m.default.request("/v2/themes").then(function(t){return e=t})},getAiTheme:function(l){return c.getAiThemes().catch(function(t){return console.log(t),[]}).then(function(t){var e=void 0,n=!0,i=!1,r=void 0;try{for(var o,a=t[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;s.isAvailable&&c.normalizeAiThemeName(s.name)===l&&(e=s)}}catch(t){i=!0,r=t}finally{try{!n&&a.return&&a.return()}finally{if(i)throw r}}return e})},normalizeAiThemeName:function(t){return t.split("-next").shift()}},events:{showedProjectsList:function(e){e.on("click",".app-new-mobirise-ai, .app-new-project",function(t){t.preventDefault(),t.stopPropagation();var e=0<a(t.target).closest(".app-new-mobirise-ai").length,t=0<a(t.target).closest(".app-new-project").length;e?c.checkAiLimits().then(function(t){t&&(n.isExceeded&&!n.isUnlimited?c.showDialog({title:s("Limit Reached"),className:"",body:"\n                                    <p>"+s("You have reached the limit of online sites created. Remove some sites to create new ones or upgrade your plan.")+"</p>",buttons:{cancel:{label:s("OK"),className:"btn-info",callback:function(){}},confirm:{label:s("UPGRADE"),className:"btn-primary",callback:function(){c.goToBuyPremium({alert:!1}),gtag("event","ai_upgrade_click",{event_category:"engagement",dom_source:"limit_modal"})}}},show:function(t){}}):c.newAiProjectModal())}):t&&n.isExceeded&&!n.isUnlimited&&c.showDialog({title:s("Limit Reached"),className:"",body:"<p>"+s("You have reached the limit of online sites created. Remove some sites to create new ones or upgrade your plan.")+"</p>",buttons:{cancel:{label:s("OK"),className:"btn-info",callback:function(){}},confirm:{label:s("UPGRADE"),className:"btn-primary",callback:function(){c.goToBuyPremium({alert:!1})}}}})}),c.getUserMbrStats(e).then(function(t){t=(n=t.sitesUsage).isUnlimited?"Unlimited":n.used+" of "+n.limit+" sites created";e.find(".app-new-project .create-site-counter").length?e.find(".app-new-project .create-site-counter span").html(t):(usedSitesCounter.find("span").html(t),e.find(".app-new-project").append(usedSitesCounter)),a(".app-new-project").toggleClass("disabled",!n.isUnlimited&&n.isExceeded),c.getUserAiStats().then(function(t){i=t.pageGenerationUsage;t=!n.isUnlimited&&n.isExceeded||i.isExceeded&&i.used>=i.limit;a(".app-new-mobirise-ai").toggleClass("disabled",t)})})},loadedProject:function(){l.status=!0,l.projectLoaded=!0,h.clearCache(),f(),c.getUserAiStats().then(function(t){var e="";switch((i=t.pageGenerationUsage).isUnlimited&&(e="Pro"),i.period){case"currentMonth":e="Start AI";break;case"allTime":e="Free AI"}var n='<div class="sidebar-ai-panel hover-block">\n                            <h4 class="sidebar-ai-planname">'+e+'</h4>\n                            <span class="sidebar-ai-generation-count hover-block-sub" style="margin-top:0;padding-top:5px">$STATUS$</span>\n                            '+("Free AI"===e?'<button class="btn btn-help btn-animated" type="button">Upgrade</button>':"")+"\n                        </div>";switch(i.period){case"currentMonth":n=n.replace("$STATUS$",i.limit-i.used+" left this month");break;case"allTime":n=n.replace("$STATUS$",i.limit-i.used+" generations left");break;default:n=n.replace("$STATUS$","Unlimited")}c.$sidebar.find(".sidebar-ai-panel").length||(c.$sidebar.append(a(n)),c.$sidebar.find(".sidebar-ai-panel .btn").on("click",function(){c.goToBuyPremium({alert:!1,delay:!1}),gtag("event","ai_upgrade_click",{event_category:"engagement",dom_source:"sidebar"})}))})},sidebarOpened:function(){c.$sidebar.find(".sidebar-ai-panel .sidebar-ai-planname, .sidebar-ai-panel .sidebar-ai-generation-count").each(function(t,e){a(e).on("click",function(){c.userLicenses.show()})})},removedProject:function(){h.clearCache(),h().then(function(t){t=(n=t.sitesUsage).isUnlimited?"Unlimited":n.used+" of "+n.limit+" used";a(".app-new-project .create-site-counter").length?a(".app-new-project .create-site-counter span").html(t):(usedSitesCounter.find("span").html(t),a(".app-new-project").append(usedSitesCounter)),a(".app-new-mobirise-ai, .app-new-project").toggleClass("disabled",!n.isUnlimited&&n.isExceeded),l.status=!1}).catch(function(t){console.error("Failed to update stats:",t)})},addedPage:function(){c.getUserAiStats().then(function(t){i=t.pageGenerationUsage})}},filters:{showProjectsListStart:function(t){return t+o(r)}}})},["jQuery","mbrApp","Bridge","TR()"])},function(t,e,n){"use strict";var I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n=n(76),D=(n=n)&&n.__esModule?n:{default:n};defineM(function(u,h,d,s,n){var l="mbrsite",t="mobirisesite.com",c="r."+t,i="en",e=new RegExp("^(.+?)\\."+t.replace(/\./g,"\\.")+"$"),f={};function p(t){t.stopPropagation();var e=u(t.target).closest(".project-element"),t=e.find(".project-domain").text();h.confirmDlg(d("There is no local copy of the site, do you want to download it from $url$?").replace("$url$",'<a href="#" class="mbrsite-delete-link">'+t+"</a>"),function(t){var r;t&&(r=u(h.preloaderHTML).appendTo(".show-site-list-modal").on("click",function(t){t.stopPropagation()}),s.initProject(function(t,o){var a,n,i;!t&&o&&o.path?(a=e.attr("site-id"),n=e.attr("site-domain"),i=o.path+"/project.mobirise",g.Api.get("sites/"+a+"/files/").then(function(t){t&&t.contents&&t.contents.length?(t=t.contents.filter(function(t){return t.startsWith("assets/images/")||"project.mobirise"===t}),u.when.apply(u,t.map(function(t){return n=t,i=u.Deferred(),r="https://"+c+"/"+a+"/"+n,s.download3(r,{callback:function(t){var e;t&&"Incorrect status code"!==t?(e=o.path+"/"+n,s.moveLocal(t,e,function(t){t?i.resolve():i.reject("error getting file: "+r)})):i.reject("error getting file: "+r)}}),i.promise();var n,i,r})).then(function(){return s.getLocalJSON(i)},function(t){console.error(t)}).then(function(e){var t;e?(t=new g({id:a,domain:n,protocol:l}),e.settings[l]=t.toString(),delete e.settings.screenshot,h.runSaveProject(function(t){t||console.error("Error: unable to save current project"),h.loadProject(i,e,{onError:function(t){h.showError(d("Error loading project")+": "+t),r.remove()},onDone:function(){h.closeSidebar(),r.remove()}})},!1)):r.remove()},function(t){h.showError(d("Error loading project")+": "+t),r.remove()})):(h.showError(d("Can't download the site because it was published incorrectly.")),r.remove())})):(h.showError(d("Unable to init project")),r.remove())}))}).find(".mbrsite-delete-link").click(function(t){t=t.target.textContent;h.openUrl(t)})}function m(t){t.stopPropagation();var e=u(h.preloaderHTML).on("click",function(t){t.stopPropagation()}),n=u(t.target).closest(".project-element"),i=n.attr("site-id"),t=n.attr("site-domain"),r=new g({id:i,domain:t,protocol:l});(t=h.confirmDlg({message:d("Do you want to remove the domain $domain$? Your site will be completely removed from the Web.").replace("$domain$",'<a href="#" class="mbrsite-delete-link">'+h.escapeHtml(r.get("domain"))+"</a>").replace("?","?<br>"),callback:function(t){t&&(e.appendTo(".show-site-list-modal"),r.delete().then(function(){n.remove();for(var t=0;t<f.items.length;t++)if(f.items[t].id===parseInt(i)){f.items.splice(t,1),--f.count;break}},function(t){h.showError(d("Error removing site")+": "+t)}).always(function(){e.remove()}))},buttons:{cancel:{label:d("Cancel")},confirm:{label:d("Remove")}}})).find(".modal-footer .btn-primary").removeClass("btn-primary").addClass("btn-danger"),t.find(".mbrsite-delete-link").click(function(){h.openUrl(r.getUrl())})}o.size=function(t){var e=t.content.length;return 0==t.encoding.indexOf("base64")?!e||e%4?0:3*(e/4-1)+atob(t.content.substr(-4)).length:"utf8"==t.encoding?e+(encodeURIComponent(t.content).match(/%[89ABab]/g)||[]).length:e};var r=o;function o(t){this.content=(t=t||{}).content||"",this.encoding=t.encoding||"utf8",this.sourcePath=t.sourcePath||null,Object.defineProperty(this,"size",{get:function(){return o.size(this)}})}var a=function(e,n){var t,i=u.Deferred();return(n=n||{}).encoding||(n.encoding="base64"),n.templating?i.resolve(new r({content:s.templating(e),encoding:"utf8",sourcePath:e})):(t="base64"==n.encoding?"loadLocalBase64":"loadLocalFile",s[t](e,function(t){i.resolve(new r({content:t,encoding:n.encoding,sourcePath:e}))})),i.promise()},g=(b.parseString=function(t){t=t.match(/^([-a-z0-9]+):\/\/(.*)$/i);return t?u.extend(decodeURIComponent(t[2]),{protocol:t[1]}):{}},b.Api={_request:function(e,n){return D.default.fetchAccessToken().then(null,function(t,e){return h.handleServerError(t,e),u.Deferred().reject(new Error(t)).promise()}).then(function(t){if((e="string"==typeof(e=e||{})?{path:e}:e).headers=u.extend({"X-App":s.appName+"/"+s.version,Authorization:"Bearer "+t,"Accept-Language":i},e.headers||{}),e.dataType){t=String(e.dataType);if("json"!==t.toLowerCase())throw new Error('Unknown dataType: "'+t+'".');e.data=JSON.stringify(e.data),e.headers["Content-Type"]="application/json"}return n&&u.extend(!0,e,n),s._REST("https://api.mobirisesite.com/v1/"+(e.path||""),{method:e.method||"GET",timeout:e.timeout||3e4,data:e.data||""})})},request:function(t){return this._request(t)},get:function(t){return this._request(t,{method:"GET"})},post:function(t){return this._request(t,{method:"POST"})},put:function(t){return this._request(t,{method:"PUT"})},delete:function(t){return this._request(t,{method:"DELETE"})}},b.prototype.set=function(t,e){if("object"==(void 0===t?"undefined":I(t))){var n=t;for(t in n)this.set(t,n[t])}else this.attrs[t]=e,"id"===t&&(this.id=e);return this},b.prototype.get=function(t){return this.attrs[t]},b.prototype.getUrl=function(){return h.domainManager&&h.domainManager.siteId===this.id&&h.domainManager.isConnected&&h.domainManager.isReady?"https://"+h.domainManager.getCustomDomainInfo().name:"https://"+this.attrs.domain},b.prototype.toString=function(){return this.attrs.protocol+"://"+encodeURIComponent(JSON.stringify(this))},b.prototype.toJSON=function(){return{id:this.id,domain:this.attrs.domain}},b.prototype.save=function(t){return t=u.extend(this.toJSON(),t||{}),h.getSubdomain(t.domain)?(this.id?b.Api.put({path:"sites/"+this.id,data:t,dataType:"json"}):b.Api.post({path:"sites",data:t,dataType:"json"})).then(this.set.bind(this)):u.Deferred().reject(new Error(d("Incorrect domain name."))).promise()},b.prototype.delete=function(){return b.Api.delete({path:"sites/"+this.id}).then(function(){this.set("id",null)}.bind(this))},b.prototype.isAvailableFeature=function(e){return t=this.id,n.get("sites/"+t+"/licenses").then(function(t){for(var e={},n=0;n<t.length;n++)t[n].isExpired||t[n].plan.features.forEach(function(t){return e[t]=1});return Object.keys(e)},function(t){return console.error(t),u.when([])}).then(function(t){return t.includes(e)});var t},b);function b(t){t="string"==typeof t?b.parseString(t):t||{},this.fs=new v({site:this}),this.id=null,this.attrs={},this.set(u.extend({protocol:"site"},t))}y.prototype.deleteFile=function(t){return this.site.id?g.Api.delete("sites/"+this.site.id+"/files/"+t):u.Deferred().reject(new Error("Unable to delete file.")).promise()},y.prototype.uploadFile=function(t,e){var n;return this.site.id?6e6<e.size?u.Deferred().reject(new Error(d("File too large")+": "+t)).promise():(n={},"utf8"!=e.encoding&&(n["X-Payload-Encoding"]=e.encoding),g.Api.post({path:"sites/"+this.site.id+"/files/"+t,data:e.content,headers:n})):u.Deferred().reject(new Error("Unable to upload file.")).promise()};var v=y;function y(t){u.extend(this,t||{})}function w(l){(l=l||{}).pipes||(l.pipes=[]),i="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";var i,c=function(){for(var t=Math.floor((new Date).getTime()/1e3),e=i.length,n="";0<t;)n=i.charAt(t%e)+n,t=(t-t%e)/e;return n};return function(t,e,n){if(0==t.indexOf(l.name+"://")){n.onStart(e.length);for(var i=new g(t),r=new w.Stream(e),o={ver:c(),site:i,stream:r},a=0;a<l.pipes.length;a++){var s=l.pipes[a];r.pipe(s.bind(o))}return r.pipe(function(t){return n.onFile(t.destPath),i.fs.uploadFile(t.destPath,t).then(function(){n.onUploaded(t.destPath)})}).done(function(){bootbox.dialog({className:"mbrsite",message:'<div class="congrats-modal text-center">\n                                <br>\n                                <h3 class="title">\n                                    <span><b>'+d("Congratulations!")+"</b></span>\n                                </h3>\n                                <br>\n                                <div>"+d("Your site is published and live online:")+'</div>\n                                <span><a class="congrats-site-link" href="'+i.getUrl()+'" target="_blank">'+i.getUrl()+'</a></span>\n                                <button class="btn btn-primary" id="viewSite">View Site</button>\n                                <br>\n                                '+(h.domainManager&&!0===h.domainManager.isConnected?"":'<div class="separator">\n                                            <h3>'+d("Next:")+"</h3>\n                                            <div>"+d("Edit your site online:")+'</div>\n                                            <span><a href="'+i.getUrl()+'/edit/" target="_blank">'+i.getUrl()+'/edit/</a></span>\n                                            <button class="btn btn-primary" id="editSite">Edit Site</button>\n                                        </div>\n                                        <div class="item mbrsite-domain-control">\n                                            <span>'+d("Connect your own domain")+"</span>\n                                            <br>\n                                            <span>"+d("https://")+'</span>\n                                            <input id="custom-domain" type="text" placeholder="yourdomain.com" class="form-control">\n                                            <button class="btn btn-primary" id="connect-custom-btn">Connect</button>\n                                        </div>')+"\n                            </div>",buttons:{cancel:{label:d("ok"),className:"btn-primary"}}}).on("hidden.bs.modal",function(){n.onClose()}).on("click","#viewSite",function(){n.onClose(i.getUrl())}).on("click","#editSite",function(){n.onClose(i.getUrl()+"/edit/")}).on("click","#connect-custom-btn",function(t){n.onClose()}),h.fire("endUploader")}).fail(function(t){n.onError(t.message)}),u.extend(r.control(),{exit:function(){r.pause(),n.onClose()}})}}}function _(t){u.extend(this,{_pos:0,_list:t||[],_funcs:{pipe:[],done:[],fail:[this.pause.bind(this)]},_timeout:setTimeout(this.resume.bind(this),0),_isPaused:!0})}w.Stream=(_.isBinaryFile=function(t){return 1==t.length&&!t[0].filter&&!/\.(html|xml|css|map|less|js|json|mobirise)$/.test(t[0].src)},_.prototype._next=function(){var e,n,t;this._pos>=this._list.length?this._funcs.done.forEach(function(t){t()}):(t=(e=this._list[this._pos++]).srcList,n=_.isBinaryFile(t),t=u.when.apply(u,t.map(function(t){return a(t.src,{encoding:n?null:"utf8",templating:t.filter})})).then(function(){var t=[].slice.call(arguments),t=t.length<2?t[0]:new r({content:t.map(function(t){return t.content}).join(""),encoding:"utf8"});return t.destPath=e.dest,t}),t=this._funcs.pipe.reduce(function(t,e){return t.then(e)},t).then(function(){this.isPaused()||this._next()}.bind(this)),this._funcs.fail.reduce(function(t,e){return t.fail(e)},t))},_.prototype.isPaused=function(){return this._isPaused},_.prototype.pause=function(){return clearTimeout(this._timeout),this._isPaused=!0,this},_.prototype.resume=function(){return this.isPaused()&&(this._isPaused=!1,this._next()),this},_.prototype.pipe=function(t){return this._funcs.pipe.push(t),this},_.prototype.done=function(t){return this._funcs.done.push(t),this},_.prototype.fail=function(t){return this._funcs.fail.push(t),this},_.prototype.repeat=function(){return 0<this._pos&&this._pos--,this.resume()},_.prototype.control=function(){return{pause:this.pause.bind(this),resume:this.resume.bind(this),repeat:this.repeat.bind(this)}},_);function x(t){var r=this;switch(t.destPath.split(".").pop()){case"html":t.content=t.content.replace(k,function(t,e,n){var i=j(n)?"?v="+r.ver:"";return e+'="https://'+c+"/"+r.site.id+"/"+n+i+'"'}).replace(C,function(t,e,n){var i=j(n)?"?v="+r.ver:"";return e+'=\\"https://'+c+"/"+r.site.id+"/"+n+i+'\\"'}).replace(S,function(t,e,n){return"url("+e+"https://"+c+"/"+r.site.id+"/"+n+"?v="+r.ver+e+")"}).replace(T,function(t,e,n){var i=j(n)?"?v="+r.ver:"";return e+(n="https://"+c+"/"+r.site.id+"/"+n+i)+"']"}).replace(A,function(t,e,n){var n=JSON.parse(decodeURIComponent(n)),i=j(n.images)?"?v="+r.ver:"";return n.images="https://"+c+"/"+r.site.id+"/"+n.images+i,e+encodeURIComponent(JSON.stringify(n))+'"'}),t.content=t.content.replace(P,function(t,e,n){return e+'="https://'+c+"/"+r.site.id+"/"+n+'"'});break;case"css":t.content=t.content.replace(E,function(t,e,n){var i;return i=n,"."==(n=(/^(\.|https?:|data:)/.test(i)?"":"./")+i).charAt(0)&&j(n)&&(n+="?v="+r.ver),"url("+e+n+e+")"})}switch(t.destPath){case"manifest.json":t.content=t.content.replace("assets/icons/512x512.png","https://"+c+"/"+r.site.id+"/assets/icons/512x512.png");break;case"sw.js":t.content=t.content.replace("importScripts('assets/sw-toolbox.js')","importScripts('https://"+c+"/"+r.site.id+"/assets/sw-toolbox.js');")}return t}var M,S,k,C,E,P,A,T;M=/(\.png|\.jpe?g|\.gif|\/mbr-additional\.css)$/,S=/url\((["']?)(?:\.\.\/)*(assets\/.+?)\1\)/g,k=/(href|src)="(?:\.\.\/)*(assets\/.+?)"/g,C=/(href|src)=\\"(?:\.\.\/)*(assets\/.+?)\\"/g,E=/url\((["']?)(.+?)\1\)/g,P=/(content)="(?:\.\.\/)*(assets\/.+?)"/g,A=/(href="data:application\/json,)(.*?)(?=")/g,T=/(tap:.+'images':\[')(.+?)']/g;function j(t){return M.test(t)}function L(e){return"utf8"==e.encoding&&6e6<e.size?s.gzipBase64(e.content).then(function(t){return e.content=t,e.encoding="base64-gzip",e}):e}function O(t){return h.applyFilter(l+"UploadFile",u.when(t))}var R=u('<h3 class="project-label project-domain text-primary"></h3>');h.regExtension({name:l,global:{Site:g.Api,getSubdomain:function(t){return"string"!=typeof t?null:(t=e.exec(t))&&t[1]},isAvailableFeature:function(t){return t=t,!!(e=h.projectSettings||(h.projectSettings={}))[l]&&new g(e[l]).isAvailableFeature(t);var e}},events:{createPublishModal:function(t){var e=h.projectSettings&&h.projectSettings[l];t.find('input[name="mbrsiteDomain"]').val(e?h.getSubdomain(g.parseString(e).domain):h.getUID(10).toLowerCase()),h.domainManager&&h.domainManager.checkPublishTemplate(t)},loaded:function(){h.addFilter("getPublishUrl",function(t,e,n){var i;return e===l?(h.projectSettings||(h.projectSettings={}),i=u(h.preloaderHTML).css({opacity:.8,borderRadius:"8px"}),n.find(".modal-content").before(i),e=u("[name=mbrsiteDomain]"),h.changeUsrDomain(e.val()).then(function(t){return h.projectSettings.domains[0]=t,h.projectSettings.publicUrl="https://"+t.name+"/",h.runSaveProject(),i.remove(),n.modal("hide"),!0}).catch(function(t){throw console.log(t),i.remove(),n.find(".mbrsite-publish-settings").addClass("mbrsite-domain-error").end(),n.find(".mbrsite-input-status").html(t.message),t})):t})},load:function(){h.addFilter("removeProject",function(t,e){return t.then(function(){return s.getLocalJSON(e+"/project.mobirise")}).then(function(t){var o,a,s=u.Deferred(),t=t&&t.settings&&t.settings[l];return t?(o=new g(t),a=o.id,(t=h.confirmDlg({message:d("Do you want to remove the domain $domain$? Your site will be completely removed from the Web.").replace("$domain$",'<a href="#" class="mbrsite-delete-link">'+h.escapeHtml(o.get("domain"))+"</a>").replace("?","?<br>"),callback:function(t){var e,n,i,r;t?(e=u(h.preloaderHTML).appendTo(".show-site-list-modal").on("click",function(t){t.stopPropagation()}),o.delete().then(function(){for(var t=0;t<f.items.length;t++)if(f.items[t].id===parseInt(a)){f.items.splice(t,1),--f.count;break}},function(t){h.showError(d("Error removing site")+": "+t)}).always(function(){e.remove(),s.resolve()})):(n=(t=h.$body.find(".show-site-list-modal .site-list .project-element").eq(0)).clone(),i=o.getUrl(),r=o.get("domain"),n.attr({"site-id":a,"site-domain":r}).find(".project-element-panel").removeClass("active").addClass("project-remote").find(".project-img").addClass("project-img-icon").html('<i class="mbr-icon-globe-with-americas-shown"></i>').end().find(".project-name").text(h.getSubdomain(r)).end().find(".btn-group > .btn:not(.app-project-remove)").remove(),n.find(".project-domain").length?n.find(".project-domain").text(i):((r=R.clone()).text(i),n.find(".project-name").after(r)),t.after(n),n.find(".project-domain").on("click",function(t){t.stopPropagation();t=t.target.textContent;h.openUrl(t)}),n.find(".project-remote").on("click",p),n.find(".app-project-remove").on("click",m).tooltipster({content:d("Remove Site"),delay:0,speed:100,position:"bottom"}),s.resolve())},show:function(e){e.one("keypress",function(t){t.code,e.find("[data-bb-handler='confirm']").click()})},buttons:{cancel:{label:d("Cancel")},confirm:{label:d("Remove")}}})).find(".modal-footer .btn-primary").removeClass("btn-primary").addClass("btn-danger"),t.find(".mbrsite-delete-link").click(function(){h.openUrl(o.getUrl())})):s.resolve(),s.promise()})}),h.addFilter("projectHashesUrl",function(t){var e;return t&&0==t.indexOf(l+"://")?(e=g.parseString(t)).protocol+"://"+encodeURIComponent(JSON.stringify({id:e.id})):t}),h.addFilter("publishProjectSettings",function(t,e){return e&&delete t[l],t}),s.getSettings("language",function(t){t&&(i=t)}),s.fileManagerAddUploader(new w({name:l,pipes:[x,O,L]})),h.addFilter("showProjectsListEach",function(t,e,n){var i,r;return n[l]?(i=u(t),n=new g(n[l]),(r=R.clone()).text(n.getUrl()),i.find(".project-element-panel").find(".project-name").after(r),i[0].outerHTML):t}),this.$body.on("click",".mbrsite-open",function(){var t=h.projectSettings&&h.projectSettings[l];t&&(t=new g(t),h.openUrl(t.getUrl()))}),this.$body.on("click",".mbrsite-delete",function(){var i,r=u(".app-layer-common"),t=(u(".mbrsite-domain-control"),h.projectSettings&&h.projectSettings[l]);if(t)return i=new g(t),(t=h.confirmDlg(d("Do you want to remove the domain $domain$? Your site will be completely removed from the Web.").replace("$domain$",'<a href="#" class="mbrsite-delete-link">'+h.escapeHtml(i.get("domain"))+"</a>").replace("?","?<br>"),function(t){var e,n;t&&(e=u(h.preloaderHTML).css("opacity",.8),r.find(".app-layer-cont").before(e),n=i.id,i.delete().then(null,function(t){return(404===t.code?u.Deferred().resolve():u.Deferred().reject(t)).promise()}).then(function(){for(var t=0;t<f.items.length;t++)if(f.items[t].id===n){f.items.splice(t,1),--f.count;break}return u.Deferred(function(e){delete h.projectSettings[l],h.runSaveProject(function(t){e.resolve(),h.fire("mbrsiteDeleted")},!0)}).promise()}).always(function(){e.remove()}))})).find(".modal-footer .btn-primary").removeClass("btn-primary").addClass("btn-danger"),t.find(".mbrsite-delete-link").click(function(){h.openUrl(i.getUrl())}),!1}).end(),h.addFilter("publishFiles",function(t,e){return"mbrsite"===h.projectSettings.publishType&&t.push({dest:"edit/index.html",srcList:[{src:"edit/index.html",filter:"template"}]}),t}),h.addFilter("publishTemplating",function(t,e){return"mbrsite"===h.projectSettings.publishType&&"edit/index.html"==e?'<!DOCTYPE html>\n                                <html lang="en">\n                                    <head>\n                                        <meta charset="UTF-8">\n                                        <meta name="viewport" content="width=device-width, initial-scale=1.0">\n                                        <title>CMS</title>\n                                    </head>\n                                    <body>\n                                        <script src="https://c.ybnz.com/creator.js"><\/script>\n                                    </body>\n                                </html>':t})},showedProjectsList:function(t){var e=u(h.preloaderHTML).appendTo(".show-site-list-modal").on("click",function(t){t.stopPropagation()});s.isMobile||t.on("shown.bs.modal",function(){t.find(".search-site-input").focus()});u.when.apply(u,t.find(".site-list .project-element").toArray().map(function(t){return t=t,n=u.Deferred(),(i=u(t)).find(".project-domain").length?n.resolve():(t=i.attr("data-url"),s.getLocalJSON(t).then(function(t){var e,t=t&&t.settings&&t.settings[l];t&&(t=new g(t),(e=R.clone()).text(t.getUrl()),i.find(".project-element-panel").find(".project-name").after(e)),n.resolve()}).catch(function(t){console.log(t),n.resolve()})),n.promise();var n,i})).then(function(){f.count||e.remove()},function(t){console.error(t),e.remove()})},loadedProject:function(){h.updateProjectName()},savedProject:function(){h.updateProjectName()},changedProjectSettings:function(){h.updateProjectName()},domainManagerLoaded:function(){var t=h.projectSettings&&h.projectSettings[l];if(t){var t=new g(t),r=u(".app-layer-common"),o=u(".mbrsite-domain-control"),a=r.find(".mbrsite-change-domain-btn");try{var e=u(".app-layer-common").find(".mbrsite-change-domain-btn"),n=h.domainManager.data?h.getSubdomain(h.domainManager.getDomainInfo().name):t.attrs?h.getSubdomain(t.attrs.domain):"";u(".app-layer-common").find("#site-settings-domain").attr("value",n).on("focus",function(){e.css("visibility","visible")}).on("blur",function(t){t=t.relatedTarget;t&&u(t).hasClass("mbrsite-change-domain-btn")||e.css("visibility","hidden")}).end()}catch(t){console.error(t)}a.on("click",function(){var t,e,n,i=h.projectSettings||(h.projectSettings={});i[l]&&(t=new g(i[l]),(e=h.withSubdomain(r.find("input.mbrsite-domain").val().trim()))===t.get("domain")?a.css("visibility","hidden"):(n=u(h.preloaderHTML).css("opacity",.8).appendTo(r),o.removeClass("mbrsite-domain-error"),t.save({domain:e}).then(function(){i[l]=t.toString()},function(t){return(404===t.code?(delete i[l],u.Deferred().resolve()):(o.addClass("mbrsite-domain-error").find(".mbrsite-input-status").html(t.message),n.remove(),u.Deferred().reject(t))).promise()}).always(function(){a.css("visibility","hidden"),h.domainManager&&h.domainManager.syncDomainData(),n.remove()})))}),h.updateProjectName()}}}})},["jQuery","mbrApp","TR()","Bridge","mbrServer"])},function(t,e,n){"use strict";var v=n(25),n=n(76),i=(n=n)&&n.__esModule?n:{default:n};defineM("app-updater",function(l,p,c){var u="skippingAnnounce",m="lastMessageId",g="lastMessageDate",b=/^online\$(.)(\d+|)/;function t(t,f,e){var n;n=l.Deferred(),p.isPremiumUser().then(function(t){t?n.resolve("p"):n.resolve("f")}),n.then(function(d){v.Bridge.getSettings(g,function(t){var h=(new Date).toISOString().split("T")[0];t||v.Bridge.setSettings(g,h),t!=h&&v.Bridge.getSettings(u,function(u){v.Bridge.getSettings(m,function(t){var n,c=parseInt((t||"").replace("online#",""))||0,t=v.Bridge.substUrl(e);n=function(t){if(t){for(var e=u||"",n=0,i=(b.test(e)&&(n=parseInt(b.exec(e)[2])),void 0),e=void 0,r=void 0,o=0;o<t.length&&t[o];o++){var a,s,l=t[o];b.test(l.id)?(s=b.exec(l.id)[1],a=parseInt(/\d+/.exec(l.id))||(//.test(l.id)?1/0:0),(d===s||"a"===s)&&n<a&&(!i||b.test(i.id)&&a<parseInt(b.exec(i.id)[2]))&&(i=l)):/^online\#/.test(l.id)&&(s=parseInt(l.id.replace("online#",""))||0,c<s)&&(!r||s<parseInt(r.id.replace("#","")))&&(r=l)}if(e=i||r){if(e.message&&(e.message=e.message.join("\n")),f)try{f(e)}catch(t){}v.Bridge.setSettings(g,h)}}else p.rmExtension("app-updater")},v.Bridge.loadLocalFile(t,function(t){if(n){var e={};try{e=JSON.parse(t)}catch(t){console.log("Error in news.json: "+t.message+" at line "+t.line+" in file "+path)}n(e)}})})})})})}function e(t){var e='<div class="modal fade no-select" tabindex="-1" role="dialog" aria-hidden="true" data-backdrop="static"><div class="modal-dialog modal-lg"><div class="modal-content"><div class="modal-header"><h4 class="modal-title">@TITLE@</h4></div><div class="modal-body">@MESSAGE@</div><div class="modal-footer"></div></div></div></div>',n=c("Remind later"),e=l(e.replace("@TITLE@",t.title||TITLE_TEXT_DEFAULT).replace("@MESSAGE@",t.message||t.title||text)),i=l('[href*="app://stop"]',e),r=l('[href*="app://close"]',e),o=l('[href*="app://accept"]',e),a=l('[href^="http"]',e),s=l("button",e),n=(l().add(i).add(r).add(o).add(a).length||(r=l('<button type="button" class="btn" data-dismiss="modal">@TEXT@</button>'.replace("@TEXT@",n)),l(".modal-footer",e).prepend(r)),b.test(t.id)?l().add(i).add(r).add(o).add(a).add(s).on("click",function(){//.test(t.id)||v.Bridge.setSettings(u,t.id)}):/^online\#/.test(t.id)&&l().add(i).add(r).add(o).add(a).add(s).click(function(){v.Bridge.setSettings(m,t.id)}),a.each(function(){l(this).attr("_href",l(this).attr("href"))}),a.click(function(t){t.preventDefault(),p.openUrl(l(this).attr("_href"))}),l().add(i).add(r).add(o).add(a).attr("href","javascript:void(0)").click(function(){e.modal("hide")}),e.on("hidden",function(){e.remove(),p.rmExtension("app-updater")}),e.modal({show:!0,keyboard:!1,backdrop:"static"}));p.fire("showUpdaterWindow",n)}p.regExtension({name:"app-updater",events:{loaded:function(){!1!==p.getUserInfo()&&setTimeout(function(){i.default.storage.has("prompt")||t(0,e,"https://mobirise.com/news.json")},5e3)}}})},["jQuery","mbrApp","TR()"])},,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){n(169),n(170),t.exports=n(412)}]);